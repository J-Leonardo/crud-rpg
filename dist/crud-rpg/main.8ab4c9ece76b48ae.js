"use strict";(self.webpackChunkcrud_rpg=self.webpackChunkcrud_rpg||[]).push([[179],{2011:(ut,Se,P)=>{P.d(Se,{hO:()=>Ge,xv:()=>be,Dh:()=>ue,GT:()=>ve,cc:()=>ke,on:()=>Z,pX:()=>se});var l=P(5e3),G=P(127),k=P(5813);ut=P.hmd(ut);const oe=["ngOnDestroy"],se=(De,Xe,He,Re={})=>new Proxy(De,{get:(Ie,Ee)=>He.runOutsideAngular(()=>{var We;if(De[Ee])return(null===(We=null==Re?void 0:Re.spy)||void 0===We?void 0:We.get)&&Re.spy.get(Ee,De[Ee]),De[Ee];if(oe.indexOf(Ee)>-1)return()=>{};const ne=Xe.toPromise().then(Je=>{const Y=Je&&Je[Ee];return"function"==typeof Y?Y.bind(Je):Y&&Y.then?Y.then(he=>He.run(()=>he)):He.run(()=>Y)});return new Proxy(()=>{},{get:(Je,Y)=>ne[Y],apply:(Je,Y,he)=>ne.then(ce=>{var me;const Pe=ce&&ce(...he);return(null===(me=null==Re?void 0:Re.spy)||void 0===me?void 0:me.apply)&&Re.spy.apply(Ee,he,Pe),Pe})})})}),ve=(De,Xe)=>{Xe.forEach(He=>{Object.getOwnPropertyNames(He.prototype||He).forEach(Re=>{Object.defineProperty(De.prototype,Re,Object.getOwnPropertyDescriptor(He.prototype||He,Re))})})};class re{constructor(Xe){return Xe}}const ue=new l.OlP("angularfire2.app.options"),be=new l.OlP("angularfire2.app.name");function Z(De,Xe,He){const Ie="object"==typeof He&&He||{};Ie.name=Ie.name||"string"==typeof He&&He||"[DEFAULT]";const We=G.Z.apps.filter(ne=>ne&&ne.name===Ie.name)[0]||Xe.runOutsideAngular(()=>G.Z.initializeApp(De,Ie));try{JSON.stringify(De)!==JSON.stringify(We.options)&&z("error",`${We.name} Firebase App already initialized with different options${ut.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ne){}return new re(We)}const z=(De,...Xe)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[De](...Xe)},te={provide:re,useFactory:Z,deps:[ue,l.R0b,[new l.FiY,be]]};let Ge=(()=>{class De{constructor(He){G.Z.registerVersion("angularfire",k.q4.full,"core"),G.Z.registerVersion("angularfire",k.q4.full,"app-compat"),G.Z.registerVersion("angular",l.q4F.full,He.toString())}static initializeApp(He,Re){return{ngModule:De,providers:[{provide:ue,useValue:He},{provide:be,useValue:Re}]}}}return De.\u0275fac=function(He){return new(He||De)(l.LFG(l.Lbi))},De.\u0275mod=l.oAB({type:De}),De.\u0275inj=l.cJS({providers:[te]}),De})();function ke(De,Xe,He,Re,Ie){const[,Ee,We]=globalThis.\u0275AngularfireInstanceCache.find(ne=>ne[0]===De)||[];if(Ee)return function Ne(De,Xe){try{return De.toString()===Xe.toString()}catch(He){return De===Xe}}(Ie,We)||(_e("error",`${Xe} was already initialized on the ${He} Firebase App with different settings.${Le?" You may need to reload as Firebase is not HMR aware.":""}`),_e("warn",{is:Ie,was:We})),Ee;{const ne=Re();return globalThis.\u0275AngularfireInstanceCache.push([De,ne,Ie]),ne}}const Le=!!ut.hot,_e=(De,...Xe)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[De](...Xe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ut,Se,P)=>{P.d(Se,{q4:()=>Wa,iC:()=>kc,fc:()=>Di,HU:()=>Rl,vb:()=>Xf,JM:()=>io});var l=P(5e3),G=P(5867),k=P(5861),oe=P(9681),se=P(2090),ve=P(4859),re=P(1877);const ue="@firebase/installations",z="w:0.5.7",te="FIS_v2",De=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Xe(D){return D instanceof se.ZR&&D.code.includes("request-failed")}function He({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function Re(D){return{token:D.token,requestStatus:2,expiresIn:he(D.expiresIn),creationTime:Date.now()}}function Ie(D,S){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,k.Z)(function*(D,S){const B=(yield S.json()).error;return De.create("request-failed",{requestName:D,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function We({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function ne(D,{refreshToken:S}){const R=We(D);return R.append("Authorization",function ce(D){return`${te} ${D}`}(S)),R}function Je(D){return Y.apply(this,arguments)}function Y(){return(Y=(0,k.Z)(function*(D){const S=yield D();return S.status>=500&&S.status<600?D():S})).apply(this,arguments)}function he(D){return Number(D.replace("s","000"))}function me(D,S){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,k.Z)(function*({appConfig:D,heartbeatServiceProvider:S},{fid:R}){const B=He(D),Q=We(D),ie=S.getImmediate({optional:!0});if(ie){const bt=yield ie.getHeartbeatsHeader();bt&&Q.append("x-firebase-client",bt)}const nt={method:"POST",headers:Q,body:JSON.stringify({fid:R,authVersion:te,appId:D.appId,sdkVersion:z})},ot=yield Je(()=>fetch(B,nt));if(ot.ok){const bt=yield ot.json();return{fid:bt.fid||R,registrationStatus:2,refreshToken:bt.refreshToken,authToken:Re(bt.authToken)}}throw yield Ie("Create Installation",ot)})).apply(this,arguments)}function ae(D){return new Promise(S=>{setTimeout(S,D)})}const nn=/^[cdef][\w-]{21}$/;function ht(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const R=function mt(D){return function It(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return nn.test(R)?R:""}catch(D){return""}}function hn(D){return`${D.appName}!${D.appId}`}const cn=new Map;function gi(D,S){const R=hn(D);rn(R,S),function Pn(D,S){const R=function kr(){return!pr&&"BroadcastChannel"in self&&(pr=new BroadcastChannel("[Firebase] FID Change"),pr.onmessage=D=>{rn(D.data.key,D.data.fid)}),pr}();R&&R.postMessage({key:D,fid:S}),function Er(){0===cn.size&&pr&&(pr.close(),pr=null)}()}(R,S)}function rn(D,S){const R=cn.get(D);if(R)for(const B of R)B(S)}let pr=null;const mr="firebase-installations-store";let Dr=null;function gs(){return Dr||(Dr=(0,se.X3)("firebase-installations-database",1,(D,S)=>{0===S&&D.createObjectStore(mr)})),Dr}function _t(D,S){return Or.apply(this,arguments)}function Or(){return(Or=(0,k.Z)(function*(D,S){const R=hn(D),Q=(yield gs()).transaction(mr,"readwrite"),ie=Q.objectStore(mr),ge=yield ie.get(R);return yield ie.put(S,R),yield Q.complete,(!ge||ge.fid!==S.fid)&&gi(D,S.fid),S})).apply(this,arguments)}function Ln(D){return on.apply(this,arguments)}function on(){return(on=(0,k.Z)(function*(D){const S=hn(D),B=(yield gs()).transaction(mr,"readwrite");yield B.objectStore(mr).delete(S),yield B.complete})).apply(this,arguments)}function Zn(D,S){return yi.apply(this,arguments)}function yi(){return(yi=(0,k.Z)(function*(D,S){const R=hn(D),Q=(yield gs()).transaction(mr,"readwrite"),ie=Q.objectStore(mr),ge=yield ie.get(R),nt=S(ge);return void 0===nt?yield ie.delete(R):yield ie.put(nt,R),yield Q.complete,nt&&(!ge||ge.fid!==nt.fid)&&gi(D,nt.fid),nt})).apply(this,arguments)}function Vn(D){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,k.Z)(function*(D){let S;const R=yield Zn(D.appConfig,B=>{const Q=Zr(B),ie=yo(D,Q);return S=ie.registrationPromise,ie.installationEntry});return""===R.fid?{installationEntry:yield S}:{installationEntry:R,registrationPromise:S}})).apply(this,arguments)}function Zr(D){return Zt(D||{fid:ht(),registrationStatus:0})}function yo(D,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(De.create("app-offline"))};const R={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},B=function qt(D,S){return ft.apply(this,arguments)}(D,R);return{installationEntry:R,registrationPromise:B}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:it(D)}:{installationEntry:S}}function ft(){return(ft=(0,k.Z)(function*(D,S){try{const R=yield me(D,S);return _t(D.appConfig,R)}catch(R){throw Xe(R)&&409===R.customData.serverCode?yield Ln(D.appConfig):yield _t(D.appConfig,{fid:S.fid,registrationStatus:0}),R}})).apply(this,arguments)}function it(D){return ai.apply(this,arguments)}function ai(){return(ai=(0,k.Z)(function*(D){let S=yield ts(D.appConfig);for(;1===S.registrationStatus;)yield ae(100),S=yield ts(D.appConfig);if(0===S.registrationStatus){const{installationEntry:R,registrationPromise:B}=yield Vn(D);return B||R}return S})).apply(this,arguments)}function ts(D){return Zn(D,S=>{if(!S)throw De.create("installation-not-found");return Zt(S)})}function Zt(D){return function ns(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Bn(D,S){return an.apply(this,arguments)}function an(){return(an=(0,k.Z)(function*({appConfig:D,heartbeatServiceProvider:S},R){const B=vt(D,R),Q=ne(D,R),ie=S.getImmediate({optional:!0});if(ie){const bt=yield ie.getHeartbeatsHeader();bt&&Q.append("x-firebase-client",bt)}const nt={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:z,appId:D.appId}})},ot=yield Je(()=>fetch(B,nt));if(ot.ok)return Re(yield ot.json());throw yield Ie("Generate Auth Token",ot)})).apply(this,arguments)}function vt(D,{fid:S}){return`${He(D)}/${S}/authTokens:generate`}function Un(D){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,k.Z)(function*(D,S=!1){let R;const B=yield Zn(D.appConfig,ie=>{if(!Bt(ie))throw De.create("not-registered");const ge=ie.authToken;if(!S&&W(ge))return ie;if(1===ge.requestStatus)return R=$e(D,S),ie;{if(!navigator.onLine)throw De.create("app-offline");const nt=K(ie);return R=pt(D,nt),nt}});return R?yield R:B.authToken})).apply(this,arguments)}function $e(D,S){return Te.apply(this,arguments)}function Te(){return(Te=(0,k.Z)(function*(D,S){let R=yield et(D.appConfig);for(;1===R.authToken.requestStatus;)yield ae(100),R=yield et(D.appConfig);const B=R.authToken;return 0===B.requestStatus?Un(D,S):B})).apply(this,arguments)}function et(D){return Zn(D,S=>{if(!Bt(S))throw De.create("not-registered");return function fe(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function pt(D,S){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,k.Z)(function*(D,S){try{const R=yield Bn(D,S),B=Object.assign(Object.assign({},S),{authToken:R});return yield _t(D.appConfig,B),R}catch(R){if(!Xe(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const B=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield _t(D.appConfig,B)}else yield Ln(D.appConfig);throw R}})).apply(this,arguments)}function Bt(D){return void 0!==D&&2===D.registrationStatus}function W(D){return 2===D.requestStatus&&!function U(D){const S=Date.now();return S<D.creationTime||D.creationTime+D.expiresIn<S+36e5}(D)}function K(D){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:S})}function V(){return(V=(0,k.Z)(function*(D){const S=D,{installationEntry:R,registrationPromise:B}=yield Vn(S);return B?B.catch(console.error):Un(S).catch(console.error),R.fid})).apply(this,arguments)}function le(){return(le=(0,k.Z)(function*(D,S=!1){const R=D;return yield Be(R),(yield Un(R,S)).token})).apply(this,arguments)}function Be(D){return ze.apply(this,arguments)}function ze(){return(ze=(0,k.Z)(function*(D){const{registrationPromise:S}=yield Vn(D);S&&(yield S)})).apply(this,arguments)}function Yn(D){return De.create("missing-app-config-values",{valueName:D})}const al="installations",Ke=D=>{const S=D.getProvider("app").getImmediate(),R=function Li(D){if(!D||!D.options)throw Yn("App Configuration");if(!D.name)throw Yn("App Name");const S=["projectId","apiKey","appId"];for(const R of S)if(!D.options[R])throw Yn(R);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(S);return{app:S,appConfig:R,heartbeatServiceProvider:(0,oe._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},zt=D=>{const S=D.getProvider("app").getImmediate(),R=(0,oe._getProvider)(S,al).getImmediate();return{getId:()=>function N(D){return V.apply(this,arguments)}(R),getToken:Q=>function j(D){return le.apply(this,arguments)}(R,Q)}};(function pn(){(0,oe._registerComponent)(new ve.wA(al,Ke,"PUBLIC")),(0,oe._registerComponent)(new ve.wA("installations-internal",zt,"PRIVATE"))})(),(0,oe.registerVersion)(ue,"0.5.7"),(0,oe.registerVersion)(ue,"0.5.7","esm2017");const Nr="@firebase/remote-config",jn=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class hc{constructor(S,R,B,Q){this.client=S,this.storage=R,this.storageCache=B,this.logger=Q}isCachedDataFresh(S,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-R,Q=B<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${Q}.`),Q}fetch(S){var R=this;return(0,k.Z)(function*(){const[B,Q]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(Q&&R.isCachedDataFresh(S.cacheMaxAgeMillis,B))return Q;S.eTag=Q&&Q.eTag;const ie=yield R.client.fetch(S),ge=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ie.status&&ge.push(R.storage.setLastSuccessfulFetchResponse(ie)),yield Promise.all(ge),ie})()}}function cl(D=navigator){return D.languages&&D.languages[0]||D.language}class qs{constructor(S,R,B,Q,ie,ge){this.firebaseInstallations=S,this.sdkVersion=R,this.namespace=B,this.projectId=Q,this.apiKey=ie,this.appId=ge}fetch(S){var R=this;return(0,k.Z)(function*(){const[B,Q]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),ge=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,nt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},ot={sdk_version:R.sdkVersion,app_instance_id:B,app_instance_id_token:Q,app_id:R.appId,language_code:cl()},bt={method:"POST",headers:nt,body:JSON.stringify(ot)},Xt=fetch(ge,bt),At=new Promise((yr,lo)=>{S.signal.addEventListener(()=>{const cs=new Error("The operation was aborted.");cs.name="AbortError",lo(cs)})});let nr;try{yield Promise.race([Xt,At]),nr=yield Xt}catch(yr){let lo="fetch-client-network";throw"AbortError"===yr.name&&(lo="fetch-timeout"),jn.create(lo,{originalErrorMessage:yr.message})}let rr=nr.status;const ao=nr.headers.get("ETag")||void 0;let Ms,ls;if(200===nr.status){let yr;try{yr=yield nr.json()}catch(lo){throw jn.create("fetch-client-parse",{originalErrorMessage:lo.message})}Ms=yr.entries,ls=yr.state}if("INSTANCE_STATE_UNSPECIFIED"===ls?rr=500:"NO_CHANGE"===ls?rr=304:("NO_TEMPLATE"===ls||"EMPTY_CONFIG"===ls)&&(Ms={}),304!==rr&&200!==rr)throw jn.create("fetch-status",{httpStatus:rr});return{status:rr,eTag:ao,config:Ms}})()}}class ys{constructor(S,R){this.client=S,this.storage=R}fetch(S){var R=this;return(0,k.Z)(function*(){const B=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(S,B)})()}attemptFetch(S,{throttleEndTimeMillis:R,backoffCount:B}){var Q=this;return(0,k.Z)(function*(){yield function li(D,S){return new Promise((R,B)=>{const Q=Math.max(S-Date.now(),0),ie=setTimeout(R,Q);D.addEventListener(()=>{clearTimeout(ie),B(jn.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,R);try{const ie=yield Q.client.fetch(S);return yield Q.storage.deleteThrottleMetadata(),ie}catch(ie){if(!function qf(D){if(!(D instanceof se.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}(ie))throw ie;const ge={throttleEndTimeMillis:Date.now()+(0,se.$s)(B),backoffCount:B+1};return yield Q.storage.setThrottleMetadata(ge),Q.attemptFetch(S,ge)}})()}}class Zf{constructor(S,R,B,Q,ie){this.app=S,this._client=R,this._storageCache=B,this._storage=Q,this._logger=ie,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Oa(D,S){const R=D.target.error||void 0;return jn.create(S,{originalErrorMessage:R&&R.message})}const Ko="app_namespace_store";class vu{constructor(S,R,B,Q=function Kf(){return new Promise((D,S)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=B=>{S(Oa(B,"storage-open"))},R.onsuccess=B=>{D(B.target.result)},R.onupgradeneeded=B=>{0===B.oldVersion&&B.target.result.createObjectStore(Ko,{keyPath:"compositeKey"})}}catch(R){S(jn.create("storage-open",{originalErrorMessage:R}))}})}()){this.appId=S,this.appName=R,this.namespace=B,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var R=this;return(0,k.Z)(function*(){const B=yield R.openDbPromise;return new Promise((Q,ie)=>{const nt=B.transaction([Ko],"readonly").objectStore(Ko),ot=R.createCompositeKey(S);try{const bt=nt.get(ot);bt.onerror=Xt=>{ie(Oa(Xt,"storage-get"))},bt.onsuccess=Xt=>{const At=Xt.target.result;Q(At?At.value:void 0)}}catch(bt){ie(jn.create("storage-get",{originalErrorMessage:bt&&bt.message}))}})})()}set(S,R){var B=this;return(0,k.Z)(function*(){const Q=yield B.openDbPromise;return new Promise((ie,ge)=>{const ot=Q.transaction([Ko],"readwrite").objectStore(Ko),bt=B.createCompositeKey(S);try{const Xt=ot.put({compositeKey:bt,value:R});Xt.onerror=At=>{ge(Oa(At,"storage-set"))},Xt.onsuccess=()=>{ie()}}catch(Xt){ge(jn.create("storage-set",{originalErrorMessage:Xt&&Xt.message}))}})})()}delete(S){var R=this;return(0,k.Z)(function*(){const B=yield R.openDbPromise;return new Promise((Q,ie)=>{const nt=B.transaction([Ko],"readwrite").objectStore(Ko),ot=R.createCompositeKey(S);try{const bt=nt.delete(ot);bt.onerror=Xt=>{ie(Oa(Xt,"storage-delete"))},bt.onsuccess=()=>{Q()}}catch(bt){ie(jn.create("storage-delete",{originalErrorMessage:bt&&bt.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class Yo{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,k.Z)(function*(){const R=S.storage.getLastFetchStatus(),B=S.storage.getLastSuccessfulFetchTimestampMillis(),Q=S.storage.getActiveConfig(),ie=yield R;ie&&(S.lastFetchStatus=ie);const ge=yield B;ge&&(S.lastSuccessfulFetchTimestampMillis=ge);const nt=yield Q;nt&&(S.activeConfig=nt)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function bu(){return ul.apply(this,arguments)}function ul(){return(ul=(0,k.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(D){return!1}})).apply(this,arguments)}!function Yf(){(0,oe._registerComponent)(new ve.wA("remote-config",function D(S,{instanceIdentifier:R}){const B=S.getProvider("app").getImmediate(),Q=S.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw jn.create("registration-window");if(!(0,se.hl)())throw jn.create("indexed-db-unavailable");const{projectId:ie,apiKey:ge,appId:nt}=B.options;if(!ie)throw jn.create("registration-project-id");if(!ge)throw jn.create("registration-api-key");if(!nt)throw jn.create("registration-app-id");const ot=new vu(nt,B.name,R=R||"firebase"),bt=new Yo(ot),Xt=new re.Yd(Nr);Xt.logLevel=re.in.ERROR;const At=new qs(Q,oe.SDK_VERSION,R,ie,ge,nt),nr=new ys(At,ot),rr=new hc(nr,ot,bt,Xt),ao=new Zf(B,rr,bt,ot,Xt);return function Jn(D){const S=(0,se.m9)(D);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(ao),ao},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(Nr,"0.3.6"),(0,oe.registerVersion)(Nr,"0.3.6","esm2017")}();const vs="/firebase-messaging-sw.js",Pa="/firebase-cloud-messaging-push-scope",bi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Qo="google.c.a.c_id",dl="google.c.a.c_l",Hd="google.c.a.ts",Na="google.c.a.e";var Bi=(()=>{return(D=Bi||(Bi={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Bi;var D})();function bs(D){const S=new Uint8Array(D);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function hl(D){const R=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(R),Q=new Uint8Array(B.length);for(let ie=0;ie<B.length;++ie)Q[ie]=B.charCodeAt(ie);return Q}const La="fcm_token_details_db",Jo="fcm_token_object_Store";function Qf(D){return Xo.apply(this,arguments)}function Xo(){return Xo=(0,k.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ie=>ie.name).includes(La))return null;let S=null;return(yield(0,se.X3)(La,5,function(){var B=(0,k.Z)(function*(Q,ie,ge,nt){var ot;if(ie<2||!Q.objectStoreNames.contains(Jo))return;const bt=nt.objectStore(Jo),Xt=yield bt.index("fcmSenderId").get(D);if(yield bt.clear(),Xt)if(2===ie){const At=Xt;if(!At.auth||!At.p256dh||!At.endpoint)return;S={token:At.fcmToken,createTime:null!==(ot=At.createTime)&&void 0!==ot?ot:Date.now(),subscriptionOptions:{auth:At.auth,p256dh:At.p256dh,endpoint:At.endpoint,swScope:At.swScope,vapidKey:"string"==typeof At.vapidKey?At.vapidKey:bs(At.vapidKey)}}}else if(3===ie){const At=Xt;S={token:At.fcmToken,createTime:At.createTime,subscriptionOptions:{auth:bs(At.auth),p256dh:bs(At.p256dh),endpoint:At.endpoint,swScope:At.swScope,vapidKey:bs(At.vapidKey)}}}else if(4===ie){const At=Xt;S={token:At.fcmToken,createTime:At.createTime,subscriptionOptions:{auth:bs(At.auth),p256dh:bs(At.p256dh),endpoint:At.endpoint,swScope:At.swScope,vapidKey:bs(At.vapidKey)}}}});return function(Q,ie,ge,nt){return B.apply(this,arguments)}}())).close(),yield(0,se.Lj)(La),yield(0,se.Lj)("fcm_vapid_details_db"),yield(0,se.Lj)("undefined"),fc(S)?S:null}),Xo.apply(this,arguments)}function fc(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:S}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const Zs="firebase-messaging-store";let wo=null;function pc(){return wo||(wo=(0,se.X3)("firebase-messaging-database",1,(D,S)=>{0===S&&D.createObjectStore(Zs)})),wo}function Tn(D){return Co.apply(this,arguments)}function Co(){return(Co=(0,k.Z)(function*(D){const S=Ws(D),B=yield(yield pc()).transaction(Zs).objectStore(Zs).get(S);if(B)return B;{const Q=yield Qf(D.appConfig.senderId);if(Q)return yield Eo(D,Q),Q}})).apply(this,arguments)}function Eo(D,S){return mn.apply(this,arguments)}function mn(){return(mn=(0,k.Z)(function*(D,S){const R=Ws(D),Q=(yield pc()).transaction(Zs,"readwrite");return yield Q.objectStore(Zs).put(S,R),yield Q.complete,S})).apply(this,arguments)}function mc(D){return ea.apply(this,arguments)}function ea(){return(ea=(0,k.Z)(function*(D){const S=Ws(D),B=(yield pc()).transaction(Zs,"readwrite");yield B.objectStore(Zs).delete(S),yield B.complete})).apply(this,arguments)}function Ws({appConfig:D}){return D.appId}const Xn=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function pl(D,S){return wi.apply(this,arguments)}function wi(){return(wi=(0,k.Z)(function*(D,S){const R=yield ss(D),B=Ct(S),Q={method:"POST",headers:R,body:JSON.stringify(B)};let ie;try{ie=yield(yield fetch(Ui(D.appConfig),Q)).json()}catch(ge){throw Xn.create("token-subscribe-failed",{errorInfo:ge})}if(ie.error)throw Xn.create("token-subscribe-failed",{errorInfo:ie.error.message});if(!ie.token)throw Xn.create("token-subscribe-no-token");return ie.token})).apply(this,arguments)}function Wr(D,S){return ws.apply(this,arguments)}function ws(){return(ws=(0,k.Z)(function*(D,S){const R=yield ss(D),B=Ct(S.subscriptionOptions),Q={method:"PATCH",headers:R,body:JSON.stringify(B)};let ie;try{ie=yield(yield fetch(`${Ui(D.appConfig)}/${S.token}`,Q)).json()}catch(ge){throw Xn.create("token-update-failed",{errorInfo:ge})}if(ie.error)throw Xn.create("token-update-failed",{errorInfo:ie.error.message});if(!ie.token)throw Xn.create("token-update-no-token");return ie.token})).apply(this,arguments)}function Do(D,S){return ta.apply(this,arguments)}function ta(){return(ta=(0,k.Z)(function*(D,S){const B={method:"DELETE",headers:yield ss(D)};try{const ie=yield(yield fetch(`${Ui(D.appConfig)}/${S}`,B)).json();if(ie.error)throw Xn.create("token-unsubscribe-failed",{errorInfo:ie.error.message})}catch(Q){throw Xn.create("token-unsubscribe-failed",{errorInfo:Q})}})).apply(this,arguments)}function Ui({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function ss(D){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,k.Z)(function*({appConfig:D,installations:S}){const R=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function Ct({p256dh:D,auth:S,endpoint:R,vapidKey:B}){const Q={web:{endpoint:R,auth:S,p256dh:D}};return B!==bi&&(Q.web.applicationPubKey=B),Q}const Va=6048e5;function Cu(D){return na.apply(this,arguments)}function na(){return(na=(0,k.Z)(function*(D){const S=yield $d(D.swRegistration,D.vapidKey),R={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:S.endpoint,auth:bs(S.getKey("auth")),p256dh:bs(S.getKey("p256dh"))},B=yield Tn(D.firebaseDependencies);if(B){if(ml(B.subscriptionOptions,R))return Date.now()>=B.createTime+Va?Gd(D,{token:B.token,createTime:Date.now(),subscriptionOptions:R}):B.token;try{yield Do(D.firebaseDependencies,B.token)}catch(Q){console.warn(Q)}return Ae(D.firebaseDependencies,R)}return Ae(D.firebaseDependencies,R)})).apply(this,arguments)}function Eu(D){return ra.apply(this,arguments)}function ra(){return(ra=(0,k.Z)(function*(D){const S=yield Tn(D.firebaseDependencies);S&&(yield Do(D.firebaseDependencies,S.token),yield mc(D.firebaseDependencies));const R=yield D.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function Gd(D,S){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,k.Z)(function*(D,S){try{const R=yield Wr(D.firebaseDependencies,S),B=Object.assign(Object.assign({},S),{token:R,createTime:Date.now()});return yield Eo(D.firebaseDependencies,B),R}catch(R){throw yield Eu(D),R}})).apply(this,arguments)}function Ae(D,S){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,k.Z)(function*(D,S){const B={token:yield pl(D,S),createTime:Date.now(),subscriptionOptions:S};return yield Eo(D,B),B.token})).apply(this,arguments)}function $d(D,S){return wn.apply(this,arguments)}function wn(){return(wn=(0,k.Z)(function*(D,S){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:hl(S)})})).apply(this,arguments)}function ml(D,S){return S.vapidKey===D.vapidKey&&S.endpoint===D.endpoint&&S.auth===D.auth&&S.p256dh===D.p256dh}function Ks(D){const S={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function ji(D,S){if(!S.notification)return;D.notification={};const R=S.notification.title;R&&(D.notification.title=R);const B=S.notification.body;B&&(D.notification.body=B);const Q=S.notification.image;Q&&(D.notification.image=Q)}(S,D),function gc(D,S){!S.data||(D.data=S.data)}(S,D),function Ua(D,S){if(!S.fcmOptions)return;D.fcmOptions={};const R=S.fcmOptions.link;R&&(D.fcmOptions.link=R);const B=S.fcmOptions.analytics_label;B&&(D.fcmOptions.analyticsLabel=B)}(S,D),S}function Jf(D){return"object"==typeof D&&!!D&&Qo in D}function _c(D,S){const R=[];for(let B=0;B<D.length;B++)R.push(D.charAt(B)),B<S.length&&R.push(S.charAt(B));return R.join("")}function sa(D){return Xn.create("missing-app-config-values",{valueName:D})}_c("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),_c("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ur{constructor(S,R,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function ia(D){if(!D||!D.options)throw sa("App Configuration Object");if(!D.name)throw sa("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:R}=D;for(const B of S)if(!R[B])throw sa(B);return{appName:D.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:Q,installations:R,analyticsProvider:B}}_delete(){return Promise.resolve()}}function os(D){return oa.apply(this,arguments)}function oa(){return(oa=(0,k.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(vs,{scope:Pa}),D.swRegistration.update().catch(()=>{})}catch(S){throw Xn.create("failed-service-worker-registration",{browserErrorMessage:S.message})}})).apply(this,arguments)}function aa(D,S){return ci.apply(this,arguments)}function ci(){return(ci=(0,k.Z)(function*(D,S){if(!S&&!D.swRegistration&&(yield os(D)),S||!D.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw Xn.create("invalid-sw-registration");D.swRegistration=S}})).apply(this,arguments)}function qd(D,S){return la.apply(this,arguments)}function la(){return(la=(0,k.Z)(function*(D,S){S?D.vapidKey=S:D.vapidKey||(D.vapidKey=bi)})).apply(this,arguments)}function ja(){return(ja=(0,k.Z)(function*(D,S){if(!navigator)throw Xn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Xn.create("permission-blocked");return yield qd(D,null==S?void 0:S.vapidKey),yield aa(D,null==S?void 0:S.serviceWorkerRegistration),Cu(D)})).apply(this,arguments)}function yc(D,S,R){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,k.Z)(function*(D,S,R){const B=zd(S);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:R[Qo],message_name:R[dl],message_time:R[Hd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function zd(D){switch(D){case Bi.NOTIFICATION_CLICKED:return"notification_open";case Bi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function bc(){return(bc=(0,k.Z)(function*(D,S){const R=S.data;if(!R.isFirebaseMessaging)return;D.onMessageHandler&&R.messageType===Bi.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Ks(R)):D.onMessageHandler.next(Ks(R)));const B=R.data;Jf(B)&&"1"===B[Na]&&(yield yc(D,R.messageType,B))})).apply(this,arguments)}const gl="@firebase/messaging",To=D=>{const S=new ur(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function vc(D,S){return bc.apply(this,arguments)}(S,R)),S},wc=D=>{const S=D.getProvider("messaging").getImmediate();return{getToken:B=>function Du(D,S){return ja.apply(this,arguments)}(S,B)}};function Tu(){return So.apply(this,arguments)}function So(){return(So=(0,k.Z)(function*(){try{yield(0,se.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Zd(){(0,oe._registerComponent)(new ve.wA("messaging",To,"PUBLIC")),(0,oe._registerComponent)(new ve.wA("messaging-internal",wc,"PRIVATE")),(0,oe.registerVersion)(gl,"0.9.11"),(0,oe.registerVersion)(gl,"0.9.11","esm2017")}();const Ec="analytics",Su="firebase_id",Dc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_l="https://www.googletagmanager.com/gtag/js",er=new re.Yd("@firebase/analytics");function Iu(D){return Promise.all(D.map(S=>S.catch(R=>R)))}function Au(D,S){const R=document.createElement("script");R.src=`${_l}?l=${D}&id=${S}`,R.async=!0,document.head.appendChild(R)}function yl(D,S,R,B,Q,ie){return $a.apply(this,arguments)}function $a(){return($a=(0,k.Z)(function*(D,S,R,B,Q,ie){const ge=B[Q];try{if(ge)yield S[ge];else{const ot=(yield Iu(R)).find(bt=>bt.measurementId===Q);ot&&(yield S[ot.appId])}}catch(nt){er.error(nt)}D("config",Q,ie)})).apply(this,arguments)}function Kd(D,S,R,B,Q){return ca.apply(this,arguments)}function ca(){return(ca=(0,k.Z)(function*(D,S,R,B,Q){try{let ie=[];if(Q&&Q.send_to){let ge=Q.send_to;Array.isArray(ge)||(ge=[ge]);const nt=yield Iu(R);for(const ot of ge){const bt=nt.find(At=>At.measurementId===ot),Xt=bt&&S[bt.appId];if(!Xt){ie=[];break}ie.push(Xt)}}0===ie.length&&(ie=Object.values(S)),yield Promise.all(ie),D("event",B,Q||{})}catch(ie){er.error(ie)}})).apply(this,arguments)}function $g(){const D=window.document.getElementsByTagName("script");for(const S of Object.values(D))if(S.src&&S.src.includes(_l))return S;return null}const Sr=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),_n=new class Vr{constructor(S={},R=1e3){this.throttleMetadata=S,this.intervalMillis=R}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,R){this.throttleMetadata[S]=R}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function xu(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Wn(D){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,k.Z)(function*(D){var S;const{appId:R,apiKey:B}=D,Q={method:"GET",headers:xu(B)},ie=Dc.replace("{app-id}",R),ge=yield fetch(ie,Q);if(200!==ge.status&&304!==ge.status){let nt="";try{const ot=yield ge.json();(null===(S=ot.error)||void 0===S?void 0:S.message)&&(nt=ot.error.message)}catch(ot){}throw Sr.create("config-fetch-failed",{httpStatus:ge.status,responseMessage:nt})}return ge.json()})).apply(this,arguments)}function Tc(D){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,k.Z)(function*(D,S=_n,R){const{appId:B,apiKey:Q,measurementId:ie}=D.options;if(!B)throw Sr.create("no-app-id");if(!Q){if(ie)return{measurementId:ie,appId:B};throw Sr.create("no-api-key")}const ge=S.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},nt=new Ru;return setTimeout((0,k.Z)(function*(){nt.abort()}),void 0!==R?R:6e4),ua({appId:B,apiKey:Q,measurementId:ie},ge,nt,S)})).apply(this,arguments)}function ua(D,S,R){return as.apply(this,arguments)}function as(){return(as=(0,k.Z)(function*(D,{throttleEndTimeMillis:S,backoffCount:R},B,Q=_n){const{appId:ie,measurementId:ge}=D;try{yield Nt(B,S)}catch(nt){if(ge)return er.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ge} provided in the "measurementId" field in the local Firebase config. [${nt.message}]`),{appId:ie,measurementId:ge};throw nt}try{const nt=yield Wn(D);return Q.deleteThrottleMetadata(ie),nt}catch(nt){if(!Sc(nt)){if(Q.deleteThrottleMetadata(ie),ge)return er.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ge} provided in the "measurementId" field in the local Firebase config. [${nt.message}]`),{appId:ie,measurementId:ge};throw nt}const ot=503===Number(nt.customData.httpStatus)?(0,se.$s)(R,Q.intervalMillis,30):(0,se.$s)(R,Q.intervalMillis),bt={throttleEndTimeMillis:Date.now()+ot,backoffCount:R+1};return Q.setThrottleMetadata(ie,bt),er.debug(`Calling attemptFetch again in ${ot} millis`),ua(D,bt,B,Q)}})).apply(this,arguments)}function Nt(D,S){return new Promise((R,B)=>{const Q=Math.max(S-Date.now(),0),ie=setTimeout(R,Q);D.addEventListener(()=>{clearTimeout(ie),B(Sr.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function Sc(D){if(!(D instanceof se.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}class Ru{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}function da(){return qa.apply(this,arguments)}function qa(){return(qa=(0,k.Z)(function*(){if(!(0,se.hl)())return er.warn(Sr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(D){return er.warn(Sr.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function eo(){return(eo=(0,k.Z)(function*(D,S,R,B,Q,ie,ge){var nt;const ot=Tc(D);ot.then(rr=>{R[rr.measurementId]=rr.appId,D.options.measurementId&&rr.measurementId!==D.options.measurementId&&er.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${rr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(rr=>er.error(rr)),S.push(ot);const bt=da().then(rr=>{if(rr)return B.getId()}),[Xt,At]=yield Promise.all([ot,bt]);$g()||Au(ie,Xt.measurementId),Q("js",new Date);const nr=null!==(nt=null==ge?void 0:ge.config)&&void 0!==nt?nt:{};return nr.origin="firebase",nr.update=!0,null!=At&&(nr[Su]=At),Q("config",Xt.measurementId,nr),Xt.measurementId})).apply(this,arguments)}class vl{constructor(S){this.app=S}_delete(){return delete Yr[this.app.options.appId],Promise.resolve()}}let Yr={},Ao=[];const bl={};let wl,Ts,to="dataLayer",Ss=!1;function Br(D,S,R){!function Hi(){const D=[];if((0,se.ru)()&&D.push("This is a browser extension environment."),(0,se.zI)()||D.push("Cookies are not available."),D.length>0){const S=D.map((B,Q)=>`(${Q+1}) ${B}`).join(" "),R=Sr.create("invalid-analytics-context",{errorInfo:S});er.warn(R.message)}}();const B=D.options.appId;if(!B)throw Sr.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw Sr.create("no-api-key");er.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Yr[B])throw Sr.create("already-exists",{id:B});if(!Ss){!function Es(D){let S=[];Array.isArray(window[D])?S=window[D]:window[D]=S}(to);const{wrappedGtag:ie,gtagCore:ge}=function Yd(D,S,R,B,Q){let ie=function(...ge){window[B].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(ie=window[Q]),window[Q]=function Mu(D,S,R,B){function ie(){return(ie=(0,k.Z)(function*(ge,nt,ot){try{"event"===ge?yield Kd(D,S,R,nt,ot):"config"===ge?yield yl(D,S,R,B,nt,ot):D("set",nt)}catch(bt){er.error(bt)}})).apply(this,arguments)}return function Q(ge,nt,ot){return ie.apply(this,arguments)}}(ie,D,S,R),{gtagCore:ie,wrappedGtag:window[Q]}}(Yr,Ao,bl,to,"gtag");Ts=ie,wl=ge,Ss=!0}return Yr[B]=function yn(D,S,R,B,Q,ie,ge){return eo.apply(this,arguments)}(D,Ao,bl,S,wl,to,R),new vl(D)}function za(){return(za=(0,k.Z)(function*(D,S,R,B,Q){if(Q&&Q.global)D("event",R,B);else{const ie=yield S;D("event",R,Object.assign(Object.assign({},B),{send_to:ie}))}})).apply(this,arguments)}function Ei(){return El.apply(this,arguments)}function El(){return(El=(0,k.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(D){return!1}})).apply(this,arguments)}const Qr="@firebase/analytics";!function ro(){(0,oe._registerComponent)(new ve.wA(Ec,(S,{options:R})=>Br(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,oe._registerComponent)(new ve.wA("analytics-internal",function D(S){try{const R=S.getProvider(Ec).getImmediate();return{logEvent:(B,Q,ie)=>function Mo(D,S,R,B){D=(0,se.m9)(D),function gr(D,S,R,B,Q){return za.apply(this,arguments)}(Ts,Yr[D.app.options.appId],S,R,B).catch(Q=>er.error(Q))}(R,B,Q,ie)}}catch(R){throw Sr.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,oe.registerVersion)(Qr,"0.7.7"),(0,oe.registerVersion)(Qr,"0.7.7","esm2017")}();var Dl=P(4408),Mc=P(7565);const Za=new class tr extends Mc.v{}(class Is extends Dl.o{constructor(S,R){super(S,R),this.scheduler=S,this.work=R}schedule(S,R=0){return R>0?super.schedule(S,R):(this.delay=R,this.state=S,this.scheduler.flush(this),this)}execute(S,R){return R>0||this.closed?super.execute(S,R):this._execute(S,R)}requestAsyncId(S,R,B=0){return null!=B&&B>0||null==B&&this.delay>0?super.requestAsyncId(S,R,B):S.flush(this)}});var Ou=P(4986),Sl=P(8505),jr=P(5363),Gi=P(9468);const Wa=new l.GfV("7.3.0"),ha="__angularfire_symbol__analyticsIsSupportedValue",di="__angularfire_symbol__analyticsIsSupported",fa="__angularfire_symbol__remoteConfigIsSupportedValue",xc="__angularfire_symbol__remoteConfigIsSupported",Il="__angularfire_symbol__messagingIsSupportedValue",Gt="__angularfire_symbol__messagingIsSupported";function io(D,S,R){if(S){if(1===S.length)return S[0];const ie=S.filter(ge=>ge.app===R);if(1===ie.length)return ie[0]}return R.container.getProvider(D).getImmediate({optional:!0})}globalThis[di]||(globalThis[di]=Ei().then(D=>globalThis[ha]=D).catch(()=>globalThis[ha]=!1)),globalThis[Gt]||(globalThis[Gt]=Tu().then(D=>globalThis[Il]=D).catch(()=>globalThis[Il]=!1)),globalThis[xc]||(globalThis[xc]=bu().then(D=>globalThis[fa]=D).catch(()=>globalThis[fa]=!1));const Xf=(D,S)=>{const R=S?[S]:(0,G.C6)(),B=[];return R.forEach(Q=>{Q.container.getProvider(D).instances.forEach(ge=>{B.includes(ge)||B.push(ge)})}),B};function As(){}class $i{constructor(S,R=Za){this.zone=S,this.delegate=R}now(){return this.delegate.now()}schedule(S,R,B){const Q=this.zone;return this.delegate.schedule(function(ge){Q.runGuarded(()=>{S.apply(this,[ge])})},R,B)}}class xl{constructor(S){this.zone=S,this.task=null}call(S,R){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",As,{},As,As)),R.pipe((0,Sl.b)({next:B,complete:B,error:B})).subscribe(S).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Rl=(()=>{class D{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new $i(Zone.current)),this.insideAngular=R.run(()=>new $i(Zone.current,Ou.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(R){return new(R||D)(l.LFG(l.R0b))},D.\u0275prov=l.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function so(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Di(D){return D.pipe((0,jr.Q)(so().outsideAngular))}function kc(D){return so(),function oo(D){return function(R){return(R=R.lift(new xl(D.ngZone))).pipe((0,Gi.R)(D.outsideAngular),(0,jr.Q)(D.insideAngular))}}(so())(D)}},424:(ut,Se,P)=>{P.d(Se,{$:()=>Cu,A:()=>z,E:()=>zt,G:()=>Fr,I:()=>ys,K:()=>U,L:()=>ul,M:()=>jd,N:()=>Qo,P:()=>ha,Q:()=>dl,R:()=>Ac,T:()=>bi,U:()=>Bi,V:()=>bs,W:()=>Qf,X:()=>Tr,Y:()=>pl,Z:()=>Wr,_:()=>Ui,a:()=>ct,a0:()=>Eu,a1:()=>Gd,a2:()=>Ae,a3:()=>$d,a4:()=>ml,a5:()=>ji,a6:()=>gc,a7:()=>Jf,a8:()=>_c,a9:()=>os,aA:()=>nr,aB:()=>kl,aC:()=>fn,aG:()=>_n,aJ:()=>Na,aa:()=>aa,ab:()=>qd,ae:()=>yc,af:()=>zd,ag:()=>vc,aj:()=>Zs,ak:()=>Cc,am:()=>Dc,an:()=>yl,ao:()=>In,ap:()=>Y,aq:()=>Rt,ar:()=>ze,as:()=>He,at:()=>eh,au:()=>Nu,av:()=>Re,aw:()=>ne,ax:()=>ce,ay:()=>K,az:()=>yr,b:()=>gn,c:()=>Ml,d:()=>$i,e:()=>Xf,f:()=>S,g:()=>nt,h:()=>Q,i:()=>Hi,j:()=>Xt,k:()=>co,l:()=>tr,m:()=>Kg,o:()=>ue,r:()=>Tl,s:()=>Is,u:()=>Gi,z:()=>ke});var l=P(5861),G=P(2090),k=P(9681),oe=P(655),se=P(1877),ve=P(4859);const ue={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ke=function te(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ne=function Ge(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Le=new G.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),De=new se.Yd("@firebase/auth");function Xe(v,...m){De.logLevel<=se.in.ERROR&&De.error(`Auth (${k.SDK_VERSION}): ${v}`,...m)}function He(v,...m){throw We(v,...m)}function Re(v,...m){return We(v,...m)}function Ie(v,m,_){const C=Object.assign(Object.assign({},Ne()),{[m]:_});return new G.LL("auth","Firebase",C).create(m,{appName:v.name})}function Ee(v,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&He(v,"argument-error"),Ie(v,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function We(v,...m){if("string"!=typeof v){const _=m[0],C=[...m.slice(1)];return C[0]&&(C[0].appName=v.name),v._errorFactory.create(_,...C)}return Le.create(v,...m)}function ne(v,m,..._){if(!v)throw We(m,..._)}function Je(v){const m="INTERNAL ASSERTION FAILED: "+v;throw Xe(m),new Error(m)}function Y(v,m){v||Je(m)}const he=new Map;function ce(v){Y(v instanceof Function,"Expected a class definition");let m=he.get(v);return m?(Y(m instanceof v,"Instance stored in cache mismatched with class"),m):(m=new v,he.set(v,m),m)}function ae(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function It(){return"http:"===nn()||"https:"===nn()}function nn(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class mt{constructor(m,_){this.shortDelay=m,this.longDelay=_,Y(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,G.uI)()||(0,G.b$)()}get(){return function Fn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(It()||(0,G.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function hn(v,m){Y(v.emulator,"Emulator should always be set here");const{url:_}=v.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class cn{static initialize(m,_,C){this.fetchImpl=m,_&&(this.headersImpl=_),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Je("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Je("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Je("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const gi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},sn=new mt(3e4,6e4);function Jt(v,m){return v.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:v.tenantId}):m}function rn(v,m,_,C){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,l.Z)(function*(v,m,_,C,M={}){return pr(v,M,(0,l.Z)(function*(){let F={},X={};C&&("GET"===m?X=C:F={body:JSON.stringify(C)});const xe=(0,G.xO)(Object.assign({key:v.config.apiKey},X)).slice(1),at=yield v._getAdditionalHeaders();return at["Content-Type"]="application/json",v.languageCode&&(at["X-Firebase-Locale"]=v.languageCode),cn.fetch()(_i(v,v.config.apiHost,_,xe),Object.assign({method:m,headers:at,referrerPolicy:"no-referrer"},F))}))})).apply(this,arguments)}function pr(v,m,_){return kr.apply(this,arguments)}function kr(){return(kr=(0,l.Z)(function*(v,m,_){v._canInitEmulator=!1;const C=Object.assign(Object.assign({},gi),m);try{const M=new mr(v),F=yield Promise.race([_(),M.promise]);M.clearNetworkTimeout();const X=yield F.json();if("needConfirmation"in X)throw Dr(v,"account-exists-with-different-credential",X);if(F.ok&&!("errorMessage"in X))return X;{const xe=F.ok?X.errorMessage:X.error.message,[at,wt]=xe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===at)throw Dr(v,"credential-already-in-use",X);if("EMAIL_EXISTS"===at)throw Dr(v,"email-already-in-use",X);const kt=C[at]||at.toLowerCase().replace(/[_\s]+/g,"-");if(wt)throw Ie(v,kt,wt);He(v,kt)}}catch(M){if(M instanceof G.ZR)throw M;He(v,"network-request-failed")}})).apply(this,arguments)}function Er(v,m,_,C){return es.apply(this,arguments)}function es(){return(es=(0,l.Z)(function*(v,m,_,C,M={}){const F=yield rn(v,m,_,C,M);return"mfaPendingCredential"in F&&He(v,"multi-factor-auth-required",{_serverResponse:F}),F})).apply(this,arguments)}function _i(v,m,_,C){const M=`${m}${_}?${C}`;return v.config.emulator?hn(v.config,M):`${v.config.apiScheme}://${M}`}class mr{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,C)=>{this.timer=setTimeout(()=>C(Re(this.auth,"network-request-failed")),sn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Dr(v,m,_){const C={appName:v.name};_.email&&(C.email=_.email),_.phoneNumber&&(C.phoneNumber=_.phoneNumber);const M=Re(v,m,C);return M.customData._tokenResponse=_,M}function _t(){return(_t=(0,l.Z)(function*(v,m){return rn(v,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Or(v,m){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,l.Z)(function*(v,m){return rn(v,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function on(v,m){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,l.Z)(function*(v,m){return rn(v,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function yi(v){if(v)try{const m=new Date(Number(v));if(!isNaN(m.getTime()))return m.toUTCString()}catch(m){}}function Zr(){return(Zr=(0,l.Z)(function*(v,m=!1){const _=(0,G.m9)(v),C=yield _.getIdToken(m),M=qt(C);ne(M&&M.exp&&M.auth_time&&M.iat,_.auth,"internal-error");const F="object"==typeof M.firebase?M.firebase:void 0,X=null==F?void 0:F.sign_in_provider;return{claims:M,token:C,authTime:yi(yo(M.auth_time)),issuedAtTime:yi(yo(M.iat)),expirationTime:yi(yo(M.exp)),signInProvider:X||null,signInSecondFactor:(null==F?void 0:F.sign_in_second_factor)||null}})).apply(this,arguments)}function yo(v){return 1e3*Number(v)}function qt(v){const[m,_,C]=v.split(".");if(void 0===m||void 0===_||void 0===C)return Xe("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,G.tV)(_);return M?JSON.parse(M):(Xe("Failed to decode base64 JWT payload"),null)}catch(M){return Xe("Caught error parsing JWT payload as JSON",M),null}}function it(v,m){return ai.apply(this,arguments)}function ai(){return(ai=(0,l.Z)(function*(v,m,_=!1){if(_)return m;try{return yield m}catch(C){throw C instanceof G.ZR&&ts(C)&&v.auth.currentUser===v&&(yield v.auth.signOut()),C}})).apply(this,arguments)}function ts({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Zt{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const M=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const C=this.getInterval(m);this.timerId=setTimeout((0,l.Z)(function*(){yield _.iteration()}),C)}iteration(){var m=this;return(0,l.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&m.schedule(!0))}m.schedule()})()}}class ns{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=yi(this.lastLoginAt),this.creationTime=yi(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Bn(v){return an.apply(this,arguments)}function an(){return(an=(0,l.Z)(function*(v){var m;const _=v.auth,C=yield v.getIdToken(),M=yield it(v,on(_,{idToken:C}));ne(null==M?void 0:M.users.length,_,"internal-error");const F=M.users[0];v._notifyReloadListener(F);const X=(null===(m=F.providerUserInfo)||void 0===m?void 0:m.length)?$e(F.providerUserInfo):[],xe=Wt(v.providerData,X),kt=!!v.isAnonymous&&!(v.email&&F.passwordHash||(null==xe?void 0:xe.length)),$n={uid:F.localId,displayName:F.displayName||null,photoURL:F.photoUrl||null,email:F.email||null,emailVerified:F.emailVerified||!1,phoneNumber:F.phoneNumber||null,tenantId:F.tenantId||null,providerData:xe,metadata:new ns(F.createdAt,F.lastLoginAt),isAnonymous:kt};Object.assign(v,$n)})).apply(this,arguments)}function Un(){return(Un=(0,l.Z)(function*(v){const m=(0,G.m9)(v);yield Bn(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Wt(v,m){return[...v.filter(C=>!m.some(M=>M.providerId===C.providerId)),...m]}function $e(v){return v.map(m=>{var{providerId:_}=m,C=(0,oe._T)(m,["providerId"]);return{providerId:_,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function et(){return(et=(0,l.Z)(function*(v,m){const _=yield pr(v,{},(0,l.Z)(function*(){const C=(0,G.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:M,apiKey:F}=v.config,X=_i(v,M,"/v1/token",`key=${F}`),xe=yield v._getAdditionalHeaders();return xe["Content-Type"]="application/x-www-form-urlencoded",cn.fetch()(X,{method:"POST",headers:xe,body:C})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class pt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){ne(m.idToken,"internal-error"),ne(void 0!==m.idToken,"internal-error"),ne(void 0!==m.refreshToken,"internal-error");const _="expiresIn"in m&&void 0!==m.expiresIn?Number(m.expiresIn):function ft(v){const m=qt(v);return ne(m,"internal-error"),ne(void 0!==m.exp,"internal-error"),ne(void 0!==m.iat,"internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var C=this;return(0,l.Z)(function*(){return ne(!C.accessToken||C.refreshToken,m,"user-token-expired"),_||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(m,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var C=this;return(0,l.Z)(function*(){const{accessToken:M,refreshToken:F,expiresIn:X}=yield function Te(v,m){return et.apply(this,arguments)}(m,_);C.updateTokensAndExpiration(M,F,Number(X))})()}updateTokensAndExpiration(m,_,C){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(m,_){const{refreshToken:C,accessToken:M,expirationTime:F}=_,X=new pt;return C&&(ne("string"==typeof C,"internal-error",{appName:m}),X.refreshToken=C),M&&(ne("string"==typeof M,"internal-error",{appName:m}),X.accessToken=M),F&&(ne("number"==typeof F,"internal-error",{appName:m}),X.expirationTime=F),X}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new pt,this.toJSON())}_performRefresh(){return Je("not implemented")}}function Vt(v,m){ne("string"==typeof v||void 0===v,"internal-error",{appName:m})}class Bt{constructor(m){var{uid:_,auth:C,stsTokenManager:M}=m,F=(0,oe._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=C,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=F.displayName||null,this.email=F.email||null,this.emailVerified=F.emailVerified||!1,this.phoneNumber=F.phoneNumber||null,this.photoURL=F.photoURL||null,this.isAnonymous=F.isAnonymous||!1,this.tenantId=F.tenantId||null,this.providerData=F.providerData?[...F.providerData]:[],this.metadata=new ns(F.createdAt||void 0,F.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,l.Z)(function*(){const C=yield it(_,_.stsTokenManager.getToken(_.auth,m));return ne(C,_.auth,"internal-error"),_.accessToken!==C&&(_.accessToken=C,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),C})()}getIdTokenResult(m){return function Nn(v){return Zr.apply(this,arguments)}(this,m)}reload(){return function vt(v){return Un.apply(this,arguments)}(this)}_assign(m){this!==m&&(ne(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new Bt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var C=this;return(0,l.Z)(function*(){let M=!1;m.idToken&&m.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(m),M=!0),_&&(yield Bn(C)),yield C.auth._persistUserIfCurrent(C),M&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var m=this;return(0,l.Z)(function*(){const _=yield m.getIdToken();return yield it(m,function gs(v,m){return _t.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var C,M,F,X,xe,at,wt,kt;const $n=null!==(C=_.displayName)&&void 0!==C?C:void 0,fi=null!==(M=_.email)&&void 0!==M?M:void 0,Qa=null!==(F=_.phoneNumber)&&void 0!==F?F:void 0,Bl=null!==(X=_.photoURL)&&void 0!==X?X:void 0,Gu=null!==(xe=_.tenantId)&&void 0!==xe?xe:void 0,Lc=null!==(at=_._redirectEventId)&&void 0!==at?at:void 0,Vc=null!==(wt=_.createdAt)&&void 0!==wt?wt:void 0,Bc=null!==(kt=_.lastLoginAt)&&void 0!==kt?kt:void 0,{uid:$u,emailVerified:Ul,isAnonymous:qu,providerData:sh,stsTokenManager:oh}=_;ne($u&&oh,m,"internal-error");const ah=pt.fromJSON(this.name,oh);ne("string"==typeof $u,m,"internal-error"),Vt($n,m.name),Vt(fi,m.name),ne("boolean"==typeof Ul,m,"internal-error"),ne("boolean"==typeof qu,m,"internal-error"),Vt(Qa,m.name),Vt(Bl,m.name),Vt(Gu,m.name),Vt(Lc,m.name),Vt(Vc,m.name),Vt(Bc,m.name);const jl=new Bt({uid:$u,auth:m,email:fi,emailVerified:Ul,displayName:$n,isAnonymous:qu,photoURL:Bl,phoneNumber:Qa,tenantId:Gu,stsTokenManager:ah,createdAt:Vc,lastLoginAt:Bc});return sh&&Array.isArray(sh)&&(jl.providerData=sh.map(Xg=>Object.assign({},Xg))),Lc&&(jl._redirectEventId=Lc),jl}static _fromIdTokenResponse(m,_,C=!1){return(0,l.Z)(function*(){const M=new pt;M.updateFromServerResponse(_);const F=new Bt({uid:_.localId,auth:m,stsTokenManager:M,isAnonymous:C});return yield Bn(F),F})()}}const U=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(_,C){var M=this;return(0,l.Z)(function*(){M.storage[_]=C})()}_get(_){var C=this;return(0,l.Z)(function*(){const M=C.storage[_];return void 0===M?null:M})()}_remove(_){var C=this;return(0,l.Z)(function*(){delete C.storage[_]})()}_addListener(_,C){}_removeListener(_,C){}}return v.type="NONE",v})();function K(v,m,_){return`firebase:${v}:${m}:${_}`}class fe{constructor(m,_,C){this.persistence=m,this.auth=_,this.userKey=C;const{config:M,name:F}=this.auth;this.fullUserKey=K(this.userKey,M.apiKey,F),this.fullPersistenceKey=K("persistence",M.apiKey,F),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,l.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?Bt._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,l.Z)(function*(){if(_.persistence===m)return;const C=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,C?_.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,C="authUser"){return(0,l.Z)(function*(){if(!_.length)return new fe(ce(U),m,C);const M=(yield Promise.all(_.map(function(){var wt=(0,l.Z)(function*(kt){if(yield kt._isAvailable())return kt});return function(kt){return wt.apply(this,arguments)}}()))).filter(wt=>wt);let F=M[0]||ce(U);const X=K(C,m.config.apiKey,m.name);let xe=null;for(const wt of _)try{const kt=yield wt._get(X);if(kt){const $n=Bt._fromJSON(m,kt);wt!==F&&(xe=$n),F=wt;break}}catch(kt){}const at=M.filter(wt=>wt._shouldAllowMigration);return F._shouldAllowMigration&&at.length?(F=at[0],xe&&(yield F._set(X,xe.toJSON())),yield Promise.all(_.map(function(){var wt=(0,l.Z)(function*(kt){if(kt!==F)try{yield kt._remove(X)}catch($n){}});return function(kt){return wt.apply(this,arguments)}}())),new fe(F,m,C)):new fe(F,m,C)})()}}function N(v){const m=v.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Be(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(V(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Tt(m))return"Blackberry";if(rt(m))return"Webos";if(j(m))return"Safari";if((m.includes("chrome/")||le(m))&&!m.includes("edge/"))return"Chrome";if(ze(m))return"Android";{const C=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==C?void 0:C.length))return C[1]}return"Other"}function V(v=(0,G.z$)()){return/firefox\//i.test(v)}function j(v=(0,G.z$)()){const m=v.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function le(v=(0,G.z$)()){return/crios\//i.test(v)}function Be(v=(0,G.z$)()){return/iemobile/i.test(v)}function ze(v=(0,G.z$)()){return/android/i.test(v)}function Tt(v=(0,G.z$)()){return/blackberry/i.test(v)}function rt(v=(0,G.z$)()){return/webos/i.test(v)}function Rt(v=(0,G.z$)()){return/iphone|ipad|ipod/i.test(v)}function In(v=(0,G.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Pr(v=(0,G.z$)()){return Rt(v)||ze(v)||rt(v)||Tt(v)||/windows phone/i.test(v)||Be(v)}function Yn(v,m=[]){let _;switch(v){case"Browser":_=N((0,G.z$)());break;case"Worker":_=`${N((0,G.z$)())}-${v}`;break;default:_=v}const C=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${k.SDK_VERSION}/${C}`}class al{constructor(m,_,C){this.app=m,this.heartbeatServiceProvider=_,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ke(this),this.idTokenSubscription=new Ke(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Le,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(m,_){var C=this;return _&&(this._popupRedirectResolver=ce(_)),this._initializationPromise=this.queue((0,l.Z)(function*(){var M,F;if(!C._deleted&&(C.persistenceManager=yield fe.create(C,m),!C._deleted)){if(null===(M=C._popupRedirectResolver)||void 0===M?void 0:M._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch(X){}yield C.initializeCurrentUser(_),C.lastNotifiedUid=(null===(F=C.currentUser)||void 0===F?void 0:F.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,l.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_)}})()}initializeCurrentUser(m){var _=this;return(0,l.Z)(function*(){var C;let M=yield _.assertedPersistence.getCurrentUser();if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const F=null===(C=_.redirectUser)||void 0===C?void 0:C._redirectEventId,X=null==M?void 0:M._redirectEventId,xe=yield _.tryRedirectSignIn(m);(!F||F===X)&&(null==xe?void 0:xe.user)&&(M=xe.user)}return M?M._redirectEventId?(ne(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===M._redirectEventId?_.directlySetCurrentUser(M):_.reloadAndSetCurrentUserOrClear(M)):_.reloadAndSetCurrentUserOrClear(M):_.directlySetCurrentUser(null)})()}tryRedirectSignIn(m){var _=this;return(0,l.Z)(function*(){let C=null;try{C=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch(M){yield _._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,l.Z)(function*(){try{yield Bn(m)}catch(C){if("auth/network-request-failed"!==C.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function ht(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var m=this;return(0,l.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,l.Z)(function*(){const C=m?(0,G.m9)(m):null;return C&&ne(C.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(C&&C._clone(_))})()}_updateCurrentUser(m){var _=this;return(0,l.Z)(function*(){if(!_._deleted)return m&&ne(_.tenantId===m.tenantId,_,"tenant-id-mismatch"),_.queue((0,l.Z)(function*(){yield _.directlySetCurrentUser(m),_.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,l.Z)(function*(){return(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null)})()}setPersistence(m){var _=this;return this.queue((0,l.Z)(function*(){yield _.assertedPersistence.setPersistence(ce(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new G.LL("auth","Firebase",m())}onAuthStateChanged(m,_,C){return this.registerStateListener(this.authStateSubscription,m,_,C)}onIdTokenChanged(m,_,C){return this.registerStateListener(this.idTokenSubscription,m,_,C)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var C=this;return(0,l.Z)(function*(){const M=yield C.getOrInitRedirectPersistenceManager(_);return null===m?M.removeCurrentUser():M.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,l.Z)(function*(){if(!_.redirectPersistenceManager){const C=m&&ce(m)||_._popupRedirectResolver;ne(C,_,"argument-error"),_.redirectPersistenceManager=yield fe.create(_,[ce(C._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,l.Z)(function*(){var C,M;return _._isInitialized&&(yield _.queue((0,l.Z)(function*(){}))),(null===(C=_._currentUser)||void 0===C?void 0:C._redirectEventId)===m?_._currentUser:(null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,l.Z)(function*(){if(m===_.currentUser)return _.queue((0,l.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,C,M){if(this._deleted)return()=>{};const F="function"==typeof _?_:_.next.bind(_),X=this._isInitialized?Promise.resolve():this._initializationPromise;return ne(X,this,"internal-error"),X.then(()=>F(this.currentUser)),"function"==typeof _?m.addObserver(_,C,M):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,l.Z)(function*(){_.currentUser&&_.currentUser!==m&&(_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh()),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Yn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,l.Z)(function*(){var _;const C={"X-Client-Version":m.clientVersion};m.app.options.appId&&(C["X-Firebase-gmpid"]=m.app.options.appId);const M=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return M&&(C["X-Firebase-Client"]=M),C})()}}function fn(v){return(0,G.m9)(v)}class Ke{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,G.ne)(_=>this.observer=_)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function zt(v,m,_){const C=fn(v);ne(C._canInitEmulator,C,"emulator-config-failed"),ne(/^https?:\/\//.test(m),C,"invalid-emulator-scheme");const M=!!(null==_?void 0:_.disableWarnings),F=pn(m),{host:X,port:xe}=function Nr(v){const m=pn(v),_=/(\/\/)?([^?#/]+)/.exec(v.substr(m.length));if(!_)return{host:"",port:null};const C=_[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(C);if(M){const F=M[1];return{host:F,port:_s(C.substr(F.length+1))}}{const[F,X]=C.split(":");return{host:F,port:_s(X)}}}(m);C.config.emulator={url:`${F}//${X}${null===xe?"":`:${xe}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:X,port:xe,protocol:F.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function cr(){function v(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function pn(v){const m=v.indexOf(":");return m<0?"":v.substr(0,m+1)}function _s(v){if(!v)return null;const m=Number(v);return isNaN(m)?null:m}class Fr{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return Je("not implemented")}_getIdTokenResponse(m){return Je("not implemented")}_linkToIdToken(m,_){return Je("not implemented")}_getReauthenticationResolver(m){return Je("not implemented")}}function Dn(v,m){return jn.apply(this,arguments)}function jn(){return(jn=(0,l.Z)(function*(v,m){return rn(v,"POST","/v1/accounts:resetPassword",Jt(v,m))})).apply(this,arguments)}function vo(v,m){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,l.Z)(function*(v,m){return rn(v,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ll(v,m){return rs.apply(this,arguments)}function rs(){return(rs=(0,l.Z)(function*(v,m){return rn(v,"POST","/v1/accounts:update",Jt(v,m))})).apply(this,arguments)}function is(){return(is=(0,l.Z)(function*(v,m){return Er(v,"POST","/v1/accounts:signInWithPassword",Jt(v,m))})).apply(this,arguments)}function Qn(v,m){return $s.apply(this,arguments)}function $s(){return($s=(0,l.Z)(function*(v,m){return rn(v,"POST","/v1/accounts:sendOobCode",Jt(v,m))})).apply(this,arguments)}function bo(v,m){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,l.Z)(function*(v,m){return Qn(v,m)})).apply(this,arguments)}function bn(v,m){return zo.apply(this,arguments)}function zo(){return(zo=(0,l.Z)(function*(v,m){return Qn(v,m)})).apply(this,arguments)}function gu(v,m){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,l.Z)(function*(v,m){return Qn(v,m)})).apply(this,arguments)}function vi(v,m){return ka.apply(this,arguments)}function ka(){return(ka=(0,l.Z)(function*(v,m){return Qn(v,m)})).apply(this,arguments)}function Wo(){return(Wo=(0,l.Z)(function*(v,m){return Er(v,"POST","/v1/accounts:signInWithEmailLink",Jt(v,m))})).apply(this,arguments)}function hc(){return(hc=(0,l.Z)(function*(v,m){return Er(v,"POST","/v1/accounts:signInWithEmailLink",Jt(v,m))})).apply(this,arguments)}class cl extends Fr{constructor(m,_,C,M=null){super("password",C),this._email=m,this._password=_,this._tenantId=M}static _fromEmailAndPassword(m,_){return new cl(m,_,"password")}static _fromEmailAndCode(m,_,C=null){return new cl(m,_,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,l.Z)(function*(){switch(_.signInMethod){case"password":return function dc(v,m){return is.apply(this,arguments)}(m,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Zo(v,m){return Wo.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:He(m,"internal-error")}})()}_linkToIdToken(m,_){var C=this;return(0,l.Z)(function*(){switch(C.signInMethod){case"password":return vo(m,{idToken:_,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function Vi(v,m){return hc.apply(this,arguments)}(m,{idToken:_,email:C._email,oobCode:C._password});default:He(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function qs(v,m){return li.apply(this,arguments)}function li(){return(li=(0,l.Z)(function*(v,m){return Er(v,"POST","/v1/accounts:signInWithIdp",Jt(v,m))})).apply(this,arguments)}class ys extends Fr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new ys(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):He("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:C,signInMethod:M}=_,F=(0,oe._T)(_,["providerId","signInMethod"]);if(!C||!M)return null;const X=new ys(C,M);return X.idToken=F.idToken||void 0,X.accessToken=F.accessToken||void 0,X.secret=F.secret,X.nonce=F.nonce,X.pendingToken=F.pendingToken||null,X}_getIdTokenResponse(m){return qs(m,this.buildRequest())}_linkToIdToken(m,_){const C=this.buildRequest();return C.idToken=_,qs(m,C)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,qs(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,G.xO)(_)}return m}}function zf(v,m){return _u.apply(this,arguments)}function _u(){return(_u=(0,l.Z)(function*(v,m){return rn(v,"POST","/v1/accounts:sendVerificationCode",Jt(v,m))})).apply(this,arguments)}function Oa(){return(Oa=(0,l.Z)(function*(v,m){return Er(v,"POST","/v1/accounts:signInWithPhoneNumber",Jt(v,m))})).apply(this,arguments)}function yu(){return(yu=(0,l.Z)(function*(v,m){const _=yield Er(v,"POST","/v1/accounts:signInWithPhoneNumber",Jt(v,m));if(_.temporaryProof)throw Dr(v,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Wf={USER_NOT_FOUND:"user-not-found"};function vu(){return(vu=(0,l.Z)(function*(v,m){return Er(v,"POST","/v1/accounts:signInWithPhoneNumber",Jt(v,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Wf)})).apply(this,arguments)}class Yo extends Fr{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new Yo({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new Yo({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function Zf(v,m){return Oa.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function Ko(v,m){return yu.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Kf(v,m){return vu.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:C,verificationCode:M}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:C,code:M}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:C,phoneNumber:M,temporaryProof:F}=m;return C||_||M||F?new Yo({verificationId:_,verificationCode:C,phoneNumber:M,temporaryProof:F}):null}}class zs{constructor(m){var _,C,M,F,X,xe;const at=(0,G.zd)((0,G.pd)(m)),wt=null!==(_=at.apiKey)&&void 0!==_?_:null,kt=null!==(C=at.oobCode)&&void 0!==C?C:null,$n=function Yf(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=at.mode)&&void 0!==M?M:null);ne(wt&&kt&&$n,"argument-error"),this.apiKey=wt,this.operation=$n,this.code=kt,this.continueUrl=null!==(F=at.continueUrl)&&void 0!==F?F:null,this.languageCode=null!==(X=at.languageCode)&&void 0!==X?X:null,this.tenantId=null!==(xe=at.tenantId)&&void 0!==xe?xe:null}static parseLink(m){const _=function Gg(v){const m=(0,G.zd)((0,G.pd)(v)).link,_=m?(0,G.zd)((0,G.pd)(m)).deep_link_id:null,C=(0,G.zd)((0,G.pd)(v)).deep_link_id;return(C?(0,G.zd)((0,G.pd)(C)).link:null)||C||_||m||v}(m);try{return new zs(_)}catch(C){return null}}}let ul=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(_,C){return cl._fromEmailAndPassword(_,C)}static credentialWithLink(_,C){const M=zs.parseLink(C);return ne(M,"argument-error"),cl._fromEmailAndCode(_,M.code,M.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class vs{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Pa extends vs{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class bi extends Pa{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return ne("providerId"in _&&"signInMethod"in _,"argument-error"),ys._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return ne(m.idToken||m.accessToken,"argument-error"),ys._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return bi.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return bi.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:C,oauthTokenSecret:M,pendingToken:F,nonce:X,providerId:xe}=m;if(!C&&!M&&!_&&!F||!xe)return null;try{return new bi(xe)._credential({idToken:_,accessToken:C,nonce:X,pendingToken:F})}catch(at){return null}}}let jd=(()=>{class v extends Pa{constructor(){super("facebook.com")}static credential(_){return ys._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch(C){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Qo=(()=>{class v extends Pa{constructor(){super("google.com"),this.addScope("profile")}static credential(_,C){return ys._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:C})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:C,oauthAccessToken:M}=_;if(!C&&!M)return null;try{return v.credential(C,M)}catch(F){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),dl=(()=>{class v extends Pa{constructor(){super("github.com")}static credential(_){return ys._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch(C){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Na extends Fr{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return qs(m,this.buildRequest())}_linkToIdToken(m,_){const C=this.buildRequest();return C.idToken=_,qs(m,C)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,qs(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:C,signInMethod:M,pendingToken:F}=_;return C&&M&&F&&C===M?new Na(C,F):null}static _create(m,_){return new Na(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Bi extends vs{constructor(m){ne(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Bi.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Bi.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=Na.fromJSON(m);return ne(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:C}=m;if(!_||!C)return null;try{return Na._create(C,_)}catch(M){return null}}}let bs=(()=>{class v extends Pa{constructor(){super("twitter.com")}static credential(_,C){return ys._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:C})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:C,oauthTokenSecret:M}=_;if(!C||!M)return null;try{return v.credential(C,M)}catch(F){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function hl(v,m){return La.apply(this,arguments)}function La(){return(La=(0,l.Z)(function*(v,m){return Er(v,"POST","/v1/accounts:signUp",Jt(v,m))})).apply(this,arguments)}class Rn{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,C,M=!1){return(0,l.Z)(function*(){const F=yield Bt._fromIdTokenResponse(m,C,M),X=Jo(C);return new Rn({user:F,providerId:X,_tokenResponse:C,operationType:_})})()}static _forOperation(m,_,C){return(0,l.Z)(function*(){yield m._updateTokensIfNecessary(C,!0);const M=Jo(C);return new Rn({user:m,providerId:M,_tokenResponse:C,operationType:_})})()}}function Jo(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Qf(v){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,l.Z)(function*(v){var m;const _=fn(v);if(yield _._initializationPromise,null===(m=_.currentUser)||void 0===m?void 0:m.isAnonymous)return new Rn({user:_.currentUser,providerId:null,operationType:"signIn"});const C=yield hl(_,{returnSecureToken:!0}),M=yield Rn._fromIdTokenResponse(_,"signIn",C,!0);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class fc extends G.ZR{constructor(m,_,C,M){var F;super(_.code,_.message),this.operationType=C,this.user=M,Object.setPrototypeOf(this,fc.prototype),this.customData={appName:m.name,tenantId:null!==(F=m.tenantId)&&void 0!==F?F:void 0,_serverResponse:_.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(m,_,C,M){return new fc(m,_,C,M)}}function wu(v,m,_,C){return("reauthenticate"===m?_._getReauthenticationResolver(v):_._getIdTokenResponse(v)).catch(F=>{throw"auth/multi-factor-auth-required"===F.code?fc._fromErrorAndOperation(v,F,m,C):F})}function fl(v){return new Set(v.map(({providerId:m})=>m).filter(m=>!!m))}function Zs(v,m){return wo.apply(this,arguments)}function wo(){return(wo=(0,l.Z)(function*(v,m){const _=(0,G.m9)(v);yield Co(!0,_,m);const{providerUserInfo:C}=yield Or(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),M=fl(C||[]);return _.providerData=_.providerData.filter(F=>M.has(F.providerId)),M.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function pc(v,m){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,l.Z)(function*(v,m,_=!1){const C=yield it(v,m._linkToIdToken(v.auth,yield v.getIdToken()),_);return Rn._forOperation(v,"link",C)})).apply(this,arguments)}function Co(v,m,_){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,l.Z)(function*(v,m,_){yield Bn(m);const M=!1===v?"provider-already-linked":"no-such-provider";ne(fl(m.providerData).has(_)===v,m.auth,M)})).apply(this,arguments)}function mn(v,m){return mc.apply(this,arguments)}function mc(){return(mc=(0,l.Z)(function*(v,m,_=!1){const{auth:C}=v,M="reauthenticate";try{const F=yield it(v,wu(C,M,m,v),_);ne(F.idToken,C,"internal-error");const X=qt(F.idToken);ne(X,C,"internal-error");const{sub:xe}=X;return ne(v.uid===xe,C,"user-mismatch"),Rn._forOperation(v,M,F)}catch(F){throw"auth/user-not-found"===(null==F?void 0:F.code)&&He(C,"user-mismatch"),F}})).apply(this,arguments)}function ea(v,m){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,l.Z)(function*(v,m,_=!1){const C="signIn",M=yield wu(v,C,m),F=yield Rn._fromIdTokenResponse(v,C,M);return _||(yield v._updateCurrentUser(F.user)),F})).apply(this,arguments)}function Tr(v,m){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,l.Z)(function*(v,m){return ea(fn(v),m)})).apply(this,arguments)}function pl(v,m){return wi.apply(this,arguments)}function wi(){return(wi=(0,l.Z)(function*(v,m){const _=(0,G.m9)(v);return yield Co(!1,_,m.providerId),pc(_,m)})).apply(this,arguments)}function Wr(v,m){return ws.apply(this,arguments)}function ws(){return(ws=(0,l.Z)(function*(v,m){return mn((0,G.m9)(v),m)})).apply(this,arguments)}function Do(v,m){return ta.apply(this,arguments)}function ta(){return(ta=(0,l.Z)(function*(v,m){return Er(v,"POST","/v1/accounts:signInWithCustomToken",Jt(v,m))})).apply(this,arguments)}function Ui(v,m){return ss.apply(this,arguments)}function ss(){return(ss=(0,l.Z)(function*(v,m){const _=fn(v),C=yield Do(_,{token:m,returnSecureToken:!0}),M=yield Rn._fromIdTokenResponse(_,"signIn",C);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class Cs{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?Ct._fromServerResponse(m,_):He(m,"internal-error")}}class Ct extends Cs{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new Ct(_)}}function Va(v,m,_){var C;ne((null===(C=_.url)||void 0===C?void 0:C.length)>0,v,"invalid-continue-uri"),ne(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(ne(_.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(ne(_.android.packageName.length>0,v,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function Cu(v,m,_){return na.apply(this,arguments)}function na(){return(na=(0,l.Z)(function*(v,m,_){const C=(0,G.m9)(v),M={requestType:"PASSWORD_RESET",email:m};_&&Va(C,M,_),yield bn(C,M)})).apply(this,arguments)}function Eu(v,m,_){return ra.apply(this,arguments)}function ra(){return(ra=(0,l.Z)(function*(v,m,_){yield Dn((0,G.m9)(v),{oobCode:m,newPassword:_})})).apply(this,arguments)}function Gd(v,m){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,l.Z)(function*(v,m){yield ll((0,G.m9)(v),{oobCode:m})})).apply(this,arguments)}function Ae(v,m){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,l.Z)(function*(v,m){const _=(0,G.m9)(v),C=yield Dn(_,{oobCode:m}),M=C.requestType;switch(ne(M,_,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ne(C.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ne(C.mfaInfo,_,"internal-error");default:ne(C.email,_,"internal-error")}let F=null;return C.mfaInfo&&(F=Cs._fromServerResponse(fn(_),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:F},operation:M}})).apply(this,arguments)}function $d(v,m){return wn.apply(this,arguments)}function wn(){return(wn=(0,l.Z)(function*(v,m){const{data:_}=yield Ae((0,G.m9)(v),m);return _.email})).apply(this,arguments)}function ml(v,m,_){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,l.Z)(function*(v,m,_){const C=fn(v),M=yield hl(C,{returnSecureToken:!0,email:m,password:_}),F=yield Rn._fromIdTokenResponse(C,"signIn",M);return yield C._updateCurrentUser(F.user),F})).apply(this,arguments)}function ji(v,m,_){return Tr((0,G.m9)(v),ul.credential(m,_))}function gc(v,m,_){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,l.Z)(function*(v,m,_){const C=(0,G.m9)(v),M={requestType:"EMAIL_SIGNIN",email:m};ne(_.handleCodeInApp,C,"argument-error"),_&&Va(C,M,_),yield gu(C,M)})).apply(this,arguments)}function Jf(v,m){const _=zs.parseLink(m);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}function _c(v,m,_){return ia.apply(this,arguments)}function ia(){return(ia=(0,l.Z)(function*(v,m,_){const C=(0,G.m9)(v),M=ul.credentialWithLink(m,_||ae());return ne(M._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Tr(C,M)})).apply(this,arguments)}function sa(v,m){return ur.apply(this,arguments)}function ur(){return(ur=(0,l.Z)(function*(v,m){return rn(v,"POST","/v1/accounts:createAuthUri",Jt(v,m))})).apply(this,arguments)}function os(v,m){return oa.apply(this,arguments)}function oa(){return(oa=(0,l.Z)(function*(v,m){const C={identifier:m,continueUri:It()?ae():"http://localhost"},{signinMethods:M}=yield sa((0,G.m9)(v),C);return M||[]})).apply(this,arguments)}function aa(v,m){return ci.apply(this,arguments)}function ci(){return(ci=(0,l.Z)(function*(v,m){const _=(0,G.m9)(v),M={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};m&&Va(_.auth,M,m);const{email:F}=yield bo(_.auth,M);F!==v.email&&(yield v.reload())})).apply(this,arguments)}function qd(v,m,_){return la.apply(this,arguments)}function la(){return(la=(0,l.Z)(function*(v,m,_){const C=(0,G.m9)(v),F={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:m};_&&Va(C.auth,F,_);const{email:X}=yield vi(C.auth,F);X!==v.email&&(yield v.reload())})).apply(this,arguments)}function Du(v,m){return ja.apply(this,arguments)}function ja(){return(ja=(0,l.Z)(function*(v,m){return rn(v,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function yc(v,m){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,l.Z)(function*(v,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const C=(0,G.m9)(v),F={idToken:yield C.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},X=yield it(C,Du(C.auth,F));C.displayName=X.displayName||null,C.photoURL=X.photoUrl||null;const xe=C.providerData.find(({providerId:at})=>"password"===at);xe&&(xe.displayName=C.displayName,xe.photoURL=C.photoURL),yield C._updateTokensIfNecessary(X)})).apply(this,arguments)}function zd(v,m){return bc((0,G.m9)(v),m,null)}function vc(v,m){return bc((0,G.m9)(v),null,m)}function bc(v,m,_){return gl.apply(this,arguments)}function gl(){return(gl=(0,l.Z)(function*(v,m,_){const{auth:C}=v,F={idToken:yield v.getIdToken(),returnSecureToken:!0};m&&(F.email=m),_&&(F.password=_);const X=yield it(v,vo(C,F));yield v._updateTokensIfNecessary(X,!0)})).apply(this,arguments)}class To{constructor(m,_,C={}){this.isNewUser=m,this.providerId=_,this.profile=C}}class wc extends To{constructor(m,_,C,M){super(m,_,C),this.username=M}}class Zd extends To{constructor(m,_){super(m,"facebook.com",_)}}class Tu extends wc{constructor(m,_){super(m,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class So extends To{constructor(m,_){super(m,"google.com",_)}}class Qs extends wc{constructor(m,_,C){super(m,"twitter.com",_,C)}}function Cc(v){const{user:m,_tokenResponse:_}=v;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Ha(v){var m,_;if(!v)return null;const{providerId:C}=v,M=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},F=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!C&&(null==v?void 0:v.idToken)){const X=null===(_=null===(m=qt(v.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(X)return new To(F,"anonymous"!==X&&"custom"!==X?X:null)}if(!C)return null;switch(C){case"facebook.com":return new Zd(F,M);case"github.com":return new Tu(F,M);case"google.com":return new So(F,M);case"twitter.com":return new Qs(F,M,v.screenName||null);case"custom":case"anonymous":return new To(F,null);default:return new To(F,C,M)}}(_)}class Io{constructor(m,_){this.type=m,this.credential=_}static _fromIdtoken(m){return new Io("enroll",m)}static _fromMfaPendingCredential(m){return new Io("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,C;if(null==m?void 0:m.multiFactorSession){if(null===(_=m.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return Io._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null===(C=m.multiFactorSession)||void 0===C?void 0:C.idToken)return Io._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Ga{constructor(m,_,C){this.session=m,this.hints=_,this.signInResolver=C}static _fromError(m,_){const C=fn(m),M=_.customData._serverResponse,F=(M.mfaInfo||[]).map(xe=>Cs._fromServerResponse(C,xe));ne(M.mfaPendingCredential,C,"internal-error");const X=Io._fromMfaPendingCredential(M.mfaPendingCredential);return new Ga(X,F,function(){var xe=(0,l.Z)(function*(at){const wt=yield at._process(C,X);delete M.mfaInfo,delete M.mfaPendingCredential;const kt=Object.assign(Object.assign({},M),{idToken:wt.idToken,refreshToken:wt.refreshToken});switch(_.operationType){case"signIn":const $n=yield Rn._fromIdTokenResponse(C,_.operationType,kt);return yield C._updateCurrentUser($n.user),$n;case"reauthenticate":return ne(_.user,C,"internal-error"),Rn._forOperation(_.user,_.operationType,kt);default:He(C,"internal-error")}});return function(at){return xe.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,l.Z)(function*(){return _.signInResolver(m)})()}}function Dc(v,m){var _;const C=(0,G.m9)(v),M=m;return ne(m.customData.operationType,C,"argument-error"),ne(null===(_=M.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,C,"argument-error"),Ga._fromError(C,M)}function _l(v,m){return rn(v,"POST","/v2/accounts/mfaEnrollment:start",Jt(v,m))}class Au{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(C=>Cs._fromServerResponse(m.auth,C)))})}static _fromUser(m){return new Au(m)}getSession(){var m=this;return(0,l.Z)(function*(){return Io._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,_){var C=this;return(0,l.Z)(function*(){const M=m,F=yield C.getSession(),X=yield it(C.user,M._process(C.user.auth,F,_));return yield C.user._updateTokensIfNecessary(X),C.user.reload()})()}unenroll(m){var _=this;return(0,l.Z)(function*(){const C="string"==typeof m?m:m.uid,M=yield _.user.getIdToken(),F=yield it(_.user,function Iu(v,m){return rn(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Jt(v,m))}(_.user.auth,{idToken:M,mfaEnrollmentId:C}));_.enrolledFactors=_.enrolledFactors.filter(({uid:X})=>X!==C),yield _.user._updateTokensIfNecessary(F);try{yield _.user.reload()}catch(X){if("auth/user-token-expired"!==X.code)throw X}})()}}const Es=new WeakMap;function yl(v){const m=(0,G.m9)(v);return Es.has(m)||Es.set(m,Au._fromUser(m)),Es.get(m)}const $a="__sak";class Kd{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem($a,"1"),this.storage.removeItem($a),Promise.resolve(!0)):Promise.resolve(!1)}catch(m){return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const gn=(()=>{class v extends Kd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,C)=>this.onStorageEvent(_,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ca(){const v=(0,G.z$)();return j(v)||Rt(v)}()&&function Li(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=Pr(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const C of Object.keys(this.listeners)){const M=this.storage.getItem(C),F=this.localCache[C];M!==F&&_(C,F,M)}}onStorageEvent(_,C=!1){if(!_.key)return void this.forAllChangedKeys((xe,at,wt)=>{this.notifyListeners(xe,wt)});const M=_.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const xe=this.storage.getItem(M);if(_.newValue!==xe)null!==_.newValue?this.storage.setItem(M,_.newValue):this.storage.removeItem(M);else if(this.localCache[M]===_.newValue&&!C)return}const F=()=>{const xe=this.storage.getItem(M);!C&&this.localCache[M]===xe||this.notifyListeners(M,xe)},X=this.storage.getItem(M);!function Yt(){return(0,G.w1)()&&10===document.documentMode}()||X===_.newValue||_.newValue===_.oldValue?F():setTimeout(F,10)}notifyListeners(_,C){this.localCache[_]=C;const M=this.listeners[_];if(M)for(const F of Array.from(M))F(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,C,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:C,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,C){var M=()=>super._set,F=this;return(0,l.Z)(function*(){yield M().call(F,_,C),F.localCache[_]=JSON.stringify(C)})()}_get(_){var C=()=>super._get,M=this;return(0,l.Z)(function*(){const F=yield C().call(M,_);return M.localCache[_]=JSON.stringify(F),F})()}_remove(_){var C=()=>super._remove,M=this;return(0,l.Z)(function*(){yield C().call(M,_),delete M.localCache[_]})()}}return v.type="LOCAL",v})(),ct=(()=>{class v extends Kd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,C){}_removeListener(_,C){}}return v.type="SESSION",v})();let Vr=(()=>{class v{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const C=this.receivers.find(F=>F.isListeningto(_));if(C)return C;const M=new v(_);return this.receivers.push(M),M}isListeningto(_){return this.eventTarget===_}handleEvent(_){var C=this;return(0,l.Z)(function*(){const M=_,{eventId:F,eventType:X,data:xe}=M.data,at=C.handlersMap[X];if(!(null==at?void 0:at.size))return;M.ports[0].postMessage({status:"ack",eventId:F,eventType:X});const wt=Array.from(at).map(function(){var $n=(0,l.Z)(function*(fi){return fi(M.origin,xe)});return function(fi){return $n.apply(this,arguments)}}()),kt=yield function Ot(v){return Promise.all(v.map(function(){var m=(0,l.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(C){return{fulfilled:!1,reason:C}}});return function(_){return m.apply(this,arguments)}}()))}(wt);M.ports[0].postMessage({status:"done",eventId:F,eventType:X,response:kt})})()}_subscribe(_,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(C)}_unsubscribe(_,C){this.handlersMap[_]&&C&&this.handlersMap[_].delete(C),(!C||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function _n(v="",m=10){let _="";for(let C=0;C<m;C++)_+=Math.floor(10*Math.random());return v+_}class xu{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,C=50){var M=this;return(0,l.Z)(function*(){const F="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!F)throw new Error("connection_unavailable");let X,xe;return new Promise((at,wt)=>{const kt=_n("",20);F.port1.start();const $n=setTimeout(()=>{wt(new Error("unsupported_event"))},C);xe={messageChannel:F,onMessage(fi){const Qa=fi;if(Qa.data.eventId===kt)switch(Qa.data.status){case"ack":clearTimeout($n),X=setTimeout(()=>{wt(new Error("timeout"))},3e3);break;case"done":clearTimeout(X),at(Qa.data.response);break;default:clearTimeout($n),clearTimeout(X),wt(new Error("invalid_response"))}}},M.handlers.add(xe),F.port1.addEventListener("message",xe.onMessage),M.target.postMessage({eventType:m,eventId:kt,data:_},[F.port2])}).finally(()=>{xe&&M.removeMessageHandler(xe)})})()}}function Wn(){return window}function Tc(){return void 0!==Wn().WorkerGlobalScope&&"function"==typeof Wn().importScripts}function ua(){return(ua=(0,l.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const Sc="firebaseLocalStorageDb",da="firebaseLocalStorage",qa="fbase_key";class yn{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function eo(v,m){return v.transaction([da],m?"readwrite":"readonly").objectStore(da)}function Yr(){const v=indexedDB.open(Sc,1);return new Promise((m,_)=>{v.addEventListener("error",()=>{_(v.error)}),v.addEventListener("upgradeneeded",()=>{const C=v.result;try{C.createObjectStore(da,{keyPath:qa})}catch(M){_(M)}}),v.addEventListener("success",(0,l.Z)(function*(){const C=v.result;C.objectStoreNames.contains(da)?m(C):(C.close(),yield function vl(){const v=indexedDB.deleteDatabase(Sc);return new yn(v).toPromise()}(),m(yield Yr()))}))})}function Ao(v,m,_){return bl.apply(this,arguments)}function bl(){return(bl=(0,l.Z)(function*(v,m,_){const C=eo(v,!0).put({[qa]:m,value:_});return new yn(C).toPromise()})).apply(this,arguments)}function no(){return(no=(0,l.Z)(function*(v,m){const _=eo(v,!1).get(m),C=yield new yn(_).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function wl(v,m){const _=eo(v,!0).delete(m);return new yn(_).toPromise()}const Hi=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,l.Z)(function*(){return _.db||(_.db=yield Yr()),_.db})()}_withRetries(_){var C=this;return(0,l.Z)(function*(){let M=0;for(;;)try{const F=yield C._openDb();return yield _(F)}catch(F){if(M++>3)throw F;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,l.Z)(function*(){return Tc()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,l.Z)(function*(){_.receiver=Vr._getInstance(function Nt(){return Tc()?self:null}()),_.receiver._subscribe("keyChanged",function(){var C=(0,l.Z)(function*(M,F){return{keyProcessed:(yield _._poll()).includes(F.key)}});return function(M,F){return C.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var C=(0,l.Z)(function*(M,F){return["keyChanged"]});return function(M,F){return C.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,l.Z)(function*(){var C,M;if(_.activeServiceWorker=yield function Ds(){return ua.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new xu(_.activeServiceWorker);const F=yield _.sender._send("ping",{},800);!F||(null===(C=F[0])||void 0===C?void 0:C.fulfilled)&&(null===(M=F[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var C=this;return(0,l.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function as(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:_},C.serviceWorkerReceiverAvailable?800:50)}catch(M){}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Yr();return yield Ao(_,$a,"1"),yield wl(_,$a),!0}catch(_){}return!1})()}_withPendingWrite(_){var C=this;return(0,l.Z)(function*(){C.pendingWrites++;try{yield _()}finally{C.pendingWrites--}})()}_set(_,C){var M=this;return(0,l.Z)(function*(){return M._withPendingWrite((0,l.Z)(function*(){return yield M._withRetries(F=>Ao(F,_,C)),M.localCache[_]=C,M.notifyServiceWorker(_)}))})()}_get(_){var C=this;return(0,l.Z)(function*(){const M=yield C._withRetries(F=>function to(v,m){return no.apply(this,arguments)}(F,_));return C.localCache[_]=M,M})()}_remove(_){var C=this;return(0,l.Z)(function*(){return C._withPendingWrite((0,l.Z)(function*(){return yield C._withRetries(M=>wl(M,_)),delete C.localCache[_],C.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,l.Z)(function*(){const C=yield _._withRetries(X=>{const xe=eo(X,!1).getAll();return new yn(xe).toPromise()});if(!C)return[];if(0!==_.pendingWrites)return[];const M=[],F=new Set;for(const{fbase_key:X,value:xe}of C)F.add(X),JSON.stringify(_.localCache[X])!==JSON.stringify(xe)&&(_.notifyListeners(X,xe),M.push(X));for(const X of Object.keys(_.localCache))_.localCache[X]&&!F.has(X)&&(_.notifyListeners(X,null),M.push(X));return M})()}notifyListeners(_,C){this.localCache[_]=C;const M=this.listeners[_];if(M)for(const F of Array.from(M))F(C)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Br(v,m){return rn(v,"POST","/v2/accounts/mfaSignIn:start",Jt(v,m))}function Cl(){return(Cl=(0,l.Z)(function*(v){return(yield rn(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function dr(v){return new Promise((m,_)=>{const C=document.createElement("script");C.setAttribute("src",v),C.onload=m,C.onerror=M=>{const F=Re("internal-error");F.customData=M,_(F)},C.type="text/javascript",C.charset="UTF-8",function Cn(){var v,m;return null!==(m=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==m?m:document}().appendChild(C)})}function Ir(v){return`__${v}${Math.floor(1e6*Math.random())}`}const En=1e12;class Ur{constructor(m){this.auth=m,this.counter=En,this._widgets=new Map}render(m,_){const C=this.counter;return this._widgets.set(C,new _r(m,this.auth.name,_||{})),this.counter++,C}reset(m){var _;const C=m||En;null===(_=this._widgets.get(C))||void 0===_||_.delete(),this._widgets.delete(C)}getResponse(m){var _;return(null===(_=this._widgets.get(m||En))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,l.Z)(function*(){var C;return null===(C=_._widgets.get(m||En))||void 0===C||C.execute(),""})()}}class _r{constructor(m,_,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof m?document.getElementById(m):m;ne(M,"argument-error",{appName:_}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ui(v){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<v;C++)m.push(_.charAt(Math.floor(Math.random()*_.length)));return m.join("")}(50);const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch(C){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(C){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ei=Ir("rcb"),El=new mt(3e4,6e4);class Gn{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Wn().grecaptcha}load(m,_=""){return ne(function Jd(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(_),m,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Wn().grecaptcha):new Promise((C,M)=>{const F=Wn().setTimeout(()=>{M(Re(m,"network-request-failed"))},El.get());Wn()[Ei]=()=>{Wn().clearTimeout(F),delete Wn()[Ei];const xe=Wn().grecaptcha;if(!xe)return void M(Re(m,"internal-error"));const at=xe.render;xe.render=(wt,kt)=>{const $n=at(wt,kt);return this.counter++,$n},this.hostLanguage=_,C(xe)},dr(`https://www.google.com/recaptcha/api.js??${(0,G.xO)({onload:Ei,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(F),M(Re(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){return!!Wn().grecaptcha&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class qg{load(m){return(0,l.Z)(function*(){return new Ur(m)})()}clearedOneInstance(){}}const Mo="recaptcha",Qr={theme:"light",type:"image"};class Ac{constructor(m,_=Object.assign({},Qr),C){this.parameters=_,this.type=Mo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fn(C),this.isInvisible="invisible"===this.parameters.size,ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof m?document.getElementById(m):m;ne(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new qg:new Gn,this.validateStartingState()}verify(){var m=this;return(0,l.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),C=m.getAssertedRecaptcha();return C.getResponse(_)||new Promise(F=>{const X=xe=>{!xe||(m.tokenChangeListeners.delete(X),F(xe))};m.tokenChangeListeners.add(X),m.isInvisible&&C.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){ne(!this.parameters.sitekey,this.auth,"argument-error"),ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(C=>C(_)),"function"==typeof m)m(_);else if("string"==typeof m){const C=Wn()[m];"function"==typeof C&&C(_)}}}assertNotDestroyed(){ne(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,l.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const C=document.createElement("div");_.appendChild(C),_=C}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,l.Z)(function*(){ne(It()&&!Tc(),m.auth,"internal-error"),yield function ro(){let v=null;return new Promise(m=>{"complete"!==document.readyState?(v=()=>m(),window.addEventListener("load",v)):m()}).catch(m=>{throw v&&window.removeEventListener("load",v),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function za(v){return Cl.apply(this,arguments)}(m.auth);ne(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Dl{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=Yo._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function Is(v,m,_){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,l.Z)(function*(v,m,_){const C=fn(v),M=yield Sl(C,m,(0,G.m9)(_));return new Dl(M,F=>Tr(C,F))})).apply(this,arguments)}function tr(v,m,_){return Za.apply(this,arguments)}function Za(){return(Za=(0,l.Z)(function*(v,m,_){const C=(0,G.m9)(v);yield Co(!1,C,"phone");const M=yield Sl(C.auth,m,(0,G.m9)(_));return new Dl(M,F=>pl(C,F))})).apply(this,arguments)}function Tl(v,m,_){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,l.Z)(function*(v,m,_){const C=(0,G.m9)(v),M=yield Sl(C.auth,m,(0,G.m9)(_));return new Dl(M,F=>Wr(C,F))})).apply(this,arguments)}function Sl(v,m,_){return jr.apply(this,arguments)}function jr(){return(jr=(0,l.Z)(function*(v,m,_){var C;const M=yield _.verify();try{let F;if(ne("string"==typeof M,v,"argument-error"),ne(_.type===Mo,v,"argument-error"),F="string"==typeof m?{phoneNumber:m}:m,"session"in F){const X=F.session;if("phoneNumber"in F)return ne("enroll"===X.type,v,"internal-error"),(yield _l(v,{idToken:X.credential,phoneEnrollmentInfo:{phoneNumber:F.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{ne("signin"===X.type,v,"internal-error");const xe=(null===(C=F.multiFactorHint)||void 0===C?void 0:C.uid)||F.multiFactorUid;return ne(xe,v,"missing-multi-factor-info"),(yield Br(v,{mfaPendingCredential:X.credential,mfaEnrollmentId:xe,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:X}=yield zf(v,{phoneNumber:F.phoneNumber,recaptchaToken:M});return X}}finally{_._reset()}})).apply(this,arguments)}function Gi(v,m){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,l.Z)(function*(v,m){yield pc((0,G.m9)(v),m)})).apply(this,arguments)}let ha=(()=>{class v{constructor(_){this.providerId=v.PROVIDER_ID,this.auth=fn(_)}verifyPhoneNumber(_,C){return Sl(this.auth,_,(0,G.m9)(C))}static credential(_,C){return Yo._fromVerification(_,C)}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:C,temporaryProof:M}=_;return C&&M?Yo._fromTokenResponse(C,M):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function di(v,m){return m?ce(m):(ne(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class fa extends Fr{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return qs(m,this._buildIdpRequest())}_linkToIdToken(m,_){return qs(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return qs(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function xc(v){return ea(v.auth,new fa(v),v.bypassAuthState)}function Il(v){const{auth:m,user:_}=v;return ne(_,m,"internal-error"),mn(_,new fa(v),v.bypassAuthState)}function Gt(v){return Al.apply(this,arguments)}function Al(){return(Al=(0,l.Z)(function*(v){const{auth:m,user:_}=v;return ne(_,m,"internal-error"),pc(_,new fa(v),v.bypassAuthState)})).apply(this,arguments)}class xo{constructor(m,_,C,M,F=!1){this.auth=m,this.resolver=C,this.user=M,this.bypassAuthState=F,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,l.Z)(function*(C,M){m.pendingPromise={resolve:C,reject:M};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(F){m.reject(F)}});return function(C,M){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,l.Z)(function*(){const{urlResponse:C,sessionId:M,postBody:F,tenantId:X,error:xe,type:at}=m;if(xe)return void _.reject(xe);const wt={auth:_.auth,requestUri:C,sessionId:M,tenantId:X||void 0,postBody:F||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(at)(wt))}catch(kt){_.reject(kt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return xc;case"linkViaPopup":case"linkViaRedirect":return Gt;case"reauthViaPopup":case"reauthViaRedirect":return Il;default:He(this.auth,"internal-error")}}resolve(m){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hi=new mt(2e3,1e4);function Ml(v,m,_){return io.apply(this,arguments)}function io(){return(io=(0,l.Z)(function*(v,m,_){const C=fn(v);Ee(v,m,vs);const M=di(C,_);return new Rl(C,"signInViaPopup",m,M).executeNotNull()})).apply(this,arguments)}function Xf(v,m,_){return As.apply(this,arguments)}function As(){return(As=(0,l.Z)(function*(v,m,_){const C=(0,G.m9)(v);Ee(C.auth,m,vs);const M=di(C.auth,_);return new Rl(C.auth,"reauthViaPopup",m,M,C).executeNotNull()})).apply(this,arguments)}function $i(v,m,_){return xl.apply(this,arguments)}function xl(){return(xl=(0,l.Z)(function*(v,m,_){const C=(0,G.m9)(v);Ee(C.auth,m,vs);const M=di(C.auth,_);return new Rl(C.auth,"linkViaPopup",m,M,C).executeNotNull()})).apply(this,arguments)}let Rl=(()=>{class v extends xo{constructor(_,C,M,F,X){super(_,C,F,X),this.provider=M,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var _=this;return(0,l.Z)(function*(){const C=yield _.execute();return ne(C,_.auth,"internal-error"),C})()}onExecution(){var _=this;return(0,l.Z)(function*(){Y(1===_.filter.length,"Popup operations only handle one event");const C=_n();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],C),_.authWindow.associatedEvent=C,_.resolver._originValidation(_.auth).catch(M=>{_.reject(M)}),_.resolver._isIframeWebStorageSupported(_.auth,M=>{M||_.reject(Re(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Re(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const _=()=>{var C,M;this.pollId=(null===(M=null===(C=this.authWindow)||void 0===C?void 0:C.window)||void 0===M?void 0:M.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Re(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,hi.get())};_()}}return v.currentPopupAction=null,v})();const Rc=new Map;class An extends xo{constructor(m,_,C=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,C),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,l.Z)(function*(){let C=Rc.get(_.auth._key());if(!C){try{const F=(yield function Di(v,m){return Ka.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;C=()=>Promise.resolve(F)}catch(M){C=()=>Promise.reject(M)}Rc.set(_.auth._key(),C)}return _.bypassAuthState||Rc.set(_.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,C=this;return(0,l.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(C,m);if("unknown"!==m.type){if(m.eventId){const M=yield C.auth._redirectUserForId(m.eventId);if(M)return C.user=M,_().call(C,m);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Ka(){return(Ka=(0,l.Z)(function*(v,m){const _=D(m),C=Ol(v);if(!(yield C._isAvailable()))return!1;const M="true"===(yield C._get(_));return yield C._remove(_),M})).apply(this,arguments)}function kc(v,m){return oo.apply(this,arguments)}function oo(){return(oo=(0,l.Z)(function*(v,m){return Ol(v)._set(D(m),"true")})).apply(this,arguments)}function kl(){Rc.clear()}function Ol(v){return ce(v._redirectPersistence)}function D(v){return K("pendingRedirect",v.config.apiKey,v.name)}function S(v,m,_){return function R(v,m,_){return B.apply(this,arguments)}(v,m,_)}function B(){return(B=(0,l.Z)(function*(v,m,_){const C=fn(v);Ee(v,m,vs);const M=di(C,_);return yield kc(M,C),M._openRedirect(C,m,"signInViaRedirect")})).apply(this,arguments)}function Q(v,m,_){return function ie(v,m,_){return ge.apply(this,arguments)}(v,m,_)}function ge(){return(ge=(0,l.Z)(function*(v,m,_){const C=(0,G.m9)(v);Ee(C.auth,m,vs);const M=di(C.auth,_);yield kc(M,C.auth);const F=yield ao(C);return M._openRedirect(C.auth,m,"reauthViaRedirect",F)})).apply(this,arguments)}function nt(v,m,_){return function ot(v,m,_){return bt.apply(this,arguments)}(v,m,_)}function bt(){return(bt=(0,l.Z)(function*(v,m,_){const C=(0,G.m9)(v);Ee(C.auth,m,vs);const M=di(C.auth,_);yield Co(!1,C,m.providerId),yield kc(M,C.auth);const F=yield ao(C);return M._openRedirect(C.auth,m,"linkViaRedirect",F)})).apply(this,arguments)}function Xt(v,m){return At.apply(this,arguments)}function At(){return(At=(0,l.Z)(function*(v,m){return yield fn(v)._initializationPromise,nr(v,m,!1)})).apply(this,arguments)}function nr(v,m){return rr.apply(this,arguments)}function rr(){return(rr=(0,l.Z)(function*(v,m,_=!1){const C=fn(v),M=di(C,m),X=yield new An(C,M,_).execute();return X&&!_&&(delete X.user._redirectEventId,yield C._persistUserIfCurrent(X.user),yield C._setRedirectUser(null,m)),X})).apply(this,arguments)}function ao(v){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,l.Z)(function*(v){const m=_n(`${v.uid}:::`);return v._redirectEventId=m,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),m})).apply(this,arguments)}class yr{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(m,C)&&(_=!0,this.sendToConsumer(m,C),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function Pu(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cs(v);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var C;if(m.error&&!cs(m)){const M=(null===(C=m.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";_.onError(Re(this.auth,M))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const C=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&C}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(lo(m))}saveEventToCache(m){this.cachedEventUids.add(lo(m)),this.lastProcessedEventTime=Date.now()}}function lo(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(m=>m).join("-")}function cs({type:v,error:m}){return"unknown"===v&&"auth/no-auth-event"===(null==m?void 0:m.code)}function Nu(v){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,l.Z)(function*(v,m={}){return rn(v,"GET","/v1/projects",m)})).apply(this,arguments)}const Fu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ep=/^https?/;function Nl(){return(Nl=(0,l.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:m}=yield Nu(v);for(const _ of m)try{if(Fl(_))return}catch(C){}He(v,"unauthorized-domain")})).apply(this,arguments)}function Fl(v){const m=ae(),{protocol:_,hostname:C}=new URL(m);if(v.startsWith("chrome-extension://")){const X=new URL(v);return""===X.hostname&&""===C?"chrome-extension:"===_&&v.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&X.hostname===C}if(!ep.test(_))return!1;if(Fu.test(v))return C===v;const M=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(C)}const Oc=new mt(3e4,6e4);function tp(){const v=Wn().___jsl;if(null==v?void 0:v.H)for(const m of Object.keys(v.H))if(v.H[m].r=v.H[m].r||[],v.H[m].L=v.H[m].L||[],v.H[m].r=[...v.H[m].L],v.CP)for(let _=0;_<v.CP.length;_++)v.CP[_]=null}let Pc=null;function np(v){return Pc=Pc||function Xb(v){return new Promise((m,_)=>{var C,M,F;function X(){tp(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{tp(),_(Re(v,"network-request-failed"))},timeout:Oc.get()})}if(null===(M=null===(C=Wn().gapi)||void 0===C?void 0:C.iframes)||void 0===M?void 0:M.Iframe)m(gapi.iframes.getContext());else{if(!(null===(F=Wn().gapi)||void 0===F?void 0:F.load)){const xe=Ir("iframefcb");return Wn()[xe]=()=>{gapi.load?X():_(Re(v,"network-request-failed"))},dr(`https://apis.google.com/js/api.js?onload=${xe}`).catch(at=>_(at))}X()}}).catch(m=>{throw Pc=null,m})}(v),Pc}const rp=new mt(5e3,15e3),Ll={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Lu(v){const m=v.config;ne(m.authDomain,v,"auth-domain-config-required");const _=m.emulator?hn(m,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,C={apiKey:m.apiKey,appName:v.name,v:k.SDK_VERSION},M=Nc.get(v.config.apiHost);M&&(C.eid=M);const F=v._getFrameworks();return F.length&&(C.fw=F.join(",")),`${_}?${(0,G.xO)(C).slice(1)}`}function ko(){return ko=(0,l.Z)(function*(v){const m=yield np(v),_=Wn().gapi;return ne(_,v,"internal-error"),m.open({where:document.body,url:Lu(v),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ll,dontclear:!0},C=>new Promise(function(){var M=(0,l.Z)(function*(F,X){yield C.restyle({setHideOnLeave:!1});const xe=Re(v,"network-request-failed"),at=Wn().setTimeout(()=>{X(xe)},rp.get());function wt(){Wn().clearTimeout(at),F(C)}C.ping(wt).then(wt,()=>{X(xe)})});return function(F,X){return M.apply(this,arguments)}}()))}),ko.apply(this,arguments)}const ip={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Uu{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(m){}}}function eh(v,m,_,C,M,F){ne(v.config.authDomain,v,"auth-domain-config-required"),ne(v.config.apiKey,v,"invalid-api-key");const X={apiKey:v.config.apiKey,appName:v.name,authType:_,redirectUrl:C,v:k.SDK_VERSION,eventId:M};if(m instanceof vs){m.setDefaultLanguage(v.languageCode),X.providerId=m.providerId||"",(0,G.xb)(m.getCustomParameters())||(X.customParameters=JSON.stringify(m.getCustomParameters()));for(const[at,wt]of Object.entries(F||{}))X[at]=wt}if(m instanceof Pa){const at=m.getScopes().filter(wt=>""!==wt);at.length>0&&(X.scopes=at.join(","))}v.tenantId&&(X.tid=v.tenantId);const xe=X;for(const at of Object.keys(xe))void 0===xe[at]&&delete xe[at];return`${function Wg({config:v}){return v.emulator?hn(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,G.xO)(xe).slice(1)}`}const th="webStorageSupport",co=class xs{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ct,this._completeRedirectFn=nr}_openPopup(m,_,C,M){var F=this;return(0,l.Z)(function*(){var X;Y(null===(X=F.eventManagers[m._key()])||void 0===X?void 0:X.manager,"_initialize() not called before _openPopup()");const xe=eh(m,_,C,ae(),M);return function ju(v,m,_,C=500,M=600){const F=Math.max((window.screen.availHeight-M)/2,0).toString(),X=Math.max((window.screen.availWidth-C)/2,0).toString();let xe="";const at=Object.assign(Object.assign({},ip),{width:C.toString(),height:M.toString(),top:F,left:X}),wt=(0,G.z$)().toLowerCase();_&&(xe=le(wt)?"_blank":_),V(wt)&&(m=m||"http://localhost",at.scrollbars="yes");const kt=Object.entries(at).reduce((fi,[Qa,Bl])=>`${fi}${Qa}=${Bl},`,"");if(function lr(v=(0,G.z$)()){var m;return Rt(v)&&!!(null===(m=window.navigator)||void 0===m?void 0:m.standalone)}(wt)&&"_self"!==xe)return function Hu(v,m){const _=document.createElement("a");_.href=v,_.target=m;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(C)}(m||"",xe),new Uu(null);const $n=window.open(m||"",xe,kt);ne($n,v,"popup-blocked");try{$n.focus()}catch(fi){}return new Uu($n)}(m,xe,_n())})()}_openRedirect(m,_,C,M){var F=this;return(0,l.Z)(function*(){return yield F._originValidation(m),function Xs(v){Wn().location.href=v}(eh(m,_,C,ae(),M)),new Promise(()=>{})})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:M,promise:F}=this.eventManagers[_];return M?Promise.resolve(M):(Y(F,"If manager is not set, promise should be"),F)}const C=this.initAndGetManager(m);return this.eventManagers[_]={promise:C},C.catch(()=>{delete this.eventManagers[_]}),C}initAndGetManager(m){var _=this;return(0,l.Z)(function*(){const C=yield function Vl(v){return ko.apply(this,arguments)}(m),M=new yr(m);return C.register("authEvent",F=>(ne(null==F?void 0:F.authEvent,m,"invalid-auth-event"),{status:M.onEvent(F.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:M},_.iframes[m._key()]=C,M})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(th,{type:th},M=>{var F;const X=null===(F=null==M?void 0:M[0])||void 0===F?void 0:F[th];void 0!==X&&_(!!X),He(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function zg(v){return Nl.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return Pr()||j()||Rt()}};class rh extends class nh{constructor(m){this.factorId=m}_process(m,_,C){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,C);case"signin":return this._finalizeSignIn(m,_.credential);default:return Je("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new rh(m)}_finalizeEnroll(m,_,C){return function er(v,m){return rn(v,"POST","/v2/accounts/mfaEnrollment:finalize",Jt(v,m))}(m,{idToken:_,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function gr(v,m){return rn(v,"POST","/v2/accounts/mfaSignIn:finalize",Jt(v,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Kg=(()=>{class v{constructor(){}static assertion(_){return rh._fromCredential(_)}}return v.FACTOR_ID="phone",v})();var Yg="@firebase/auth",ih="0.19.11";class tw{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,l.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(C=>{var M;m((null===(M=C)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);!_||(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function Qg(v){(0,k._registerComponent)(new ve.wA("auth",(m,{options:_})=>{const C=m.getProvider("app").getImmediate(),M=m.getProvider("heartbeat"),{apiKey:F,authDomain:X}=C.options;return((xe,at)=>{ne(F&&!F.includes(":"),"invalid-api-key",{appName:xe.name}),ne(!(null==X?void 0:X.includes(":")),"argument-error",{appName:xe.name});const wt={apiKey:F,authDomain:X,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yn(v)},kt=new al(xe,at,wt);return function Pe(v,m){const _=(null==m?void 0:m.persistence)||[],C=(Array.isArray(_)?_:[_]).map(ce);(null==m?void 0:m.errorMap)&&v._updateErrorMap(m.errorMap),v._initializeWithPersistence(C,null==m?void 0:m.popupRedirectResolver)}(kt,_),kt})(C,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,C)=>{m.getProvider("auth-internal").initialize()})),(0,k._registerComponent)(new ve.wA("auth-internal",m=>{const _=fn(m.getProvider("auth").getImmediate());return new tw(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,k.registerVersion)(Yg,ih,function sp(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,k.registerVersion)(Yg,ih,"esm2017")}("Browser")},2090:(ut,Se,P)=>{P.d(Se,{BH:()=>ke,LL:()=>It,ZR:()=>ae,zI:()=>ce,US:()=>re,tV:()=>Z,L:()=>be,$s:()=>ns,r3:()=>rn,Sg:()=>Ne,ne:()=>_t,vZ:()=>Er,ZB:()=>te,Lj:()=>Vt,pd:()=>Dr,m9:()=>vt,z$:()=>Le,jU:()=>Xe,ru:()=>He,d:()=>Ie,xb:()=>pr,w1:()=>Ee,hl:()=>Y,uI:()=>_e,UG:()=>De,b$:()=>Re,G6:()=>Je,Mn:()=>We,X3:()=>pt,xO:()=>_i,zd:()=>mr,eu:()=>he});var l=P(5861);const se=function(W){const U=[];let K=0;for(let fe=0;fe<W.length;fe++){let N=W.charCodeAt(fe);N<128?U[K++]=N:N<2048?(U[K++]=N>>6|192,U[K++]=63&N|128):55296==(64512&N)&&fe+1<W.length&&56320==(64512&W.charCodeAt(fe+1))?(N=65536+((1023&N)<<10)+(1023&W.charCodeAt(++fe)),U[K++]=N>>18|240,U[K++]=N>>12&63|128,U[K++]=N>>6&63|128,U[K++]=63&N|128):(U[K++]=N>>12|224,U[K++]=N>>6&63|128,U[K++]=63&N|128)}return U},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,U){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,fe=[];for(let N=0;N<W.length;N+=3){const V=W[N],j=N+1<W.length,le=j?W[N+1]:0,Be=N+2<W.length,ze=Be?W[N+2]:0;let Rt=(15&le)<<2|ze>>6,In=63&ze;Be||(In=64,j||(Rt=64)),fe.push(K[V>>2],K[(3&V)<<4|le>>4],K[Rt],K[In])}return fe.join("")},encodeString(W,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(W):this.encodeByteArray(se(W),U)},decodeString(W,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(W):function(W){const U=[];let K=0,fe=0;for(;K<W.length;){const N=W[K++];if(N<128)U[fe++]=String.fromCharCode(N);else if(N>191&&N<224){const V=W[K++];U[fe++]=String.fromCharCode((31&N)<<6|63&V)}else if(N>239&&N<365){const Be=((7&N)<<18|(63&W[K++])<<12|(63&W[K++])<<6|63&W[K++])-65536;U[fe++]=String.fromCharCode(55296+(Be>>10)),U[fe++]=String.fromCharCode(56320+(1023&Be))}else{const V=W[K++],j=W[K++];U[fe++]=String.fromCharCode((15&N)<<12|(63&V)<<6|63&j)}}return U.join("")}(this.decodeStringToByteArray(W,U))},decodeStringToByteArray(W,U){this.init_();const K=U?this.charToByteMapWebSafe_:this.charToByteMap_,fe=[];for(let N=0;N<W.length;){const V=K[W.charAt(N++)],le=N<W.length?K[W.charAt(N)]:0;++N;const ze=N<W.length?K[W.charAt(N)]:64;++N;const rt=N<W.length?K[W.charAt(N)]:64;if(++N,null==V||null==le||null==ze||null==rt)throw Error();fe.push(V<<2|le>>4),64!==ze&&(fe.push(le<<4&240|ze>>2),64!==rt&&fe.push(ze<<6&192|rt))}return fe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},be=function(W){return function(W){const U=se(W);return re.encodeByteArray(U,!0)}(W).replace(/\./g,"")},Z=function(W){try{return re.decodeString(W,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function te(W,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return U}for(const K in U)!U.hasOwnProperty(K)||!Ge(K)||(W[K]=te(W[K],U[K]));return W}function Ge(W){return"__proto__"!==W}class ke{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,K)=>{this.resolve=U,this.reject=K})}wrapCallback(U){return(K,fe)=>{K?this.reject(K):this.resolve(fe),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(K):U(K,fe))}}}function Ne(W,U){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const fe=U||"demo-project",N=W.iat||0,V=W.sub||W.user_id;if(!V)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const j=Object.assign({iss:`https://securetoken.google.com/${fe}`,aud:fe,iat:N,exp:N+3600,auth_time:N,sub:V,user_id:V,firebase:{sign_in_provider:"custom",identities:{}}},W);return[be(JSON.stringify({alg:"none",type:"JWT"})),be(JSON.stringify(j)),""].join(".")}function Le(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _e(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function De(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(W){return!1}}function Xe(){return"object"==typeof self&&self.self===self}function He(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function Re(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ie(){return Le().indexOf("Electron/")>=0}function Ee(){const W=Le();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function We(){return Le().indexOf("MSAppHost/")>=0}function Je(){return!De()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Y(){return"object"==typeof indexedDB}function he(){return new Promise((W,U)=>{try{let K=!0;const fe="validate-browser-context-for-indexeddb-analytics-module",N=self.indexedDB.open(fe);N.onsuccess=()=>{N.result.close(),K||self.indexedDB.deleteDatabase(fe),W(!0)},N.onupgradeneeded=()=>{K=!1},N.onerror=()=>{var V;U((null===(V=N.error)||void 0===V?void 0:V.message)||"")}}catch(K){U(K)}})}function ce(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ae extends Error{constructor(U,K,fe){super(K),this.code=U,this.customData=fe,this.name="FirebaseError",Object.setPrototypeOf(this,ae.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,It.prototype.create)}}class It{constructor(U,K,fe){this.service=U,this.serviceName=K,this.errors=fe}create(U,...K){const fe=K[0]||{},N=`${this.service}/${U}`,V=this.errors[U],j=V?function nn(W,U){return W.replace(Fn,(K,fe)=>{const N=U[fe];return null!=N?String(N):`<${fe}?>`})}(V,fe):"Error";return new ae(N,`${this.serviceName}: ${j} (${N}).`,fe)}}const Fn=/\{\$([^}]+)}/g;function rn(W,U){return Object.prototype.hasOwnProperty.call(W,U)}function pr(W){for(const U in W)if(Object.prototype.hasOwnProperty.call(W,U))return!1;return!0}function Er(W,U){if(W===U)return!0;const K=Object.keys(W),fe=Object.keys(U);for(const N of K){if(!fe.includes(N))return!1;const V=W[N],j=U[N];if(es(V)&&es(j)){if(!Er(V,j))return!1}else if(V!==j)return!1}for(const N of fe)if(!K.includes(N))return!1;return!0}function es(W){return null!==W&&"object"==typeof W}function _i(W){const U=[];for(const[K,fe]of Object.entries(W))Array.isArray(fe)?fe.forEach(N=>{U.push(encodeURIComponent(K)+"="+encodeURIComponent(N))}):U.push(encodeURIComponent(K)+"="+encodeURIComponent(fe));return U.length?"&"+U.join("&"):""}function mr(W){const U={};return W.replace(/^\?/,"").split("&").forEach(fe=>{if(fe){const[N,V]=fe.split("=");U[decodeURIComponent(N)]=decodeURIComponent(V)}}),U}function Dr(W){const U=W.indexOf("?");if(!U)return"";const K=W.indexOf("#",U);return W.substring(U,K>0?K:void 0)}function _t(W,U){const K=new Or(W,U);return K.subscribe.bind(K)}class Or{constructor(U,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{U(this)}).catch(fe=>{this.error(fe)})}next(U){this.forEachObserver(K=>{K.next(U)})}error(U){this.forEachObserver(K=>{K.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,K,fe){let N;if(void 0===U&&void 0===K&&void 0===fe)throw new Error("Missing Observer.");N=function on(W,U){if("object"!=typeof W||null===W)return!1;for(const K of U)if(K in W&&"function"==typeof W[K])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:K,complete:fe},void 0===N.next&&(N.next=Zn),void 0===N.error&&(N.error=Zn),void 0===N.complete&&(N.complete=Zn);const V=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?N.error(this.finalError):N.complete()}catch(j){}}),this.observers.push(N),V}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,U)}sendOne(U,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{K(this.observers[U])}catch(fe){"undefined"!=typeof console&&console.error&&console.error(fe)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Zn(){}function ns(W,U=1e3,K=2){const fe=U*Math.pow(K,W),N=Math.round(.5*fe*(Math.random()-.5)*2);return Math.min(144e5,fe+N)}function vt(W){return W&&W._delegate?W._delegate:W}function Un(W,U){return new Promise((K,fe)=>{W.onsuccess=N=>{K(N.target.result)},W.onerror=N=>{var V;fe(`${U}: ${null===(V=N.target.error)||void 0===V?void 0:V.message}`)}})}class Wt{constructor(U){this._db=U,this.objectStoreNames=this._db.objectStoreNames}transaction(U,K){return new $e(this._db.transaction.call(this._db,U,K))}createObjectStore(U,K){return new Te(this._db.createObjectStore(U,K))}close(){this._db.close()}}class $e{constructor(U){this._transaction=U,this.complete=new Promise((K,fe)=>{this._transaction.oncomplete=function(){K()},this._transaction.onerror=()=>{fe(this._transaction.error)},this._transaction.onabort=()=>{fe(this._transaction.error)}})}objectStore(U){return new Te(this._transaction.objectStore(U))}}class Te{constructor(U){this._store=U}index(U){return new et(this._store.index(U))}createIndex(U,K,fe){return new et(this._store.createIndex(U,K,fe))}get(U){return Un(this._store.get(U),"Error reading from IndexedDB")}put(U,K){return Un(this._store.put(U,K),"Error writing to IndexedDB")}delete(U){return Un(this._store.delete(U),"Error deleting from IndexedDB")}clear(){return Un(this._store.clear(),"Error clearing IndexedDB object store")}}class et{constructor(U){this._index=U}get(U){return Un(this._index.get(U),"Error reading from IndexedDB")}}function pt(W,U,K){return new Promise((fe,N)=>{try{const V=indexedDB.open(W,U);V.onsuccess=j=>{fe(new Wt(j.target.result))},V.onerror=j=>{var le;N(`Error opening indexedDB: ${null===(le=j.target.error)||void 0===le?void 0:le.message}`)},V.onupgradeneeded=j=>{K(new Wt(V.result),j.oldVersion,j.newVersion,new $e(V.transaction))}}catch(V){N(`Error opening indexedDB: ${V.message}`)}})}function Vt(W){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,l.Z)(function*(W){return new Promise((U,K)=>{try{const fe=indexedDB.deleteDatabase(W);fe.onsuccess=()=>{U()},fe.onerror=N=>{var V;K(`Error deleting indexedDB database "${W}": ${null===(V=N.target.error)||void 0===V?void 0:V.message}`)}}catch(fe){K(`Error deleting indexedDB database "${W}": ${fe.message}`)}})})).apply(this,arguments)}},3576:(ut,Se,P)=>{var l=P(5e3);let G=null;function k(){return G}const re=new l.OlP("DocumentToken");let ue=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function be(){return(0,l.LFG)(z)}()},providedIn:"platform"}),n})();const Z=new l.OlP("Location Initialized");let z=(()=>{class n extends ue{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){te()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){te()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ge(){return new z((0,l.LFG)(re))}()},providedIn:"platform"}),n})();function te(){return!!window.history.pushState}function ke(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ne(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Le(n){return n&&"?"!==n[0]?"?"+n:n}let _e=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function De(n){const e=(0,l.LFG)(re).location;return new He((0,l.LFG)(ue),e&&e.origin||"")}()},providedIn:"root"}),n})();const Xe=new l.OlP("appBaseHref");let He=(()=>{class n extends _e{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ke(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Le(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const u=this.prepareExternalUrl(i+Le(a));this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,a){const u=this.prepareExternalUrl(i+Le(a));this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ue),l.LFG(Xe,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Re=(()=>{class n extends _e{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ke(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let u=this.prepareExternalUrl(i+Le(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,a){let u=this.prepareExternalUrl(i+Le(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ue),l.LFG(Xe,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n{constructor(t,r){this._subject=new l.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Ne(ne(i)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Le(r))}normalize(t){return n.stripTrailingSlash(function We(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,ne(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Le(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Le(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Le,n.joinWithSlash=ke,n.stripTrailingSlash=Ne,n.\u0275fac=function(t){return new(t||n)(l.LFG(_e),l.LFG(ue))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ee(){return new Ie((0,l.LFG)(_e),(0,l.LFG)(ue))}()},providedIn:"root"}),n})();function ne(n){return n.replace(/\/index.html$/,"")}var he=(()=>((he=he||{})[he.Zero=0]="Zero",he[he.One=1]="One",he[he.Two=2]="Two",he[he.Few=3]="Few",he[he.Many=4]="Many",he[he.Other=5]="Other",he))();const mr=l.kL8;class Dn{}let vo=(()=>{class n extends Dn{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(mr(r||this.locale)(t)){case he.Zero:return"zero";case he.One:return"one";case he.Two:return"two";case he.Few:return"few";case he.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.soG))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),rs=(()=>{class n{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class is{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Qn=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,u)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new is(i.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,u),$s(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{$s(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function $s(n,e){n.context.$implicit=e.item}let Jn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new bn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){zo("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){zo("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class bn{constructor(){this.$implicit=null,this.ngIf=null}}function zo(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}class gu{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Lr=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),vi=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new gu(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(Lr,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),ka=(()=>{class n{constructor(t,r,i){i._addDefault(new gu(t,r))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(Lr,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n})(),Fa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[{provide:Dn,useClass:vo}]}),n})();const Bi="browser";function Jo(n){return"server"===n}let wu=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new fl((0,l.LFG)(re),window)}),n})();class fl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function wo(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const u=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Zs(this.window.history)||Zs(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Zs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Eo extends class Co extends class ve{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function se(n){G||(G=n)}(new Eo)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function mc(){return mn=mn||document.querySelector("base"),mn?mn.getAttribute("href"):null}();return null==t?null:function Ws(n){ea=ea||document.createElement("a"),ea.setAttribute("href",n);const e=ea.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){mn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function ll(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let ea,mn=null;const Tr=new l.OlP("TRANSITION_ID"),pl=[{provide:l.ip1,useFactory:function Xn(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const r=k(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[Tr,re,l.zs3],multi:!0}];class wi{static init(){(0,l.VLi)(new wi)}addToWindow(e){l.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const i=l.dqk.getAllAngularTestabilities();let a=i.length,u=!1;const f=function(g){u=u||g,a--,0==a&&r(u)};i.forEach(function(g){g.whenStable(f)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Wr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ws=new l.OlP("EventManagerPlugins");let Do=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const u=i[a];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ws),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class ta{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=k().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Ui=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),ss=(()=>{class n extends Ui{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,i.push(r.appendChild(u))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Cs),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Cs))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Cs(n){k().remove(n)}const Ct={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Va=/%COMP%/g;function Ae(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Ae(n,i,t):(i=i.replace(Va,n),t.push(i))}return t}function Ht(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let wn=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new ml(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case l.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new gc(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case l.ifc.ShadowDom:return new Ua(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Ae(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Do),l.LFG(ss),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class ml{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ct[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=Ct[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Ct[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,r,i&l.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ht(r)):this.eventManager.addEventListener(e,t,Ht(r))}}class gc extends ml{constructor(e,t,r,i){super(e),this.component=r;const a=Ae(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function Gd(n){return"_ngcontent-%COMP%".replace(Va,n)}(i+"-"+r.id),this.hostAttr=function Ba(n){return"_nghost-%COMP%".replace(Va,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Ua extends ml{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Ae(i.id,i.styles,[]);for(let u=0;u<a.length;u++){const f=document.createElement("style");f.textContent=a[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Jf=(()=>{class n extends ta{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const _c=["alt","control","meta","shift"],sa={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ur={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},os={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let oa=(()=>{class n extends ta{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),u=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,a.domEventName,u))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let u="";if(_c.forEach(g=>{const b=r.indexOf(g);b>-1&&(r.splice(b,1),u+=g+".")}),u+=a,0!=r.length||0===a.length)return null;const f={};return f.domEventName=i,f.fullKey=u,f}static getEventFullKey(t){let r="",i=function aa(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&ur.hasOwnProperty(e)&&(e=ur[e]))}return sa[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),_c.forEach(a=>{a!=i&&os[a](t)&&(r+=a+".")}),r+=i,r}static eventCallback(t,r,i){return a=>{n.getEventFullKey(a)===t&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ja=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:Bi},{provide:l.g9A,useValue:function ci(){Eo.makeCurrent(),wi.init()},multi:!0},{provide:re,useFactory:function la(){return(0,l.RDi)(document),document},deps:[]}]),yc=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function qd(){return new l.qLn},deps:[]},{provide:ws,useClass:Jf,multi:!0,deps:[re,l.R0b,l.Lbi]},{provide:ws,useClass:oa,multi:!0,deps:[re]},{provide:wn,useClass:wn,deps:[Do,ss,l.AFp]},{provide:l.FYo,useExisting:wn},{provide:Ui,useExisting:ss},{provide:ss,useClass:ss,deps:[re]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b]},{provide:Do,useClass:Do,deps:[ws,l.R0b]},{provide:class Tn{},useClass:Wr,deps:[]}];let Ys=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:Tr,useExisting:l.AFp},pl]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(n,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:yc,imports:[Fa,l.hGG]}),n})();"undefined"!=typeof window&&window;var gn=P(8996),Sr=P(3269);function ct(...n){const e=(0,Sr.yG)(n);return(0,gn.D)(n,e)}var Ot=P(7579);class Vr extends Ot.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var _n=P(8306);const{isArray:xu}=Array,{getPrototypeOf:Wn,prototype:Xs,keys:Tc}=Object;function Ds(n){if(1===n.length){const e=n[0];if(xu(e))return{args:e,keys:null};if(function ua(n){return n&&"object"==typeof n&&Wn(n)===Xs}(e)){const t=Tc(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var as=P(4671),Nt=P(4004);const{isArray:Sc}=Array;function da(n){return(0,Nt.U)(e=>function Ru(n,e){return Sc(e)?n(...e):n(e)}(n,e))}function qa(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var yn=P(5403),eo=P(9672);function vl(...n){const e=(0,Sr.yG)(n),t=(0,Sr.jO)(n),{args:r,keys:i}=Ds(n);if(0===r.length)return(0,gn.D)([],e);const a=new _n.y(function Yr(n,e,t=as.y){return r=>{Ao(e,()=>{const{length:i}=n,a=new Array(i);let u=i,f=i;for(let g=0;g<i;g++)Ao(e,()=>{const b=(0,gn.D)(n[g],e);let T=!1;b.subscribe((0,yn.x)(r,A=>{a[g]=A,T||(T=!0,f--),f||r.next(t(a.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,e,i?u=>qa(i,u):as.y));return t?a.pipe(da(t)):a}function Ao(n,e,t){n?(0,eo.f)(t,n,e):e()}const to=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var no=P(8189);function Ts(...n){return function wl(){return(0,no.J)(1)}()((0,gn.D)(n,(0,Sr.yG)(n)))}var Ss=P(8421);function ku(n){return new _n.y(e=>{(0,Ss.Xf)(n()).subscribe(e)})}var Hi=P(515),Br=P(727),gr=P(4482);function za(){return(0,gr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,yn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Cl extends _n.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,gr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Br.w0;const t=this.getSubject();e.add(this.source.subscribe((0,yn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Br.w0.EMPTY)}return e}refCount(){return za()(this)}}function Cn(n,e){return(0,gr.e)((t,r)=>{let i=null,a=0,u=!1;const f=()=>u&&!i&&r.complete();t.subscribe((0,yn.x)(r,g=>{null==i||i.unsubscribe();let b=0;const T=a++;(0,Ss.Xf)(n(g,T)).subscribe(i=(0,yn.x)(r,A=>r.next(e?e(g,A,T,b++):A),()=>{i=null,f()}))},()=>{u=!0,f()}))})}var dr=P(5698);function Ir(...n){const e=(0,Sr.yG)(n);return(0,gr.e)((t,r)=>{(e?Ts(n,t,e):Ts(n,t)).subscribe(r)})}function Ic(n,e,t,r,i){return(a,u)=>{let f=t,g=e,b=0;a.subscribe((0,yn.x)(u,T=>{const A=b++;g=f?n(g,T,A):(f=!0,T),r&&u.next(g)},i&&(()=>{f&&u.next(g),u.complete()})))}}function Ci(n,e){return(0,gr.e)(Ic(n,e,arguments.length>=2,!0))}function En(n,e){return(0,gr.e)((t,r)=>{let i=0;t.subscribe((0,yn.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}function Ur(n){return(0,gr.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,yn.x)(t,void 0,void 0,u=>{a=(0,Ss.Xf)(n(u,Ur(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}var _r=P(5577),ui=P(576);function Ei(n,e){return(0,ui.m)(e)?(0,_r.z)(n,e,1):(0,_r.z)(n,1)}function El(n){return n<=0?()=>Hi.E:(0,gr.e)((e,t)=>{let r=[];e.subscribe((0,yn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Qd(n=Gn){return(0,gr.e)((e,t)=>{let r=!1;e.subscribe((0,yn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Gn(){return new to}function Jd(n){return(0,gr.e)((e,t)=>{let r=!1;e.subscribe((0,yn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Mo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?En((i,a)=>n(i,a,r)):as.y,(0,dr.q)(1),t?Jd(e):Qd(()=>new to))}var Qr=P(8505);function Ac(n){return(0,gr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class ro{constructor(e,t){this.id=e,this.url=t}}class Dl extends ro{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Is extends ro{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Mc extends ro{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class tr extends ro{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Za extends ro{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tl extends ro{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ou extends ro{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Sl extends ro{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jr extends ro{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gi{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Wa{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ha{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class di{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fa{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xc{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Il{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Gt="primary";class Al{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function xo(n){return new Al(n)}const hi="ngNavigationCancelingError";function Ml(n){const e=Error("NavigationCancelingError: "+n);return e[hi]=!0,e}function Xf(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const u=r[a],f=n[a];if(u.startsWith(":"))i[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function $i(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!xl(n[i],e[i]))return!1;return!0}function xl(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function Rl(n){return Array.prototype.concat.apply([],n)}function so(n){return n.length>0?n[n.length-1]:null}function An(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Di(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,gn.D)(Promise.resolve(n)):ct(n)}const kc={exact:function D(n,e,t){if(!bt(n.segments,e.segments)||!Q(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!D(n.children[r],e.children[r],t))return!1;return!0},subset:R},oo={exact:function Ol(n,e){return $i(n,e)},subset:function S(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>xl(n[t],e[t]))},ignored:()=>!0};function kl(n,e,t){return kc[t.paths](n.root,e.root,t.matrixParams)&&oo[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function R(n,e,t){return B(n,e,e.segments,t)}function B(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!bt(i,t)||e.hasChildren()||!Q(i,t,r))}if(n.segments.length===t.length){if(!bt(n.segments,t)||!Q(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!R(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(bt(n.segments,i)&&Q(n.segments,i,r)&&n.children[Gt])&&B(n.children[Gt],e,a,r)}}function Q(n,e,t){return e.every((r,i)=>oo[t](n[i].parameters,r.parameters))}class ie{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xo(this.queryParams)),this._queryParamMap}toString(){return rr.serialize(this)}}class ge{constructor(e,t){this.segments=e,this.children=t,this.parent=null,An(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ao(this)}}class nt{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=xo(this.parameters)),this._parameterMap}toString(){return Pl(this)}}function bt(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class At{}class nr{parse(e){const t=new Pc(e);return new ie(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ms(e.root,!0)}`,r=function ep(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${yr(t)}=${yr(i)}`).join("&"):`${yr(t)}=${yr(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function lo(n){return encodeURI(n)}(e.fragment)}`:""}`}}const rr=new nr;function ao(n){return n.segments.map(e=>Pl(e)).join("/")}function Ms(n,e){if(!n.hasChildren())return ao(n);if(e){const t=n.children[Gt]?Ms(n.children[Gt],!1):"",r=[];return An(n.children,(i,a)=>{a!==Gt&&r.push(`${a}:${Ms(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Xt(n,e){let t=[];return An(n.children,(r,i)=>{i===Gt&&(t=t.concat(e(r,i)))}),An(n.children,(r,i)=>{i!==Gt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Gt?[Ms(n.children[Gt],!1)]:[`${i}:${Ms(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Gt]?`${ao(n)}/${t[0]}`:`${ao(n)}/(${t.join("//")})`}}function ls(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yr(n){return ls(n).replace(/%3B/gi,";")}function cs(n){return ls(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pu(n){return decodeURIComponent(n)}function Nu(n){return Pu(n.replace(/\+/g,"%20"))}function Pl(n){return`${cs(n.path)}${function Fu(n){return Object.keys(n).map(e=>`;${cs(e)}=${cs(n[e])}`).join("")}(n.parameters)}`}const zg=/^[^\/()?;=#]+/;function Nl(n){const e=n.match(zg);return e?e[0]:""}const Fl=/^[^=?&#]+/,tp=/^[^&#]+/;class Pc{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ge([],{}):new ge([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Gt]=new ge(e,t)),r}parseSegment(){const e=Nl(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new nt(Pu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Nl(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Nl(this.remaining);i&&(r=i,this.capture(r))}e[Pu(t)]=Pu(r)}parseQueryParam(e){const t=function Oc(n){const e=n.match(Fl);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const u=function Xb(n){const e=n.match(tp);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=Nu(t),a=Nu(r);if(e.hasOwnProperty(i)){let u=e[i];Array.isArray(u)||(u=[u],e[i]=u),u.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Nl(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let a;r.indexOf(":")>-1?(a=r.substr(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Gt);const u=this.parseChildren();t[a]=1===Object.keys(u).length?u[Gt]:new ge([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class np{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=rp(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=rp(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Xd(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Xd(e,this._root).map(t=>t.value)}}function rp(n,e){if(n===e.value)return e;for(const t of e.children){const r=rp(n,t);if(r)return r}return null}function Xd(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Xd(n,t);if(r.length)return r.unshift(e),r}return[]}class Ro{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ll(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Nc extends np{constructor(e,t){super(e),this.snapshot=t,Bu(this,e)}toString(){return this.snapshot.toString()}}function Lu(n,e){const t=function Vl(n,e){const u=new Ya([],{},{},"",{},Gt,e,null,n.root,-1,{});return new Vu("",new Ro(u,[]))}(n,e),r=new Vr([new nt("",{})]),i=new Vr({}),a=new Vr({}),u=new Vr({}),f=new Vr(""),g=new ko(r,i,u,f,a,Gt,e,t.root);return g.snapshot=t.root,new Nc(new Ro(g,[]),t)}class ko{constructor(e,t,r,i,a,u,f,g){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=u,this.component=f,this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Nt.U)(e=>xo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Nt.U)(e=>xo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ip(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function ew(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Ya{constructor(e,t,r,i,a,u,f,g,b,T,A){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=u,this.component=f,this.routeConfig=g,this._urlSegment=b,this._lastPathIndex=T,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=xo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Vu extends np{constructor(e,t){super(t),this.url=e,Bu(this,t)}toString(){return Uu(this._root)}}function Bu(n,e){e.value._routerState=n,e.children.forEach(t=>Bu(n,t))}function Uu(n){const e=n.children.length>0?` { ${n.children.map(Uu).join(", ")} } `:"";return`${n.value}${e}`}function ju(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,$i(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),$i(e.params,t.params)||n.params.next(t.params),function As(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!$i(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),$i(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Hu(n,e){const t=$i(n.params,e.params)&&function ot(n,e){return bt(n,e)&&n.every((t,r)=>$i(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Hu(n.parent,e.parent))}function Fc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function eh(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Fc(n,r,i);return Fc(n,r)})}(n,e,t);return new Ro(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>Fc(n,f)),u}}const r=function Wg(n){return new ko(new Vr(n.url),new Vr(n.params),new Vr(n.queryParams),new Vr(n.fragment),new Vr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Fc(n,a));return new Ro(r,i)}}function xs(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function co(n){return"object"==typeof n&&null!=n&&n.outlets}function nh(n,e,t,r,i){let a={};return r&&An(r,(u,f)=>{a[f]=Array.isArray(u)?u.map(g=>`${g}`):`${u}`}),new ie(t.root===n?e:rh(t.root,n,e),a,i)}function rh(n,e,t){const r={};return An(n.children,(i,a)=>{r[a]=i===e?t:rh(i,e,t)}),new ge(n.segments,r)}class Kg{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&xs(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(co);if(i&&i!==so(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ih{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Jg(n,e,t){if(n||(n=new ge([],{})),0===n.segments.length&&n.hasChildren())return v(n,e,t);const r=function m(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const u=n.segments[i],f=t[r];if(co(f))break;const g=`${f}`,b=r<t.length-1?t[r+1]:null;if(i>0&&void 0===g)break;if(g&&b&&"object"==typeof b&&void 0===b.outlets){if(!F(g,b,u))return a;r+=2}else{if(!F(g,{},u))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new ge(n.segments.slice(0,r.pathIndex),{});return a.children[Gt]=new ge(n.segments.slice(r.pathIndex),n.children),v(a,0,i)}return r.match&&0===i.length?new ge(n.segments,{}):r.match&&!n.hasChildren()?_(n,e,t):r.match?v(n,0,i):_(n,e,t)}function v(n,e,t){if(0===t.length)return new ge(n.segments,{});{const r=function Qg(n){return co(n[0])?n[0].outlets:{[Gt]:n}}(t),i={};return An(r,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[u]=Jg(n.children[u],e,a))}),An(n.children,(a,u)=>{void 0===r[u]&&(i[u]=a)}),new ge(n.segments,i)}}function _(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(co(a)){const g=C(a.outlets);return new ge(r,g)}if(0===i&&xs(t[0])){r.push(new nt(n.segments[e].path,M(t[0]))),i++;continue}const u=co(a)?a.outlets[Gt]:`${a}`,f=i<t.length-1?t[i+1]:null;u&&f&&xs(f)?(r.push(new nt(u,M(f))),i+=2):(r.push(new nt(u,{})),i++)}return new ge(r,{})}function C(n){const e={};return An(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=_(new ge([],{}),0,t))}),e}function M(n){const e={};return An(n,(t,r)=>e[r]=`${t}`),e}function F(n,e,t){return n==t.path&&$i(e,t.parameters)}class xe{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),ju(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Ll(t);e.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,i[u],r),delete i[u]}),An(i,(a,u)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Ll(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],i);if(r&&r.outlet){const u=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Ll(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Ll(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new xc(a.value.snapshot))}),e.children.length&&this.forwardEvent(new di(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(ju(i),i===a)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),ju(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=function at(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),g=f?f.module.componentFactoryResolver:null;u.attachRef=null,u.route=i,u.resolver=g,u.outlet&&u.outlet.activateWith(i,g),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}}class wt{constructor(e,t){this.routes=e,this.module=t}}function kt(n){return"function"==typeof n}function fi(n){return n instanceof ie}const Vc=Symbol("INITIAL_VALUE");function Bc(){return Cn(n=>vl(n.map(e=>e.pipe((0,dr.q)(1),Ir(Vc)))).pipe(Ci((e,t)=>{let r=!1;return t.reduce((i,a,u)=>i!==Vc?i:(a===Vc&&(r=!0),r||!1!==a&&u!==t.length-1&&!fi(a)?i:a),e)},Vc),En(e=>e!==Vc),(0,Nt.U)(e=>fi(e)?e:!0===e),(0,dr.q)(1)))}class $u{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ul,this.attachRef=null}}class Ul{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new $u,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let qu=(()=>{class n{constructor(t,r,i,a,u){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=a||Gt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const u=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,g=new sh(t,f,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,g),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ul),l.Y36(l.s_b),l.Y36(l._Vd),l.$8M("name"),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class sh{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ko?this.route:e===Ul?this.childContexts:this.parent.get(e,t)}}let oh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},directives:[qu],encapsulation:2}),n})();function ah(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];jl(r,Xg(e,r))}}function jl(n,e){n.children&&ah(n.children,e)}function Xg(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function lh(n){const e=n.children&&n.children.map(lh),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Gt&&(t.component=oh),t}function uo(n){return n.outlet||Gt}function vr(n,e){const t=n.filter(r=>uo(r)===e);return t.push(...n.filter(r=>uo(r)!==e)),t}const nw={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function op(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},nw):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const a=(e.matcher||Xf)(t,n,e);if(!a)return Object.assign({},nw);const u={};An(a.posParams,(g,b)=>{u[b]=g.path});const f=a.consumed.length>0?Object.assign(Object.assign({},u),a.consumed[a.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:a.consumed,lastChild:a.consumed.length,parameters:f,positionalParamSegments:null!==(r=a.posParams)&&void 0!==r?r:{}}}function zu(n,e,t,r,i="corrected"){if(t.length>0&&function QD(n,e,t){return t.some(r=>ap(n,e,r)&&uo(r)!==Gt)}(n,t,r)){const u=new ge(e,function YD(n,e,t,r){const i={};i[Gt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&uo(a)!==Gt){const u=new ge([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,i[uo(a)]=u}return i}(n,e,r,new ge(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function JD(n,e,t){return t.some(r=>ap(n,e,r))}(n,t,r)){const u=new ge(n.segments,function rw(n,e,t,r,i,a){const u={};for(const f of r)if(ap(n,t,f)&&!i[uo(f)]){const g=new ge([],{});g._sourceSegment=n,g._segmentIndexShift="legacy"===a?n.segments.length:e.length,u[uo(f)]=g}return Object.assign(Object.assign({},i),u)}(n,e,t,r,n.children,i));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const a=new ge(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function ap(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function iw(n,e,t,r){return!!(uo(n)===r||r!==Gt&&ap(e,t,n))&&("**"===n.path||op(e,n,t).matched)}function XD(n,e,t){return 0===e.length&&!n.children[t]}class lp{constructor(e){this.segmentGroup=e||null}}class Zu{constructor(e){this.urlTree=e}}function Jr(n){return new _n.y(e=>e.error(new lp(n)))}function cp(n){return new _n.y(e=>e.error(new Zu(n)))}function sw(n){return new _n.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class ch{constructor(e,t,r,i,a){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(l.h0i)}apply(){const e=zu(this.urlTree.root,[],[],this.config).segmentGroup,t=new ge(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Gt).pipe((0,Nt.U)(a=>this.createUrlTree(t_(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ur(a=>{if(a instanceof Zu)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof lp?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Gt).pipe((0,Nt.U)(i=>this.createUrlTree(t_(i),e.queryParams,e.fragment))).pipe(Ur(i=>{throw i instanceof lp?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new ge([],{[Gt]:e}):e;return new ie(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Nt.U)(a=>new ge([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,gn.D)(i).pipe(Ei(a=>{const u=r.children[a],f=vr(t,a);return this.expandSegmentGroup(e,f,u,a).pipe((0,Nt.U)(g=>({segment:g,outlet:a})))}),Ci((a,u)=>(a[u.outlet]=u.segment,a),{}),function qg(n,e){const t=arguments.length>=2;return r=>r.pipe(n?En((i,a)=>n(i,a,r)):as.y,El(1),t?Jd(e):Qd(()=>new to))}())}expandSegment(e,t,r,i,a,u){return(0,gn.D)(r).pipe(Ei(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,u).pipe(Ur(b=>{if(b instanceof lp)return ct(null);throw b}))),Mo(f=>!!f),Ur((f,g)=>{if(f instanceof to||"EmptyError"===f.name){if(XD(t,i,a))return ct(new ge([],{}));throw new lp(t)}throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,u,f){return iw(i,t,a,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u):Jr(t):Jr(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?cp(a):this.lineralizeSegments(r,a).pipe((0,_r.z)(u=>{const f=new ge(u,{});return this.expandSegment(e,f,t,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u){const{matched:f,consumedSegments:g,lastChild:b,positionalParamSegments:T}=op(t,i,a);if(!f)return Jr(t);const A=this.applyRedirectCommands(g,i.redirectTo,T);return i.redirectTo.startsWith("/")?cp(A):this.lineralizeSegments(i,A).pipe((0,_r.z)(O=>this.expandSegment(e,t,r,O.concat(a.slice(b)),u,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){if("**"===r.path)return r.loadChildren?(r._loadedConfig?ct(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Nt.U)(O=>(r._loadedConfig=O,new ge(i,{})))):ct(new ge(i,{}));const{matched:u,consumedSegments:f,lastChild:g}=op(t,r,i);if(!u)return Jr(t);const b=i.slice(g);return this.getChildConfig(e,r,i).pipe((0,_r.z)(A=>{const O=A.module,H=A.routes,{segmentGroup:q,slicedSegments:ee}=zu(t,f,b,H),de=new ge(q.segments,q.children);if(0===ee.length&&de.hasChildren())return this.expandChildren(O,H,de).pipe((0,Nt.U)(Fe=>new ge(f,Fe)));if(0===H.length&&0===ee.length)return ct(new ge(f,{}));const Ye=uo(r)===a;return this.expandSegment(O,de,H,ee,Ye?Gt:a,!0).pipe((0,Nt.U)(Qe=>new ge(f.concat(Qe.segments),Qe.children)))}))}getChildConfig(e,t,r){return t.children?ct(new wt(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ct(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,_r.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,Nt.U)(a=>(t._loadedConfig=a,a))):function ow(n){return new _n.y(e=>e.error(Ml(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):ct(new wt([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?ct(i.map(u=>{const f=e.get(u);let g;if(function Qa(n){return n&&kt(n.canLoad)}(f))g=f.canLoad(t,r);else{if(!kt(f))throw new Error("Invalid CanLoad guard");g=f(t,r)}return Di(g)})).pipe(Bc(),(0,Qr.b)(u=>{if(!fi(u))return;const f=Ml(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw f.url=u,f}),(0,Nt.U)(u=>!0===u)):ct(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ct(r);if(i.numberOfChildren>1||!i.children[Gt])return sw(e.redirectTo);i=i.children[Gt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new ie(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return An(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let u={};return An(t.children,(f,g)=>{u[g]=this.createSegmentGroup(e,f,r,i)}),new ge(a,u)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function t_(n){const e={};for(const r of Object.keys(n.children)){const a=t_(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function e_(n){if(1===n.numberOfChildren&&n.children[Gt]){const e=n.children[Gt];return new ge(n.segments.concat(e.segments),e.children)}return n}(new ge(n.segments,e))}class n_{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class up{constructor(e,t){this.component=e,this.route=t}}function aw(n,e,t){const r=n._root;return dh(r,e?e._root:null,t,[r.value])}function uh(n,e,t){const r=function nT(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function dh(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Ll(e);return n.children.forEach(u=>{(function r_(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const g=function rT(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!bt(n.url,e.url);case"pathParamsOrQueryParamsChange":return!bt(n.url,e.url)||!$i(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Hu(n,e)||!$i(n.queryParams,e.queryParams);default:return!Hu(n,e)}}(u,a,a.routeConfig.runGuardsAndResolvers);g?i.canActivateChecks.push(new n_(r)):(a.data=u.data,a._resolvedData=u._resolvedData),dh(n,e,a.component?f?f.children:null:t,r,i),g&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new up(f.outlet.component,u))}else u&&hh(e,f,i),i.canActivateChecks.push(new n_(r)),dh(n,null,a.component?f?f.children:null:t,r,i)})(u,a[u.value.outlet],t,r.concat([u.value]),i),delete a[u.value.outlet]}),An(a,(u,f)=>hh(u,t.getContext(f),i)),i}function hh(n,e,t){const r=Ll(n),i=n.value;An(r,(a,u)=>{hh(a,i.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new up(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class uT{}function s_(n){return new _n.y(e=>e.error(n))}class hT{constructor(e,t,r,i,a,u){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=u}recognize(){const e=zu(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Gt);if(null===t)return null;const r=new Ya([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Gt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ro(r,t),a=new Vu(this.url,i);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(e){const t=e.value,r=ip(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const a of Object.keys(t.children)){const u=t.children[a],f=vr(e,a),g=this.processSegmentGroup(f,u,a);if(null===g)return null;r.push(...g)}const i=cw(r);return function fT(n){n.sort((e,t)=>e.value.outlet===Gt?-1:t.value.outlet===Gt?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const a of e){const u=this.processSegmentAgainstRoute(a,t,r,i);if(null!==u)return u}return XD(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!iw(e,t,r,i))return null;let a,u=[],f=[];if("**"===e.path){const H=r.length>0?so(r).parameters:{};a=new Ya(r,H,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Oo(e),uo(e),e.component,e,uw(t),Uc(t)+r.length,mT(e))}else{const H=op(t,e,r);if(!H.matched)return null;u=H.consumedSegments,f=r.slice(H.lastChild),a=new Ya(u,H.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Oo(e),uo(e),e.component,e,uw(t),Uc(t)+u.length,mT(e))}const g=function pT(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:b,slicedSegments:T}=zu(t,u,f,g.filter(H=>void 0===H.redirectTo),this.relativeLinkResolution);if(0===T.length&&b.hasChildren()){const H=this.processChildren(g,b);return null===H?null:[new Ro(a,H)]}if(0===g.length&&0===T.length)return[new Ro(a,[])];const A=uo(e)===i,O=this.processSegment(g,b,T,A?Gt:i);return null===O?null:[new Ro(a,O)]}}function lw(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function cw(n){const e=[],t=new Set;for(const r of n){if(!lw(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=cw(r.children);e.push(new Ro(r.value,i))}return e.filter(r=>!t.has(r))}function uw(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Uc(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Oo(n){return n.data||{}}function mT(n){return n.resolve||{}}function dp(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function a_(n){return Cn(e=>{const t=n(e);return t?(0,gn.D)(t).pipe((0,Nt.U)(()=>e)):ct(e)})}class fw extends class ph{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const hp=new l.OlP("ROUTES");class fp{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,Nt.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t);const u=a.create(e);return new wt(Rl(u.injector.get(hp,void 0,l.XFs.Self|l.XFs.Optional)).map(lh),u)}),Ur(a=>{throw t._loader$=void 0,a}));return t._loader$=new Cl(i,()=>new Ot.x).pipe(za()),t._loader$}loadModuleFactory(e){return Di(e()).pipe((0,_r.z)(t=>t instanceof l.YKP?ct(t):(0,gn.D)(this.compiler.compileModuleAsync(t))))}}class pw{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Sk(n){throw n}function Wu(n,e,t){return e.parse("/")}function pp(n,e){return ct(null)}const mw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let br=(()=>{class n{constructor(t,r,i,a,u,f,g){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=g,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ot.x,this.errorHandler=Sk,this.malformedUriErrorHandler=Wu,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:pp,afterPreactivation:pp},this.urlHandlingStrategy=new pw,this.routeReuseStrategy=new fw,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(l.h0i),this.console=u.get(l.c2e);const A=u.get(l.R0b);this.isNgZoneEnabled=A instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(g),this.currentUrlTree=function Ka(){return new ie(new ge([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new fp(u,f,O=>this.triggerEvent(new Gi(O)),O=>this.triggerEvent(new Wa(O))),this.routerState=Lu(this.currentUrlTree,this.rootComponentType),this.transitions=new Vr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(En(i=>0!==i.id),(0,Nt.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Cn(i=>{let a=!1,u=!1;return ct(i).pipe((0,Qr.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Cn(f=>{const g=this.browserUrlTree.toString(),b=!this.navigated||f.extractedUrl.toString()!==g||g!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return mp(f.source)&&(this.browserUrlTree=f.extractedUrl),ct(f).pipe(Cn(A=>{const O=this.transitions.getValue();return r.next(new Dl(A.id,this.serializeUrl(A.extractedUrl),A.source,A.restoredState)),O!==this.transitions.getValue()?Hi.E:Promise.resolve(A)}),function eT(n,e,t,r){return Cn(i=>function Ti(n,e,t,r,i){return new ch(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Nt.U)(a=>Object.assign(Object.assign({},i),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Qr.b)(A=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:A.urlAfterRedirects})}),function Dk(n,e,t,r,i){return(0,_r.z)(a=>function dT(n,e,t,r,i="emptyOnly",a="legacy"){try{const u=new hT(n,e,t,r,i,a).recognize();return null===u?s_(new uT):ct(u)}catch(u){return s_(u)}}(n,e,a.urlAfterRedirects,t(a.urlAfterRedirects),r,i).pipe((0,Nt.U)(u=>Object.assign(Object.assign({},a),{targetSnapshot:u}))))}(this.rootComponentType,this.config,A=>this.serializeUrl(A),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Qr.b)(A=>{if("eager"===this.urlUpdateStrategy){if(!A.extras.skipLocationChange){const H=this.urlHandlingStrategy.merge(A.urlAfterRedirects,A.rawUrl);this.setBrowserUrl(H,A)}this.browserUrlTree=A.urlAfterRedirects}const O=new Za(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);r.next(O)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:O,extractedUrl:H,source:q,restoredState:ee,extras:de}=f,Ye=new Dl(O,this.serializeUrl(H),q,ee);r.next(Ye);const je=Lu(H,this.rootComponentType).snapshot;return ct(Object.assign(Object.assign({},f),{targetSnapshot:je,urlAfterRedirects:H,extras:Object.assign(Object.assign({},de),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),Hi.E}),a_(f=>{const{targetSnapshot:g,id:b,extractedUrl:T,rawUrl:A,extras:{skipLocationChange:O,replaceUrl:H}}=f;return this.hooks.beforePreactivation(g,{navigationId:b,appliedUrlTree:T,rawUrlTree:A,skipLocationChange:!!O,replaceUrl:!!H})}),(0,Qr.b)(f=>{const g=new Tl(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(g)}),(0,Nt.U)(f=>Object.assign(Object.assign({},f),{guards:aw(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function i_(n,e){return(0,_r.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:u}}=t;return 0===u.length&&0===a.length?ct(Object.assign(Object.assign({},t),{guardsResult:!0})):function iT(n,e,t,r){return(0,gn.D)(n).pipe((0,_r.z)(i=>function cT(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?ct(a.map(f=>{const g=uh(f,e,i);let b;if(function Lc(n){return n&&kt(n.canDeactivate)}(g))b=Di(g.canDeactivate(n,e,t,r));else{if(!kt(g))throw new Error("Invalid CanDeactivate guard");b=Di(g(n,e,t,r))}return b.pipe(Mo())})).pipe(Bc()):ct(!0)}(i.component,i.route,t,e,r)),Mo(i=>!0!==i,!0))}(u,r,i,n).pipe((0,_r.z)(f=>f&&function $n(n){return"boolean"==typeof n}(f)?function sT(n,e,t,r){return(0,gn.D)(e).pipe(Ei(i=>Ts(function oT(n,e){return null!==n&&e&&e(new ha(n)),ct(!0)}(i.route.parent,r),function fh(n,e){return null!==n&&e&&e(new fa(n)),ct(!0)}(i.route,r),function lT(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(u=>function tT(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>ku(()=>ct(u.guards.map(g=>{const b=uh(g,u.node,t);let T;if(function Gu(n){return n&&kt(n.canActivateChild)}(b))T=Di(b.canActivateChild(r,n));else{if(!kt(b))throw new Error("Invalid CanActivateChild guard");T=Di(b(r,n))}return T.pipe(Mo())})).pipe(Bc())));return ct(a).pipe(Bc())}(n,i.path,t),function aT(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ct(!0);const i=r.map(a=>ku(()=>{const u=uh(a,e,t);let f;if(function Bl(n){return n&&kt(n.canActivate)}(u))f=Di(u.canActivate(e,n));else{if(!kt(u))throw new Error("Invalid CanActivate guard");f=Di(u(e,n))}return f.pipe(Mo())}));return ct(i).pipe(Bc())}(n,i.route,t))),Mo(i=>!0!==i,!0))}(r,a,n,e):ct(f)),(0,Nt.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Qr.b)(f=>{if(fi(f.guardsResult)){const b=Ml(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw b.url=f.guardsResult,b}const g=new Ou(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(g)}),En(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),a_(f=>{if(f.guards.canActivateChecks.length)return ct(f).pipe((0,Qr.b)(g=>{const b=new Sl(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(b)}),Cn(g=>{let b=!1;return ct(g).pipe(function dw(n,e){return(0,_r.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ct(t);let a=0;return(0,gn.D)(i).pipe(Ei(u=>function Tk(n,e,t,r){return function pa(n,e,t,r){const i=dp(n);if(0===i.length)return ct({});const a={};return(0,gn.D)(i).pipe((0,_r.z)(u=>function o_(n,e,t,r){const i=uh(n,e,r);return Di(i.resolve?i.resolve(e,t):i(e,t))}(n[u],e,t,r).pipe((0,Qr.b)(f=>{a[u]=f}))),El(1),(0,_r.z)(()=>dp(a).length===i.length?ct(a):Hi.E))}(n._resolve,n,e,r).pipe((0,Nt.U)(a=>(n._resolvedData=a,n.data=Object.assign(Object.assign({},n.data),ip(n,t).resolve),null)))}(u.route,r,n,e)),(0,Qr.b)(()=>a++),El(1),(0,_r.z)(u=>a===i.length?ct(t):Hi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Qr.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(g),this.cancelNavigationTransition(g,"At least one route resolver didn't emit any value."))}}))}),(0,Qr.b)(g=>{const b=new jr(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(b)}))}),a_(f=>{const{targetSnapshot:g,id:b,extractedUrl:T,rawUrl:A,extras:{skipLocationChange:O,replaceUrl:H}}=f;return this.hooks.afterPreactivation(g,{navigationId:b,appliedUrlTree:T,rawUrlTree:A,skipLocationChange:!!O,replaceUrl:!!H})}),(0,Nt.U)(f=>{const g=function Zg(n,e,t){const r=Fc(n,e._root,t?t._root:void 0);return new Nc(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:g})}),(0,Qr.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,Nt.U)(r=>(new xe(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Qr.b)({next(){a=!0},complete(){a=!0}}),Ac(()=>{var f;a||u||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===i.id&&(this.currentNavigation=null)}),Ur(f=>{if(u=!0,function io(n){return n&&n[hi]}(f)){const g=fi(f.url);g||(this.navigated=!0,this.restoreHistory(i,!0));const b=new Mc(i.id,this.serializeUrl(i.extractedUrl),f.message);r.next(b),g?setTimeout(()=>{const T=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),A={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||mp(i.source)};this.scheduleNavigation(T,"imperative",null,A,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const g=new tr(i.id,this.serializeUrl(i.extractedUrl),f);r.next(g);try{i.resolve(this.errorHandler(f))}catch(b){i.reject(b)}}return Hi.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const a={replaceUrl:!0},u=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(u){const g=Object.assign({},u);delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(a.state=g)}const f=this.parseUrl(t.url);this.scheduleNavigation(f,r,u,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ah(t),this.config=t.map(lh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:u,queryParamsHandling:f,preserveFragment:g}=r,b=i||this.routerState.root,T=g?this.currentUrlTree.fragment:u;let A=null;switch(f){case"merge":A=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=a||null}return null!==A&&(A=this.removeEmptyProps(A)),function th(n,e,t,r,i){if(0===t.length)return nh(e.root,e.root,e,r,i);const a=function Yg(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Kg(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return An(a.outlets,(g,b)=>{f[b]="string"==typeof g?g.split("/"):g}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===u?(a.split("/").forEach((f,g)=>{0==g&&"."===f||(0==g&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new Kg(t,e,r)}(t);if(a.toRoot())return nh(e.root,new ge([],{}),e,r,i);const u=function tw(n,e,t){if(n.isAbsolute)return new ih(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const a=t.snapshot._urlSegment;return new ih(a,a===e.root,0)}const r=xs(n.commands[0])?0:1;return function sp(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new ih(r,!1,i-a)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(a,e,n),f=u.processChildren?v(u.segmentGroup,u.index,a.commands):Jg(u.segmentGroup,u.index,a.commands);return nh(u.segmentGroup,f,e,r,i)}(b,this.currentUrlTree,t,A,null!=T?T:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=fi(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function _T(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},mw):!1===r?Object.assign({},gT):r,fi(t))return kl(this.currentUrlTree,t,i);const a=this.parseUrl(t);return kl(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Is(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,u){var f,g,b;if(this.disposed)return Promise.resolve(!1);const T=this.transitions.value,A=mp(r)&&T&&!mp(T.source),O=T.rawUrl.toString()===t.toString(),H=T.id===(null===(f=this.currentNavigation)||void 0===f?void 0:f.id);if(A&&O&&H)return Promise.resolve(!0);let ee,de,Ye;u?(ee=u.resolve,de=u.reject,Ye=u.promise):Ye=new Promise((Fe,St)=>{ee=Fe,de=St});const je=++this.navigationId;let Qe;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),Qe=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(g=this.browserPageId)&&void 0!==g?g:0:(null!==(b=this.browserPageId)&&void 0!==b?b:0)+1):Qe=0,this.setTransition({id:je,targetPageId:Qe,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:ee,reject:de,promise:Ye,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ye.catch(Fe=>Promise.reject(Fe))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){var i,a;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===u?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new Mc(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function mp(n){return"imperative"!==n}let gp=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Ot.x,this.subscription=t.events.subscribe(a=>{a instanceof Is&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,a,u){if(0!==t||r||i||a||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const f={skipLocationChange:Ku(this.skipLocationChange),replaceUrl:Ku(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ku(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(br),l.Y36(ko),l.Y36(_e))},n.\u0275dir=l.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&l.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&l.uIk("target",r.target)("href",r.href,l.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[l.TTD]}),n})();function Ku(n){return""===n||!!n}class _p{}class yp{preload(e,t){return ct(null)}}let yw=(()=>{class n{constructor(t,r,i,a){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=new fp(i,r,g=>t.triggerEvent(new Gi(g)),g=>t.triggerEvent(new Wa(g)))}setUpPreloading(){this.subscription=this.router.events.pipe(En(t=>t instanceof Is),Ei(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(l.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const u=a._loadedConfig;i.push(this.processRoutes(u.module,u.routes))}else a.loadChildren&&!a.canLoad?i.push(this.preloadConfig(t,a)):a.children&&i.push(this.processRoutes(t,a.children));return(0,gn.D)(i).pipe((0,no.J)(),(0,Nt.U)(a=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?ct(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,_r.z)(a=>(r._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(br),l.LFG(l.Sil),l.LFG(l.zs3),l.LFG(_p))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),u_=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Dl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Is&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Il&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Il(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Hl=new l.OlP("ROUTER_CONFIGURATION"),Gl=new l.OlP("ROUTER_FORROOT_GUARD"),vw=[Ie,{provide:At,useClass:nr},{provide:br,useFactory:function Ew(n,e,t,r,i,a,u={},f,g){const b=new br(null,n,e,t,r,i,Rl(a));return f&&(b.urlHandlingStrategy=f),g&&(b.routeReuseStrategy=g),function h_(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,b),u.enableTracing&&b.events.subscribe(T=>{var A,O;null===(A=console.group)||void 0===A||A.call(console,`Router Event: ${T.constructor.name}`),console.log(T.toString()),console.log(T),null===(O=console.groupEnd)||void 0===O||O.call(console)}),b},deps:[At,Ul,Ie,l.zs3,l.Sil,hp,Hl,[class l_{},new l.FiY],[class hw{},new l.FiY]]},Ul,{provide:ko,useFactory:function Dw(n){return n.routerState.root},deps:[br]},yw,yp,class _w{preload(e,t){return t().pipe(Ur(()=>ct(null)))}},{provide:Hl,useValue:{enableTracing:!1}}];function bw(){return new l.PXZ("Router",br)}let ww=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[vw,d_(t),{provide:Gl,useFactory:Cw,deps:[[br,new l.FiY,new l.tp0]]},{provide:Hl,useValue:r||{}},{provide:_e,useFactory:bT,deps:[ue,[new l.tBr(Xe),new l.FiY],Hl]},{provide:u_,useFactory:vp,deps:[br,wu,Hl]},{provide:_p,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:yp},{provide:l.PXZ,multi:!0,useFactory:bw},[Yu,{provide:l.ip1,multi:!0,useFactory:bp,deps:[Yu]},{provide:wp,useFactory:Tw,deps:[Yu]},{provide:l.tb,multi:!0,useExisting:wp}]]}}static forChild(t){return{ngModule:n,providers:[d_(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Gl,8),l.LFG(br,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function vp(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new u_(n,e,t)}function bT(n,e,t={}){return t.useHash?new Re(n,e):new He(n,e)}function Cw(n){return"guarded"}function d_(n){return[{provide:l.deG,multi:!0,useValue:n},{provide:hp,multi:!0,useValue:n}]}let Yu=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ot.x}appInitializer(){return this.injector.get(Z,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(f=>r=f),a=this.injector.get(br),u=this.injector.get(Hl);return"disabled"===u.initialNavigation?(a.setUpLocationChangeListener(),r(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?ct(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),a.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Hl),i=this.injector.get(yw),a=this.injector.get(u_),u=this.injector.get(br),f=this.injector.get(l.z2F);t===f.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&u.initialNavigation(),i.setUpPreloading(),a.init(),u.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function bp(n){return n.appInitializer.bind(n)}function Tw(n){return n.bootstrapListener.bind(n)}const wp=new l.OlP("Router Initializer");let Aw=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),$l=(()=>{class n extends Aw{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const ma=new l.OlP("NgValueAccessor"),p_={provide:ma,useExisting:(0,l.Gpc)(()=>ql),multi:!0},Ik=new l.OlP("CompositionEventMode");let ql=(()=>{class n extends Aw{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Mw(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Ik,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[l._Bn([p_]),l.qOj]}),n})();function zl(n){return null==n||0===n.length}function m_(n){return null!=n&&"number"==typeof n.length}const Si=new l.OlP("NgValidators"),Zl=new l.OlP("NgAsyncValidators"),Po=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class en{static min(e){return function g_(n){return e=>{if(zl(e.value)||zl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function xw(n){return e=>{if(zl(e.value)||zl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return Rw(e)}static requiredTrue(e){return function kw(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Ow(n){return zl(n.value)||Po.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function __(n){return e=>zl(e.value)||!m_(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Pw(n){return e=>m_(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Nw(n){if(!n)return Cp;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(zl(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return w_(e)}static composeAsync(e){return Dp(e)}}function Rw(n){return zl(n.value)?{required:!0}:null}function Cp(n){return null}function Ut(n){return null!=n}function y_(n){const e=(0,l.QGY)(n)?(0,gn.D)(n):n;return(0,l.CqO)(e),e}function v_(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function b_(n,e){return e.map(t=>t(n))}function ho(n){return n.map(e=>function Ep(n){return!n.validate}(e)?e:t=>e.validate(t))}function w_(n){if(!n)return null;const e=n.filter(Ut);return 0==e.length?null:function(t){return v_(b_(t,e))}}function C_(n){return null!=n?w_(ho(n)):null}function Dp(n){if(!n)return null;const e=n.filter(Ut);return 0==e.length?null:function(t){return function mh(...n){const e=(0,Sr.jO)(n),{args:t,keys:r}=Ds(n),i=new _n.y(a=>{const{length:u}=t;if(!u)return void a.complete();const f=new Array(u);let g=u,b=u;for(let T=0;T<u;T++){let A=!1;(0,Ss.Xf)(t[T]).subscribe((0,yn.x)(a,O=>{A||(A=!0,b--),f[T]=O},()=>g--,void 0,()=>{(!g||!A)&&(b||a.next(r?qa(r,f):f),a.complete())}))}});return e?i.pipe(da(e)):i}(b_(t,e).map(y_)).pipe((0,Nt.U)(v_))}}function No(n){return null!=n?Dp(ho(n)):null}function Tp(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function E_(n){return n._rawValidators}function Sp(n){return n._rawAsyncValidators}function Fw(n){return n?Array.isArray(n)?n:[n]:[]}function gh(n,e){return Array.isArray(n)?n.includes(e):n===e}function CT(n,e){const t=Fw(e);return Fw(n).forEach(i=>{gh(t,i)||t.push(i)}),t}function _h(n,e){return Fw(e).filter(t=>!gh(n,t))}class yh{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=C_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=No(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class fo extends yh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class pi extends yh{get formDirective(){return null}get path(){return null}}class Ip{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let vh=(()=>{class n extends Ip{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(fo,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[l.qOj]}),n})(),bh=(()=>{class n extends Ip{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(pi,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[l.qOj]}),n})();function Ap(n,e){M_(n,e),e.valueAccessor.writeValue(n.value),function x_(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Mp(n,e)})}(n,e),function ST(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Vw(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Mp(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function A_(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function I_(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Ch(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Fo(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function M_(n,e){const t=E_(n);null!==e.validator?n.setValidators(Tp(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Sp(n);null!==e.asyncValidator?n.setAsyncValidators(Tp(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Fo(e._rawValidators,i),Fo(e._rawAsyncValidators,i)}function Ch(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=E_(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(u=>u!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=Sp(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(u=>u!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return Fo(e._rawValidators,r),Fo(e._rawAsyncValidators,r),t}function Mp(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Ja(n,e){M_(n,e)}function jw(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function jc(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const ga="VALID",Wl="INVALID",Lo="PENDING",Th="DISABLED";function xp(n){return(Hc(n)?n.validators:n)||null}function Rp(n){return Array.isArray(n)?C_(n):n||null}function Sh(n,e){return(Hc(e)?e.asyncValidators:n)||null}function P_(n){return Array.isArray(n)?No(n):n||null}function Hc(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const N_=n=>n instanceof V_,Ih=n=>n instanceof Op,IT=n=>n instanceof us;function F_(n){return N_(n)?n.value:n.getRawValue()}function L_(n,e){const t=Ih(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new l.vHH(1e3,"");if(!r[e])throw new l.vHH(1001,"")}function Gw(n,e){Ih(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new l.vHH(1002,"")})}class kp{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Rp(this._rawValidators),this._composedAsyncValidatorFn=P_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ga}get invalid(){return this.status===Wl}get pending(){return this.status==Lo}get disabled(){return this.status===Th}get enabled(){return this.status!==Th}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Rp(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=P_(e)}addValidators(e){this.setValidators(CT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(CT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(_h(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(_h(e,this._rawAsyncValidators))}hasValidator(e){return gh(this._rawValidators,e)}hasAsyncValidator(e){return gh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Lo,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Th,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ga,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ga||this.status===Lo)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Th:ga}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Lo,this._hasOwnPendingAsyncValidator=!0;const t=y_(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function Hw(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=Ih(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:IT(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Th:this.errors?Wl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Lo)?Lo:this._anyControlsHaveStatus(Wl)?Wl:ga}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Hc(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class V_ extends kp{constructor(e=null,t,r){super(xp(t),Sh(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Hc(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){jc(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){jc(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Op extends kp{constructor(e,t,r){super(xp(t),Sh(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Gw(this,e),Object.keys(e).forEach(r=>{L_(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=F_(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class us extends kp{constructor(e,t,r){super(xp(t),Sh(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Gw(this,e),e.forEach((r,i)=>{L_(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>F_(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const AT={provide:pi,useExisting:(0,l.Gpc)(()=>Pp)},Ah=(()=>Promise.resolve(null))();let Pp=(()=>{class n extends pi{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new Op({},C_(t),No(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ah.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Ap(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ah.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ah.then(()=>{const r=this._findContainer(t.path),i=new Op({});Ja(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ah.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Ah.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,jw(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Si,10),l.Y36(Zl,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([AT]),l.qOj]}),n})(),Mh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),U_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const H_=new l.OlP("NgModelWithFormControlWarning"),NT={provide:pi,useExisting:(0,l.Gpc)(()=>Xa)};let Xa=(()=>{class n extends pi{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ch(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Ap(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){I_(t.control||null,t,!1),jc(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,jw(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(I_(r||null,t),N_(i)&&(Ap(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);Ja(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Bw(n,e){return Ch(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){M_(this.form,this),this._oldForm&&Ch(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Si,10),l.Y36(Zl,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([NT]),l.qOj,l.TTD]}),n})();const q_={provide:fo,useExisting:(0,l.Gpc)(()=>Qu)};let Qu=(()=>{class n extends fo{constructor(t,r,i,a,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function O_(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===ql?t=a:function Uw(n){return Object.getPrototypeOf(n.constructor)===$l}(a)?r=a:i=a}),i||r||t||null}(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function k_(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function S_(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(pi,13),l.Y36(Si,10),l.Y36(Zl,10),l.Y36(ma,10),l.Y36(H_,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([q_]),l.qOj,l.TTD]}),n})(),ya=(()=>{class n{constructor(){this._validator=Cp}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Cp,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const t0={provide:Si,useExisting:(0,l.Gpc)(()=>Bo),multi:!0};let Bo=(()=>{class n extends ya{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function Xw(n){return null!=n&&!1!==n&&"false"!=`${n}`}(t),this.createValidator=t=>Rw}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&l.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([t0]),l.qOj]}),n})(),o0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[U_]]}),n})(),ZT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[o0]}),n})(),Gc=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:H_,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[o0]}),n})(),Bp=(()=>{class n{group(t,r=null){const i=this._reduceControls(t);let f,a=null,u=null;return null!=r&&(function WT(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(a=null!=r.validators?r.validators:null,u=null!=r.asyncValidators?r.asyncValidators:null,f=null!=r.updateOn?r.updateOn:void 0):(a=null!=r.validator?r.validator:null,u=null!=r.asyncValidator?r.asyncValidator:null)),new Op(i,{asyncValidators:u,updateOn:f,validators:a})}control(t,r,i){return new V_(t,r,i)}array(t,r,i){const a=t.map(u=>this._createControl(u));return new us(a,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return N_(t)||Ih(t)||IT(t)?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:Gc}),n})();var Up=P(424),yt=P(2090),Rs=P(9681),el=P(1877),$c=P(4859),qc=P(6451),Oh=P(5363),KT=P(6063);class YT extends Ot.x{constructor(e=1/0,t=1/0,r=KT.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:u}=this;t||(r.push(e),!i&&r.push(a.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let u=0;u<a.length&&!e.closed;u+=r?1:2)e.next(a[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const u=t.now();let f=0;for(let g=1;g<r.length&&r[g]<=u;g+=2)f=g;f&&r.splice(0,f+1)}}}var QT=P(3099);function a0(n,e,t){var r,i;let a,u=!1;return n&&"object"==typeof n?(a=null!==(r=n.bufferSize)&&void 0!==r?r:1/0,e=null!==(i=n.windowTime)&&void 0!==i?i:1/0,u=!!n.refCount,t=n.scheduler):a=null!=n?n:1/0,(0,QT.B)({connector:()=>new YT(a,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}function ey(n,e){return(0,ui.m)(e)?Cn(()=>n,e):Cn(()=>n)}var l0=P(9468),qn=P(5813),qi=P(2011);P(5867);var we=P(5861);const Hp=new Map,iS={activated:!1,tokenObservers:[]},sS={initialized:!1,enabled:!1};function Xr(n){return Hp.get(n)||iS}function jo(n,e){Hp.set(n,e)}function Gp(){return sS}class lS{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,we.Z)(function*(){t.stop();try{t.pending=new yt.BH,yield function ry(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new yt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Hr=new yt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Kl(n){if(!Xr(n).activated)throw Hr.create("use-before-activation",{appName:n.name})}function Yl(n,e){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,we.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const A=yield i.getHeartbeatsHeader();A&&(r["X-Firebase-Client"]=A)}const a={method:"POST",body:JSON.stringify(e),headers:r};let u,f;try{u=yield fetch(n,a)}catch(A){throw Hr.create("fetch-network-error",{originalErrorMessage:A.message})}if(200!==u.status)throw Hr.create("fetch-status-error",{httpStatus:u.status});try{f=yield u.json()}catch(A){throw Hr.create("fetch-parse-error",{originalErrorMessage:A.message})}const g=f.ttl.match(/^([\d.]+)(s)$/);if(!g||!g[2]||isNaN(Number(g[1])))throw Hr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const b=1e3*Number(g[1]),T=Date.now();return{token:f.attestationToken,expireTimeMillis:T+b,issuedAtTimeMillis:T}})).apply(this,arguments)}function rd(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const ba="firebase-app-check-store";let Ph=null;function iy(){return Ph||(Ph=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Hr.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ba,{keyPath:"compositeKey"})}}catch(t){e(Hr.create("storage-open",{originalErrorMessage:t.message}))}}),Ph)}function zp(){return(zp=(0,we.Z)(function*(n,e){const r=(yield iy()).transaction(ba,"readwrite"),a=r.objectStore(ba).put({compositeKey:n,value:e});return new Promise((u,f)=>{a.onsuccess=g=>{u()},r.onerror=g=>{var b;f(Hr.create("storage-set",{originalErrorMessage:null===(b=g.target.error)||void 0===b?void 0:b.message}))}})})).apply(this,arguments)}const Nh=new el.Yd("@firebase/app-check");function _0(n,e){return(0,yt.hl)()?function f0(n,e){return function sy(n,e){return zp.apply(this,arguments)}(function ly(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Nh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function y0(){return Gp().enabled}function cy(){return uy.apply(this,arguments)}function uy(){return(uy=(0,we.Z)(function*(){const n=Gp();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const $k={error:"UNKNOWN_ERROR"};function dS(n){return yt.US.encodeString(JSON.stringify(n),!1)}function od(n){return Fh.apply(this,arguments)}function Fh(){return(Fh=(0,we.Z)(function*(n,e=!1){const t=n.app;Kl(t);const r=Xr(t);let a,i=r.token;if(!i){const g=yield r.cachedTokenPromise;g&&Lh(g)&&(i=g)}if(!e&&i&&Lh(i))return{token:i.token};let f,u=!1;if(y0()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Yl(rd(t,yield cy()),n.heartbeatServiceProvider).then(b=>(r.exchangeTokenPromise=void 0,b)),u=!0);const g=yield r.exchangeTokenPromise;return yield _0(t,g),jo(t,Object.assign(Object.assign({},r),{token:g})),{token:g.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(g=>(r.exchangeTokenPromise=void 0,g)),u=!0),i=yield r.exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?Nh.warn(g.message):Nh.error(g),a=g}return i?(f={token:i.token},jo(t,Object.assign(Object.assign({},r),{token:i})),yield _0(t,i)):f=zk(a),u&&b0(t,f),f})).apply(this,arguments)}function v0(n,e){const t=Xr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),jo(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function hS(n){const{app:e}=n,t=Xr(e);let r=t.tokenRefresher;r||(r=function qk(n){const{app:e}=n;return new lS((0,we.Z)(function*(){let r;if(r=Xr(e).token?yield od(n,!0):yield od(n),r.error)throw r.error}),()=>!0,()=>{const t=Xr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),jo(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function b0(n,e){const t=Xr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function Lh(n){return n.expireTimeMillis-Date.now()>0}function zk(n){return{token:dS($k),error:n}}class fS{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Xr(this.app);for(const t of e)v0(this.app,t.next);return Promise.resolve()}}const Bh="app-check-internal";!function em(){(0,Rs._registerComponent)(new $c.wA("app-check",n=>function ad(n,e){return new fS(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Bh).initialize()})),(0,Rs._registerComponent)(new $c.wA(Bh,n=>function pS(n){return{getToken:e=>od(n,e),addTokenListener:e=>function dy(n,e,t,r){const{app:i}=n,a=Xr(i),u={next:t,error:r,type:e};if(jo(i,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,u]})),a.token&&Lh(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),hS(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>hS(n))}(n,"INTERNAL",e),removeTokenListener:e=>v0(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Rs.registerVersion)("@firebase/app-check","0.5.5")}();class nm{constructor(){return(0,qn.vb)("app-check")}}"undefined"!=typeof window&&window;var rm=P(127);const im=new l.OlP("angularfire2.auth.use-emulator"),sm=new l.OlP("angularfire2.auth.settings"),gy=new l.OlP("angularfire2.auth.tenant-id"),_y=new l.OlP("angularfire2.auth.langugage-code"),yy=new l.OlP("angularfire2.auth.use-device-language"),vy=new l.OlP("angularfire.auth.persistence"),by=(n,e,t,r,i,a,u,f)=>(0,qi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=e.runOutsideAngular(()=>n.auth());if(t&&g.useEmulator(...t),r&&(g.tenantId=r),g.languageCode=i,a&&g.useDeviceLanguage(),u)for(const[b,T]of Object.entries(u))g.settings[b]=T;return f&&g.setPersistence(f),g},[t,r,i,a,u,f]);let Uh=(()=>{class n{constructor(t,r,i,a,u,f,g,b,T,A,O,H){const q=new Ot.x,ee=ct(void 0).pipe((0,Oh.Q)(u.outsideAngular),Cn(()=>a.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,5881)))),(0,Nt.U)(()=>(0,qi.on)(t,a,r)),(0,Nt.U)(de=>by(de,a,f,b,T,A,g,O)),a0({bufferSize:1,refCount:!1}));if(Jo(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ct(null);else{ee.pipe(Mo()).subscribe();const Ye=ee.pipe(Cn(Fe=>Fe.getRedirectResult().then(St=>St,()=>null)),qn.iC,a0({bufferSize:1,refCount:!1})),je=ee.pipe(Cn(Fe=>new _n.y(St=>({unsubscribe:a.runOutsideAngular(()=>Fe.onAuthStateChanged(Dt=>St.next(Dt),Dt=>St.error(Dt),()=>St.complete()))})))),Qe=ee.pipe(Cn(Fe=>new _n.y(St=>({unsubscribe:a.runOutsideAngular(()=>Fe.onIdTokenChanged(Dt=>St.next(Dt),Dt=>St.error(Dt),()=>St.complete()))}))));this.authState=Ye.pipe(ey(je),(0,l0.R)(u.outsideAngular),(0,Oh.Q)(u.insideAngular)),this.user=Ye.pipe(ey(Qe),(0,l0.R)(u.outsideAngular),(0,Oh.Q)(u.insideAngular)),this.idToken=this.user.pipe(Cn(Fe=>Fe?(0,gn.D)(Fe.getIdToken()):ct(null))),this.idTokenResult=this.user.pipe(Cn(Fe=>Fe?(0,gn.D)(Fe.getIdTokenResult()):ct(null))),this.credential=(0,qc.T)(Ye,q,this.authState.pipe(En(Fe=>!Fe))).pipe((0,Nt.U)(Fe=>(null==Fe?void 0:Fe.user)?Fe:null),(0,l0.R)(u.outsideAngular),(0,Oh.Q)(u.insideAngular))}return(0,qi.pX)(this,ee,a,{spy:{apply:(de,Ye,je)=>{(de.startsWith("signIn")||de.startsWith("createUser"))&&je.then(Qe=>q.next(Qe))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(qi.Dh),l.LFG(qi.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(qn.HU),l.LFG(im,8),l.LFG(sm,8),l.LFG(gy,8),l.LFG(_y,8),l.LFG(yy,8),l.LFG(vy,8),l.LFG(nm,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),V0=(()=>{class n{constructor(){rm.Z.registerVersion("angularfire",qn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Uh]}),n})(),cd=(()=>{class n{constructor(t){this.authService=t,this.storage=window.localStorage}loginComEmailSenha(t,r){return this.authService.signInWithEmailAndPassword(t,r).then(()=>{this.storage.setItem("condicao","autenticado")})}cadastrarComEmailSenha(t,r){return this.authService.createUserWithEmailAndPassword(t,r)}loginComFacebook(){return this.authLoginProvider(new Up.M).then(()=>{this.storage.setItem("condicao","autenticado")})}loginComTwitter(){return this.authLoginProvider(new Up.V).then(()=>{this.storage.setItem("condicao","autenticado")})}loginComGoogleCount(){return this.authLoginProvider(new Up.N).then(()=>{this.storage.setItem("condicao","autenticado")})}loginComGithub(){return this.authLoginProvider(new Up.Q).then(()=>{this.storage.setItem("condicao","autenticado")})}authLoginProvider(t){return this.authService.signInWithPopup(t)}logout(){return this.storage.setItem("condicao","deslogado"),this.authService.signOut()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Uh))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yk=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function SS(){return(0,l.f3M)(re)}}),IS=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let wy,Zc=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new l.vpe,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function B0(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?IS.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Yk,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ud=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();try{wy="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){wy=!1}let Wc,ti=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Rn(n){return n===Bi}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!wy)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cy=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Kc(){if(Wc)return Wc;if("object"!=typeof document||!document)return Wc=new Set(Cy),Wc;let n=document.createElement("input");return Wc=new Set(Cy.filter(e=>(n.setAttribute("type",e),n.type===e))),Wc}let jh,Jl,Gh;function Hh(n){return function AS(){if(null==jh&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>jh=!0}))}finally{jh=jh||!1}return jh}()?n:!!n.capture}function Jk(){if(null==Jl){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Jl=!1,Jl;if("scrollBehavior"in document.documentElement.style)Jl=!0;else{const n=Element.prototype.scrollTo;Jl=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Jl}function Ey(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Ii(n){return n.composedPath?n.composedPath()[0]:n.target}function ks(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function fd(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var mm=P(4986);function gm(n,e=mm.z){return(0,gr.e)((t,r)=>{let i=null,a=null,u=null;const f=()=>{if(i){i.unsubscribe(),i=null;const b=a;a=null,r.next(b)}};function g(){const b=u+n,T=e.now();if(T<b)return i=this.schedule(void 0,b-T),void r.add(i);f()}t.subscribe((0,yn.x)(r,b=>{a=b,u=e.now(),i||(i=e.schedule(g,n),r.add(i))},()=>{f(),r.complete()},void 0,()=>{a=i=null}))})}function K0(n){return En((e,t)=>n<=t)}function _m(n,e=as.y){return n=null!=n?n:gI,(0,gr.e)((t,r)=>{let i,a=!0;t.subscribe((0,yn.x)(r,u=>{const f=e(u);(a||!n(i,f))&&(a=!1,i=f,r.next(u))}))})}function gI(n,e){return n===e}var _I=P(5032);function zn(n){return(0,gr.e)((e,t)=>{(0,Ss.Xf)(n).subscribe((0,yn.x)(t,()=>t.complete(),_I.Z)),!t.closed&&e.subscribe(t)})}function Ar(n){return null!=n&&"false"!=`${n}`}function ym(n,e=0){return function yI(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function qh(n){return Array.isArray(n)?n:[n]}function Mr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Ea(n){return n instanceof l.SBq?n.nativeElement:n}class EI extends class CI{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Ot.x,this._typeaheadSubscription=Br.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Ot.x,this.change=new Ot.x,e instanceof l.n_E&&e.changes.subscribe(t=>{if(this._activeItem){const i=t.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Qr.b)(t=>this._pressedLetters.push(t)),gm(e),En(()=>this._pressedLetters.length>0),(0,Nt.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const a=(this._activeItemIndex+i)%r.length,u=r[a];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(a);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!e[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;default:return void((i||fd(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),r="number"==typeof e?e:t.indexOf(e),i=t[r];this._activeItem=null==i?null:i,this._activeItemIndex=r}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let r=1;r<=t.length;r++){const i=(this._activeItemIndex+e*r+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(!r[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof l.n_E?this._items.toArray():this._items}}{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}let Y0=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function TI(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function DI(n){try{return n.frameElement}catch(e){return null}}(function Ly(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===tC(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),a=tC(t);return t.hasAttribute("contenteditable")?-1!==a:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function AI(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==a:"video"===i?-1!==a&&(null!==a||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function Fy(n){return!function J0(n){return function II(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Q0(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function SI(n){return function X0(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||eC(n))}(t)&&!this.isDisabled(t)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ti))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eC(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function tC(n){if(!eC(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class nC{constructor(e,t,r,i,a=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return null==r||r.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,dr.q)(1)).subscribe(e)}}let Vy=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new nC(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Y0),l.LFG(l.R0b),l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function By(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function iC(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const sC=new l.OlP("cdk-input-modality-detector-options"),JO={ignoreKeys:[18,17,224,91,16]},Da=Hh({passive:!0,capture:!0});let xI=(()=>{class n{constructor(t,r,i,a){this._platform=t,this._mostRecentTarget=null,this._modality=new Vr(null),this._lastTouchMs=0,this._onKeydown=u=>{var f,g;(null===(g=null===(f=this._options)||void 0===f?void 0:f.ignoreKeys)||void 0===g?void 0:g.some(b=>b===u.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Ii(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(By(u)?"keyboard":"mouse"),this._mostRecentTarget=Ii(u))},this._onTouchstart=u=>{iC(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ii(u))},this._options=Object.assign(Object.assign({},JO),a),this.modalityDetected=this._modality.pipe(K0(1)),this.modalityChanged=this.modalityDetected.pipe(_m()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Da),i.addEventListener("mousedown",this._onMousedown,Da),i.addEventListener("touchstart",this._onTouchstart,Da)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Da),document.removeEventListener("mousedown",this._onMousedown,Da),document.removeEventListener("touchstart",this._onTouchstart,Da))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ti),l.LFG(l.R0b),l.LFG(re),l.LFG(sC,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pd=new l.OlP("liveAnnouncerElement",{providedIn:"root",factory:function zh(){return null}}),RI=new l.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let aC=(()=>{class n{constructor(t,r,i,a){this._ngZone=r,this._defaultOptions=a,this._document=i,this._liveElement=t||this._createLiveElement()}announce(t,...r){const i=this._defaultOptions;let a,u;return 1===r.length&&"number"==typeof r[0]?u=r[0]:[a,u]=r,this.clear(),clearTimeout(this._previousTimeout),a||(a=i&&i.politeness?i.politeness:"polite"),null==u&&i&&(u=i.duration),this._liveElement.setAttribute("aria-live",a),this._ngZone.runOutsideAngular(()=>new Promise(f=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,f(),"number"==typeof u&&(this._previousTimeout=setTimeout(()=>this.clear(),u))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var t;clearTimeout(this._previousTimeout),null===(t=this._liveElement)||void 0===t||t.remove(),this._liveElement=null}_createLiveElement(){const t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let a=0;a<r.length;a++)r[a].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),this._document.body.appendChild(i),i}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(pd,8),l.LFG(l.R0b),l.LFG(re),l.LFG(RI,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const OI=new l.OlP("cdk-focus-monitor-default-options"),bm=Hh({passive:!0,capture:!0});let lC=(()=>{class n{constructor(t,r,i,a,u){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ot.x,this._rootNodeFocusAndBlurListener=f=>{const g=Ii(f),b="focus"===f.type?this._onFocus:this._onBlur;for(let T=g;T;T=T.parentElement)b.call(this,f,T)},this._document=a,this._detectionMode=(null==u?void 0:u.detectionMode)||0}monitor(t,r=!1){const i=Ea(t);if(!this._platform.isBrowser||1!==i.nodeType)return ct(null);const a=function MS(n){if(function wa(){if(null==Gh){const n="undefined"!=typeof document?document.head:null;Gh=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Gh}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),u=this._elementInfo.get(i);if(u)return r&&(u.checkChildren=!0),u.subject;const f={checkChildren:r,subject:new Ot.x,rootNode:a};return this._elementInfo.set(i,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const r=Ea(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const a=Ea(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,g])=>this._originChanged(f,r,g)):(this._setOrigin(r),"function"==typeof a.focus&&a.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),a=Ii(t);!i||!i.checkChildren&&r!==a||this._originChanged(r,this._getFocusOrigin(a),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,bm),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,bm)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(zn(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,bm),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,bm),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,a)=>{(a===t||i.checkChildren&&a.contains(t))&&r.push([a,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(ti),l.LFG(xI),l.LFG(re,8),l.LFG(OI,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Uy="cdk-high-contrast-black-on-white",jy="cdk-high-contrast-white-on-black",Zh="cdk-high-contrast-active";let wm=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,a=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Zh),t.remove(Uy),t.remove(jy),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(Zh),t.add(Uy)):2===r&&(t.add(Zh),t.add(jy))}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ti),l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class cC{}const Ta="*";function Wh(n,e){return{type:7,name:n,definitions:e,options:{}}}function Yc(n,e=null){return{type:4,styles:e,timings:n}}function Em(n,e=null){return{type:2,steps:n,options:e}}function zi(n){return{type:6,styles:n,offset:null}}function Qc(n,e,t){return{type:0,name:n,styles:e,options:t}}function Xl(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function dC(n=null){return{type:9,options:n}}function n1(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function hC(n){Promise.resolve(null).then(n)}class Dm{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){hC(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Hy{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?hC(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==a&&this._onFinish()}),u.onDestroy(()=>{++r==a&&this._onDestroy()}),u.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const Qt=!1;function pC(n){return new l.vHH(3e3,Qt)}function rA(){return"undefined"!=typeof window&&void 0!==window.document}function Im(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function tl(n){switch(n.length){case 0:return new Dm;case 1:return n[0];default:return new Hy(n)}}function Am(n,e,t,r,i={},a={}){const u=[],f=[];let g=-1,b=null;if(r.forEach(T=>{const A=T.offset,O=A==g,H=O&&b||{};Object.keys(T).forEach(q=>{let ee=q,de=T[q];if("offset"!==q)switch(ee=e.normalizePropertyName(ee,u),de){case"!":de=i[q];break;case Ta:de=a[q];break;default:de=e.normalizeStyleValue(q,ee,de,u)}H[ee]=de}),O||f.push(H),b=H,g=A}),u.length)throw function QI(n){return new l.vHH(3502,Qt)}();return f}function Mm(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&qy(t,"start",n)));break;case"done":n.onDone(()=>r(t&&qy(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&qy(t,"destroy",n)))}}function qy(n,e,t){const r=t.totalTime,a=zy(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),u=n._data;return null!=u&&(a._data=u),a}function zy(n,e,t,r,i="",a=0,u){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!u}}function po(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function xm(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let ef=(n,e)=>!1,Zy=(n,e,t)=>[];(Im()||"undefined"!=typeof Element)&&(ef=rA()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),Zy=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Jc=null,wC=!1;function CC(n){Jc||(Jc=function iA(){return"undefined"!=typeof document?document.body:null}()||{},wC=!!Jc.style&&"WebkitAppearance"in Jc.style);let e=!0;return Jc.style&&!function Wy(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Jc.style,!e&&wC&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Jc.style)),e}const Ky=ef,Rm=Zy;let Yy=(()=>{class n{validateStyleProperty(t){return CC(t)}matchesElement(t,r){return!1}containsElement(t,r){return Ky(t,r)}query(t,r,i){return Rm(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,u,f=[],g){return new Dm(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),km=(()=>{class n{}return n.NOOP=new Yy,n})();const Om="ng-enter",Pm="ng-leave",tf="ng-trigger",Nm=".ng-trigger",Ai="ng-animating",ec=".ng-animating";function Xc(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Qy(parseFloat(e[1]),e[2])}function Qy(n,e){return"s"===e?1e3*n:n}function Jy(n,e,t){return n.hasOwnProperty("duration")?n:function nf(n,e,t){let i,a=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(pC()),{duration:0,delay:0,easing:""};i=Qy(parseFloat(f[1]),f[2]);const g=f[3];null!=g&&(a=Qy(parseFloat(g),f[4]));const b=f[5];b&&(u=b)}else i=n;if(!t){let f=!1,g=e.length;i<0&&(e.push(function NI(){return new l.vHH(3100,Qt)}()),f=!0),a<0&&(e.push(function FI(){return new l.vHH(3101,Qt)}()),f=!0),f&&e.splice(g,0,pC())}return{duration:i,delay:a,easing:u}}(n,e,t)}function gd(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function tc(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else gd(n,t);return t}function Xy(n,e,t){return t?e+":"+t+";":""}function SC(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=Xy(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Xy(0,Bm(t),n.style[t]));n.setAttribute("style",e)}function Ia(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=Vm(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),Im()&&SC(n))}function nl(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=Vm(t);n.style[r]=""}),Im()&&SC(n))}function _d(n){return Array.isArray(n)?1==n.length?n[0]:Em(n):n}const yd=new RegExp("{{\\s*(.+?)\\s*}}","g");function Lm(n){let e=[];if("string"==typeof n){let t;for(;t=yd.exec(n);)e.push(t[1]);yd.lastIndex=0}return e}function ev(n,e,t){const r=n.toString(),i=r.replace(yd,(a,u)=>{let f=e[u];return e.hasOwnProperty(u)||(t.push(function VI(n){return new l.vHH(3003,Qt)}()),f=""),f.toString()});return i==r?n:i}function rf(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const oA=/-+([a-z0-9])/g;function Vm(n){return n.replace(oA,(...e)=>e[1].toUpperCase())}function Bm(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Zi(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function BI(n){return new l.vHH(3004,Qt)}()}}function Um(n,e){return window.getComputedStyle(n)[e]}function lA(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function cA(n,e,t){if(":"==n[0]){const g=function MC(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function WI(n){return new l.vHH(3016,Qt)}()),"* => *"}}(n,t);if("function"==typeof g)return void e.push(g);n=g}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function ZI(n){return new l.vHH(3015,Qt)}()),e;const i=r[1],a=r[2],u=r[3];e.push(nv(i,u));"<"==a[0]&&!("*"==i&&"*"==u)&&e.push(nv(u,i))}(r,t,e)):t.push(n),t}const sf=new Set(["true","1"]),jm=new Set(["false","0"]);function nv(n,e){const t=sf.has(n)||jm.has(n),r=sf.has(e)||jm.has(e);return(i,a)=>{let u="*"==n||n==i,f="*"==e||e==a;return!u&&t&&"boolean"==typeof i&&(u=i?sf.has(n):jm.has(n)),!f&&r&&"boolean"==typeof a&&(f=a?sf.has(e):jm.has(e)),u&&f}}const uA=new RegExp("s*:selfs*,?","g");function iv(n,e,t){return new dA(n).build(e,t)}class dA{constructor(e){this._driver=e}build(e,t){const r=new kC(t);return this._resetContextStyleTimingState(r),Zi(this,_d(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function jI(){return new l.vHH(3006,Qt)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const g=f,b=g.name;b.toString().split(/\s*,\s*/).forEach(T=>{g.name=T,a.push(this.visitState(g,t))}),g.name=b}else if(1==f.type){const g=this.visitTransition(f,t);r+=g.queryCount,i+=g.depCount,u.push(g)}else t.errors.push(function HI(){return new l.vHH(3007,Qt)}())}),{type:7,name:e.name,states:a,transitions:u,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,u=i||{};r.styles.forEach(f=>{if(Hm(f)){const g=f;Object.keys(g).forEach(b=>{Lm(g[b]).forEach(T=>{u.hasOwnProperty(T)||a.add(T)})})}}),a.size&&(rf(a.values()),t.errors.push(function GI(n,e){return new l.vHH(3008,Qt)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Zi(this,_d(e.animation),t);return{type:1,matchers:lA(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:vd(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Zi(this,r,t)),options:vd(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(u=>{t.currentTime=r;const f=Zi(this,u,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:a,options:vd(e.options)}}visitAnimate(e,t){const r=function hA(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return Gm(Jy(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=Gm(0,0,"");return a.dynamic=!0,a.strValue=r,a}return t=t||Jy(r,e),Gm(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:zi({});if(5==a.type)i=this.visitKeyframes(a,t);else{let u=e.styles,f=!1;if(!u){f=!0;const b={};r.easing&&(b.easing=r.easing),u=zi(b)}t.currentTime+=r.duration+r.delay;const g=this.visitStyle(u,t);g.isEmptyStep=f,i=g}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(u=>{"string"==typeof u?u==Ta?r.push(u):t.errors.push(function Qh(n){return new l.vHH(3002,Qt)}()):r.push(u)}):r.push(e.styles);let i=!1,a=null;return r.forEach(u=>{if(Hm(u)){const f=u,g=f.easing;if(g&&(a=g,delete f.easing),!i)for(let b in f)if(f[b].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:a,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(f=>{if(!this._driver.validateStyleProperty(f))return void t.errors.push(function mC(n){return new l.vHH(3009,Qt)}());const g=t.collectedStyles[t.currentQuerySelector],b=g[f];let T=!0;b&&(a!=i&&a>=b.startTime&&i<=b.endTime&&(t.errors.push(function gC(n,e,t,r,i){return new l.vHH(3010,Qt)}()),T=!1),a=b.startTime),T&&(g[f]={startTime:a,endTime:i}),t.options&&function IC(n,e,t){const r=e.params||{},i=Lm(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function LI(n){return new l.vHH(3001,Qt)}())})}(u[f],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function _C(){return new l.vHH(3011,Qt)}()),r;let a=0;const u=[];let f=!1,g=!1,b=0;const T=e.steps.map(Ye=>{const je=this._makeStyleAst(Ye,t);let Qe=null!=je.offset?je.offset:function OC(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Hm(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(Hm(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(je.styles),Fe=0;return null!=Qe&&(a++,Fe=je.offset=Qe),g=g||Fe<0||Fe>1,f=f||Fe<b,b=Fe,u.push(Fe),je});g&&t.errors.push(function yC(){return new l.vHH(3012,Qt)}()),f&&t.errors.push(function vC(){return new l.vHH(3200,Qt)}());const A=e.steps.length;let O=0;a>0&&a<A?t.errors.push(function $I(){return new l.vHH(3202,Qt)}()):0==a&&(O=1/(A-1));const H=A-1,q=t.currentTime,ee=t.currentAnimateTimings,de=ee.duration;return T.forEach((Ye,je)=>{const Qe=O>0?je==H?1:O*je:u[je],Fe=Qe*de;t.currentTime=q+ee.delay+Fe,ee.duration=Fe,this._validateStyleAst(Ye,t),Ye.offset=Qe,r.styles.push(Ye)}),r}visitReference(e,t){return{type:8,animation:Zi(this,_d(e.animation),t),options:vd(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:vd(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:vd(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,u]=function xC(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(uA,"")),n=n.replace(/@\*/g,Nm).replace(/@\w+/g,t=>Nm+"-"+t.substr(1)).replace(/:animating/g,ec),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,po(t.collectedStyles,t.currentQuerySelector,{});const f=Zi(this,_d(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:u,animation:f,originalSelector:e.selector,options:vd(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function qI(){return new l.vHH(3013,Qt)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Jy(e.timings,t.errors,!0);return{type:12,animation:Zi(this,_d(e.animation),t),timings:r,options:null}}}class kC{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Hm(n){return!Array.isArray(n)&&"object"==typeof n}function vd(n){return n?(n=gd(n)).params&&(n.params=function RC(n){return n?gd(n):null}(n.params)):n={},n}function Gm(n,e,t){return{duration:n,delay:e,easing:t}}function PC(n,e,t,r,i,a,u=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:u,subTimeline:f}}class ov{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const o1=new RegExp(":enter","g"),l1=new RegExp(":leave","g");function NC(n,e,t,r,i,a={},u={},f,g,b=[]){return(new $m).buildKeyframes(n,e,t,r,i,a,u,f,g,b)}class $m{buildKeyframes(e,t,r,i,a,u,f,g,b,T=[]){b=b||new ov;const A=new af(e,t,b,i,a,T,[]);A.options=g,A.currentTimeline.setStyles([u],null,A.errors,g),Zi(this,r,A);const O=A.timelines.filter(H=>H.containsAnimation());if(Object.keys(f).length){let H;for(let q=O.length-1;q>=0;q--){const ee=O[q];if(ee.element===t){H=ee;break}}H&&!H.allowOnlyTimelineStyles()&&H.setStyles([f],null,A.errors,g)}return O.length?O.map(H=>H.buildKeyframes()):[PC(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,u=this._visitSubInstructions(r,i,i.options);a!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const u=null!=r.duration?Xc(r.duration):null,f=null!=r.delay?Xc(r.delay):null;return 0!==u&&e.forEach(g=>{const b=t.appendInstructionToTimeline(g,u,f);a=Math.max(a,b.duration+b.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Zi(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=av);const u=Xc(a.delay);i.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>Zi(this,u,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Xc(e.options.delay):0;e.steps.forEach(u=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),Zi(this,u,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Jy(t.params?ev(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(g=>{f.forwardTime((g.offset||0)*a),f.setStyles(g.styles,g.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?Xc(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=av);let u=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let g=null;f.forEach((b,T)=>{t.currentQueryIndex=T;const A=t.createSubContext(e.options,b);a&&A.delayNextStep(a),b===t.element&&(g=A.currentTimeline),Zi(this,e.animation,A),A.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,A.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),g&&(t.currentTimeline.mergeTimelineCollectedStyles(g),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,u=Math.abs(a.duration),f=u*(t.currentQueryTotal-1);let g=u*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":g=f-g;break;case"full":g=r.currentStaggerTime}const T=t.currentTimeline;g&&T.delayNextStep(g);const A=T.currentTime;Zi(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-A+(i.startTime-r.currentTimeline.startTime)}}const av={};class af{constructor(e,t,r,i,a,u,f,g){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=av,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new rl(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Xc(r.duration)),null!=r.delay&&(i.delay=Xc(r.delay));const a=r.params;if(a){let u=i.params;u||(u=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!u.hasOwnProperty(f))&&(u[f]=ev(a[f],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new af(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=av,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},a=new FC(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,u){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(o1,"."+this._enterClassName)).replace(l1,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=r);0!==r&&(b=r<0?b.slice(b.length+r,b.length):b.slice(0,r)),f.push(...b)}return!a&&0==f.length&&u.push(function zI(n){return new l.vHH(3014,Qt)}()),f}}class rl{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new rl(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Ta,this._currentKeyframe[t]=Ta}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const a=i&&i.params||{},u=function fA(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(a=>{t[a]=Ta})):tc(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(u).forEach(f=>{const g=ev(u[f],a,r);this._pendingStyles[f]=g,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:Ta),this._updateStyle(f,g)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,g)=>{const b=tc(f,!0);Object.keys(b).forEach(T=>{const A=b[T];"!"==A?e.add(T):A==Ta&&t.add(T)}),r||(b.offset=g/this.duration),i.push(b)});const a=e.size?rf(e.values()):[],u=t.size?rf(t.values()):[];if(r){const f=i[0],g=gd(f);f.offset=0,g.offset=1,i=[f,g]}return PC(this.element,i,a,u,this.duration,this.startTime,this.easing,!1)}}class FC extends rl{constructor(e,t,r,i,a,u,f=!1){super(e,t,u.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],u=r+t,f=t/u,g=tc(e[0],!1);g.offset=0,a.push(g);const b=tc(e[0],!1);b.offset=LC(f),a.push(b);const T=e.length-1;for(let A=1;A<=T;A++){let O=tc(e[A],!1);O.offset=LC((t+O.offset*r)/u),a.push(O)}r=u,t=0,i="",e=a}return PC(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function LC(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class qm{}class BC extends qm{normalizePropertyName(e,t){return Vm(e)}normalizeStyleValue(e,t,r,i){let a="";const u=r.toString().trim();if(c1[t]&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function UI(n,e){return new l.vHH(3005,Qt)}())}return u+a}}const c1=(()=>function UC(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function lf(n,e,t,r,i,a,u,f,g,b,T,A,O){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:u,timelines:f,queriedElements:g,preStyleProps:b,postStyleProps:T,totalTime:A,errors:O}}const zm={};class mA{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function u1(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],a=this._stateStyles[e],u=i?i.buildStyles(t,r):{};return a?a.buildStyles(t,r):u}build(e,t,r,i,a,u,f,g,b,T){const A=[],O=this.ast.options&&this.ast.options.params||zm,q=this.buildStyles(r,f&&f.params||zm,A),ee=g&&g.params||zm,de=this.buildStyles(i,ee,A),Ye=new Set,je=new Map,Qe=new Map,Fe="void"===i,St={params:Object.assign(Object.assign({},O),ee)},Dt=T?[]:NC(e,t,this.ast.animation,a,u,q,de,St,b,A);let xn=0;if(Dt.forEach(zr=>{xn=Math.max(zr.duration+zr.delay,xn)}),A.length)return lf(t,this._triggerName,r,i,Fe,q,de,[],[],je,Qe,xn,A);Dt.forEach(zr=>{const On=zr.element,Kn=po(je,On,{});zr.preStyleProps.forEach(Hf=>Kn[Hf]=!0);const Ra=po(Qe,On,{});zr.postStyleProps.forEach(Hf=>Ra[Hf]=!0),On!==t&&Ye.add(On)});const kn=rf(Ye.values());return lf(t,this._triggerName,r,i,Fe,q,de,Dt,kn,je,Qe,xn)}}class d1{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=gd(this.defaultParams);return Object.keys(e).forEach(a=>{const u=e[a];null!=u&&(i[a]=u)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const u=a;Object.keys(u).forEach(f=>{let g=u[f];g.length>1&&(g=ev(g,i,t));const b=this.normalizer.normalizePropertyName(f,t);g=this.normalizer.normalizeStyleValue(f,b,g,t),r[b]=g})}}),r}}class lv{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new d1(i.style,i.options&&i.options.params||{},r)}),yA(this.states,"true","1"),yA(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new mA(e,i,this.states))}),this.fallbackTransition=function _A(n,e,t){return new mA(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(u=>u.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function yA(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const vA=new ov;class cv{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],i=iv(this._driver,t,r);if(r.length)throw function Gy(n){return new l.vHH(3503,Qt)}();this._animations[e]=i}_buildPlayer(e,t,r){const i=e.element,a=Am(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations[e];let u;const f=new Map;if(a?(u=NC(this._driver,t,a,Om,Pm,{},{},r,vA,i),u.forEach(T=>{const A=po(f,T.element,{});T.postStyleProps.forEach(O=>A[O]=null)})):(i.push(function Sa(){return new l.vHH(3300,Qt)}()),u=[]),i.length)throw function JI(n){return new l.vHH(3504,Qt)}();f.forEach((T,A)=>{Object.keys(T).forEach(O=>{T[O]=this._driver.computeStyle(A,O,Ta)})});const b=tl(u.map(T=>{const A=f.get(T.element);return this._buildPlayer(T,{},A)}));return this._playersById[e]=b,b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function Tm(n){return new l.vHH(3301,Qt)}();return t}listen(e,t,r,i){const a=zy(t,"","","");return Mm(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const jC="ng-animate-queued",uv="ng-animate-disabled",hv=[],fv={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},HC={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},mo="__ng_removed";class Zm{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function h1(n){return null!=n?n:null}(r?e.value:e),r){const a=gd(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const bd="void",pv=new Zm(bd);class CA{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,go(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function Xh(n,e){return new l.vHH(3302,Qt)}();if(null==r||0==r.length)throw function XI(n){return new l.vHH(3303,Qt)}();if(!function GC(n){return"start"==n||"done"==n}(r))throw function eA(n,e){return new l.vHH(3400,Qt)}();const a=po(this._elementListeners,e,[]),u={name:t,phase:r,callback:i};a.push(u);const f=po(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(go(e,tf),go(e,tf+"-"+t),f[t]=pv),()=>{this._engine.afterFlush(()=>{const g=a.indexOf(u);g>=0&&a.splice(g,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function tA(n){return new l.vHH(3401,Qt)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),u=new Ps(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(go(e,tf),go(e,tf+"-"+t),this._engine.statesByElement.set(e,f={}));let g=f[t];const b=new Zm(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&g&&b.absorbOptions(g.options),f[t]=b,g||(g=pv),b.value!==bd&&g.value===b.value){if(!function DA(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(g.params,b.params)){const ee=[],de=a.matchStyles(g.value,g.params,ee),Ye=a.matchStyles(b.value,b.params,ee);ee.length?this._engine.reportError(ee):this._engine.afterFlush(()=>{nl(e,de),Ia(e,Ye)})}return}const O=po(this._engine.playersByElement,e,[]);O.forEach(ee=>{ee.namespaceId==this.id&&ee.triggerName==t&&ee.queued&&ee.destroy()});let H=a.matchTransition(g.value,b.value,e,b.params),q=!1;if(!H){if(!i)return;H=a.fallbackTransition,q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:H,fromState:g,toState:b,player:u,isFallbackTransition:q}),q||(go(e,jC),u.onStart(()=>{cf(e,jC)})),u.onDone(()=>{let ee=this.players.indexOf(u);ee>=0&&this.players.splice(ee,1);const de=this._engine.playersByElement.get(e);if(de){let Ye=de.indexOf(u);Ye>=0&&de.splice(Ye,1)}}),this.players.push(u),O.push(u),u}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Nm,!0);r.forEach(i=>{if(i[mo])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(u=>u.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),u=new Map;if(a){const f=[];if(Object.keys(a).forEach(g=>{if(u.set(g,a[g].value),this._triggers[g]){const b=this.trigger(e,g,bd,i);b&&f.push(b)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),r&&tl(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const u=a.name;if(i.has(u))return;i.add(u);const g=this._triggers[u].fallbackTransition,b=r[u]||pv,T=new Zm(bd),A=new Ps(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:g,fromState:b,toState:T,player:A,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let u=e;for(;u=u.parentNode;)if(r.statesByElement.get(u)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[mo];(!a||a===fv)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){go(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,u=this._elementListeners.get(a);u&&u.forEach(f=>{if(f.name==r.triggerName){const g=zy(a,r.triggerName,r.fromState.value,r.toState.value);g._data=e,Mm(r.player,f.phase,g,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,u=i.transition.ast.depCount;return 0==a||0==u?a-u:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class mv{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new CA(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let i=!1;for(let a=r;a>=0;a--)if(this.driver.containsElement(this._namespaceList[a].hostElement,t)){this._namespaceList.splice(a+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let a=0;a<i.length;a++){const u=r[i[a]].namespaceId;if(u){const f=this._fetchNamespace(u);f&&t.add(f)}}}return t}trigger(e,t,r,i){if(Wm(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Wm(t))return;const a=t[mo];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),go(e,uv)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),cf(e,uv))}removeNode(e,t,r,i){if(Wm(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[mo]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return Wm(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,Nm,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,ec,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return tl(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[mo];if(r&&r.setForRemoval){if(e[mo]=fv,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(uv))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)go(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?tl(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Sm(n){return new l.vHH(3402,Qt)}()}_flushAnimations(e,t){const r=new ov,i=[],a=new Map,u=[],f=new Map,g=new Map,b=new Map,T=new Set;this.disabledNodes.forEach(gt=>{T.add(gt);const xt=this.driver.query(gt,".ng-animate-queued",!0);for(let Lt=0;Lt<xt.length;Lt++)T.add(xt[Lt])});const A=this.bodyNode,O=Array.from(this.statesByElement.keys()),H=gv(O,this.collectedEnterElements),q=new Map;let ee=0;H.forEach((gt,xt)=>{const Lt=Om+ee++;q.set(xt,Lt),gt.forEach(vn=>go(vn,Lt))});const de=[],Ye=new Set,je=new Set;for(let gt=0;gt<this.collectedLeaveElements.length;gt++){const xt=this.collectedLeaveElements[gt],Lt=xt[mo];Lt&&Lt.setForRemoval&&(de.push(xt),Ye.add(xt),Lt.hasAnimation?this.driver.query(xt,".ng-star-inserted",!0).forEach(vn=>Ye.add(vn)):je.add(xt))}const Qe=new Map,Fe=gv(O,Array.from(Ye));Fe.forEach((gt,xt)=>{const Lt=Pm+ee++;Qe.set(xt,Lt),gt.forEach(vn=>go(vn,Lt))}),e.push(()=>{H.forEach((gt,xt)=>{const Lt=q.get(xt);gt.forEach(vn=>cf(vn,Lt))}),Fe.forEach((gt,xt)=>{const Lt=Qe.get(xt);gt.forEach(vn=>cf(vn,Lt))}),de.forEach(gt=>{this.processLeaveNode(gt)})});const St=[],Dt=[];for(let gt=this._namespaceList.length-1;gt>=0;gt--)this._namespaceList[gt].drainQueuedTransitions(t).forEach(Lt=>{const vn=Lt.player,Fi=Lt.element;if(St.push(vn),this.collectedEnterElements.length){const Gs=Fi[mo];if(Gs&&Gs.setForMove){if(Gs.previousTriggersValues&&Gs.previousTriggersValues.has(Lt.triggerName)){const Gf=Gs.previousTriggersValues.get(Lt.triggerName),Ud=this.statesByElement.get(Lt.element);Ud&&Ud[Lt.triggerName]&&(Ud[Lt.triggerName].value=Gf)}return void vn.destroy()}}const uc=!A||!this.driver.containsElement(A,Fi),qo=Qe.get(Fi),Bd=q.get(Fi),Cr=this._buildInstruction(Lt,r,Bd,qo,uc);if(Cr.errors&&Cr.errors.length)return void Dt.push(Cr);if(uc)return vn.onStart(()=>nl(Fi,Cr.fromStyles)),vn.onDestroy(()=>Ia(Fi,Cr.toStyles)),void i.push(vn);if(Lt.isFallbackTransition)return vn.onStart(()=>nl(Fi,Cr.fromStyles)),vn.onDestroy(()=>Ia(Fi,Cr.toStyles)),void i.push(vn);const n2=[];Cr.timelines.forEach(Gs=>{Gs.stretchStartingKeyframe=!0,this.disabledNodes.has(Gs.element)||n2.push(Gs)}),Cr.timelines=n2,r.append(Fi,Cr.timelines),u.push({instruction:Cr,player:vn,element:Fi}),Cr.queriedElements.forEach(Gs=>po(f,Gs,[]).push(vn)),Cr.preStyleProps.forEach((Gs,Gf)=>{const Ud=Object.keys(Gs);if(Ud.length){let $f=g.get(Gf);$f||g.set(Gf,$f=new Set),Ud.forEach(Ck=>$f.add(Ck))}}),Cr.postStyleProps.forEach((Gs,Gf)=>{const Ud=Object.keys(Gs);let $f=b.get(Gf);$f||b.set(Gf,$f=new Set),Ud.forEach(Ck=>$f.add(Ck))})});if(Dt.length){const gt=[];Dt.forEach(xt=>{gt.push(function nA(n,e){return new l.vHH(3505,Qt)}())}),St.forEach(xt=>xt.destroy()),this.reportError(gt)}const xn=new Map,kn=new Map;u.forEach(gt=>{const xt=gt.element;r.has(xt)&&(kn.set(xt,xt),this._beforeAnimationBuild(gt.player.namespaceId,gt.instruction,xn))}),i.forEach(gt=>{const xt=gt.element;this._getPreviousPlayers(xt,!1,gt.namespaceId,gt.triggerName,null).forEach(vn=>{po(xn,xt,[]).push(vn),vn.destroy()})});const zr=de.filter(gt=>_v(gt,g,b)),On=new Map;qC(On,this.driver,je,b,Ta).forEach(gt=>{_v(gt,g,b)&&zr.push(gt)});const Ra=new Map;H.forEach((gt,xt)=>{qC(Ra,this.driver,new Set(gt),g,"!")}),zr.forEach(gt=>{const xt=On.get(gt),Lt=Ra.get(gt);On.set(gt,Object.assign(Object.assign({},xt),Lt))});const Hf=[],e2=[],t2={};u.forEach(gt=>{const{element:xt,player:Lt,instruction:vn}=gt;if(r.has(xt)){if(T.has(xt))return Lt.onDestroy(()=>Ia(xt,vn.toStyles)),Lt.disabled=!0,Lt.overrideTotalTime(vn.totalTime),void i.push(Lt);let Fi=t2;if(kn.size>1){let qo=xt;const Bd=[];for(;qo=qo.parentNode;){const Cr=kn.get(qo);if(Cr){Fi=Cr;break}Bd.push(qo)}Bd.forEach(Cr=>kn.set(Cr,Fi))}const uc=this._buildAnimation(Lt.namespaceId,vn,xn,a,Ra,On);if(Lt.setRealPlayer(uc),Fi===t2)Hf.push(Lt);else{const qo=this.playersByElement.get(Fi);qo&&qo.length&&(Lt.parentPlayer=tl(qo)),i.push(Lt)}}else nl(xt,vn.fromStyles),Lt.onDestroy(()=>Ia(xt,vn.toStyles)),e2.push(Lt),T.has(xt)&&i.push(Lt)}),e2.forEach(gt=>{const xt=a.get(gt.element);if(xt&&xt.length){const Lt=tl(xt);gt.setRealPlayer(Lt)}}),i.forEach(gt=>{gt.parentPlayer?gt.syncPlayerEvents(gt.parentPlayer):gt.destroy()});for(let gt=0;gt<de.length;gt++){const xt=de[gt],Lt=xt[mo];if(cf(xt,Pm),Lt&&Lt.hasAnimation)continue;let vn=[];if(f.size){let uc=f.get(xt);uc&&uc.length&&vn.push(...uc);let qo=this.driver.query(xt,ec,!0);for(let Bd=0;Bd<qo.length;Bd++){let Cr=f.get(qo[Bd]);Cr&&Cr.length&&vn.push(...Cr)}}const Fi=vn.filter(uc=>!uc.destroyed);Fi.length?zC(this,xt,Fi):this.processLeaveNode(xt)}return de.length=0,Hf.forEach(gt=>{this.players.push(gt),gt.onDone(()=>{gt.destroy();const xt=this.players.indexOf(gt);this.players.splice(xt,1)}),gt.play()}),Hf}elementContainsData(e,t){let r=!1;const i=t[mo];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let u=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(u=f)}else{const f=this.playersByElement.get(e);if(f){const g=!a||a==bd;f.forEach(b=>{b.queued||!g&&b.triggerName!=i||u.push(b)})}}return(r||i)&&(u=u.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),u}_beforeAnimationBuild(e,t,r){const a=t.element,u=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const g of t.timelines){const b=g.element,T=b!==a,A=po(r,b,[]);this._getPreviousPlayers(b,T,u,f,t.toState).forEach(H=>{const q=H.getRealPlayer();q.beforeDestroy&&q.beforeDestroy(),H.destroy(),A.push(H)})}nl(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,u){const f=t.triggerName,g=t.element,b=[],T=new Set,A=new Set,O=t.timelines.map(q=>{const ee=q.element;T.add(ee);const de=ee[mo];if(de&&de.removedBeforeQueried)return new Dm(q.duration,q.delay);const Ye=ee!==g,je=function ZC(n){const e=[];return WC(n,e),e}((r.get(ee)||hv).map(xn=>xn.getRealPlayer())).filter(xn=>!!xn.element&&xn.element===ee),Qe=a.get(ee),Fe=u.get(ee),St=Am(0,this._normalizer,0,q.keyframes,Qe,Fe),Dt=this._buildPlayer(q,St,je);if(q.subTimeline&&i&&A.add(ee),Ye){const xn=new Ps(e,f,ee);xn.setRealPlayer(Dt),b.push(xn)}return Dt});b.forEach(q=>{po(this.playersByQueriedElement,q.element,[]).push(q),q.onDone(()=>function EA(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,q.element,q))}),T.forEach(q=>go(q,Ai));const H=tl(O);return H.onDestroy(()=>{T.forEach(q=>cf(q,Ai)),Ia(g,t.toStyles)}),A.forEach(q=>{po(i,q,[]).push(H)}),H}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Dm(e.duration,e.delay)}}class Ps{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Dm,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>Mm(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){po(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Wm(n){return n&&1===n.nodeType}function $C(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function qC(n,e,t,r,i){const a=[];t.forEach(g=>a.push($C(g)));const u=[];r.forEach((g,b)=>{const T={};g.forEach(A=>{const O=T[A]=e.computeStyle(b,A,i);(!O||0==O.length)&&(b[mo]=HC,u.push(b))}),n.set(b,T)});let f=0;return t.forEach(g=>$C(g,a[f++])),u}function gv(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),a=new Map;function u(f){if(!f)return 1;let g=a.get(f);if(g)return g;const b=f.parentNode;return g=t.has(b)?b:i.has(b)?1:u(b),a.set(f,g),g}return e.forEach(f=>{const g=u(f);1!==g&&t.get(g).push(f)}),t}function go(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function cf(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function zC(n,e,t){tl(t).onDone(()=>n.processLeaveNode(e))}function WC(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Hy?WC(r.players,e):e.push(r)}}function _v(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class nc{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new mv(e,t,r),this._timelineEngine=new cv(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const u=e+"-"+i;let f=this._triggerCache[u];if(!f){const g=[],b=iv(this._driver,a,g);if(g.length)throw function Jh(n,e){return new l.vHH(3404,Qt)}();f=function gA(n,e,t){return new lv(n,e,t)}(i,b,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,u]=xm(r);this._timelineEngine.command(a,t,u,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[u,f]=xm(r);return this._timelineEngine.listen(u,t,f,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let KC=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Ia(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ia(this._element,this._initialStyles),this._endStyles&&(Ia(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(nl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(nl(this._element,this._endStyles),this._endStyles=null),Ia(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function vv(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];YC(i)&&(e=e||{},e[i]=n[i])}return e}function YC(n){return"display"===n||"position"===n}class bv{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:Um(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class TA{validateStyleProperty(e){return CC(e)}matchesElement(e,t){return!1}containsElement(e,t){return Ky(e,t)}query(e,t,r){return Rm(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,u=[]){const g={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(g.easing=a);const b={},T=u.filter(O=>O instanceof bv);(function AC(n,e){return 0===n||0===e})(r,i)&&T.forEach(O=>{let H=O.currentSnapshot;Object.keys(H).forEach(q=>b[q]=H[q])}),t=function aA(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let a=e[0],u=[];if(r.forEach(f=>{a.hasOwnProperty(f)||u.push(f),a[f]=t[f]}),u.length)for(var i=1;i<e.length;i++){let f=e[i];u.forEach(function(g){f[g]=Um(n,g)})}}return e}(e,t=t.map(O=>tc(O,!1)),b);const A=function yv(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=vv(e[0]),e.length>1&&(r=vv(e[e.length-1]))):e&&(t=vv(e)),t||r?new KC(n,t,r):null}(e,t);return new bv(e,t,g,A)}}let SA=(()=>{class n extends cC{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?Em(t):t;return wv(this._renderer,null,r,"register",[i]),new f1(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class f1 extends class uC{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new p1(this._id,e,t||{},this._renderer)}}class p1{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return wv(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function wv(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const QC="@.disabled";let IA=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,u)=>{const f=null==u?void 0:u.parentNode(a);f&&u.removeChild(f,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let T=this._rendererCache.get(a);return T||(T=new AA("",a,this.engine),this._rendererCache.set(a,T)),T}const u=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const g=T=>{Array.isArray(T)?T.forEach(g):this.engine.registerTrigger(u,f,t,T.name,T)};return r.data.animation.forEach(g),new m1(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[u,f]=a;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(nc),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class AA{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==QC?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class m1 extends AA{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==QC?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function g1(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.substr(1),u="";return"@"!=a.charAt(0)&&([a,u]=function _1(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let y1=(()=>{class n extends nc{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re),l.LFG(km),l.LFG(qm))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const eu=new l.OlP("AnimationModuleType"),JC=[{provide:cC,useClass:SA},{provide:qm,useFactory:function MA(){return new BC}},{provide:nc,useClass:y1},{provide:l.FYo,useFactory:function Ym(n,e,t){return new IA(n,e,t)},deps:[wn,nc,l.R0b]}],Cv=[{provide:km,useFactory:()=>new TA},{provide:eu,useValue:"BrowserAnimations"},...JC],tu=[{provide:km,useClass:Yy},{provide:eu,useValue:"NoopAnimations"},...JC];let XC=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?tu:Cv}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:Cv,imports:[Ys]}),n})();function Ev(n,e){if(1&n&&l._UZ(0,"mat-pseudo-checkbox",4),2&n){const t=l.oxw();l.Q6J("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function Dv(n,e){if(1&n&&(l.TgZ(0,"span",5),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.hij("(",t.group.label,")")}}const Qm=["*"],nE=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function b1(){return!0}});let ir=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!ks()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(wm),l.LFG(nE,8),l.LFG(re))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ud],ud]}),n})();function Tv(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Ar(e)}}}function Jm(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function Sv(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Ar(e)}}}function RA(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?ym(t):this.defaultTabIndex}}}function rE(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new Ot.x,this.errorState=!1}updateErrorState(){const e=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==e&&(this.errorState=a,this.stateChanges.next())}}}let Mv=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class PA{constructor(e,t,r){this._renderer=e,this.element=t,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const NA={enterDuration:225,exitDuration:150},iE=Hh({passive:!0}),FA=["mousedown","touchstart"],LA=["mouseup","mouseleave","touchend","touchcancel"];class VA{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Ea(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=Object.assign(Object.assign({},NA),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const u=r.radius||function F1(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),f=e-i.left,g=t-i.top,b=a.enterDuration,T=document.createElement("div");T.classList.add("mat-ripple-element"),T.style.left=f-u+"px",T.style.top=g-u+"px",T.style.height=2*u+"px",T.style.width=2*u+"px",null!=r.color&&(T.style.backgroundColor=r.color),T.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(T),function N1(n){window.getComputedStyle(n).getPropertyValue("opacity")}(T),T.style.transform="scale(1)";const A=new PA(this,T,r);return A.state=0,this._activeRipples.add(A),r.persistent||(this._mostRecentTransientRipple=A),this._runTimeoutOutsideZone(()=>{const O=A===this._mostRecentTransientRipple;A.state=1,!r.persistent&&(!O||!this._isPointerDown)&&A.fadeOut()},b),A}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const r=e.element,i=Object.assign(Object.assign({},NA),e.config.animation);r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,r.remove()},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Ea(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(FA))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(LA),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=By(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!iC(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,iE)})})}_removeTriggerEvents(){this._triggerElement&&(FA.forEach(e=>{this._triggerElement.removeEventListener(e,this,iE)}),this._pointerUpEventsRegistered&&LA.forEach(e=>{this._triggerElement.removeEventListener(e,this,iE)}))}}const L1=new l.OlP("mat-ripple-global-options");let sE=(()=>{class n{constructor(t,r,i,a,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new VA(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,Object.assign(Object.assign({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(ti),l.Y36(L1,8),l.Y36(eu,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),s=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ir],ir]}),n})(),o=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(eu,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,r){2&t&&l.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,r){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),c=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ir]]}),n})();const d=new l.OlP("MAT_OPTION_PARENT_COMPONENT"),w=new l.OlP("MatOptgroup");let I=0;class x{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let L=(()=>{class n{constructor(t,r,i,a){this._element=t,this._changeDetectorRef=r,this._parent=i,this.group=a,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+I++,this.onSelectionChange=new l.vpe,this._stateChanges=new Ot.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=Ar(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,r){const i=this._getHostElement();"function"==typeof i.focus&&i.focus(r)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!fd(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new x(this,t))}}return n.\u0275fac=function(t){l.$Z()},n.\u0275dir=l.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),$=(()=>{class n extends L{constructor(t,r,i,a){super(t,r,i,a)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(d,8),l.Y36(w,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,r){1&t&&l.NdJ("click",function(){return r._selectViaInteraction()})("keydown",function(a){return r._handleKeydown(a)}),2&t&&(l.Ikx("id",r.id),l.uIk("tabindex",r._getTabIndex())("aria-selected",r._getAriaSelected())("aria-disabled",r.disabled.toString()),l.ekj("mat-selected",r.selected)("mat-option-multiple",r.multiple)("mat-active",r.active)("mat-option-disabled",r.disabled))},exportAs:["matOption"],features:[l.qOj],ngContentSelectors:Qm,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,r){1&t&&(l.F$t(),l.YNc(0,Ev,1,2,"mat-pseudo-checkbox",0),l.TgZ(1,"span",1),l.Hsn(2),l.qZA(),l.YNc(3,Dv,2,1,"span",2),l._UZ(4,"div",3)),2&t&&(l.Q6J("ngIf",r.multiple),l.xp6(3),l.Q6J("ngIf",r.group&&r.group._inert),l.xp6(1),l.Q6J("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},directives:[o,Jn,sE],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function J(n,e,t){if(t.length){let r=e.toArray(),i=t.toArray(),a=0;for(let u=0;u<n+1;u++)r[u].group&&r[u].group===i[a]&&a++;return a}return 0}let Ve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[s,Fa,ir,c]]}),n})();const qe=["*",[["mat-toolbar-row"]]],st=["*","mat-toolbar-row"],Me=Jm(class{constructor(n){this._elementRef=n}});let Et=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),Kt=(()=>{class n extends Me{constructor(t,r,i){super(t),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(ti),l.Y36(re))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,Et,5),2&t){let a;l.iGM(a=l.CRH())&&(r._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,r){2&t&&l.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[l.qOj],ngContentSelectors:st,decls:2,vars:0,template:function(t,r){1&t&&(l.F$t(qe),l.Hsn(0),l.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),Ns=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ir],ir]}),n})();function nu(n,e){1&n&&(l.TgZ(0,"small",8),l._uU(1,"O email \xe9 obrigat\xf3rio! "),l.qZA())}function xv(n,e){1&n&&(l.TgZ(0,"small",8),l._uU(1,"Email inv\xe1lido!"),l.qZA())}function Rv(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,nu,2,0,"small",7),l.YNc(2,xv,2,0,"small",7),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.formCadastrar.controls.email.hasError("required")),l.xp6(1),l.Q6J("ngIf",t.formCadastrar.controls.email.hasError("email"))}}function kv(n,e){1&n&&(l.TgZ(0,"small",8),l._uU(1,"Confirme sua senha!"),l.qZA())}function Ov(n,e){1&n&&(l.TgZ(0,"small",8),l._uU(1,"Senha pequena demais!"),l.qZA())}function Pv(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,kv,2,0,"small",7),l.YNc(2,Ov,2,0,"small",7),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.formCadastrar.controls.password.hasError("required")),l.xp6(1),l.Q6J("ngIf",t.formCadastrar.controls.password.hasError("minLength"))}}function Nv(n,e){1&n&&(l.TgZ(0,"small",8),l._uU(1,"A senha \xe9 obirgat\xf3ria!"),l.qZA())}function Fv(n,e){1&n&&(l.TgZ(0,"small",8),l._uU(1,"Senha pequena demais!"),l.qZA())}function Lv(n,e){1&n&&(l.TgZ(0,"small",8),l._uU(1,"Senhas n\xe3o s\xe3o iguais!"),l.qZA())}function Vv(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,Nv,2,0,"small",7),l.YNc(2,Fv,2,0,"small",7),l.YNc(3,Lv,2,0,"small",7),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.formCadastrar.controls.confirmPassword.hasError("required")),l.xp6(1),l.Q6J("ngIf",t.formCadastrar.controls.confirmPassword.hasError("minLength")),l.xp6(1),l.Q6J("ngIf",t.formCadastrar.controls.confirmPassword.value!=t.formCadastrar.controls.password.value)}}let w2=(()=>{class n{constructor(t,r,i){this._router=t,this._usuarioService=r,this._formBuilder=i,this.formCadastrar=this._formBuilder.group({email:["",[en.required,en.email]],password:["",[en.required,en.minLength(6)]],confirmPassword:["",[en.required,en.minLength(6)]]})}ngOnInit(){}validarFormulario(){for(let t in this.formCadastrar.controls)this.formCadastrar.controls[t].markAsTouched()}submitForm(){this.validarFormulario(),this.formCadastrar.valid&&this.cadastrar()}cadastrar(){this.formCadastrar.controls.password.value==this.formCadastrar.controls.confirmPassword.value?this._usuarioService.cadastrarComEmailSenha(this.formCadastrar.controls.email.value,this.formCadastrar.controls.password.value).then(()=>{alert("Cadastro efetuado com sucesso!"),this._router.navigate(["/listaDePersonagens"])}).catch(t=>{alert("Deu ruim"),console.log(t)}):alert("Senhas diferentes!")}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(br),l.Y36(cd),l.Y36(Bp))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-cadastro"]],decls:21,vars:4,consts:[["color","primary"],[3,"formGroup","ngSubmit"],["text","text","formControlName","email","required",""],[4,"ngIf"],["type","password","formControlName","password","required",""],["type","password","formControlName","confirmPassword","required",""],["type","submit"],["style","color: pink",4,"ngIf"],[2,"color","pink"]],template:function(t,r){1&t&&(l.TgZ(0,"body")(1,"mat-toolbar",0),l._uU(2,"Cadastrar"),l.qZA(),l.TgZ(3,"form",1),l.NdJ("ngSubmit",function(){return r.submitForm()}),l.TgZ(4,"label"),l._uU(5,"Email:"),l.qZA(),l._UZ(6,"input",2)(7,"br"),l.YNc(8,Rv,3,2,"div",3),l.TgZ(9,"label"),l._uU(10,"Senha:"),l.qZA(),l._UZ(11,"input",4)(12,"br"),l.YNc(13,Pv,3,2,"div",3),l.TgZ(14,"label"),l._uU(15,"Senha:"),l.qZA(),l._UZ(16,"input",5)(17,"br"),l.YNc(18,Vv,4,3,"div",3),l.TgZ(19,"button",6),l._uU(20,"Cadastrar"),l.qZA()()()),2&t&&(l.xp6(3),l.Q6J("formGroup",r.formCadastrar),l.xp6(5),l.Q6J("ngIf",r.formCadastrar.controls.email.touched),l.xp6(5),l.Q6J("ngIf",r.formCadastrar.controls.password.touched),l.xp6(5),l.Q6J("ngIf",r.formCadastrar.controls.confirmPassword.touched))},directives:[Kt,Mh,bh,Xa,ql,vh,Qu,Bo,Jn],styles:[""]}),n})();function BA(){return(0,gr.e)((n,e)=>{let t,r=!1;n.subscribe((0,yn.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}P(5881);var lt,V1=P(3942),C2="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ru={},UA=UA||{},$t=C2||self;function oE(){}function jA(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Bv(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var HA="closure_uid_"+(1e9*Math.random()>>>0),D2=0;function T2(n,e,t){return n.call.apply(n.bind,arguments)}function S2(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Wi(n,e,t){return(Wi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?T2:S2).apply(null,arguments)}function aE(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ki(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,a){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[i].apply(r,u)}}function wd(){this.s=this.s,this.o=this.o}var A2={};wd.prototype.s=!1,wd.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function E2(n){return Object.prototype.hasOwnProperty.call(n,HA)&&n[HA]||(n[HA]=++D2)}(this);delete A2[n]}},wd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const B1=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},U1=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let a=0;a<r;a++)a in i&&e.call(t,i[a],a,n)};function j1(n){return Array.prototype.concat.apply([],arguments)}function GA(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function lE(n){return/^[\s\xa0]*$/.test(n)}var Ls,H1=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Fs(n,e){return-1!=n.indexOf(e)}function $A(n,e){return n<e?-1:n>e?1:0}e:{var G1=$t.navigator;if(G1){var $1=G1.userAgent;if($1){Ls=$1;break e}}Ls=""}function qA(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function q1(n){const e={};for(const t in n)e[t]=n[t];return e}var z1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z1(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<z1.length;a++)t=z1[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function zA(n){return zA[" "](n),n}zA[" "]=oE;var cE,n,R2=Fs(Ls,"Opera"),Xm=Fs(Ls,"Trident")||Fs(Ls,"MSIE"),W1=Fs(Ls,"Edge"),ZA=W1||Xm,K1=Fs(Ls,"Gecko")&&!(Fs(Ls.toLowerCase(),"webkit")&&!Fs(Ls,"Edge"))&&!(Fs(Ls,"Trident")||Fs(Ls,"MSIE"))&&!Fs(Ls,"Edge"),k2=Fs(Ls.toLowerCase(),"webkit")&&!Fs(Ls,"Edge");function Y1(){var n=$t.document;return n?n.documentMode:void 0}e:{var WA="",KA=(n=Ls,K1?/rv:([^\);]+)(\)|;)/.exec(n):W1?/Edge\/([\d\.]+)/.exec(n):Xm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):k2?/WebKit\/(\S+)/.exec(n):R2?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(KA&&(WA=KA?KA[1]:""),Xm){var YA=Y1();if(null!=YA&&YA>parseFloat(WA)){cE=String(YA);break e}}cE=WA}var O2={};var N2=$t.document&&Xm&&(Y1()||parseInt(cE,10))||void 0,F2=function(){if(!$t.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{$t.addEventListener("test",oE,e),$t.removeEventListener("test",oE,e)}catch(t){}return n}();function hs(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Uv(n,e){if(hs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(K1){e:{try{zA(e.nodeName);var i=!0;break e}catch(a){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:L2[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Uv.Z.h.call(this)}}hs.prototype.h=function(){this.defaultPrevented=!0},Ki(Uv,hs);var L2={2:"touch",3:"pen",4:"mouse"};Uv.prototype.h=function(){Uv.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var jv="closure_listenable_"+(1e6*Math.random()|0),V2=0;function B2(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++V2,this.ca=this.fa=!1}function uE(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function dE(n){this.src=n,this.g={},this.h=0}function JA(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=B1(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(uE(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function XA(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ca&&a.listener==e&&a.capture==!!t&&a.ia==r)return i}return-1}dE.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=XA(n,e,r,i);return-1<u?(e=n[u],t||(e.fa=!1)):((e=new B2(e,this.src,a,!!r,i)).fa=t,n.push(e)),e};var eM="closure_lm_"+(1e6*Math.random()|0),tM={};function J1(n,e,t,r,i){if(r&&r.once)return eP(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)J1(n,e[a],t,r,i);return null}return t=sM(t),n&&n[jv]?n.N(e,t,Bv(r)?!!r.capture:!!r,i):X1(n,e,t,!1,r,i)}function X1(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var u=Bv(i)?!!i.capture:!!i,f=rM(n);if(f||(n[eM]=f=new dE(n)),(t=f.add(e,t,r,u,a)).proxy)return t;if(r=function U2(){var e=j2;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)F2||(i=u),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(nP(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function eP(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)eP(n,e[a],t,r,i);return null}return t=sM(t),n&&n[jv]?n.O(e,t,Bv(r)?!!r.capture:!!r,i):X1(n,e,t,!0,r,i)}function tP(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)tP(n,e[a],t,r,i);else r=Bv(r)?!!r.capture:!!r,t=sM(t),n&&n[jv]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=XA(a=n.g[e],t,r,i))&&(uE(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=rM(n))&&(e=n.g[e.toString()],n=-1,e&&(n=XA(e,t,r,i)),(t=-1<n?e[n]:null)&&nM(t))}function nM(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[jv])JA(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(nP(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=rM(e))?(JA(t,n),0==t.h&&(t.src=null,e[eM]=null)):uE(n)}}}function nP(n){return n in tM?tM[n]:tM[n]="on"+n}function j2(n,e){if(n.ca)n=!0;else{e=new Uv(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&nM(n),n=t.call(r,e)}return n}function rM(n){return(n=n[eM])instanceof dE?n:null}var iM="__closure_events_fn_"+(1e9*Math.random()>>>0);function sM(n){return"function"==typeof n?n:(n[iM]||(n[iM]=function(e){return n.handleEvent(e)}),n[iM])}function Mi(){wd.call(this),this.i=new dE(this),this.P=this,this.I=null}function Yi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new hs(e,n);else if(e instanceof hs)e.target=e.target||n;else{var i=e;Z1(e=new hs(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var u=e.g=t[a];i=hE(u,r,!0,e)&&i}if(i=hE(u=e.g=n,r,!0,e)&&i,i=hE(u,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=hE(u=e.g=t[a],r,!1,e)&&i}function hE(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.ca&&u.capture==t){var f=u.listener,g=u.ia||u.src;u.fa&&JA(n.i,u),i=!1!==f.call(g,r)&&i}}return i&&!r.defaultPrevented}Ki(Mi,wd),Mi.prototype[jv]=!0,Mi.prototype.removeEventListener=function(n,e,t,r){tP(this,n,e,t,r)},Mi.prototype.M=function(){if(Mi.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)uE(t[r]);delete n.g[e],n.h--}}this.I=null},Mi.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Mi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var oM=$t.JSON.stringify;function H2(){var n=iP;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var lM,rP=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new $2,n=>n.reset());class $2{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function q2(n){$t.setTimeout(()=>{throw n},0)}function aM(n,e){lM||function z2(){var n=$t.Promise.resolve(void 0);lM=function(){n.then(Z2)}}(),cM||(lM(),cM=!0),iP.add(n,e)}var cM=!1,iP=new class G2{constructor(){this.h=this.g=null}add(e,t){const r=rP.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Z2(){for(var n;n=H2();){try{n.h.call(n.g)}catch(t){q2(t)}var e=rP;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}cM=!1}function fE(n,e){Mi.call(this),this.h=n||1,this.g=e||$t,this.j=Wi(this.kb,this),this.l=Date.now()}function uM(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function dM(n,e,t){if("function"==typeof n)t&&(n=Wi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Wi(n.handleEvent,n)}return 2147483647<Number(e)?-1:$t.setTimeout(n,e||0)}function sP(n){n.g=dM(()=>{n.g=null,n.i&&(n.i=!1,sP(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ki(fE,Mi),(lt=fE.prototype).da=!1,lt.S=null,lt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Yi(this,"tick"),this.da&&(uM(this),this.start()))}},lt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},lt.M=function(){fE.Z.M.call(this),uM(this),delete this.g};class W2 extends wd{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:sP(this)}M(){super.M(),this.g&&($t.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hv(n){wd.call(this),this.h=n,this.g={}}Ki(Hv,wd);var oP=[];function aP(n,e,t,r){Array.isArray(t)||(t&&(oP[0]=t.toString()),t=oP);for(var i=0;i<t.length;i++){var a=J1(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function lP(n){qA(n.g,function(e,t){this.g.hasOwnProperty(t)&&nM(e)},n),n.g={}}function pE(){this.g=!0}function eg(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function J2(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<i.length;u++)i[u]=""}}}return oM(t)}catch(f){return e}}(n,t)+(r?" "+r:"")})}Hv.prototype.M=function(){Hv.Z.M.call(this),lP(this)},Hv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},pE.prototype.Aa=function(){this.g=!1},pE.prototype.info=function(){};var df={},cP=null;function mE(){return cP=cP||new Mi}function uP(n){hs.call(this,df.Ma,n)}function Gv(n){const e=mE();Yi(e,new uP(e,n))}function dP(n,e){hs.call(this,df.STAT_EVENT,n),this.stat=e}function Vs(n){const e=mE();Yi(e,new dP(e,n))}function hP(n,e){hs.call(this,df.Na,n),this.size=e}function $v(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return $t.setTimeout(function(){n()},e)}df.Ma="serverreachability",Ki(uP,hs),df.STAT_EVENT="statevent",Ki(dP,hs),df.Na="timingevent",Ki(hP,hs);var gE={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},fP={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function hM(){}function mP(){}hM.prototype.h=null;var mM,qv={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function fM(){hs.call(this,"d")}function pM(){hs.call(this,"c")}function _E(){}function zv(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Hv(this),this.P=X2,this.W=new fE(n=ZA?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new gP}function gP(){this.i=null,this.g="",this.h=!1}Ki(fM,hs),Ki(pM,hs),Ki(_E,hM),_E.prototype.g=function(){return new XMLHttpRequest},_E.prototype.i=function(){return{}},mM=new _E;var X2=45e3,gM={},yE={};function _M(n,e,t){n.K=1,n.v=EE(iu(e)),n.s=t,n.U=!0,_P(n,null)}function _P(n,e){n.F=Date.now(),Zv(n),n.A=iu(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),SP(t.h,"t",r),n.C=0,t=n.l.H,n.h=new gP,n.g=KP(n.l,t?e:null,!n.s),0<n.O&&(n.L=new W2(Wi(n.Ia,n,n.g),n.O)),aP(n.V,n.g,"readystatechange",n.gb),e=n.H?q1(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Gv(1),function K2(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var u="",f=a.split("&"),g=0;g<f.length;g++){var b=f[g].split("=");if(1<b.length){var T=b[0];b=b[1];var A=T.split("_");u=2<=A.length&&"type"==A[1]?u+(T+"=")+b+"&":u+(T+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function yP(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function vP(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=eU(n,t),i==yE){4==e&&(n.o=4,Vs(14),r=!1),eg(n.j,n.m,null,"[Incomplete Response]");break}if(i==gM){n.o=4,Vs(15),eg(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}eg(n.j,n.m,i,null),yM(n,i)}yP(n)&&i!=yE&&i!=gM&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Vs(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),MM(e),e.L=!0,Vs(11))):(eg(n.j,n.m,t,"[Invalid Chunked Response]"),hf(n),Wv(n))}function eU(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?yE:(t=Number(e.substring(t,r)),isNaN(t)?gM:(r+=1)+t>e.length?yE:(e=e.substr(r,t),n.C=r+t,e))}function Zv(n){n.Y=Date.now()+n.P,bP(n,n.P)}function bP(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=$v(Wi(n.eb,n),e)}function vE(n){n.B&&($t.clearTimeout(n.B),n.B=null)}function Wv(n){0==n.l.G||n.I||qP(n.l,n)}function hf(n){vE(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,uM(n.W),lP(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function yM(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||wM(t.i,n)))if(t.I=n.N,!n.J&&wM(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(b){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=$v(Wi(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;ME(t),IE(t)}AM(t),Vs(18)}if(1>=MP(t.i)&&t.ka){try{t.ka()}catch(b){}t.ka=void 0}}else mf(t,11)}else if((n.J||t.g==n)&&ME(t),!lE(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let b=i[e];if(t.U=b[0],b=b[1],2==t.G)if("c"==b[0]){t.J=b[1],t.la=b[2];const T=b[3];null!=T&&(t.ma=T,t.h.info("VER="+t.ma));const A=b[4];null!=A&&(t.za=A,t.h.info("SVER="+t.za));const O=b[5];null!=O&&"number"==typeof O&&0<O&&(t.K=r=1.5*O,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const H=n.g;if(H){const q=H.g?H.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(q){var a=r.i;!a.g&&(Fs(q,"spdy")||Fs(q,"quic")||Fs(q,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(CM(a,a.h),a.h=null))}if(r.D){const ee=H.g?H.g.getResponseHeader("X-HTTP-Session-Id"):null;ee&&(r.sa=ee,hr(r.F,r.D,ee))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var u=n;if((r=t).oa=WP(r,r.H?r.la:null,r.W),u.J){xP(r.i,u);var f=u,g=r.K;g&&f.setTimeout(g),f.B&&(vE(f),Zv(f)),r.g=u}else GP(r);0<t.l.length&&AE(t)}else"stop"!=b[0]&&"close"!=b[0]||mf(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?mf(t,7):SM(t):"noop"!=b[0]&&t.j&&t.j.wa(b),t.A=0)}Gv(4)}catch(b){}}function vM(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(jA(n)||"string"==typeof n)U1(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(jA(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function tU(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(jA(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}}function tg(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof tg)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function bM(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];ff(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)ff(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function ff(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(lt=zv.prototype).setTimeout=function(n){this.P=n},lt.gb=function(n){n=n.target;const e=this.L;e&&3==su(n)?e.l():this.Ia(n)},lt.Ia=function(n){try{if(n==this.g)e:{const T=su(this.g);var e=this.g.Da();const A=this.g.ba();if(!(3>T)&&(3!=T||ZA||this.g&&(this.h.h||this.g.ga()||VP(this.g)))){this.I||4!=T||7==e||Gv(8==e||0>=A?3:2),vE(this);var t=this.g.ba();this.N=t;t:if(yP(this)){var r=VP(this.g);n="";var i=r.length,a=4==su(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){hf(this),Wv(this);var u="";break t}this.h.i=new $t.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==t,function Y2(n,e,t,r,i,a,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.X,T,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,g=this.g;if((f=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lE(f)){var b=f;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,Vs(12),hf(this),Wv(this);break e}eg(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,yM(this,t)}this.U?(vP(this,T,u),ZA&&this.i&&3==T&&(aP(this.V,this.W,"tick",this.fb),this.W.start())):(eg(this.j,this.m,u,null),yM(this,u)),4==T&&hf(this),this.i&&!this.I&&(4==T?qP(this.l,this):(this.i=!1,Zv(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Vs(12)):(this.o=0,Vs(13)),hf(this),Wv(this)}}}catch(T){}},lt.fb=function(){if(this.g){var n=su(this.g),e=this.g.ga();this.C<e.length&&(vE(this),vP(this,n,e),this.i&&4!=n&&Zv(this))}},lt.cancel=function(){this.I=!0,hf(this)},lt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Q2(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Gv(3),Vs(17)),hf(this),this.o=2,Wv(this)):bP(this,this.Y-n)},(lt=tg.prototype).R=function(){bM(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},lt.T=function(){return bM(this),this.g.concat()},lt.get=function(n,e){return ff(this.h,n)?this.h[n]:e},lt.set=function(n,e){ff(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},lt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],a=this.get(i);n.call(e,a,i,this)}};var wP=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function pf(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof pf){this.g=void 0!==e?e:n.g,bE(this,n.j),this.s=n.s,wE(this,n.i),CE(this,n.m),this.l=n.l,e=n.h;var t=new Qv;t.i=e.i,e.g&&(t.g=new tg(e.g),t.h=e.h),CP(this,t),this.o=n.o}else n&&(t=String(n).match(wP))?(this.g=!!e,bE(this,t[1]||"",!0),this.s=Kv(t[2]||""),wE(this,t[3]||"",!0),CE(this,t[4]),this.l=Kv(t[5]||"",!0),CP(this,t[6]||"",!0),this.o=Kv(t[7]||"")):(this.g=!!e,this.h=new Qv(null,this.g))}function iu(n){return new pf(n)}function bE(n,e,t){n.j=t?Kv(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function wE(n,e,t){n.i=t?Kv(e,!0):e}function CE(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function CP(n,e,t){e instanceof Qv?(n.h=e,function uU(n,e){e&&!n.j&&(Cd(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(DP(this,r),SP(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Yv(e,lU)),n.h=new Qv(e,n.g))}function hr(n,e,t){n.h.set(e,t)}function EE(n){return hr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Kv(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Yv(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,sU),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function sU(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}pf.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Yv(e,EP,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Yv(e,EP,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Yv(t,"/"==t.charAt(0)?aU:oU,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Yv(t,cU)),n.join("")};var EP=/[#\/\?@]/g,oU=/[#\?:]/g,aU=/[#\?]/g,lU=/[#\?@]/g,cU=/#/g;function Qv(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Cd(n){n.g||(n.g=new tg,n.h=0,n.i&&function nU(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function DP(n,e){Cd(n),e=ng(n,e),ff(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,ff((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&bM(n)))}function TP(n,e){return Cd(n),e=ng(n,e),ff(n.g.h,e)}function SP(n,e,t){DP(n,e),0<t.length&&(n.i=null,n.g.set(ng(n,e),GA(t)),n.h+=t.length)}function ng(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function IP(n){this.l=n||hU,n=$t.PerformanceNavigationTiming?0<(n=$t.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!($t.g&&$t.g.Ea&&$t.g.Ea()&&$t.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(lt=Qv.prototype).add=function(n,e){Cd(this),this.i=null,n=ng(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},lt.forEach=function(n,e){Cd(this),this.g.forEach(function(t,r){U1(t,function(i){n.call(e,i,r,this)},this)},this)},lt.T=function(){Cd(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],a=0;a<i.length;a++)t.push(e[r]);return t},lt.R=function(n){Cd(this);var e=[];if("string"==typeof n)TP(this,n)&&(e=j1(e,this.g.get(ng(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=j1(e,n[t])}return e},lt.set=function(n,e){return Cd(this),this.i=null,TP(this,n=ng(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},lt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},lt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var u=i;""!==r[a]&&(u+="="+encodeURIComponent(String(r[a]))),n.push(u)}}return this.i=n.join("&")};var hU=10;function AP(n){return!!n.h||!!n.g&&n.g.size>=n.j}function MP(n){return n.h?1:n.g?n.g.size:0}function wM(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function CM(n,e){n.g?n.g.add(e):n.h=e}function xP(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function RP(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return GA(n.i)}function EM(){}function fU(){this.g=new EM}function pU(n,e,t){const r=t||"";try{vM(n,function(i,a){let u=i;Bv(i)&&(u=oM(i)),e.push(r+a+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function DE(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(a){}}function Jv(n){this.l=n.$b||null,this.j=n.ib||!1}function TE(n,e){Mi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=DM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}IP.prototype.cancel=function(){if(this.i=RP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},EM.prototype.stringify=function(n){return $t.JSON.stringify(n,void 0)},EM.prototype.parse=function(n){return $t.JSON.parse(n,void 0)},Ki(Jv,hM),Jv.prototype.g=function(){return new TE(this.l,this.j)},Jv.prototype.i=function(n){return function(){return n}}({}),Ki(TE,Mi);var DM=0;function kP(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Xv(n){n.readyState=4,n.l=null,n.j=null,n.A=null,eb(n)}function eb(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(lt=TE.prototype).open=function(n,e){if(this.readyState!=DM)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,eb(this)},lt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||$t).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},lt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xv(this)),this.readyState=DM},lt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,eb(this)),this.g&&(this.readyState=3,eb(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==$t.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;kP(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},lt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Xv(this):eb(this),3==this.readyState&&kP(this)}},lt.Ua=function(n){this.g&&(this.response=this.responseText=n,Xv(this))},lt.Ta=function(n){this.g&&(this.response=n,Xv(this))},lt.ha=function(){this.g&&Xv(this)},lt.setRequestHeader=function(n,e){this.v.append(n,e)},lt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},lt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(TE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var gU=$t.JSON.parse;function ni(n){Mi.call(this),this.headers=new tg,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=OP,this.K=this.L=!1}Ki(ni,Mi);var OP="",_U=/^https?$/i,yU=["POST","PUT"];function bU(n){return"content-type"==n.toLowerCase()}function PP(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,NP(n),SE(n)}function NP(n){n.D||(n.D=!0,Yi(n,"complete"),Yi(n,"error"))}function FP(n){if(n.h&&void 0!==UA&&(!n.C[1]||4!=su(n)||2!=n.ba()))if(n.v&&4==su(n))dM(n.Fa,0,n);else if(Yi(n,"readystatechange"),4==su(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(wP)[1]||null;if(!i&&$t.self&&$t.self.location){var a=$t.self.location.protocol;i=a.substr(0,a.length-1)}r=!_U.test(i?i.toLowerCase():"")}t=r}if(t)Yi(n,"complete"),Yi(n,"success");else{n.m=6;try{var u=2<su(n)?n.g.statusText:""}catch(g){u=""}n.j=u+" ["+n.ba()+"]",NP(n)}}finally{SE(n)}}}function SE(n,e){if(n.g){LP(n);const t=n.g,r=n.C[0]?oE:null;n.g=null,n.C=null,e||Yi(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function LP(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&($t.clearTimeout(n.A),n.A=null)}function su(n){return n.g?n.g.readyState:0}function VP(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case OP:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function TM(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function wU(n){let e="";return qA(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):hr(n,e,t))}function tb(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function BP(n){this.za=0,this.l=[],this.h=new pE,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=tb("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=tb("baseRetryDelayMs",5e3,n),this.$a=tb("retryDelaySeedMs",1e4,n),this.Ya=tb("forwardChannelMaxRetries",2,n),this.ra=tb("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new IP(n&&n.concurrentRequestLimit),this.Ca=new fU,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function SM(n){if(UP(n),3==n.G){var e=n.V++,t=iu(n.F);hr(t,"SID",n.J),hr(t,"RID",e),hr(t,"TYPE","terminate"),nb(n,t),(e=new zv(n,n.h,e,void 0)).K=2,e.v=EE(iu(t)),t=!1,$t.navigator&&$t.navigator.sendBeacon&&(t=$t.navigator.sendBeacon(e.v.toString(),"")),!t&&$t.Image&&((new Image).src=e.v,t=!0),t||(e.g=KP(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Zv(e)}ZP(n)}function IE(n){n.g&&(MM(n),n.g.cancel(),n.g=null)}function UP(n){IE(n),n.u&&($t.clearTimeout(n.u),n.u=null),ME(n),n.i.cancel(),n.m&&("number"==typeof n.m&&$t.clearTimeout(n.m),n.m=null)}function IM(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&AE(n)}function AE(n){AP(n.i)||n.m||(n.m=!0,aM(n.Ha,n),n.C=0)}function jP(n,e){var t;t=e?e.m:n.V++;const r=iu(n.F);hr(r,"SID",n.J),hr(r,"RID",t),hr(r,"AID",n.U),nb(n,r),n.o&&n.s&&TM(r,n.o,n.s),t=new zv(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=HP(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),CM(n.i,t),_M(t,r,e)}function nb(n,e){n.j&&vM({},function(t,r){hr(e,r,t)})}function HP(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Wi(n.j.Oa,n.j,n):null;e:{var i=n.l;let a=-1;for(;;){const u=["count="+t];-1==a?0<t?(a=i[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let f=!0;for(let g=0;g<t;g++){let b=i[g].h;const T=i[g].g;if(b-=a,0>b)a=Math.max(0,i[g].h-100),f=!1;else try{pU(T,u,"req"+b+"_")}catch(A){r&&r(T)}}if(f){r=u.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function GP(n){n.g||n.u||(n.Y=1,aM(n.Ga,n),n.A=0)}function AM(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=$v(Wi(n.Ga,n),zP(n,n.A)),n.A++,0))}function MM(n){null!=n.B&&($t.clearTimeout(n.B),n.B=null)}function $P(n){n.g=new zv(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=iu(n.oa);hr(e,"RID","rpc"),hr(e,"SID",n.J),hr(e,"CI",n.N?"0":"1"),hr(e,"AID",n.U),nb(n,e),hr(e,"TYPE","xmlhttp"),n.o&&n.s&&TM(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=EE(iu(e)),t.s=null,t.U=!0,_P(t,n)}function ME(n){null!=n.v&&($t.clearTimeout(n.v),n.v=null)}function qP(n,e){var t=null;if(n.g==e){ME(n),MM(n),n.g=null;var r=2}else{if(!wM(n.i,e))return;t=e.D,xP(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Yi(r=mE(),new hP(r,t,e,i)),AE(n)}else GP(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function CU(n,e){return!(MP(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=$v(Wi(n.Ha,n,e),zP(n,n.C)),n.C++,0)))}(n,e)||2==r&&AM(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:mf(n,5);break;case 4:mf(n,10);break;case 3:mf(n,6);break;default:mf(n,2)}}function zP(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function mf(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Wi(n.jb,n);t||(t=new pf("//www.google.com/images/cleardot.gif"),$t.location&&"http"==$t.location.protocol||bE(t,"https"),EE(t)),function mU(n,e){const t=new pE;if($t.Image){const r=new Image;r.onload=aE(DE,t,r,"TestLoadImage: loaded",!0,e),r.onerror=aE(DE,t,r,"TestLoadImage: error",!1,e),r.onabort=aE(DE,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=aE(DE,t,r,"TestLoadImage: timeout",!1,e),$t.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Vs(2);n.G=0,n.j&&n.j.va(e),ZP(n),UP(n)}function ZP(n){n.G=0,n.I=-1,n.j&&((0!=RP(n.i).length||0!=n.l.length)&&(n.i.i.length=0,GA(n.l),n.l.length=0),n.j.ua())}function WP(n,e,t){let r=function rU(n){return n instanceof pf?iu(n):new pf(n,void 0)}(t);if(""!=r.i)e&&wE(r,e+"."+r.i),CE(r,r.m);else{const i=$t.location;r=function iU(n,e,t,r){var i=new pf(null,void 0);return n&&bE(i,n),e&&wE(i,e),t&&CE(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&qA(n.aa,function(i,a){hr(r,a,i)}),t=n.sa,(e=n.D)&&t&&hr(r,e,t),hr(r,"VER",n.ma),nb(n,r),r}function KP(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ni(t&&n.Ba&&!n.qa?new Jv({ib:!0}):n.qa)).L=n.H,e}function YP(){}function xE(){if(Xm&&!(10<=Number(N2)))throw Error("Environmental error: no available transport.")}function Ho(n,e){Mi.call(this),this.g=new BP(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!lE(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!lE(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new rg(this)}function QP(n){fM.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function JP(){pM.call(this),this.status=1}function rg(n){this.g=n}(lt=ni.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():mM.g(),this.C=function pP(n){return n.h||(n.h=n.i())}(this.u?this.u:mM),this.g.onreadystatechange=Wi(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void PP(this,a)}n=t||"";const i=new tg(this.headers);r&&vM(r,function(a,u){i.set(u,a)}),r=function M2(n){e:{var e=bU;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=$t.FormData&&n instanceof $t.FormData,!(0<=B1(yU,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(a,u){this.g.setRequestHeader(u,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{LP(this),0<this.B&&((this.K=function vU(n){return Xm&&function P2(){return function x2(n){var e=O2;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=H1(String(cE)).split("."),t=H1("9").split("."),r=Math.max(e.length,t.length);for(let u=0;0==n&&u<r;u++){var i=e[u]||"",a=t[u]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=$A(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||$A(0==i[2].length,0==a[2].length)||$A(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wi(this.pa,this)):this.A=dM(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){PP(this,a)}},lt.pa=function(){void 0!==UA&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yi(this,"timeout"),this.abort(8))},lt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Yi(this,"complete"),Yi(this,"abort"),SE(this))},lt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),SE(this,!0)),ni.Z.M.call(this)},lt.Fa=function(){this.s||(this.F||this.v||this.l?FP(this):this.cb())},lt.cb=function(){FP(this)},lt.ba=function(){try{return 2<su(this)?this.g.status:-1}catch(n){return-1}},lt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},lt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),gU(e)}},lt.Da=function(){return this.m},lt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(lt=BP.prototype).ma=8,lt.G=1,lt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},lt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new zv(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=q1(a),Z1(a,this.P)):a=this.P),null===this.o&&(i.H=a),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=HP(this,i,e),hr(t=iu(this.F),"RID",n),hr(t,"CVER",22),this.D&&hr(t,"X-HTTP-Session-Id",this.D),nb(this,t),this.o&&a&&TM(t,this.o,a),CM(this.i,i),this.Ra&&hr(t,"TYPE","init"),this.ja?(hr(t,"$req",e),hr(t,"SID","null"),i.$=!0,_M(i,t,null)):_M(i,t,e),this.G=2}}else 3==this.G&&(n?jP(this,n):0==this.l.length||AP(this.i)||jP(this))},lt.Ga=function(){if(this.u=null,$P(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=$v(Wi(this.bb,this),n)}},lt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Vs(10),IE(this),$P(this))},lt.ab=function(){null!=this.v&&(this.v=null,IE(this),AM(this),Vs(19))},lt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Vs(2)):(this.h.info("Failed to ping google.com"),Vs(1))},(lt=YP.prototype).xa=function(){},lt.wa=function(){},lt.va=function(){},lt.ua=function(){},lt.Oa=function(){},xE.prototype.g=function(n,e){return new Ho(n,e)},Ki(Ho,Mi),Ho.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),aM(Wi(n.hb,n,e))),Vs(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=WP(n,null,n.W),AE(n)},Ho.prototype.close=function(){SM(this.g)},Ho.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,IM(this.g,e)}else this.v?((e={}).__data__=oM(n),IM(this.g,e)):IM(this.g,n)},Ho.prototype.M=function(){this.g.j=null,delete this.j,SM(this.g),delete this.g,Ho.Z.M.call(this)},Ki(QP,fM),Ki(JP,pM),Ki(rg,YP),rg.prototype.xa=function(){Yi(this.g,"a")},rg.prototype.wa=function(n){Yi(this.g,new QP(n))},rg.prototype.va=function(n){Yi(this.g,new JP(n))},rg.prototype.ua=function(){Yi(this.g,"b")},xE.prototype.createWebChannel=xE.prototype.g,Ho.prototype.send=Ho.prototype.u,Ho.prototype.open=Ho.prototype.m,Ho.prototype.close=Ho.prototype.close,gE.NO_ERROR=0,gE.TIMEOUT=8,gE.HTTP_ERROR=6,fP.COMPLETE="complete",mP.EventType=qv,qv.OPEN="a",qv.CLOSE="b",qv.ERROR="c",qv.MESSAGE="d",Mi.prototype.listen=Mi.prototype.N,ni.prototype.listenOnce=ni.prototype.O,ni.prototype.getLastError=ni.prototype.La,ni.prototype.getLastErrorCode=ni.prototype.Da,ni.prototype.getStatus=ni.prototype.ba,ni.prototype.getResponseJson=ni.prototype.Qa,ni.prototype.getResponseText=ni.prototype.ga,ni.prototype.send=ni.prototype.ea;var EU=ru.createWebChannelTransport=function(){return new xE},DU=ru.getStatEventTarget=function(){return mE()},xM=ru.ErrorCode=gE,TU=ru.EventType=fP,SU=ru.Event=df,XP=ru.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},IU=ru.FetchXmlHttpFactory=Jv,RE=ru.WebChannel=mP,AU=ru.XhrIo=ni;const eN="@firebase/firestore";class Qi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qi.UNAUTHENTICATED=new Qi(null),Qi.GOOGLE_CREDENTIALS=new Qi("google-credentials-uid"),Qi.FIRST_PARTY=new Qi("first-party-uid"),Qi.MOCK_USER=new Qi("mock-user");let ig="9.6.10";const Ed=new el.Yd("@firebase/firestore");function RM(){return Ed.logLevel}function Ue(n,...e){if(Ed.logLevel<=el.in.DEBUG){const t=e.map(kM);Ed.debug(`Firestore (${ig}): ${n}`,...t)}}function ri(n,...e){if(Ed.logLevel<=el.in.ERROR){const t=e.map(kM);Ed.error(`Firestore (${ig}): ${n}`,...t)}}function rb(n,...e){if(Ed.logLevel<=el.in.WARN){const t=e.map(kM);Ed.warn(`Firestore (${ig}): ${n}`,...t)}}function kM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function dt(n="Unexpected state"){const e=`FIRESTORE (${ig}) INTERNAL ASSERTION FAILED: `+n;throw ri(e),new Error(e)}function jt(n,e){n||dt()}function tt(n,e){return n}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends yt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class tN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Qi.UNAUTHENTICATED))}shutdown(){}}class kU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class OU{constructor(e){this.t=e,this.currentUser=Qi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=b=>this.i!==i?(i=this.i,t(b)):Promise.resolve();let u=new xi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new xi,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const b=u;e.enqueueRetryable((0,we.Z)(function*(){yield b.promise,yield a(r.currentUser)}))},g=b=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(b=>g(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?g(b):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new xi)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(jt("string"==typeof r.accessToken),new tN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return jt(null===e||"string"==typeof e),new Qi(e)}}class PU{constructor(e,t,r){this.type="FirstParty",this.user=Qi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class NU{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new PU(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Qi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class nN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FU{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=a=>{null!=a.error&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.p;return this.p=a.token,Ue("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?i(a):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(jt("string"==typeof t.token),this.p=t.token,new nN(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Go{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function LU(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Go.A=-1;class rN{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=LU(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function tn(n,e){return n<e?-1:n>e?1:0}function sg(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function iN(n){return n+"\0"}class $r{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oe(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oe(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Oe(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $r.fromMillis(Date.now())}static fromDate(e){return $r.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new $r(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?tn(this.nanoseconds,e.nanoseconds):tn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Pt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pt(e)}static min(){return new Pt(new $r(0,0))}static max(){return new Pt(new $r(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function sN(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function gf(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function oN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ib{constructor(e,t,r){void 0===t?t=0:t>e.length&&dt(),void 0===r?r=e.length-t:r>e.length-t&&dt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===ib.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ib?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),u=t.get(i);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class un extends ib{construct(e,t,r){return new un(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Oe(pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new un(t)}static emptyPath(){return new un([])}}const VU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ri extends ib{construct(e,t,r){return new Ri(e,t,r)}static isValidIdentifier(e){return VU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ri.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ri(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Oe(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Oe(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[i+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new Oe(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,i+=2}else"`"===f?(u=!u,i++):"."!==f||u?(r+=f,i++):(a(),i++)}if(a(),u)throw new Oe(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ri(t)}static emptyPath(){return new Ri([])}}class og{constructor(e){this.fields=e,e.sort(Ri.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sg(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class mi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new mi(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new mi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mi.EMPTY_BYTE_STRING=new mi("");const UU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dd(n){if(jt(!!n),"string"==typeof n){let e=0;const t=UU.exec(n);if(jt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xr(n.seconds),nanos:xr(n.nanos)}}function xr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function _f(n){return"string"==typeof n?mi.fromBase64String(n):mi.fromUint8Array(n)}function OM(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function aN(n){const e=n.mapValue.fields.__previous_value__;return OM(e)?aN(e):e}function sb(n){const e=Dd(n.mapValue.fields.__local_write_time__.timestampValue);return new $r(e.seconds,e.nanos)}class jU{constructor(e,t,r,i,a,u,f,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=g}}class ou{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ou("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ou&&e.projectId===this.projectId&&e.database===this.database}}function yf(n){return null==n}function ob(n){return 0===n&&1/n==-1/0}function lN(n){return"number"==typeof n&&Number.isInteger(n)&&!ob(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ze{constructor(e){this.path=e}static fromPath(e){return new Ze(un.fromString(e))}static fromName(e){return new Ze(un.fromString(e).popFirst(5))}static empty(){return new Ze(un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===un.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return un.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ze(new un(e.slice()))}}const cN={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},uN={nullValue:"NULL_VALUE"};function vf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?OM(n)?4:pN(n)?9:10:dt()}function rc(n,e){if(n===e)return!0;const t=vf(n);if(t!==vf(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return sb(n).isEqual(sb(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=Dd(r.timestampValue),u=Dd(i.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,_f(n.bytesValue).isEqual(_f(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return xr(r.geoPointValue.latitude)===xr(i.geoPointValue.latitude)&&xr(r.geoPointValue.longitude)===xr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return xr(r.integerValue)===xr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=xr(r.doubleValue),u=xr(i.doubleValue);return a===u?ob(a)===ob(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return sg(n.arrayValue.values||[],e.arrayValue.values||[],rc);case 10:return function(r,i){const a=r.mapValue.fields||{},u=i.mapValue.fields||{};if(sN(a)!==sN(u))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===u[f]||!rc(a[f],u[f])))return!1;return!0}(n,e);default:return dt()}var i}function ab(n,e){return void 0!==(n.values||[]).find(t=>rc(t,e))}function Td(n,e){if(n===e)return 0;const t=vf(n),r=vf(e);if(t!==r)return tn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return tn(n.booleanValue,e.booleanValue);case 2:return function(i,a){const u=xr(i.integerValue||i.doubleValue),f=xr(a.integerValue||a.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return dN(n.timestampValue,e.timestampValue);case 4:return dN(sb(n),sb(e));case 5:return tn(n.stringValue,e.stringValue);case 6:return function(i,a){const u=_f(i),f=_f(a);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const u=i.split("/"),f=a.split("/");for(let g=0;g<u.length&&g<f.length;g++){const b=tn(u[g],f[g]);if(0!==b)return b}return tn(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const u=tn(xr(i.latitude),xr(a.latitude));return 0!==u?u:tn(xr(i.longitude),xr(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const u=i.values||[],f=a.values||[];for(let g=0;g<u.length&&g<f.length;++g){const b=Td(u[g],f[g]);if(b)return b}return tn(u.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){const u=i.fields||{},f=Object.keys(u),g=a.fields||{},b=Object.keys(g);f.sort(),b.sort();for(let T=0;T<f.length&&T<b.length;++T){const A=tn(f[T],b[T]);if(0!==A)return A;const O=Td(u[f[T]],g[b[T]]);if(0!==O)return O}return tn(f.length,b.length)}(n.mapValue,e.mapValue);default:throw dt()}}function dN(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return tn(n,e);const t=Dd(n),r=Dd(e),i=tn(t.seconds,r.seconds);return 0!==i?i:tn(t.nanos,r.nanos)}function ag(n){return PM(n)}function PM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Dd(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?_f(n.bytesValue).toBase64():"referenceValue"in n?Ze.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const u of r.values||[])a?a=!1:i+=",",i+=PM(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",u=!0;for(const f of i)u?u=!1:a+=",",a+=`${f}:${PM(r.fields[f])}`;return a+"}"}(n.mapValue):dt();var e}function lg(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function NM(n){return!!n&&"integerValue"in n}function lb(n){return!!n&&"arrayValue"in n}function hN(n){return!!n&&"nullValue"in n}function fN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function kE(n){return!!n&&"mapValue"in n}function cb(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return gf(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=cb(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=cb(n.arrayValue.values[t]);return e}return Object.assign({},n)}function pN(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function mN(n,e){return void 0===n?e:void 0===e||Td(n,e)>0?n:e}function gN(n,e){return void 0===n?e:void 0===e||Td(n,e)<0?n:e}class fs{constructor(e){this.value=e}static empty(){return new fs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!kE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=cb(t)}setAll(e){let t=Ri.emptyPath(),r={},i=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,r,i),r={},i=[],t=f.popLast()}u?r[f.lastSegment()]=cb(u):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());kE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return rc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];kE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){gf(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new fs(cb(this.value))}}function _N(n){const e=[];return gf(n.fields,(t,r)=>{const i=new Ri([t]);if(kE(r)){const a=_N(r.mapValue).fields;if(0===a.length)e.push(i);else for(const u of a)e.push(i.child(u))}else e.push(i)}),new og(e)}class sr{constructor(e,t,r,i,a,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=a,this.documentState=u}static newInvalidDocument(e){return new sr(e,0,Pt.min(),Pt.min(),fs.empty(),0)}static newFoundDocument(e,t,r){return new sr(e,1,t,Pt.min(),r,0)}static newNoDocument(e,t){return new sr(e,2,t,Pt.min(),fs.empty(),0)}static newUnknownDocument(e,t){return new sr(e,3,t,Pt.min(),fs.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof sr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class OE{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function FM(n){return n.fields.find(e=>2===e.kind)}function cg(n){return n.fields.filter(e=>2!==e.kind)}OE.UNKNOWN_ID=-1;class PE{constructor(e,t){this.fieldPath=e,this.kind=t}}class ub{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ub(0,au.min())}}function yN(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Pt.fromTimestamp(1e9===r?new $r(t+1,0):new $r(t,r));return new au(i,Ze.empty(),e)}function HU(n){return new au(n.readTime,n.key,-1)}class au{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new au(Pt.min(),Ze.empty(),-1)}static max(){return new au(Pt.max(),Ze.empty(),-1)}}function GU(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ze.comparator(n.documentKey,e.documentKey),0!==t?t:tn(n.largestBatchId,e.largestBatchId))}class $U{constructor(e,t=null,r=[],i=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=u,this.endAt=f,this.P=null}}function vN(n,e=null,t=[],r=[],i=null,a=null,u=null){return new $U(n,e,t,r,i,a,u)}function bf(n){const e=tt(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+ag(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),yf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ag(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ag(r)).join(",")),e.P=t}return e.P}function db(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!XU(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!rc(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!CN(n.startAt,e.startAt)&&CN(n.endAt,e.endAt)}function NE(n){return Ze.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function FE(n,e){return n.filters.filter(t=>t instanceof Ji&&t.field.isEqual(e))}class Ji extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new zU(e,t,r):"array-contains"===t?new KU(e,r):"in"===t?new YU(e,r):"not-in"===t?new QU(e,r):"array-contains-any"===t?new JU(e,r):new Ji(e,t,r)}static V(e,t,r){return"in"===t?new ZU(e,r):new WU(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Td(t,this.value)):null!==t&&vf(this.value)===vf(t)&&this.v(Td(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return dt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class zU extends Ji{constructor(e,t,r){super(e,t,r),this.key=Ze.fromName(r.referenceValue)}matches(e){const t=Ze.comparator(e.key,this.key);return this.v(t)}}class ZU extends Ji{constructor(e,t){super(e,"in",t),this.keys=bN(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class WU extends Ji{constructor(e,t){super(e,"not-in",t),this.keys=bN(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function bN(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ze.fromName(r.referenceValue))}class KU extends Ji{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return lb(t)&&ab(t.arrayValue,this.value)}}class YU extends Ji{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ab(this.value.arrayValue,t)}}class QU extends Ji{constructor(e,t){super(e,"not-in",t)}matches(e){if(ab(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ab(this.value.arrayValue,t)}}class JU extends Ji{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!lb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ab(this.value.arrayValue,r))}}class Sd{constructor(e,t){this.position=e,this.inclusive=t}}class ug{constructor(e,t="asc"){this.field=e,this.dir=t}}function XU(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function wN(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],u=n.position[i];if(r=a.field.isKeyField()?Ze.comparator(Ze.fromName(u.referenceValue),t.key):Td(u,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function CN(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!rc(n.position[t],e.position[t]))return!1;return!0}class lu{constructor(e,t=null,r=[],i=[],a=null,u="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=g,this.D=null,this.C=null}}function EN(n,e,t,r,i,a,u,f){return new lu(n,e,t,r,i,a,u,f)}function dg(n){return new lu(n)}function LE(n){return!yf(n.limit)&&"F"===n.limitType}function VE(n){return!yf(n.limit)&&"L"===n.limitType}function LM(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function VM(n){for(const e of n.filters)if(e.S())return e.field;return null}function BM(n){return null!==n.collectionGroup}function hg(n){const e=tt(n);if(null===e.D){e.D=[];const t=VM(e),r=LM(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new ug(t)),e.D.push(new ug(Ri.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.D.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new ug(Ri.keyField(),a))}}}return e.D}function Aa(n){const e=tt(n);if(!e.C)if("F"===e.limitType)e.C=vN(e.path,e.collectionGroup,hg(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of hg(e))t.push(new ug(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new Sd(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new Sd(e.startAt.position,!e.startAt.inclusive):null;e.C=vN(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function DN(n,e,t){return new lu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function hb(n,e){return db(Aa(n),Aa(e))&&n.limitType===e.limitType}function TN(n){return`${bf(Aa(n))}|lt:${n.limitType}`}function UM(n){return`Query(target=${function qU(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${ag(r.value)}`;var r}).join(", ")}]`),yf(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>ag(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>ag(t)).join(",")),`Target(${e})`}(Aa(n))}; limitType=${n.limitType})`}function jM(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ze.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,u){const f=wN(i,a,u);return i.inclusive?f<=0:f<0}(t.startAt,hg(t),r)||t.endAt&&!function(i,a,u){const f=wN(i,a,u);return i.inclusive?f>=0:f>0}(t.endAt,hg(t),r)));var t,r}function SN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function IN(n){return(e,t)=>{let r=!1;for(const i of hg(n)){const a=ej(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function ej(n,e,t){const r=n.field.isKeyField()?Ze.comparator(e.key,t.key):function(i,a,u){const f=a.data.field(i),g=u.data.field(i);return null!==f&&null!==g?Td(f,g):dt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return dt()}}function AN(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ob(e)?"-0":e}}function MN(n){return{integerValue:""+n}}function xN(n,e){return lN(e)?MN(e):AN(n,e)}class BE{constructor(){this._=void 0}}function tj(n,e,t){return n instanceof fg?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof wf?kN(n,e):n instanceof Cf?ON(n,e):function(r,i){const a=RN(r,i),u=PN(a)+PN(r.k);return NM(a)&&NM(r.k)?MN(u):AN(r.M,u)}(n,e)}function nj(n,e,t){return n instanceof wf?kN(n,e):n instanceof Cf?ON(n,e):t}function RN(n,e){return n instanceof pg?NM(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class fg extends BE{}class wf extends BE{constructor(e){super(),this.elements=e}}function kN(n,e){const t=NN(e);for(const r of n.elements)t.some(i=>rc(i,r))||t.push(r);return{arrayValue:{values:t}}}class Cf extends BE{constructor(e){super(),this.elements=e}}function ON(n,e){let t=NN(e);for(const r of n.elements)t=t.filter(i=>!rc(i,r));return{arrayValue:{values:t}}}class pg extends BE{constructor(e,t){super(),this.M=e,this.k=t}}function PN(n){return xr(n.integerValue||n.doubleValue)}function NN(n){return lb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class fb{constructor(e,t){this.field=e,this.transform=t}}class ij{constructor(e,t){this.version=e,this.transformResults=t}}class ii{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ii}static exists(e){return new ii(void 0,e)}static updateTime(e){return new ii(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function UE(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class jE{}function sj(n,e,t){n instanceof pb?function(r,i,a){const u=r.value.clone(),f=BN(r.fieldTransforms,i,a.transformResults);u.setAll(f),i.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Ef?function(r,i,a){if(!UE(r.precondition,i))return void i.convertToUnknownDocument(a.version);const u=BN(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(VN(r)),f.setAll(u),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function HM(n,e,t){var i;n instanceof pb?function(r,i,a){if(!UE(r.precondition,i))return;const u=r.value.clone(),f=UN(r.fieldTransforms,a,i);u.setAll(f),i.convertToFoundDocument(LN(i),u).setHasLocalMutations()}(n,e,t):n instanceof Ef?function(r,i,a){if(!UE(r.precondition,i))return;const u=UN(r.fieldTransforms,a,i),f=i.data;f.setAll(VN(r)),f.setAll(u),i.convertToFoundDocument(LN(i),f).setHasLocalMutations()}(n,e,t):UE(n.precondition,i=e)&&i.convertToNoDocument(Pt.min())}function oj(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=RN(r.transform,i||null);null!=a&&(null==t&&(t=fs.empty()),t.set(r.field,a))}return t||null}function FN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&sg(t,r,(i,a)=>function rj(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof wf&&r instanceof wf||t instanceof Cf&&r instanceof Cf?sg(t.elements,r.elements,rc):t instanceof pg&&r instanceof pg?rc(t.k,r.k):t instanceof fg&&r instanceof fg);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function LN(n){return n.isFoundDocument()?n.version:Pt.min()}class pb extends jE{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Ef extends jE{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}}function VN(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function BN(n,e,t){const r=new Map;jt(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],u=a.transform,f=e.data.field(a.field);r.set(a.field,nj(u,f,t[i]))}return r}function UN(n,e,t){const r=new Map;for(const i of n){const a=i.transform,u=t.data.field(i.field);r.set(i.field,tj(a,u,e))}return r}class mb extends jE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class GM extends jE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class aj{constructor(e){this.count=e}}var si,dn;function jN(n){switch(n){default:return dt();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function HN(n){if(void 0===n)return ri("GRPC error has no .code"),pe.UNKNOWN;switch(n){case si.OK:return pe.OK;case si.CANCELLED:return pe.CANCELLED;case si.UNKNOWN:return pe.UNKNOWN;case si.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case si.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case si.INTERNAL:return pe.INTERNAL;case si.UNAVAILABLE:return pe.UNAVAILABLE;case si.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case si.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case si.NOT_FOUND:return pe.NOT_FOUND;case si.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case si.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case si.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case si.ABORTED:return pe.ABORTED;case si.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case si.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case si.DATA_LOSS:return pe.DATA_LOSS;default:return dt()}}(dn=si||(si={}))[dn.OK=0]="OK",dn[dn.CANCELLED=1]="CANCELLED",dn[dn.UNKNOWN=2]="UNKNOWN",dn[dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dn[dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dn[dn.NOT_FOUND=5]="NOT_FOUND",dn[dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",dn[dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",dn[dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",dn[dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dn[dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dn[dn.ABORTED=10]="ABORTED",dn[dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",dn[dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",dn[dn.INTERNAL=13]="INTERNAL",dn[dn.UNAVAILABLE=14]="UNAVAILABLE",dn[dn.DATA_LOSS=15]="DATA_LOSS";class Id{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){gf(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return oN(this.inner)}size(){return this.innerSize}}class qr{constructor(e,t){this.comparator=e,this.root=t||Xi.EMPTY}insert(e,t){return new qr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xi.BLACK,null,null))}remove(e){return new qr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new HE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new HE(this.root,e,this.comparator,!1)}getReverseIterator(){return new HE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new HE(this.root,e,this.comparator,!0)}}class HE{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xi{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=null!=r?r:Xi.RED,this.left=null!=i?i:Xi.EMPTY,this.right=null!=a?a:Xi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Xi(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Xi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Xi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();const e=this.left.check();if(e!==this.right.check())throw dt();return e+(this.isRed()?0:1)}}Xi.EMPTY=null,Xi.RED=!0,Xi.BLACK=!1,Xi.EMPTY=new class{constructor(){this.size=0}get key(){throw dt()}get value(){throw dt()}get color(){throw dt()}get left(){throw dt()}get right(){throw dt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Xi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class or{constructor(e){this.comparator=e,this.data=new qr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new GN(this.data.getIterator())}getIteratorFrom(e){return new GN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof or)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new or(this.comparator);return t.data=e,t}}class GN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function mg(n){return n.hasNext()?n.getNext():void 0}const lj=new qr(Ze.comparator);function Ma(){return lj}const cj=new qr(Ze.comparator);function $M(){return cj}function gb(){return new Id(n=>n.toString(),(n,e)=>n.isEqual(e))}const uj=new qr(Ze.comparator),dj=new or(Ze.comparator);function Mn(...n){let e=dj;for(const t of n)e=e.add(t);return e}const hj=new or(tn);function GE(){return hj}class _b{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,yb.createSynthesizedTargetChangeForCurrentChange(e,t)),new _b(Pt.min(),r,GE(),Ma(),Mn())}}class yb{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new yb(mi.EMPTY_BYTE_STRING,t,Mn(),Mn(),Mn())}}class $E{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class $N{constructor(e,t){this.targetId=e,this.$=t}}class qN{constructor(e,t,r=mi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class zN{constructor(){this.B=0,this.L=WN(),this.U=mi.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=Mn(),t=Mn(),r=Mn();return this.L.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:dt()}}),new yb(this.U,this.q,e,t,r)}J(){this.G=!1,this.L=WN()}Y(e,t){this.G=!0,this.L=this.L.insert(e,t)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class fj{constructor(e){this.nt=e,this.st=new Map,this.it=Ma(),this.rt=ZN(),this.ot=new or(tn)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:dt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const a=i.target;if(NE(a))if(0===r){const u=new Ze(a.path);this.ct(t,u,sr.newNoDocument(u,Pt.min()))}else jt(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((a,u)=>{const f=this.wt(u);if(f){if(a.current&&NE(f.target)){const g=new Ze(f.target.path);null!==this.it.get(g)||this.It(u,g)||this.ct(u,g,sr.newNoDocument(g,e))}a.j&&(t.set(u,a.H()),a.J())}});let r=Mn();this.rt.forEach((a,u)=>{let f=!0;u.forEachWhile(g=>{const b=this.wt(g);return!b||2===b.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.it.forEach((a,u)=>u.setReadTime(e));const i=new _b(e,t,this.ot,this.it,r);return this.it=Ma(),this.rt=ZN(),this.ot=new or(tn),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new zN,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new or(tn),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Ue("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new zN),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function ZN(){return new qr(Ze.comparator)}function WN(){return new qr(Ze.comparator)}const pj={asc:"ASCENDING",desc:"DESCENDING"},mj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class gj{constructor(e,t){this.databaseId=e,this.N=t}}function vb(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KN(n,e){return n.N?e.toBase64():e.toUint8Array()}function _j(n,e){return vb(n,e.toTimestamp())}function ki(n){return jt(!!n),Pt.fromTimestamp(function(e){const t=Dd(e);return new $r(t.seconds,t.nanos)}(n))}function qM(n,e){return(t=n,new un(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function YN(n){const e=un.fromString(n);return jt(sF(e)),e}function bb(n,e){return qM(n.databaseId,e.path)}function ic(n,e){const t=YN(e);if(t.get(1)!==n.databaseId.projectId)throw new Oe(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Oe(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ze(JN(t))}function zM(n,e){return qM(n.databaseId,e)}function QN(n){const e=YN(n);return 4===e.length?un.emptyPath():JN(e)}function wb(n){return new un(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function JN(n){return jt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function XN(n,e,t){return{name:bb(n,e),fields:t.value.mapValue.fields}}function eF(n,e,t){const r=ic(n,e.name),i=ki(e.updateTime),a=new fs({mapValue:{fields:e.fields}}),u=sr.newFoundDocument(r,i,a);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function Cb(n,e){let t;if(e instanceof pb)t={update:XN(n,e.key,e.value)};else if(e instanceof mb)t={delete:bb(n,e.key)};else if(e instanceof Ef)t={update:XN(n,e.key,e.data),updateMask:Sj(e.fieldMask)};else{if(!(e instanceof GM))return dt();t={verify:bb(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const u=a.transform;if(u instanceof fg)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof wf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Cf)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof pg)return{fieldPath:a.field.canonicalString(),increment:u.k};throw dt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:_j(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:dt()),t;var i}function ZM(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?ii.updateTime(ki(i.updateTime)):void 0!==i.exists?ii.exists(i.exists):ii.none():ii.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,u){let f=null;"setToServerValue"in u?(jt("REQUEST_TIME"===u.setToServerValue),f=new fg):"appendMissingElements"in u?f=new wf(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new Cf(u.removeAllFromArray.values||[]):"increment"in u?f=new pg(a,u.increment):dt();const g=Ri.fromServerFormat(u.fieldPath);return new fb(g,f)}(n,i)):[];var i;if(e.update){const i=ic(n,e.update.name),a=new fs({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new og((e.updateMask.fieldPaths||[]).map(b=>Ri.fromServerFormat(b)));return new Ef(i,a,u,t,r)}return new pb(i,a,t,r)}if(e.delete){const i=ic(n,e.delete);return new mb(i,t)}if(e.verify){const i=ic(n,e.verify);return new GM(i,t)}return dt()}function tF(n,e){return{documents:[zM(n,e.path)]}}function nF(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=zM(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=zM(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(g){if(0===g.length)return;const b=g.map(T=>function(A){if("=="===A.op){if(fN(A.value))return{unaryFilter:{field:gg(A.field),op:"IS_NAN"}};if(hN(A.value))return{unaryFilter:{field:gg(A.field),op:"IS_NULL"}}}else if("!="===A.op){if(fN(A.value))return{unaryFilter:{field:gg(A.field),op:"IS_NOT_NAN"}};if(hN(A.value))return{unaryFilter:{field:gg(A.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gg(A.field),op:Ej(A.op),value:A.value}}}(T));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);i&&(t.structuredQuery.where=i);const a=function(g){if(0!==g.length)return g.map(b=>{return{field:gg((T=b).field),direction:Cj(T.dir)};var T})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=(b=e.limit,n.N||yf(b)?b:{value:b});var b,f,g;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(g=e.endAt).inclusive,values:g.position}),t}function rF(n){let e=QN(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){jt(1===r);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let a=[];t.where&&(a=iF(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(T=>{return new ug(_g((A=T).field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let f=null;t.limit&&(f=function(T){let A;return A="object"==typeof T?T.value:T,yf(A)?null:A}(t.limit));let g=null;var T;t.startAt&&(g=new Sd((T=t.startAt).values||[],!!T.before));let b=null;return t.endAt&&(b=function(T){return new Sd(T.values||[],!T.before)}(t.endAt)),EN(e,i,u,a,f,"F",g,b)}function iF(n){return n?void 0!==n.unaryFilter?[Tj(n)]:void 0!==n.fieldFilter?[Dj(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>iF(e)).reduce((e,t)=>e.concat(t)):dt():[]}function Cj(n){return pj[n]}function Ej(n){return mj[n]}function gg(n){return{fieldPath:n.canonicalString()}}function _g(n){return Ri.fromServerFormat(n.fieldPath)}function Dj(n){return Ji.create(_g(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dt()}}(n.fieldFilter.op),n.fieldFilter.value)}function Tj(n){switch(n.unaryFilter.op){case"IS_NAN":const e=_g(n.unaryFilter.field);return Ji.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=_g(n.unaryFilter.field);return Ji.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=_g(n.unaryFilter.field);return Ji.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=_g(n.unaryFilter.field);return Ji.create(i,"!=",{nullValue:"NULL_VALUE"});default:return dt()}}function Sj(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function sF(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Oi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=oF(e)),e=Ij(n.get(t),e);return oF(e)}function Ij(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function oF(n){return n+"\x01\x01"}function il(n){const e=n.length;if(jt(e>=2),2===e)return jt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),un.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const u=n.indexOf("\x01",a);switch((u<0||u>t)&&dt(),n.charAt(u+1)){case"\x01":const f=n.substring(a,u);let g;0===i.length?g=f:(i+=f,g=i,i=""),r.push(g);break;case"\x10":i+=n.substring(a,u),i+="\0";break;case"\x11":i+=n.substring(a,u+1);break;default:dt()}a=u+2}return new un(r)}const aF=["userId","batchId"];function qE(n,e){return[n,Oi(e)]}function lF(n,e,t){return[n,Oi(e),t]}const Aj={},Mj=["prefixPath","collectionGroup","readTime","documentId"],xj=["prefixPath","collectionGroup","documentId"],Rj=["collectionGroup","readTime","prefixPath","documentId"],kj=["canonicalId","targetId"],Oj=["targetId","path"],Pj=["path","targetId"],Nj=["collectionId","parent"],Fj=["indexId","uid"],Lj=["uid","sequenceNumber"],Vj=["indexId","uid","arrayValue","directionalValue","documentKey"],Bj=["indexId","uid","documentKey"],Uj=["userId","collectionPath","documentId"],jj=["userId","collectionPath","largestBatchId"],Hj=["userId","collectionGroup","largestBatchId"],cF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Gj=[...cF,"documentOverlays"],uF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],$j=[...uF,"indexConfiguration","indexState","indexEntries"],dF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ye((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ye?t:ye.resolve(t)}catch(t){return ye.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ye.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ye.reject(t)}static resolve(e){return new ye((t,r)=>{t(e)})}static reject(e){return new ye((t,r)=>{r(e)})}static waitFor(e){return new ye((t,r)=>{let i=0,a=0,u=!1;e.forEach(f=>{++i,f.next(()=>{++a,u&&a===i&&t()},g=>r(g))}),u=!0,a===i&&t()})}static or(e){let t=ye.resolve(!1);for(const r of e)t=t.next(i=>i?ye.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}}class zE{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new xi,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Eb(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=WM(r.target.error);this.At.reject(new Eb(e,i))}}static open(e,t,r,i){try{return new zE(t,e.transaction(i,r))}catch(a){throw new Eb(t,a)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Ue("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new zj(t)}}class sl{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===sl.Vt((0,yt.z$)())&&ri("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ue("SimpleDb","Removing database:",e),Tf(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,yt.hl)())return!1;if(sl.St())return!0;const e=(0,yt.z$)(),t=sl.Vt(e),r=0<t&&t<10,i=sl.Dt(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,we.Z)(function*(){return t.db||(Ue("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=u=>{r(u.target.result)},a.onblocked=()=>{i(new Eb(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const f=u.target.error;i("VersionError"===f.name?new Oe(pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Oe(pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Eb(e,f))},a.onupgradeneeded=u=>{Ue("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.Pt.kt(u.target.result,a.transaction,u.oldVersion,t.version).next(()=>{Ue("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,we.Z)(function*(){const u="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.Nt(e);const g=zE.open(a.db,e,u?"readonly":"readwrite",r),b=i(g).next(T=>(g.bt(),T)).catch(T=>(g.abort(T),ye.reject(T))).toPromise();return b.catch(()=>{}),yield g.Rt,b}catch(g){const b="FirebaseError"!==g.name&&f<3;if(Ue("SimpleDb","Transaction failed with error:",g.message,"Retrying:",b),a.close(),!b)return Promise.reject(g)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class qj{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Tf(this.Ft.delete())}}class Eb extends Oe{constructor(e,t){super(pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Df(n){return"IndexedDbTransactionError"===n.name}class zj{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ue("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ue("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Tf(r)}add(e){return Ue("SimpleDb","ADD",this.store.name,e,e),Tf(this.store.add(e))}get(e){return Tf(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ue("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ue("SimpleDb","DELETE",this.store.name,e),Tf(this.store.delete(e))}count(){return Ue("SimpleDb","COUNT",this.store.name),Tf(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.Gt(i,(u,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new ye((a,u)=>{i.onerror=f=>{u(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}Kt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ye((i,a)=>{r.onerror=u=>{a(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}Qt(e,t){Ue("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Gt(i,(a,u,f)=>f.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Gt(i,t)}zt(e){const t=this.cursor({});return new ye((r,i)=>{t.onerror=a=>{const u=WM(a.target.error);i(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(f=>{f?u.continue():r()}):r()}})}Gt(e,t){const r=[];return new ye((i,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const f=u.target.result;if(!f)return void i();const g=new qj(f),b=t(f.primaryKey,f.value,g);if(b instanceof ye){const T=b.catch(A=>(g.done(),ye.reject(A)));r.push(T)}g.isDone?i():null===g.Lt?f.continue():f.continue(g.Lt)}}).next(()=>ye.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Tf(n){return new ye((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=WM(r.target.error);t(i)}})}let fF=!1;function WM(n){const e=sl.Vt((0,yt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return fF||(fF=!0,setTimeout(()=>{throw r},0)),r}}return n}class pF extends hF{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Pi(n,e){const t=tt(n);return sl.xt(t.Ht,e)}class KM{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&sj(a,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&HM(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&HM(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Pt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Mn())}isEqual(e){return this.batchId===e.batchId&&sg(this.mutations,e.mutations,(t,r)=>FN(t,r))&&sg(this.baseMutations,e.baseMutations,(t,r)=>FN(t,r))}}class YM{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){jt(e.mutations.length===r.length);let i=uj;const a=e.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,r[u].version);return new YM(e,t,r,i)}}class QM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ad{constructor(e,t,r,i,a=Pt.min(),u=Pt.min(),f=mi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f}withSequenceNumber(e){return new Ad(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ad(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ad(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class mF{constructor(e){this.Jt=e}}function gF(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:ZE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:bb(i=n.Jt,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:vb(i,a.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Sf(e.version)};else{if(!e.isUnknownDocument())return dt();r.unknownDocument={path:t.path.toArray(),version:Sf(e.version)}}var i,a;return r}function ZE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Sf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function If(n){const e=new $r(n.seconds,n.nanoseconds);return Pt.fromTimestamp(e)}function yg(n,e){const t=(e.baseMutations||[]).map(a=>ZM(n.Jt,a));for(let a=0;a<e.mutations.length-1;++a){const u=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(u.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>ZM(n.Jt,a)),i=$r.fromMillis(e.localWriteTimeMs);return new KM(e.batchId,i,t,r)}function Db(n){const e=If(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?If(n.lastLimboFreeSnapshotVersion):Pt.min();let r;var i;return void 0!==n.query.documents?(jt(1===(i=n.query).documents.length),r=Aa(dg(QN(i.documents[0])))):r=Aa(rF(n.query)),new Ad(r,n.targetId,0,n.lastListenSequenceNumber,e,t,mi.fromBase64String(n.resumeToken))}function _F(n,e){const t=Sf(e.snapshotVersion),r=Sf(e.lastLimboFreeSnapshotVersion);let i;i=NE(e.target)?tF(n.Jt,e.target):nF(n.Jt,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:bf(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function JM(n){const e=rF({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?DN(e,e.limit,"L"):e}function XM(n,e){return new QM(e.largestBatchId,ZM(n.Jt,e.overlayMutation))}function yF(n,e){const t=e.path.lastSegment();return[n,Oi(e.path.popLast()),t]}class Wj{getBundleMetadata(e,t){return vF(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:If(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return vF(e).put({bundleId:(r=t).id,createTime:Sf(ki(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return bF(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:JM(i.bundledQuery),readTime:If(i.readTime)};var i})}saveNamedQuery(e,t){return bF(e).put({name:(r=t).name,readTime:Sf(ki(r.readTime)),bundledQuery:r.bundledQuery});var r}}function vF(n){return Pi(n,"bundles")}function bF(n){return Pi(n,"namedQueries")}class ex{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new ex(e,t.uid||"")}getOverlay(e,t){return Tb(e).get(yF(this.userId,t)).next(r=>r?XM(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((a,u)=>{const f=new QM(t,u);i.push(this.Xt(e,f))}),ye.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(Oi(u.getCollectionPath())));const a=[];return i.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);a.push(Tb(e).Qt("collectionPathOverlayIndex",f))}),ye.waitFor(a)}getOverlaysForCollection(e,t,r){const i=gb(),a=Oi(t),u=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Tb(e).qt("collectionPathOverlayIndex",u).next(f=>{for(const g of f){const b=XM(this.M,g);i.set(b.getKey(),b)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=gb();let u;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Tb(e).Wt({index:"collectionGroupOverlayIndex",range:f},(g,b,T)=>{const A=XM(this.M,b);a.size()<i||A.largestBatchId===u?(a.set(A.getKey(),A),u=A.largestBatchId):T.done()}).next(()=>a)}Xt(e,t){return Tb(e).put(function(r,i,a){const[u,f,g]=yF(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:g,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Cb(r.Jt,a.mutation)}}(this.M,this.userId,t))}}function Tb(n){return Pi(n,"documentOverlays")}class vg{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(xr(e.integerValue));else if("doubleValue"in e){const r=xr(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),ob(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(_f(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?pN(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):dt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),Ze.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function Kj(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function wF(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=Kj(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}vg.fe=new vg;class Yj{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=wF(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=wF(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Qj{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class Jj{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class WE{constructor(){this.De=new Yj,this.Ce=new Qj(this.De),this.xe=new Jj(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Md{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Md(this.indexId,this.documentKey,this.arrayValue,r)}}function Af(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=CF(n.arrayValue,e.arrayValue),0!==t?t:(t=CF(n.directionalValue,e.directionalValue),0!==t?t:Ze.comparator(n.documentKey,e.documentKey)))}function CF(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Xj{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=FM(e);if(void 0!==t&&!this.Be(t))return!1;const r=cg(e);let i=0,a=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const u=r[i];if(!this.Le(this.Fe,u)||!this.Ue(this.Me[a++],u))return!1;++i}for(;i<r.length;++i){const u=r[i];if(a>=this.Me.length||!this.Ue(this.Me[a++],u))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class eH{constructor(){this.qe=new tx}addToCollectionParentIndex(e,t){return this.qe.add(t),ye.resolve()}getCollectionParents(e,t){return ye.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return ye.resolve()}deleteFieldIndex(e,t){return ye.resolve()}getDocumentsMatchingTarget(e,t){return ye.resolve(null)}getFieldIndex(e,t){return ye.resolve(null)}getFieldIndexes(e,t){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}updateCollectionGroup(e,t,r){return ye.resolve()}updateIndexEntries(e,t){return ye.resolve()}}class tx{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new or(un.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new or(un.comparator)).toArray()}}const KE=new Uint8Array(0);class tH{constructor(e){this.user=e,this.Ge=new tx,this.Ke=new Id(t=>bf(t),(t,r)=>db(t,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ge.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ge.add(t)});const a={collectionId:r,parent:Oi(i)};return EF(e).put(a)}return ye.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[iN(t),""],!1,!0);return EF(e).qt(i).next(a=>{for(const u of a){if(u.collectionId!==t)break;r.push(il(u.parent))}return r})}addFieldIndex(e,t){const r=YE(e),i={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var a;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=YE(e),i=QE(e),a=Sb(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Sb(e);let i=!0;const a=new Map;return ye.forEach(this.Qe(t),u=>this.getFieldIndex(e,u).next(f=>{i&&(i=!!f),a.set(u,f)})).next(()=>{if(i){let u=Mn();return ye.forEach(a,(f,g)=>{var b;Ue("IndexedDbIndexManager",`Using index ${b=f,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(je=>`${je.fieldPath}:${je.kind}`).join(",")}`} to execute ${bf(t)}`);const T=function(je,Qe){const Fe=FM(Qe);if(void 0===Fe)return null;for(const St of FE(je,Fe.fieldPath))switch(St.op){case"array-contains-any":return St.value.arrayValue.values||[];case"array-contains":return[St.value]}return null}(g,f),A=function(je,Qe){const Fe=new Map;for(const St of cg(Qe))for(const Dt of FE(je,St.fieldPath))switch(Dt.op){case"==":case"in":Fe.set(St.fieldPath.canonicalString(),Dt.value);break;case"not-in":case"!=":return Fe.set(St.fieldPath.canonicalString(),Dt.value),Array.from(Fe.values())}return null}(g,f),O=function(je,Qe){const Fe=[];let St=!0;for(const xn of cg(Qe)){let kn,zr=!0;for(const On of FE(je,xn.fieldPath)){let Kn,Ra=!0;switch(On.op){case"<":case"<=":Kn="nullValue"in(Dt=On.value)?uN:"booleanValue"in Dt?{booleanValue:!1}:"integerValue"in Dt||"doubleValue"in Dt?{doubleValue:NaN}:"timestampValue"in Dt?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in Dt?{stringValue:""}:"bytesValue"in Dt?{bytesValue:""}:"referenceValue"in Dt?lg(ou.empty(),Ze.empty()):"geoPointValue"in Dt?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in Dt?{arrayValue:{}}:"mapValue"in Dt?{mapValue:{}}:dt();break;case"==":case"in":case">=":Kn=On.value;break;case">":Kn=On.value,Ra=!1;break;case"!=":case"not-in":Kn=uN}mN(kn,Kn)===Kn&&(kn=Kn,zr=Ra)}if(null!==je.startAt)for(let On=0;On<je.orderBy.length;++On)if(je.orderBy[On].field.isEqual(xn.fieldPath)){const Kn=je.startAt.position[On];mN(kn,Kn)===Kn&&(kn=Kn,zr=je.startAt.inclusive);break}if(void 0===kn)return null;Fe.push(kn),St&&(St=zr)}var Dt;return new Sd(Fe,St)}(g,f),H=function(je,Qe){const Fe=[];let St=!0;for(const xn of cg(Qe)){let kn,zr=!0;for(const On of FE(je,xn.fieldPath)){let Kn,Ra=!0;switch(On.op){case">=":case">":Kn="nullValue"in(Dt=On.value)?{booleanValue:!1}:"booleanValue"in Dt?{doubleValue:NaN}:"integerValue"in Dt||"doubleValue"in Dt?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in Dt?{stringValue:""}:"stringValue"in Dt?{bytesValue:""}:"bytesValue"in Dt?lg(ou.empty(),Ze.empty()):"referenceValue"in Dt?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in Dt?{arrayValue:{}}:"arrayValue"in Dt?{mapValue:{}}:"mapValue"in Dt?cN:dt(),Ra=!1;break;case"==":case"in":case"<=":Kn=On.value;break;case"<":Kn=On.value,Ra=!1;break;case"!=":case"not-in":Kn=cN}gN(kn,Kn)===Kn&&(kn=Kn,zr=Ra)}if(null!==je.endAt)for(let On=0;On<je.orderBy.length;++On)if(je.orderBy[On].field.isEqual(xn.fieldPath)){const Kn=je.endAt.position[On];gN(kn,Kn)===Kn&&(kn=Kn,zr=je.endAt.inclusive);break}if(void 0===kn)return null;Fe.push(kn),St&&(St=zr)}var Dt;return new Sd(Fe,St)}(g,f),q=this.je(f,g,O),ee=this.je(f,g,H),de=this.We(f,g,A),Ye=this.ze(f.indexId,T,q,!!O&&O.inclusive,ee,!!H&&H.inclusive,de);return ye.forEach(Ye,je=>r.Kt(je,t.limit).next(Qe=>{Qe.forEach(Fe=>{u=u.add(new Ze(il(Fe.documentKey)))})}))}).next(()=>u)}return ye.resolve(null)})}Qe(e){let t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}ze(e,t,r,i,a,u,f){const g=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=a?a.length:1),b=g/(null!=t?t.length:1),T=[];for(let A=0;A<g;++A){const O=t?this.He(t[A/b]):KE,H=r?this.Je(e,O,r[A%b],i):this.Ye(e),q=a?this.Xe(e,O,a[A%b],u):this.Ye(e+1);T.push(...this.createRange(H,q,f.map(ee=>this.Je(e,O,ee,!0))))}return T}Je(e,t,r,i){const a=new Md(e,Ze.empty(),t,r);return i?a:a.ke()}Xe(e,t,r,i){const a=new Md(e,Ze.empty(),t,r);return i?a.ke():a}Ye(e){return new Md(e,Ze.empty(),KE,KE)}getFieldIndex(e,t){const r=new Xj(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{const u=a.filter(f=>r.$e(f));return u.sort((f,g)=>g.fields.length-f.fields.length),u.length>0?u[0]:null})}Ze(e,t){const r=new WE;for(const i of cg(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const u=r.Ne(i.kind);vg.fe.Zt(a,u)}return r.Se()}He(e){const t=new WE;return vg.fe.Zt(e,t.Ne(0)),t.Se()}We(e,t,r){if(null===r)return[];let i=[];i.push(new WE);let a=0;for(const u of cg(e)){const f=r[a++];for(const g of i)if(this.tn(t,u.fieldPath)&&lb(f))i=this.en(i,u,f);else{const b=g.Ne(u.kind);vg.fe.Zt(f,b)}}return this.nn(i)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}nn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}en(e,t,r){const i=[...e],a=[];for(const u of r.arrayValue.values||[])for(const f of i){const g=new WE;g.seed(f.Se()),vg.fe.Zt(u,g.Ne(t.kind)),a.push(g)}return a}tn(e,t){return!!e.filters.find(r=>r instanceof Ji&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=YE(e),i=QE(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(a=>{const u=[];return ye.forEach(a,f=>i.get([f.indexId,this.uid]).next(g=>{u.push(function(b,T){const A=T?new ub(T.sequenceNumber,new au(If(T.readTime),new Ze(il(T.documentKey)),T.largestBatchId)):ub.empty(),O=b.fields.map(([H,q])=>new PE(Ri.fromServerFormat(H),q));return new OE(b.indexId,b.collectionGroup,O,A)}(f,g))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:tn(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=YE(e),a=QE(e);return this.sn(e).next(u=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ye.forEach(f,g=>{return a.put({indexId:g.indexId,uid:this.user.uid||"",sequenceNumber:u,readTime:Sf((O=r).readTime),documentKey:Oi(O.documentKey.path),largestBatchId:O.largestBatchId});var O})))}updateIndexEntries(e,t){const r=new Map;return ye.forEach(t,(i,a)=>{const u=r.get(i.collectionGroup);return(u?ye.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),ye.forEach(f,g=>this.rn(e,i,g).next(b=>{const T=this.on(a,g);return b.isEqual(T)?ye.resolve():this.un(e,a,b,T)}))))})}an(e,t,r){return Sb(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,documentKey:Oi(t.key.path)})}cn(e,t,r){return Sb(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,Oi(t.key.path)])}rn(e,t,r){const i=Sb(e);let a=new or(Af);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,Oi(t.path)])},(u,f)=>{a=a.add(new Md(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}on(e,t){let r=new or(Af);const i=this.Ze(t,e);if(null==i)return r;const a=FM(t);if(null!=a){const u=e.data.field(a.fieldPath);if(lb(u))for(const f of u.arrayValue.values||[])r=r.add(new Md(t.indexId,e.key,this.He(f),i))}else r=r.add(new Md(t.indexId,e.key,KE,i));return r}un(e,t,r,i){Ue("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const a=[];return function(u,f,g,b,T){const A=u.getIterator(),O=f.getIterator();let H=mg(A),q=mg(O);for(;H||q;){let ee=!1,de=!1;if(H&&q){const Ye=g(H,q);Ye<0?de=!0:Ye>0&&(ee=!0)}else null!=H?de=!0:ee=!0;ee?(b(q),q=mg(O)):de?(T(H),H=mg(A)):(H=mg(A),q=mg(O))}}(r,i,Af,u=>{a.push(this.an(e,t,u))},u=>{a.push(this.cn(e,t,u))}),ye.waitFor(a)}sn(e){let t=1;return QE(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,f)=>Af(u,f)).filter((u,f,g)=>!f||0!==Af(u,g[f-1]));const i=[];i.push(e);for(const u of r){const f=Af(u,e),g=Af(u,t);if(0===f)i[0]=e.ke();else if(f>0&&g<0)i.push(u),i.push(u.ke());else if(g>0)break}i.push(t);const a=[];for(let u=0;u<i.length;u+=2)a.push(IDBKeyRange.bound([i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,""],[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,""]));return a}}function EF(n){return Pi(n,"collectionParents")}function Sb(n){return Pi(n,"indexEntries")}function YE(n){return Pi(n,"indexConfiguration")}function QE(n){return Pi(n,"indexState")}const DF={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class _o{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new _o(e,_o.DEFAULT_COLLECTION_PERCENTILE,_o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function TF(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],u=IDBKeyRange.only(t.batchId);let f=0;const g=r.Wt({range:u},(T,A,O)=>(f++,O.delete()));a.push(g.next(()=>{jt(1===f)}));const b=[];for(const T of t.mutations){const A=lF(e,T.key.path,t.batchId);a.push(i.delete(A)),b.push(T.key)}return ye.waitFor(a).next(()=>b)}function JE(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw dt();e=n.noDocument}return JSON.stringify(e).length}_o.DEFAULT_COLLECTION_PERCENTILE=10,_o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_o.DEFAULT=new _o(41943040,_o.DEFAULT_COLLECTION_PERCENTILE,_o.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_o.DISABLED=new _o(-1,0,0);class nx{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.hn={}}static Yt(e,t,r,i){jt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new nx(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xd(e).Wt({index:"userMutationsIndex",range:r},(i,a,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=bg(e),u=xd(e);return u.add({}).next(f=>{jt("number"==typeof f);const g=new KM(f,t,r,i),b=function(O,H,q){const ee=q.baseMutations.map(Ye=>Cb(O.Jt,Ye)),de=q.mutations.map(Ye=>Cb(O.Jt,Ye));return{userId:H,batchId:q.batchId,localWriteTimeMs:q.localWriteTime.toMillis(),baseMutations:ee,mutations:de}}(this.M,this.userId,g),T=[];let A=new or((O,H)=>tn(O.canonicalString(),H.canonicalString()));for(const O of i){const H=lF(this.userId,O.key.path,f);A=A.add(O.key.path.popLast()),T.push(u.put(b)),T.push(a.put(H,Aj))}return A.forEach(O=>{T.push(this.indexManager.addToCollectionParentIndex(e,O))}),e.addOnCommittedListener(()=>{this.hn[f]=g.keys()}),ye.waitFor(T).next(()=>g)})}lookupMutationBatch(e,t){return xd(e).get(t).next(r=>r?(jt(r.userId===this.userId),yg(this.M,r)):null)}ln(e,t){return this.hn[t]?ye.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.hn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return xd(e).Wt({index:"userMutationsIndex",range:i},(u,f,g)=>{f.userId===this.userId&&(jt(f.batchId>=r),a=yg(this.M,f)),g.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return xd(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,a,u)=>{r=a.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xd(e).qt("userMutationsIndex",t).next(r=>r.map(i=>yg(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=qE(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return bg(e).Wt({range:i},(u,f,g)=>{const[b,T,A]=u,O=il(T);if(b===this.userId&&t.path.isEqual(O))return xd(e).get(A).next(H=>{if(!H)throw dt();jt(H.userId===this.userId),a.push(yg(this.M,H))});g.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new or(tn);const i=[];return t.forEach(a=>{const u=qE(this.userId,a.path),f=IDBKeyRange.lowerBound(u),g=bg(e).Wt({range:f},(b,T,A)=>{const[O,H,q]=b,ee=il(H);O===this.userId&&a.path.isEqual(ee)?r=r.add(q):A.done()});i.push(g)}),ye.waitFor(i).next(()=>this.fn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=qE(this.userId,r),u=IDBKeyRange.lowerBound(a);let f=new or(tn);return bg(e).Wt({range:u},(g,b,T)=>{const[A,O,H]=g,q=il(O);A===this.userId&&r.isPrefixOf(q)?q.length===i&&(f=f.add(H)):T.done()}).next(()=>this.fn(e,f))}fn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(xd(e).get(a).next(u=>{if(null===u)throw dt();jt(u.userId===this.userId),r.push(yg(this.M,u))}))}),ye.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return TF(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.dn(t.batchId)}),ye.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}dn(e){delete this.hn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ye.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return bg(e).Wt({range:r},(a,u,f)=>{if(a[0]===this.userId){const g=il(a[1]);i.push(g)}else f.done()}).next(()=>{jt(0===i.length)})})}containsKey(e,t){return SF(e,this.userId,t)}_n(e){return IF(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function SF(n,e,t){const r=qE(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let u=!1;return bg(n).Wt({range:a,jt:!0},(f,g,b)=>{const[T,A,O]=f;T===e&&A===i&&(u=!0),b.done()}).next(()=>u)}function xd(n){return Pi(n,"mutations")}function bg(n){return Pi(n,"documentMutations")}function IF(n){return Pi(n,"mutationQueues")}class Mf{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new Mf(0)}static gn(){return new Mf(-1)}}class nH{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.yn(e).next(t=>{const r=new Mf(t.highestTargetId);return t.highestTargetId=r.next(),this.pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.yn(e).next(t=>Pt.fromTimestamp(new $r(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.yn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.yn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.pn(e,i)))}addTargetData(e,t){return this.In(e,t).next(()=>this.yn(e).next(r=>(r.targetCount+=1,this.Tn(t,r),this.pn(e,r))))}updateTargetData(e,t){return this.In(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>wg(e).delete(t.targetId)).next(()=>this.yn(e)).next(r=>(jt(r.targetCount>0),r.targetCount-=1,this.pn(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return wg(e).Wt((u,f)=>{const g=Db(f);g.sequenceNumber<=t&&null===r.get(g.targetId)&&(i++,a.push(this.removeTargetData(e,g)))}).next(()=>ye.waitFor(a)).next(()=>i)}forEachTarget(e,t){return wg(e).Wt((r,i)=>{const a=Db(i);t(a)})}yn(e){return AF(e).get("targetGlobalKey").next(t=>(jt(null!==t),t))}pn(e,t){return AF(e).put("targetGlobalKey",t)}In(e,t){return wg(e).put(_F(this.M,t))}Tn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.yn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=bf(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return wg(e).Wt({range:i,index:"queryTargetsIndex"},(u,f,g)=>{const b=Db(f);db(t,b.target)&&(a=b,g.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=Rd(e);return t.forEach(u=>{const f=Oi(u.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,u))}),ye.waitFor(i)}removeMatchingKeys(e,t,r){const i=Rd(e);return ye.forEach(t,a=>{const u=Oi(a.path);return ye.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Rd(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Rd(e);let a=Mn();return i.Wt({range:r,jt:!0},(u,f,g)=>{const b=il(u[1]),T=new Ze(b);a=a.add(T)}).next(()=>a)}containsKey(e,t){const r=Oi(t.path),i=IDBKeyRange.bound([r],[iN(r)],!1,!0);let a=0;return Rd(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([u,f],g,b)=>{0!==u&&(a++,b.done())}).next(()=>a>0)}Et(e,t){return wg(e).get(t).next(r=>r?Db(r):null)}}function wg(n){return Pi(n,"targets")}function AF(n){return Pi(n,"targetGlobal")}function Rd(n){return Pi(n,"targetDocuments")}function xf(n){return rx.apply(this,arguments)}function rx(){return rx=(0,we.Z)(function*(n){if(n.code!==pe.FAILED_PRECONDITION||n.message!==dF)throw n;Ue("LocalStore","Unexpectedly lost primary lease")}),rx.apply(this,arguments)}function MF([n,e],[t,r]){const i=tn(n,t);return 0===i?tn(e,r):i}class rH{constructor(e){this.En=e,this.buffer=new or(MF),this.An=0}Rn(){return++this.An}bn(e){const t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();MF(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class iH{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Pn=!1,this.Vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(e){var t=this;const r=this.Pn?3e5:6e4;Ue("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,we.Z)(function*(){t.Vn=null,t.Pn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){Df(i)?Ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield xf(i)}yield t.vn(e)}))}}class sH{constructor(e,t){this.Sn=e,this.params=t}calculateTargetCount(e,t){return this.Sn.Dn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ye.resolve(Go.A);const r=new rH(t);return this.Sn.forEachTarget(e,i=>r.bn(i.sequenceNumber)).next(()=>this.Sn.Cn(e,i=>r.bn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Sn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Sn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(DF)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DF):this.xn(e,t))}getCacheSize(e){return this.Sn.getCacheSize(e)}xn(e,t){let r,i,a,u,f,g,b;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),i=this.params.maximumSequenceNumbersToCollect):i=A,u=Date.now(),this.nthSequenceNumber(e,i))).next(A=>(r=A,f=Date.now(),this.removeTargets(e,r,t))).next(A=>(a=A,g=Date.now(),this.removeOrphanedDocuments(e,r))).next(A=>(b=Date.now(),RM()<=el.in.DEBUG&&Ue("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-T}ms\n\tDetermined least recently used ${i} in `+(f-u)+`ms\n\tRemoved ${a} targets in `+(g-f)+`ms\n\tRemoved ${A} documents in `+(b-g)+`ms\nTotal Duration: ${b-T}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:A})))}}class oH{constructor(e,t){this.db=e,this.garbageCollector=new sH(this,t)}Dn(e){const t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Nn(e){let t=0;return this.Cn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Cn(e,t){return this.kn(e,(r,i)=>t(i))}addReference(e,t,r){return XE(e,r)}removeReference(e,t,r){return XE(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return XE(e,t)}Mn(e,t){return function(r,i){let a=!1;return IF(r).zt(u=>SF(r,u,i).next(f=>(f&&(a=!0),ye.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.kn(e,(u,f)=>{if(f<=t){const g=this.Mn(e,u).next(b=>{if(!b)return a++,r.getEntry(e,u).next(()=>(r.removeEntry(u,Pt.min()),Rd(e).delete([0,Oi(u.path)])))});i.push(g)}}).next(()=>ye.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return XE(e,t)}kn(e,t){const r=Rd(e);let i,a=Go.A;return r.Wt({index:"documentTargetsIndex"},([u,f],{path:g,sequenceNumber:b})=>{0===u?(a!==Go.A&&t(new Ze(il(i)),a),a=b,i=g):a=Go.A}).next(()=>{a!==Go.A&&t(new Ze(il(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function XE(n,e){return Rd(n).put((r=n.currentSequenceNumber,{targetId:0,path:Oi(e.path),sequenceNumber:r}));var r}class xF{constructor(){this.changes=new Id(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,sr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ye.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class aH{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Rf(e).put(r)}removeEntry(e,t,r){return Rf(e).delete(function(i,a){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],ZE(a),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.On(e,r)))}getEntry(e,t){let r=sr.newInvalidDocument(t);return Rf(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Ib(t))},(i,a)=>{r=this.Fn(t,a)}).next(()=>r)}$n(e,t){let r={size:0,document:sr.newInvalidDocument(t)};return Rf(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Ib(t))},(i,a)=>{r={document:this.Fn(t,a),size:JE(a)}}).next(()=>r)}getEntries(e,t){let r=Ma();return this.Bn(e,t,(i,a)=>{const u=this.Fn(i,a);r=r.insert(i,u)}).next(()=>r)}Ln(e,t){let r=Ma(),i=new qr(Ze.comparator);return this.Bn(e,t,(a,u)=>{const f=this.Fn(a,u);r=r.insert(a,f),i=i.insert(a,JE(u))}).next(()=>({documents:r,Un:i}))}Bn(e,t,r){if(t.isEmpty())return ye.resolve();let i=new or(OF);t.forEach(g=>i=i.add(g));const a=IDBKeyRange.bound(Ib(i.first()),Ib(i.last())),u=i.getIterator();let f=u.getNext();return Rf(e).Wt({index:"documentKeyIndex",range:a},(g,b,T)=>{const A=Ze.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;f&&OF(f,A)<0;)r(f,null),f=u.getNext();f&&f.isEqual(A)&&(r(f,b),f=u.hasNext()?u.getNext():null),f?T.Ut(Ib(f)):T.done()}).next(()=>{for(;f;)r(f,null),f=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),ZE(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Rf(e).qt(IDBKeyRange.bound(i,a,!0)).next(u=>{let f=Ma();for(const g of u){const b=this.Fn(Ze.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);f=f.insert(b.key,b)}return f})}getAllFromCollectionGroup(e,t,r,i){let a=Ma();const u=kF(t,r),f=kF(t,au.max());return Rf(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(g,b,T)=>{const A=this.Fn(Ze.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);a=a.insert(A.key,A),a.size===i&&T.done()}).next(()=>a)}newChangeBuffer(e){return new lH(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return RF(e).get("remoteDocumentGlobalKey").next(t=>(jt(!!t),t))}On(e,t){return RF(e).put("remoteDocumentGlobalKey",t)}Fn(e,t){if(t){const r=function Zj(n,e){let t;if(e.document)t=eF(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ze.fromSegments(e.noDocument.path),i=If(e.noDocument.readTime);t=sr.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return dt();{const r=Ze.fromSegments(e.unknownDocument.path),i=If(e.unknownDocument.version);t=sr.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new $r(r[0],r[1]);return Pt.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(Pt.min()))return r}return sr.newInvalidDocument(e)}}class lH extends xF{constructor(e,t){super(),this.qn=e,this.trackRemovals=t,this.Gn=new Id(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new or((a,u)=>tn(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const f=this.Gn.get(a);if(t.push(this.qn.removeEntry(e,a,f.readTime)),u.isValidDocument()){const g=gF(this.qn.M,u);i=i.add(a.path.popLast()),r+=JE(g)-f.size,t.push(this.qn.addEntry(e,a,g))}else if(r-=f.size,this.trackRemovals){const g=gF(this.qn.M,u.convertToNoDocument(Pt.min()));t.push(this.qn.addEntry(e,a,g))}}),i.forEach(a=>{t.push(this.qn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.qn.updateMetadata(e,r)),ye.waitFor(t)}getFromCache(e,t){return this.qn.$n(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.qn.Ln(e,t).next(({documents:r,Un:i})=>(i.forEach((a,u)=>{this.Gn.set(a,{size:u,readTime:r.get(a).readTime})}),r))}}function RF(n){return Pi(n,"remoteDocumentGlobal")}function Rf(n){return Pi(n,"remoteDocumentsV14")}function Ib(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function kF(n,e){const t=e.documentKey.path.toArray();return[n,ZE(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function OF(n,e){const t=n.path.length-e.path.length;return 0!==t?t:Ze.comparator(n,e)}class cH{constructor(e){this.M=e}kt(e,t,r,i){const a=new zE("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",aF,{unique:!0}),f.createObjectStore("documentMutations"),PF(e),function(f){f.createObjectStore("remoteDocuments")}(e));let u=ye.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),PF(e)),u=u.next(()=>function(f){const g=f.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Pt.min().toTimestamp(),targetCount:0};return g.put("targetGlobalKey",b)}(a))),r<4&&i>=4&&(0!==r&&(u=u.next(()=>function(f,g){return g.store("mutations").qt().next(b=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",aF,{unique:!0});const T=g.store("mutations"),A=b.map(O=>T.put(O));return ye.waitFor(A)})}(e,a))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(u=u.next(()=>this.Kn(a))),r<6&&i>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Qn(a)))),r<7&&i>=7&&(u=u.next(()=>this.jn(a))),r<8&&i>=8&&(u=u.next(()=>this.Wn(e,a))),r<9&&i>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(u=u.next(()=>this.zn(a))),r<11&&i>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(u=u.next(()=>{!function(f){const g=f.createObjectStore("documentOverlays",{keyPath:Uj});g.createIndex("collectionPathOverlayIndex",jj,{unique:!1}),g.createIndex("collectionGroupOverlayIndex",Hj,{unique:!1})}(e)})),r<13&&i>=13&&(u=u.next(()=>function(f){const g=f.createObjectStore("remoteDocumentsV14",{keyPath:Mj});g.createIndex("documentKeyIndex",xj),g.createIndex("collectionGroupIndex",Rj)}(e)).next(()=>this.Hn(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(u=u.next(()=>{!function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:Fj}).createIndex("sequenceNumberIndex",Lj,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:Vj}).createIndex("documentKeyIndex",Bj,{unique:!1})}(e)})),u}Qn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=JE(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Kn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>ye.forEach(i,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",u).next(f=>ye.forEach(f,g=>{jt(g.userId===a.userId);const b=yg(this.M,g);return TF(e,a.userId,b).next(()=>{})}))}))}jn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.Wt((u,f)=>{const g=new un(u),b=[0,Oi(g)];a.push(t.get(b).next(T=>T?ye.resolve():t.put({targetId:0,path:Oi(g),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ye.waitFor(a))})}Wn(e,t){e.createObjectStore("collectionParents",{keyPath:Nj});const r=t.store("collectionParents"),i=new tx,a=u=>{if(i.add(u)){const f=u.lastSegment(),g=u.popLast();return r.put({collectionId:f,parent:Oi(g)})}};return t.store("remoteDocuments").Wt({jt:!0},(u,f)=>{const g=new un(u);return a(g.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([u,f,g],b)=>{const T=il(f);return a(T.popLast())}))}zn(e){const t=e.store("targets");return t.Wt((r,i)=>{const a=Db(i),u=_F(this.M,a);return t.put(u)})}Hn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((a,u)=>{const f=t.store("remoteDocumentsV14"),g=(b=u,b.document?new Ze(un.fromString(b.document.name).popFirst(5)):b.noDocument?Ze.fromSegments(b.noDocument.path):b.unknownDocument?Ze.fromSegments(b.unknownDocument.path):dt()).path.toArray();var b;const T={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(f.put(T))}).next(()=>ye.waitFor(i))}}function PF(n){n.createObjectStore("targetDocuments",{keyPath:Oj}).createIndex("documentTargetsIndex",Pj,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",kj,{unique:!0}),n.createObjectStore("targetGlobal")}const ix="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class sx{constructor(e,t,r,i,a,u,f,g,b,T,A=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Jn=a,this.window=u,this.document=f,this.Yn=b,this.Xn=T,this.Zn=A,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=O=>Promise.resolve(),!sx.vt())throw new Oe(pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new oH(this,i),this.cs=t+"main",this.M=new mF(g),this.hs=new sl(this.cs,this.Zn,new cH(this.M)),this.ls=new nH(this.referenceDelegate,this.M),this.fs=new aH(this.M),this.ds=new Wj,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===T&&ri("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(pe.FAILED_PRECONDITION,ix);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ls.getHighestSequenceNumber(e))}).then(e=>{this.ts=new Go(e,this.Yn)}).then(()=>{this.es=!0}).catch(e=>(this.hs&&this.hs.close(),Promise.reject(e)))}Is(e){var t=this;return this.us=function(){var r=(0,we.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.hs.Ot(function(){var t=(0,we.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget((0,we.Z)(function*(){t.started&&(yield t.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>eD(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(e).next(t=>{t||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(e)).next(t=>this.isPrimary&&!t?this.As(e).next(()=>!1):!!t&&this.Rs(e).next(()=>!0))).catch(e=>{if(Df(e))return Ue("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ue("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Jn.enqueueRetryable(()=>this.us(e)),this.isPrimary=e})}Ts(e){return Ab(e).get("owner").next(t=>ye.resolve(this.bs(t)))}Ps(e){return eD(e).delete(this.clientId)}Vs(){var e=this;return(0,we.Z)(function*(){if(e.isPrimary&&!e.vs(e.os,18e5)){e.os=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Pi(r,"clientMetadata");return i.qt().next(a=>{const u=e.Ss(a,18e5),f=a.filter(g=>-1===u.indexOf(g));return ye.forEach(f,g=>i.delete(g.clientId)).next(()=>f)})}).catch(()=>[]);if(e._s)for(const r of t)e._s.removeItem(e.Ds(r.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(e){return!!e&&e.ownerId===this.clientId}Es(e){return this.Xn?ye.resolve(!0):Ab(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Oe(pe.FAILED_PRECONDITION,ix);return!1}}return!(!this.networkEnabled||!this.inForeground)||eD(e).qt().next(r=>void 0===this.Ss(r,5e3).find(i=>{if(this.clientId!==i.clientId){const u=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||u&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ue("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,we.Z)(function*(){e.es=!1,e.xs(),e.rs&&(e.rs.cancel(),e.rs=null),e.Ns(),e.ks(),yield e.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new pF(t,Go.A);return e.As(r).next(()=>e.Ps(r))}),e.hs.close(),e.Ms()})()}Ss(e,t){return e.filter(r=>this.vs(r.updateTimeMs,t)&&!this.Cs(r.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",e=>eD(e).qt().next(t=>this.Ss(t,18e5).map(r=>r.clientId)))}get started(){return this.es}getMutationQueue(e,t){return nx.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(e){return new tH(e)}getDocumentOverlayCache(e){return ex.Yt(this.M,e)}getBundleCache(){return this.ds}runTransaction(e,t,r){Ue("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=14===(u=this.Zn)?$j:13===u?uF:12===u?Gj:11===u?cF:void dt();var u;let f;return this.hs.runTransaction(e,i,a,g=>(f=new pF(g,this.ts?this.ts.next():Go.A),"readwrite-primary"===t?this.Ts(f).next(b=>!!b||this.Es(f)).next(b=>{if(!b)throw ri(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new Oe(pe.FAILED_PRECONDITION,dF);return r(f)}).next(b=>this.Rs(f).next(()=>b)):this.Fs(f).next(()=>r(f)))).then(g=>(f.raiseOnCommittedEvent(),g))}Fs(e){return Ab(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)&&!this.bs(t)&&!(this.Xn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Oe(pe.FAILED_PRECONDITION,ix)})}Rs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ab(e).put("owner",t)}static vt(){return sl.vt()}As(e){const t=Ab(e);return t.get("owner").next(r=>this.bs(r)?(Ue("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ye.resolve())}vs(e,t){const r=Date.now();return!(e<r-t||e>r&&(ri(`Detected an update time that is in the future: ${e} > ${r}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=()=>{this.xs(),(0,yt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(e){var t;try{const r=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return Ue("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ri("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(e){ri("Failed to set zombie client id.",e)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(e){}}Ds(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ab(n){return Pi(n,"owner")}function eD(n){return Pi(n,"clientMetadata")}function ox(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class uH{constructor(e,t,r){this.fs=e,this.$s=t,this.indexManager=r}Bs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Ls(e,t,r))}Ls(e,t,r){return this.fs.getEntry(e,t).next(i=>{for(const a of r)a.applyToLocalView(i);return i})}Us(e,t){e.forEach((r,i)=>{for(const a of t)a.applyToLocalView(i)})}qs(e,t){return this.fs.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Us(t,r))}Ks(e,t,r){return Ze.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.Qs(e,t.path):BM(t)?this.js(e,t,r):this.Ws(e,t,r);var i}Qs(e,t){return this.Bs(e,new Ze(t)).next(r=>{let i=$M();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}js(e,t,r){const i=t.collectionGroup;let a=$M();return this.indexManager.getCollectionParents(e,i).next(u=>ye.forEach(u,f=>{const g=(b=t,T=f.child(i),new lu(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,T;return this.Ws(e,g,r).next(b=>{b.forEach((T,A)=>{a=a.insert(T,A)})})}).next(()=>a))}Ws(e,t,r){let i;return this.fs.getAllFromCollection(e,t.path,r).next(a=>(i=a,this.$s.getAllMutationBatchesAffectingQuery(e,t))).next(a=>{for(const u of a)for(const f of u.mutations){const g=f.key;let b=i.get(g);null==b&&(b=sr.newInvalidDocument(g),i=i.insert(g,b)),HM(f,b,u.localWriteTime),b.isFoundDocument()||(i=i.remove(g))}}).next(()=>(i.forEach((a,u)=>{jM(t,u)||(i=i.remove(a))}),i))}}class ax{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.zs=r,this.Hs=i}static Js(e,t){let r=Mn(),i=Mn();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new ax(e,t.fromCache,r,i)}}class NF{Ys(e){this.Xs=e}Ks(e,t,r,i){return 0===(a=t).filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())||r.isEqual(Pt.min())?this.Zs(e,t):this.Xs.qs(e,i).next(a=>{const u=this.ti(t,a);return(LE(t)||VE(t))&&this.ei(t.limitType,u,i,r)?this.Zs(e,t):(RM()<=el.in.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),UM(t)),this.Xs.Ks(e,t,yN(r,-1)).next(f=>(u.forEach(g=>{f=f.insert(g.key,g)}),f)))});var a}ti(e,t){let r=new or(IN(e));return t.forEach((i,a)=>{jM(e,a)&&(r=r.add(a))}),r}ei(e,t,r,i){if(r.size!==t.size)return!0;const a="F"===e?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Zs(e,t){return RM()<=el.in.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",UM(t)),this.Xs.Ks(e,t,au.min())}}class dH{constructor(e,t,r,i){this.persistence=e,this.ni=t,this.M=i,this.si=new qr(tn),this.ii=new Id(a=>bf(a),db),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(r)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new uH(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.si))}}function FF(n,e,t,r){return new dH(n,e,t,r)}function LF(n,e){return lx.apply(this,arguments)}function lx(){return lx=(0,we.Z)(function*(n,e){const t=tt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.$s.getAllMutationBatches(r).next(a=>(i=a,t.ui(e),t.$s.getAllMutationBatches(r))).next(a=>{const u=[],f=[];let g=Mn();for(const b of i){u.push(b.batchId);for(const T of b.mutations)g=g.add(T.key)}for(const b of a){f.push(b.batchId);for(const T of b.mutations)g=g.add(T.key)}return t.ai.qs(r,g).next(b=>({ci:b,removedBatchIds:u,addedBatchIds:f}))})})}),lx.apply(this,arguments)}function hH(n,e){const t=tt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.oi.newChangeBuffer({trackRemovals:!0});return function(u,f,g,b){const T=g.batch,A=T.keys();let O=ye.resolve();return A.forEach(H=>{O=O.next(()=>b.getEntry(f,H)).next(q=>{const ee=g.docVersions.get(H);jt(null!==ee),q.version.compareTo(ee)<0&&(T.applyToRemoteDocument(q,g),q.isValidDocument()&&(q.setReadTime(g.commitVersion),b.addEntry(q)))})}),O.next(()=>u.$s.removeMutationBatch(f,T))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.$s.performConsistencyCheck(r)).next(()=>t.ai.qs(r,i))})}function VF(n){const e=tt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ls.getLastRemoteSnapshotVersion(t))}function fH(n,e){const t=tt(n),r=e.snapshotVersion;let i=t.si;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.oi.newChangeBuffer({trackRemovals:!0});i=t.si;const f=[];e.targetChanges.forEach((b,T)=>{const A=i.get(T);if(!A)return;f.push(t.ls.removeMatchingKeys(a,b.removedDocuments,T).next(()=>t.ls.addMatchingKeys(a,b.addedDocuments,T)));let O=A.withSequenceNumber(a.currentSequenceNumber);var H,q,ee;e.targetMismatches.has(T)?O=O.withResumeToken(mi.EMPTY_BYTE_STRING,Pt.min()).withLastLimboFreeSnapshotVersion(Pt.min()):b.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(b.resumeToken,r)),i=i.insert(T,O),q=O,ee=b,(0===(H=A).resumeToken.approximateByteSize()||q.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=3e8||ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0)&&f.push(t.ls.updateTargetData(a,O))});let g=Ma();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,b))}),f.push(BF(a,u,e.documentUpdates).next(b=>{g=b})),!r.isEqual(Pt.min())){const b=t.ls.getLastRemoteSnapshotVersion(a).next(T=>t.ls.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(b)}return ye.waitFor(f).next(()=>u.apply(a)).next(()=>t.ai.Gs(a,g)).next(()=>g)}).then(a=>(t.si=i,a))}function BF(n,e,t){let r=Mn();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let a=Ma();return t.forEach((u,f)=>{const g=i.get(u);f.isNoDocument()&&f.version.isEqual(Pt.min())?(e.removeEntry(u,f.readTime),a=a.insert(u,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||0===f.version.compareTo(g.version)&&g.hasPendingWrites?(e.addEntry(f),a=a.insert(u,f)):Ue("LocalStore","Ignoring outdated watch update for ",u,". Current version:",g.version," Watch version:",f.version)}),a})}function pH(n,e){const t=tt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.$s.getNextMutationBatchAfterBatchId(r,e)))}function Cg(n,e){const t=tt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.ls.getTargetData(r,e).next(a=>a?(i=a,ye.resolve(i)):t.ls.allocateTargetId(r).next(u=>(i=new Ad(e,u,0,r.currentSequenceNumber),t.ls.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.si.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.si=t.si.insert(r.targetId,r),t.ii.set(e,r.targetId)),r})}function Eg(n,e,t){return cx.apply(this,arguments)}function cx(){return cx=(0,we.Z)(function*(n,e,t){const r=tt(n),i=r.si.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!Df(u))throw u;Ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.si=r.si.remove(e),r.ii.delete(i.target)}),cx.apply(this,arguments)}function tD(n,e,t){const r=tt(n);let i=Pt.min(),a=Mn();return r.persistence.runTransaction("Execute query","readonly",u=>function(f,g,b){const T=tt(f),A=T.ii.get(b);return void 0!==A?ye.resolve(T.si.get(A)):T.ls.getTargetData(g,b)}(r,u,Aa(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(u,f.targetId).next(g=>{a=g})}).next(()=>r.ni.Ks(u,e,t?i:Pt.min(),t?a:Mn())).next(f=>(HF(r,SN(e),f),{documents:f,hi:a})))}function UF(n,e){const t=tt(n),r=tt(t.ls),i=t.si.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.Et(a,e).next(u=>u?u.target:null))}function jF(n,e){const t=tt(n),r=t.ri.get(e)||Pt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.oi.getAllFromCollectionGroup(i,e,yN(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(HF(t,e,i),i))}function HF(n,e,t){let r=Pt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.ri.set(e,r)}function ux(){return ux=(0,we.Z)(function*(n,e,t,r){const i=tt(n);let a=Mn(),u=Ma();for(const b of t){const T=e.li(b.metadata.name);b.document&&(a=a.add(T));const A=e.fi(b);A.setReadTime(e.di(b.metadata.readTime)),u=u.insert(T,A)}const f=i.oi.newChangeBuffer({trackRemovals:!0}),g=yield Cg(i,(b=r,Aa(dg(un.fromString(`__bundle__/docs/${b}`)))));var b;return i.persistence.runTransaction("Apply bundle documents","readwrite",b=>BF(b,f,u).next(T=>(f.apply(b),T)).next(T=>i.ls.removeMatchingKeysForTargetId(b,g.targetId).next(()=>i.ls.addMatchingKeys(b,a,g.targetId)).next(()=>i.ai.Gs(b,T)).next(()=>T)))}),ux.apply(this,arguments)}function gH(n,e){return dx.apply(this,arguments)}function dx(){return dx=(0,we.Z)(function*(n,e,t=Mn()){const r=yield Cg(n,Aa(JM(e.bundledQuery))),i=tt(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const u=ki(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.ds.saveNamedQuery(a,e);const f=r.withResumeToken(mi.EMPTY_BYTE_STRING,u);return i.si=i.si.insert(f.targetId,f),i.ls.updateTargetData(a,f).next(()=>i.ls.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.ls.addMatchingKeys(a,t,r.targetId)).next(()=>i.ds.saveNamedQuery(a,e))})}),dx.apply(this,arguments)}class _H{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return ye.resolve(this._i.get(t))}saveBundleMetadata(e,t){var r;return this._i.set(t.id,{id:(r=t).id,version:r.version,createTime:ki(r.createTime)}),ye.resolve()}getNamedQuery(e,t){return ye.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(r=t).name,query:JM(r.bundledQuery),readTime:ki(r.readTime)}),ye.resolve();var r}}class yH{constructor(){this.overlays=new qr(Ze.comparator),this.mi=new Map}getOverlay(e,t){return ye.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.Xt(e,t,a)}),ye.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.mi.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.mi.delete(r)),ye.resolve()}getOverlaysForCollection(e,t,r){const i=gb(),a=t.length+1,u=new Ze(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const g=f.getNext().value,b=g.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===a&&g.largestBatchId>r&&i.set(g.getKey(),g)}return ye.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new qr((b,T)=>b-T);const u=this.overlays.getIterator();for(;u.hasNext();){const b=u.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let T=a.get(b.largestBatchId);null===T&&(T=gb(),a=a.insert(b.largestBatchId,T)),T.set(b.getKey(),b)}}const f=gb(),g=a.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((b,T)=>f.set(b,T)),!(f.size()>=i)););return ye.resolve(f)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const u=this.mi.get(i.largestBatchId).delete(r.key);this.mi.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new QM(t,r));let a=this.mi.get(t);void 0===a&&(a=Mn(),this.mi.set(t,a)),this.mi.set(t,a.add(r.key))}}class hx{constructor(){this.gi=new or(Ni.yi),this.pi=new or(Ni.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const r=new Ni(e,t);this.gi=this.gi.add(r),this.pi=this.pi.add(r)}Ti(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ei(new Ni(e,t))}Ai(e,t){e.forEach(r=>this.removeReference(r,t))}Ri(e){const t=new Ze(new un([])),r=new Ni(t,e),i=new Ni(t,e+1),a=[];return this.pi.forEachInRange([r,i],u=>{this.Ei(u),a.push(u.key)}),a}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new Ze(new un([])),r=new Ni(t,e),i=new Ni(t,e+1);let a=Mn();return this.pi.forEachInRange([r,i],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Ni(e,0),r=this.gi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ni{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return Ze.comparator(e.key,t.key)||tn(e.Vi,t.Vi)}static Ii(e,t){return tn(e.Vi,t.Vi)||Ze.comparator(e.key,t.key)}}class vH{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.$s=[],this.vi=1,this.Si=new or(Ni.yi)}checkEmpty(e){return ye.resolve(0===this.$s.length)}addMutationBatch(e,t,r,i){const a=this.vi;this.vi++;const u=new KM(a,t,r,i);this.$s.push(u);for(const f of i)this.Si=this.Si.add(new Ni(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ye.resolve(u)}lookupMutationBatch(e,t){return ye.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Ci(t+1),a=i<0?0:i;return ye.resolve(this.$s.length>a?this.$s[a]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return ye.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ni(t,0),i=new Ni(t,Number.POSITIVE_INFINITY),a=[];return this.Si.forEachInRange([r,i],u=>{const f=this.Di(u.Vi);a.push(f)}),ye.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new or(tn);return t.forEach(i=>{const a=new Ni(i,0),u=new Ni(i,Number.POSITIVE_INFINITY);this.Si.forEachInRange([a,u],f=>{r=r.add(f.Vi)})}),ye.resolve(this.xi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Ze.isDocumentKey(a)||(a=a.child(""));const u=new Ni(new Ze(a),0);let f=new or(tn);return this.Si.forEachWhile(g=>{const b=g.key.path;return!!r.isPrefixOf(b)&&(b.length===i&&(f=f.add(g.Vi)),!0)},u),ye.resolve(this.xi(f))}xi(e){const t=[];return e.forEach(r=>{const i=this.Di(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){jt(0===this.Ni(t.batchId,"removed")),this.$s.shift();let r=this.Si;return ye.forEach(t.mutations,i=>{const a=new Ni(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Si=r})}dn(e){}containsKey(e,t){const r=new Ni(t,0),i=this.Si.firstAfterOrEqual(r);return ye.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ye.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}class bH{constructor(e){this.ki=e,this.docs=new qr(Ze.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,u=this.ki(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ye.resolve(r?r.document.mutableCopy():sr.newInvalidDocument(t))}getEntries(e,t){let r=Ma();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():sr.newInvalidDocument(i))}),ye.resolve(r)}getAllFromCollection(e,t,r){let i=Ma();const a=new Ze(t.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:f,value:{document:g}}=u.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||GU(HU(g),r)<=0||(i=i.insert(g.key,g.mutableCopy()))}return ye.resolve(i)}getAllFromCollectionGroup(e,t,r,i){dt()}Mi(e,t){return ye.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new wH(this)}getSize(e){return ye.resolve(this.size)}}class wH extends xF{constructor(e){super(),this.qn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.qn.addEntry(e,i)):this.qn.removeEntry(r)}),ye.waitFor(t)}getFromCache(e,t){return this.qn.getEntry(e,t)}getAllFromCache(e,t){return this.qn.getEntries(e,t)}}class CH{constructor(e){this.persistence=e,this.Oi=new Id(t=>bf(t),db),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.Fi=0,this.$i=new hx,this.targetCount=0,this.Bi=Mf.mn()}forEachTarget(e,t){return this.Oi.forEach((r,i)=>t(i)),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Fi&&(this.Fi=t),ye.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new Mf(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,ye.resolve()}updateTargetData(e,t){return this.In(t),ye.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Oi.forEach((u,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Oi.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),ye.waitFor(a).next(()=>i)}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,t){const r=this.Oi.get(t)||null;return ye.resolve(r)}addMatchingKeys(e,t,r){return this.$i.Ti(t,r),ye.resolve()}removeMatchingKeys(e,t,r){this.$i.Ai(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(u=>{a.push(i.markPotentiallyOrphaned(e,u))}),ye.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.$i.Ri(t),ye.resolve()}getMatchingKeysForTargetId(e,t){const r=this.$i.Pi(t);return ye.resolve(r)}containsKey(e,t){return ye.resolve(this.$i.containsKey(t))}}class EH{constructor(e,t){this.Li={},this.overlays={},this.ts=new Go(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new CH(this),this.indexManager=new eH,this.fs=new bH(r=>this.referenceDelegate.Ui(r)),this.M=new mF(t),this.ds=new _H(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new yH,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Li[e.toKey()];return r||(r=new vH(t,this.referenceDelegate),this.Li[e.toKey()]=r),r}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,t,r){Ue("MemoryPersistence","Starting transaction:",e);const i=new DH(this.ts.next());return this.referenceDelegate.qi(),r(i).next(a=>this.referenceDelegate.Gi(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ki(e,t){return ye.or(Object.values(this.Li).map(r=>()=>r.containsKey(e,t)))}}class DH extends hF{constructor(e){super(),this.currentSequenceNumber=e}}class fx{constructor(e){this.persistence=e,this.Qi=new hx,this.ji=null}static Wi(e){return new fx(e)}get zi(){if(this.ji)return this.ji;throw dt()}addReference(e,t,r){return this.Qi.addReference(r,t),this.zi.delete(r.toString()),ye.resolve()}removeReference(e,t,r){return this.Qi.removeReference(r,t),this.zi.add(r.toString()),ye.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),ye.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(i=>this.zi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.zi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}qi(){this.ji=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.zi,r=>{const i=Ze.fromPath(r);return this.Hi(e,i).next(a=>{a||t.removeEntry(i,Pt.min())})}).next(()=>(this.ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hi(e,t).next(r=>{r?this.zi.delete(t.toString()):this.zi.add(t.toString())})}Ui(e){return 0}Hi(e,t){return ye.or([()=>ye.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ki(e,t)])}}function GF(n,e){return`firestore_clients_${n}_${e}`}function $F(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function px(n,e){return`firestore_targets_${n}_${e}`}class nD{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ji(e,t,r){const i=JSON.parse(r);let a,u="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(a=new Oe(i.error.code,i.error.message))),u?new nD(e,t,i.state,a):(ri("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Mb{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Oe(r.error.code,r.error.message))),a?new Mb(e,r.state,i):(ri("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class rD{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=GE();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=lN(r.activeTargetIds[u]),a=a.add(r.activeTargetIds[u]);return i?new rD(e,a):(ri("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class mx{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new mx(t.clientId,t.onlineState):(ri("SharedClientState",`Failed to parse online state: ${e}`),null)}}class gx{constructor(){this.activeTargetIds=GE()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _x{constructor(e,t,r,i,a){this.window=e,this.Jn=t,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new qr(tn),this.started=!1,this.ir=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=GF(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new gx),this.ar=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,we.Z)(function*(){const t=yield e.syncEngine.Os();for(const i of t){if(i===e.tr)continue;const a=e.getItem(GF(e.persistenceKey,i));if(a){const u=rD.Ji(i,a);u&&(e.sr=e.sr.insert(u.clientId,u))}}e._r();const r=e.storage.getItem(e.lr);if(r){const i=e.wr(r);i&&e.mr(i)}for(const i of e.ir)e.nr(i);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(px(this.persistenceKey,e));if(r){const i=Mb.Ji(e,r);i&&(t=i.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(px(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.pr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ue("SharedClientState","READ",e,t),t}setItem(e,t){Ue("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ue("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ue("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void ri("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,we.Z)(function*(){if(t.started){if(null!==r.key)if(t.ar.test(r.key)){if(null==r.newValue){const i=t.Rr(r.key);return t.br(i,null)}{const i=t.Pr(r.key,r.newValue);if(i)return t.br(i.clientId,i)}}else if(t.cr.test(r.key)){if(null!==r.newValue){const i=t.Vr(r.key,r.newValue);if(i)return t.vr(i)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const i=t.Sr(r.key,r.newValue);if(i)return t.Dr(i)}}else if(r.key===t.lr){if(null!==r.newValue){const i=t.wr(r.newValue);if(i)return t.mr(i)}}else if(r.key===t.ur){const i=function(a){let u=Go.A;if(null!=a)try{const f=JSON.parse(a);jt("number"==typeof f),u=f}catch(f){ri("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(r.newValue);i!==Go.A&&t.sequenceNumberHandler(i)}else if(r.key===t.dr){const i=t.Cr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Nr(a)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const i=new nD(this.currentUser,e,t,r),a=$F(this.persistenceKey,this.currentUser,e);this.setItem(a,i.Yi())}pr(e){const t=$F(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const i=px(this.persistenceKey,e),a=new Mb(e,t,r);this.setItem(i,a.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.ar.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return rD.Ji(r,t)}Vr(e,t){const r=this.cr.exec(e),i=Number(r[1]);return nD.Ji(new Qi(void 0!==r[2]?r[2]:null),i,t)}Sr(e,t){const r=this.hr.exec(e),i=Number(r[1]);return Mb.Ji(i,t)}wr(e){return mx.Ji(e)}Cr(e){return JSON.parse(e)}vr(e){var t=this;return(0,we.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Ue("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),u=[],f=[];return a.forEach(g=>{i.has(g)||u.push(g)}),i.forEach(g=>{a.has(g)||f.push(g)}),this.syncEngine.Or(u,f).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=GE();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class qF{constructor(){this.Fr=new gx,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new gx,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class TH{Br(e){}shutdown(){}}class zF{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const SH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class IH{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class AH extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,i,a){const u=this.oo(e,t);Ue("RestConnection","Sending: ",u,r);const f={};return this.uo(f,i,a),this.ao(e,u,f,r).then(g=>(Ue("RestConnection","Received: ",g),g),g=>{throw rb("RestConnection",`${e} failed with error: `,g,"url: ",u,"request:",r),g})}co(e,t,r,i,a){return this.ro(e,t,r,i,a)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ig,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}oo(e,t){return`${this.so}/v1/${t}:${SH[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,t,r,i){return new Promise((a,u)=>{const f=new AU;f.listenOnce(TU.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case xM.NO_ERROR:const b=f.getResponseJson();Ue("Connection","XHR received:",JSON.stringify(b)),a(b);break;case xM.TIMEOUT:Ue("Connection",'RPC "'+e+'" timed out'),u(new Oe(pe.DEADLINE_EXCEEDED,"Request time out"));break;case xM.HTTP_ERROR:const T=f.getStatus();if(Ue("Connection",'RPC "'+e+'" failed with status:',T,"response text:",f.getResponseText()),T>0){const A=f.getResponseJson().error;if(A&&A.status&&A.message){const O=function(H){const q=H.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(q)>=0?q:pe.UNKNOWN}(A.status);u(new Oe(O,A.message))}else u(new Oe(pe.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new Oe(pe.UNAVAILABLE,"Connection failed."));break;default:dt()}}finally{Ue("Connection",'RPC "'+e+'" completed.')}});const g=JSON.stringify(i);f.send(t,"POST",g,r,15)})}ho(e,t,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=EU(),u=DU(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new IU({})),this.uo(f.initMessageHeaders,t,r),(0,yt.uI)()||(0,yt.b$)()||(0,yt.d)()||(0,yt.w1)()||(0,yt.Mn)()||(0,yt.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const g=i.join("");Ue("Connection","Creating WebChannel: "+g,f);const b=a.createWebChannel(g,f);let T=!1,A=!1;const O=new IH({jr:q=>{A?Ue("Connection","Not sending because WebChannel is closed:",q):(T||(Ue("Connection","Opening WebChannel transport."),b.open(),T=!0),Ue("Connection","WebChannel sending:",q),b.send(q))},Wr:()=>b.close()}),H=(q,ee,de)=>{q.listen(ee,Ye=>{try{de(Ye)}catch(je){setTimeout(()=>{throw je},0)}})};return H(b,RE.EventType.OPEN,()=>{A||Ue("Connection","WebChannel transport opened.")}),H(b,RE.EventType.CLOSE,()=>{A||(A=!0,Ue("Connection","WebChannel transport closed"),O.eo())}),H(b,RE.EventType.ERROR,q=>{A||(A=!0,rb("Connection","WebChannel transport errored:",q),O.eo(new Oe(pe.UNAVAILABLE,"The operation could not be completed")))}),H(b,RE.EventType.MESSAGE,q=>{var ee;if(!A){const de=q.data[0];jt(!!de);const Ye=de,je=Ye.error||(null===(ee=Ye[0])||void 0===ee?void 0:ee.error);if(je){Ue("Connection","WebChannel received error:",je);const Qe=je.status;let Fe=function(Dt){const xn=si[Dt];if(void 0!==xn)return HN(xn)}(Qe),St=je.message;void 0===Fe&&(Fe=pe.INTERNAL,St="Unknown error status: "+Qe+" with message "+je.message),A=!0,O.eo(new Oe(Fe,St)),b.close()}else Ue("Connection","WebChannel received:",de),O.no(de)}}),H(u,SU.STAT_EVENT,q=>{q.stat===XP.PROXY?Ue("Connection","Detected buffering proxy"):q.stat===XP.NOPROXY&&Ue("Connection","Detected no buffering proxy")}),setTimeout(()=>{O.Zr()},0),O}}function ZF(){return"undefined"!=typeof window?window:null}function iD(){return"undefined"!=typeof document?document:null}function xb(n){return new gj(n,!0)}class yx{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Jn=e,this.timerId=t,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,t-r);i>0&&Ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class WF{constructor(e,t,r,i,a,u,f,g){this.Jn=e,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new yx(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,we.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,we.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,t){var r=this;return(0,we.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===pe.RESOURCE_EXHAUSTED?(ri(t.toString()),ri("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===pe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===t&&this.Uo(r,i)},r=>{e(()=>{const i=new Oe(pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){var e=this;this.state=5,this.So.Io((0,we.Z)(function*(){e.state=0,e.start()}))}qo(e){return Ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.Jn.enqueueAndForget(()=>this.Po===e?t():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MH extends WF{constructor(e,t,r,i,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.M=a}Go(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function vj(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(g=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:dt(),i=e.targetChange.targetIds||[],a=function(g,b){return g.N?(jt(void 0===b||"string"==typeof b),mi.fromBase64String(b||"")):(jt(void 0===b||b instanceof Uint8Array),mi.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(g){const b=void 0===g.code?pe.UNKNOWN:HN(g.code);return new Oe(b,g.message||"")}(u);t=new qN(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=ic(n,r.document.name),a=ki(r.document.updateTime),u=new fs({mapValue:{fields:r.document.fields}}),f=sr.newFoundDocument(i,a,u);t=new $E(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=ic(n,r.document),a=r.readTime?ki(r.readTime):Pt.min(),u=sr.newNoDocument(i,a);t=new $E([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,i=ic(n,r.document);t=new $E([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return dt();{const r=e.filter,a=new aj(r.count||0);t=new $N(r.targetId,a)}}var g;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return Pt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Pt.min():a.readTime?ki(a.readTime):Pt.min()}(e);return this.listener.Ko(t,r)}Qo(e){const t={};t.database=wb(this.M),t.addTarget=function(i,a){let u;const f=a.target;return u=NE(f)?{documents:tF(i,f)}:{query:nF(i,f)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=KN(i,a.resumeToken):a.snapshotVersion.compareTo(Pt.min())>0&&(u.readTime=vb(i,a.snapshotVersion.toTimestamp())),u}(this.M,e);const r=function wj(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return dt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Oo(t)}jo(e){const t={};t.database=wb(this.M),t.removeTarget=e,this.Oo(t)}}class xH extends WF{constructor(e,t,r,i,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.M=a,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(jt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function bj(n,e){return n&&n.length>0?(jt(void 0!==e),n.map(t=>function(r,i){let a=ki(r.updateTime?r.updateTime:i);return a.isEqual(Pt.min())&&(a=ki(i)),new ij(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ki(e.commitTime);return this.listener.Jo(r,t)}return jt(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=wb(this.M),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Cb(this.M,r))};this.Oo(t)}}class RH extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=i,this.Zo=!1}tu(){if(this.Zo)throw new Oe(pe.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.bo.ro(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Oe(pe.UNKNOWN,i.toString())})}co(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.bo.co(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Oe(pe.UNKNOWN,i.toString())})}terminate(){this.Zo=!0}}class kH{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(ri(t),this.su=!1):Ue("OnlineStateTracker",t)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class OH{constructor(e,t,r,i,a){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br(f=>{r.enqueueAndForget((0,we.Z)(function*(){var g;kd(u)&&(Ue("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,we.Z)(function*(b){const T=tt(b);T.lu.add(4),yield Dg(T),T._u.set("Unknown"),T.lu.delete(4),yield Rb(T)}),function(b){return g.apply(this,arguments)})(u))}))}),this._u=new kH(r,i)}}function Rb(n){return vx.apply(this,arguments)}function vx(){return vx=(0,we.Z)(function*(n){if(kd(n))for(const e of n.fu)yield e(!0)}),vx.apply(this,arguments)}function Dg(n){return bx.apply(this,arguments)}function bx(){return bx=(0,we.Z)(function*(n){for(const e of n.fu)yield e(!1)}),bx.apply(this,arguments)}function sD(n,e){const t=tt(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),Ex(t)?Cx(t):Sg(t).Co()&&wx(t,e))}function kb(n,e){const t=tt(n),r=Sg(t);t.hu.delete(e),r.Co()&&KF(t,e),0===t.hu.size&&(r.Co()?r.ko():kd(t)&&t._u.set("Unknown"))}function wx(n,e){n.wu.Z(e.targetId),Sg(n).Qo(e)}function KF(n,e){n.wu.Z(e),Sg(n).jo(e)}function Cx(n){n.wu=new fj({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.hu.get(e)||null}),Sg(n).start(),n._u.iu()}function Ex(n){return kd(n)&&!Sg(n).Do()&&n.hu.size>0}function kd(n){return 0===tt(n).lu.size}function YF(n){n.wu=void 0}function PH(n){return Dx.apply(this,arguments)}function Dx(){return Dx=(0,we.Z)(function*(n){n.hu.forEach((e,t)=>{wx(n,e)})}),Dx.apply(this,arguments)}function NH(n,e){return Tx.apply(this,arguments)}function Tx(){return Tx=(0,we.Z)(function*(n,e){YF(n),Ex(n)?(n._u.uu(e),Cx(n)):n._u.set("Unknown")}),Tx.apply(this,arguments)}function FH(n,e,t){return Sx.apply(this,arguments)}function Sx(){return Sx=(0,we.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof qN&&2===e.state&&e.cause)try{yield(r=(0,we.Z)(function*(i,a){const u=a.cause;for(const f of a.targetIds)i.hu.has(f)&&(yield i.remoteSyncer.rejectListen(f,u),i.hu.delete(f),i.wu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield oD(n,r)}else if(e instanceof $E?n.wu.ut(e):e instanceof $N?n.wu._t(e):n.wu.ht(e),!t.isEqual(Pt.min()))try{const r=yield VF(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const u=i.wu.yt(a);return u.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const b=i.hu.get(g);b&&i.hu.set(g,b.withResumeToken(f.resumeToken,a))}}),u.targetMismatches.forEach(f=>{const g=i.hu.get(f);if(!g)return;i.hu.set(f,g.withResumeToken(mi.EMPTY_BYTE_STRING,g.snapshotVersion)),KF(i,f);const b=new Ad(g.target,f,1,g.sequenceNumber);wx(i,b)}),i.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(r){Ue("RemoteStore","Failed to raise snapshot:",r),yield oD(n,r)}var r}),Sx.apply(this,arguments)}function oD(n,e,t){return Ix.apply(this,arguments)}function Ix(){return Ix=(0,we.Z)(function*(n,e,t){if(!Df(e))throw e;n.lu.add(1),yield Dg(n),n._u.set("Offline"),t||(t=()=>VF(n.localStore)),n.asyncQueue.enqueueRetryable((0,we.Z)(function*(){Ue("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield Rb(n)}))}),Ix.apply(this,arguments)}function QF(n,e){return e().catch(t=>oD(n,t,e))}function Tg(n){return Ax.apply(this,arguments)}function Ax(){return Ax=(0,we.Z)(function*(n){const e=tt(n),t=Od(e);let r=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;LH(e);)try{const i=yield pH(e.localStore,r);if(null===i){0===e.cu.length&&t.ko();break}r=i.batchId,VH(e,i)}catch(i){yield oD(e,i)}JF(e)&&XF(e)}),Ax.apply(this,arguments)}function LH(n){return kd(n)&&n.cu.length<10}function VH(n,e){n.cu.push(e);const t=Od(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function JF(n){return kd(n)&&!Od(n).Do()&&n.cu.length>0}function XF(n){Od(n).start()}function BH(n){return Mx.apply(this,arguments)}function Mx(){return Mx=(0,we.Z)(function*(n){Od(n).Xo()}),Mx.apply(this,arguments)}function UH(n){return xx.apply(this,arguments)}function xx(){return xx=(0,we.Z)(function*(n){const e=Od(n);for(const t of n.cu)e.Ho(t.mutations)}),xx.apply(this,arguments)}function jH(n,e,t){return Rx.apply(this,arguments)}function Rx(){return Rx=(0,we.Z)(function*(n,e,t){const r=n.cu.shift(),i=YM.from(r,e,t);yield QF(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Tg(n)}),Rx.apply(this,arguments)}function HH(n,e){return kx.apply(this,arguments)}function kx(){return kx=(0,we.Z)(function*(n,e){var t;e&&Od(n).zo&&(yield(t=(0,we.Z)(function*(r,i){if(jN(a=i.code)&&a!==pe.ABORTED){const u=r.cu.shift();Od(r).No(),yield QF(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,i)),yield Tg(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),JF(n)&&XF(n)}),kx.apply(this,arguments)}function eL(n,e){return Ox.apply(this,arguments)}function Ox(){return Ox=(0,we.Z)(function*(n,e){const t=tt(n);t.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const r=kd(t);t.lu.add(3),yield Dg(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield Rb(t)}),Ox.apply(this,arguments)}function Px(n,e){return Nx.apply(this,arguments)}function Nx(){return Nx=(0,we.Z)(function*(n,e){const t=tt(n);e?(t.lu.delete(2),yield Rb(t)):e||(t.lu.add(2),yield Dg(t),t._u.set("Unknown"))}),Nx.apply(this,arguments)}function Sg(n){return n.mu||(n.mu=function(e,t,r){const i=tt(e);return i.tu(),new MH(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{zr:PH.bind(null,n),Jr:NH.bind(null,n),Ko:FH.bind(null,n)}),n.fu.push(function(){var e=(0,we.Z)(function*(t){t?(n.mu.No(),Ex(n)?Cx(n):n._u.set("Unknown")):(yield n.mu.stop(),YF(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function Od(n){return n.gu||(n.gu=function(e,t,r){const i=tt(e);return i.tu(),new xH(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{zr:BH.bind(null,n),Jr:HH.bind(null,n),Yo:UH.bind(null,n),Jo:jH.bind(null,n)}),n.fu.push(function(){var e=(0,we.Z)(function*(t){t?(n.gu.No(),yield Tg(n)):(yield n.gu.stop(),n.cu.length>0&&(Ue("RemoteStore",`Stopping write stream with ${n.cu.length} pending writes`),n.cu=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class Fx{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,r,i,a){const u=Date.now()+r,f=new Fx(e,t,u,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ig(n,e){if(ri("AsyncQueue",`${e}: ${n}`),Df(n))return new Oe(pe.UNAVAILABLE,`${e}: ${n}`);throw n}class Ag{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ze.comparator(t.key,r.key):(t,r)=>Ze.comparator(t.key,r.key),this.keyedMap=$M(),this.sortedSet=new qr(this.comparator)}static emptySet(e){return new Ag(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ag)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Ag;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class tL{constructor(){this.yu=new qr(Ze.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):dt():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Mg{constructor(e,t,r,i,a,u,f,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=g}static fromInitialDocuments(e,t,r,i){const a=[];return t.forEach(u=>{a.push({type:0,doc:u})}),new Mg(e,t,Ag.emptySet(t),a,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class GH{constructor(){this.Iu=void 0,this.listeners=[]}}class $H{constructor(){this.queries=new Id(e=>TN(e),hb),this.onlineState="Unknown",this.Tu=new Set}}function Lx(n,e){return Vx.apply(this,arguments)}function Vx(){return Vx=(0,we.Z)(function*(n,e){const t=tt(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new GH),i)try{a.Iu=yield t.onListen(r)}catch(u){const f=Ig(u,`Initialization of query '${UM(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.Eu(t.onlineState),a.Iu&&e.Au(a.Iu)&&jx(t)}),Vx.apply(this,arguments)}function Bx(n,e){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,we.Z)(function*(n,e){const t=tt(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),Ux.apply(this,arguments)}function qH(n,e){const t=tt(n);let r=!1;for(const i of e){const u=t.queries.get(i.query);if(u){for(const f of u.listeners)f.Au(i)&&(r=!0);u.Iu=i}}r&&jx(t)}function zH(n,e,t){const r=tt(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function jx(n){n.Tu.forEach(e=>{e.next()})}class Hx{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Mg(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),t=!0):this.vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Mg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class ZH{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class nL{constructor(e){this.M=e}li(e){return ic(this.M,e)}fi(e){return e.metadata.exists?eF(this.M,e.document,!1):sr.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}di(e){return ki(e)}}class WH{constructor(e,t,r){this.xu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=rL(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=un.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new nL(this.M);for(const i of e)if(i.metadata.queries){const a=r.li(i.metadata.name);for(const u of i.metadata.queries){const f=(t.get(u)||Mn()).add(a);t.set(u,f)}}return t}complete(){var e=this;return(0,we.Z)(function*(){const t=yield function mH(n,e,t,r){return ux.apply(this,arguments)}(e.localStore,new nL(e.M),e.documents,e.xu.id),r=e.ku(e.documents);for(const i of e.queries)yield gH(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function rL(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class iL{constructor(e){this.key=e}}class sL{constructor(e){this.key=e}}class oL{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=Mn(),this.mutatedKeys=Mn(),this.Lu=IN(e),this.Uu=new Ag(this.Lu)}get qu(){return this.Fu}Gu(e,t){const r=t?t.Ku:new tL,i=t?t.Uu:this.Uu;let a=t?t.mutatedKeys:this.mutatedKeys,u=i,f=!1;const g=LE(this.query)&&i.size===this.query.limit?i.last():null,b=VE(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,A)=>{const O=i.get(T),H=jM(this.query,A)?A:null,q=!!O&&this.mutatedKeys.has(O.key),ee=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let de=!1;O&&H?O.data.isEqual(H.data)?q!==ee&&(r.track({type:3,doc:H}),de=!0):this.Qu(O,H)||(r.track({type:2,doc:H}),de=!0,(g&&this.Lu(H,g)>0||b&&this.Lu(H,b)<0)&&(f=!0)):!O&&H?(r.track({type:0,doc:H}),de=!0):O&&!H&&(r.track({type:1,doc:O}),de=!0,(g||b)&&(f=!0)),de&&(H?(u=u.add(H),a=ee?a.add(T):a.delete(T)):(u=u.delete(T),a=a.delete(T)))}),LE(this.query)||VE(this.query))for(;u.size>this.query.limit;){const T=LE(this.query)?u.last():u.first();u=u.delete(T.key),a=a.delete(T.key),r.track({type:1,doc:T})}return{Uu:u,Ku:r,ei:f,mutatedKeys:a}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const a=e.Ku.pu();a.sort((b,T)=>function(A,O){const H=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt()}};return H(A)-H(O)}(b.type,T.type)||this.Lu(b.doc,T.doc)),this.ju(r);const u=t?this.Wu():[],f=0===this.Bu.size&&this.current?1:0,g=f!==this.$u;return this.$u=f,0!==a.length||g?{snapshot:new Mg(this.query,e.Uu,i,a,e.mutatedKeys,0===f,g,!1),zu:u}:{zu:u}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new tL,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Mn(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new sL(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new iL(r))}),t}Ju(e){this.Fu=e.hi,this.Bu=Mn();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Yu(){return Mg.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class KH{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class YH{constructor(e){this.key=e,this.Xu=!1}}class QH{constructor(e,t,r,i,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Zu={},this.ta=new Id(f=>TN(f),hb),this.ea=new Map,this.na=new Set,this.sa=new qr(Ze.comparator),this.ia=new Map,this.ra=new hx,this.oa={},this.ua=new Map,this.aa=Mf.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function JH(n,e){return Gx.apply(this,arguments)}function Gx(){return Gx=(0,we.Z)(function*(n,e){const t=hR(n);let r,i;const a=t.ta.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.Yu();else{const u=yield Cg(t.localStore,Aa(e));t.isPrimaryClient&&sD(t.remoteStore,u);const f=t.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,i=yield $x(t,e,r,"current"===f)}return i}),Gx.apply(this,arguments)}function $x(n,e,t,r){return qx.apply(this,arguments)}function qx(){return qx=(0,we.Z)(function*(n,e,t,r){n.ha=(T,A,O)=>{return(H=(0,we.Z)(function*(q,ee,de,Ye){let je=ee.view.Gu(de);je.ei&&(je=yield tD(q.localStore,ee.query,!1).then(({documents:St})=>ee.view.Gu(St,je)));const Qe=Ye&&Ye.targetChanges.get(ee.targetId),Fe=ee.view.applyChanges(je,q.isPrimaryClient,Qe);return tR(q,ee.targetId,Fe.zu),Fe.snapshot}),function(q,ee,de,Ye){return H.apply(this,arguments)})(n,T,A,O);var H};const i=yield tD(n.localStore,e,!0),a=new oL(e,i.hi),u=a.Gu(i.documents),f=yb.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),g=a.applyChanges(u,n.isPrimaryClient,f);tR(n,t,g.zu);const b=new KH(e,t,a);return n.ta.set(e,b),n.ea.has(t)?n.ea.get(t).push(e):n.ea.set(t,[e]),g.snapshot}),qx.apply(this,arguments)}function XH(n,e){return zx.apply(this,arguments)}function zx(){return zx=(0,we.Z)(function*(n,e){const t=tt(n),r=t.ta.get(e),i=t.ea.get(r.targetId);if(i.length>1)return t.ea.set(r.targetId,i.filter(a=>!hb(a,e))),void t.ta.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Eg(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),kb(t.remoteStore,r.targetId),xg(t,r.targetId)}).catch(xf))):(xg(t,r.targetId),yield Eg(t.localStore,r.targetId,!0))}),zx.apply(this,arguments)}function Zx(){return Zx=(0,we.Z)(function*(n,e,t){const r=fR(n);try{const i=yield function(a,u){const f=tt(a),g=$r.now(),b=u.reduce((A,O)=>A.add(O.key),Mn());let T;return f.persistence.runTransaction("Locally write mutations","readwrite",A=>f.ai.qs(A,b).next(O=>{T=O;const H=[];for(const q of u){const ee=oj(q,T.get(q.key));null!=ee&&H.push(new Ef(q.key,ee,_N(ee.value.mapValue),ii.exists(!0)))}return f.$s.addMutationBatch(A,g,H,u)})).then(A=>(A.applyToLocalDocumentSet(T),{batchId:A.batchId,changes:T}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,u,f){let g=a.oa[a.currentUser.toKey()];g||(g=new qr(tn)),g=g.insert(u,f),a.oa[a.currentUser.toKey()]=g}(r,i.batchId,t),yield cu(r,i.changes),yield Tg(r.remoteStore)}catch(i){const a=Ig(i,"Failed to persist write");t.reject(a)}}),Zx.apply(this,arguments)}function aL(n,e){return Wx.apply(this,arguments)}function Wx(){return Wx=(0,we.Z)(function*(n,e){const t=tt(n);try{const r=yield fH(t.localStore,e);e.targetChanges.forEach((i,a)=>{const u=t.ia.get(a);u&&(jt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.Xu=!0:i.modifiedDocuments.size>0?jt(u.Xu):i.removedDocuments.size>0&&(jt(u.Xu),u.Xu=!1))}),yield cu(t,r,e)}catch(r){yield xf(r)}}),Wx.apply(this,arguments)}function lL(n,e,t){const r=tt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ta.forEach((a,u)=>{const f=u.view.Eu(e);f.snapshot&&i.push(f.snapshot)}),function(a,u){const f=tt(a);f.onlineState=u;let g=!1;f.queries.forEach((b,T)=>{for(const A of T.listeners)A.Eu(u)&&(g=!0)}),g&&jx(f)}(r.eventManager,e),i.length&&r.Zu.Ko(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function t3(n,e,t){return Kx.apply(this,arguments)}function Kx(){return Kx=(0,we.Z)(function*(n,e,t){const r=tt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ia.get(e),a=i&&i.key;if(a){let u=new qr(Ze.comparator);u=u.insert(a,sr.newNoDocument(a,Pt.min()));const f=Mn().add(a),g=new _b(Pt.min(),new Map,new or(tn),u,f);yield aL(r,g),r.sa=r.sa.remove(a),r.ia.delete(e),nR(r)}else yield Eg(r.localStore,e,!1).then(()=>xg(r,e,t)).catch(xf)}),Kx.apply(this,arguments)}function n3(n,e){return Yx.apply(this,arguments)}function Yx(){return Yx=(0,we.Z)(function*(n,e){const t=tt(n),r=e.batch.batchId;try{const i=yield hH(t.localStore,e);eR(t,r,null),Xx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield cu(t,i)}catch(i){yield xf(i)}}),Yx.apply(this,arguments)}function r3(n,e,t){return Qx.apply(this,arguments)}function Qx(){return Qx=(0,we.Z)(function*(n,e,t){const r=tt(n);try{const i=yield function(a,u){const f=tt(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let b;return f.$s.lookupMutationBatch(g,u).next(T=>(jt(null!==T),b=T.keys(),f.$s.removeMutationBatch(g,T))).next(()=>f.$s.performConsistencyCheck(g)).next(()=>f.ai.qs(g,b))})}(r.localStore,e);eR(r,e,t),Xx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield cu(r,i)}catch(i){yield xf(i)}}),Qx.apply(this,arguments)}function Jx(){return Jx=(0,we.Z)(function*(n,e){const t=tt(n);kd(t.remoteStore)||Ue("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const u=tt(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.$s.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.ua.get(r)||[];i.push(e),t.ua.set(r,i)}catch(r){const i=Ig(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),Jx.apply(this,arguments)}function Xx(n,e){(n.ua.get(e)||[]).forEach(t=>{t.resolve()}),n.ua.delete(e)}function eR(n,e,t){const r=tt(n);let i=r.oa[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.oa[r.currentUser.toKey()]=i}}function xg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ea.get(e))n.ta.delete(r),t&&n.Zu.la(r,t);n.ea.delete(e),n.isPrimaryClient&&n.ra.Ri(e).forEach(r=>{n.ra.containsKey(r)||cL(n,r)})}function cL(n,e){n.na.delete(e.path.canonicalString());const t=n.sa.get(e);null!==t&&(kb(n.remoteStore,t),n.sa=n.sa.remove(e),n.ia.delete(t),nR(n))}function tR(n,e,t){for(const r of t)r instanceof iL?(n.ra.addReference(r.key,e),s3(n,r)):r instanceof sL?(Ue("SyncEngine","Document no longer in limbo: "+r.key),n.ra.removeReference(r.key,e),n.ra.containsKey(r.key)||cL(n,r.key)):dt()}function s3(n,e){const t=e.key,r=t.path.canonicalString();n.sa.get(t)||n.na.has(r)||(Ue("SyncEngine","New document in limbo: "+t),n.na.add(r),nR(n))}function nR(n){for(;n.na.size>0&&n.sa.size<n.maxConcurrentLimboResolutions;){const e=n.na.values().next().value;n.na.delete(e);const t=new Ze(un.fromString(e)),r=n.aa.next();n.ia.set(r,new YH(t)),n.sa=n.sa.insert(t,r),sD(n.remoteStore,new Ad(Aa(dg(t.path)),r,2,Go.A))}}function cu(n,e,t){return rR.apply(this,arguments)}function rR(){return rR=(0,we.Z)(function*(n,e,t){const r=tt(n),i=[],a=[],u=[];var f;r.ta.isEmpty()||(r.ta.forEach((f,g)=>{u.push(r.ha(g,e,t).then(b=>{if(b){r.isPrimaryClient&&r.sharedClientState.updateQueryState(g.targetId,b.fromCache?"not-current":"current"),i.push(b);const T=ax.Js(g.targetId,b);a.push(T)}}))}),yield Promise.all(u),r.Zu.Ko(i),yield(f=(0,we.Z)(function*(g,b){const T=tt(g);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>ye.forEach(b,O=>ye.forEach(O.zs,H=>T.persistence.referenceDelegate.addReference(A,O.targetId,H)).next(()=>ye.forEach(O.Hs,H=>T.persistence.referenceDelegate.removeReference(A,O.targetId,H)))))}catch(A){if(!Df(A))throw A;Ue("LocalStore","Failed to update sequence numbers: "+A)}for(const A of b){const O=A.targetId;if(!A.fromCache){const H=T.si.get(O),ee=H.withLastLimboFreeSnapshotVersion(H.snapshotVersion);T.si=T.si.insert(O,ee)}}}),function(g,b){return f.apply(this,arguments)})(r.localStore,a))}),rR.apply(this,arguments)}function o3(n,e){return iR.apply(this,arguments)}function iR(){return iR=(0,we.Z)(function*(n,e){const t=tt(n);if(!t.currentUser.isEqual(e)){Ue("SyncEngine","User change. New user:",e.toKey());const r=yield LF(t.localStore,e);t.currentUser=e,(i=t).ua.forEach(u=>{u.forEach(f=>{f.reject(new Oe(pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.ua.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield cu(t,r.ci)}var i}),iR.apply(this,arguments)}function a3(n,e){const t=tt(n),r=t.ia.get(e);if(r&&r.Xu)return Mn().add(r.key);{let i=Mn();const a=t.ea.get(e);if(!a)return i;for(const u of a){const f=t.ta.get(u);i=i.unionWith(f.view.qu)}return i}}function l3(n,e){return sR.apply(this,arguments)}function sR(){return sR=(0,we.Z)(function*(n,e){const t=tt(n),r=yield tD(t.localStore,e.query,!0),i=e.view.Ju(r);return t.isPrimaryClient&&tR(t,e.targetId,i.zu),i}),sR.apply(this,arguments)}function c3(n,e){return oR.apply(this,arguments)}function oR(){return oR=(0,we.Z)(function*(n,e){const t=tt(n);return jF(t.localStore,e).then(r=>cu(t,r))}),oR.apply(this,arguments)}function u3(n,e,t,r){return aR.apply(this,arguments)}function aR(){return aR=(0,we.Z)(function*(n,e,t,r){const i=tt(n),a=yield function(u,f){const g=tt(u),b=tt(g.$s);return g.persistence.runTransaction("Lookup mutation documents","readonly",T=>b.ln(T,f).next(A=>A?g.ai.qs(T,A):ye.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===t?yield Tg(i.remoteStore):"acknowledged"===t||"rejected"===t?(eR(i,e,r||null),Xx(i,e),f=e,tt(tt(i.localStore).$s).dn(f)):dt(),yield cu(i,a)):Ue("SyncEngine","Cannot apply mutation batch with id: "+e)}),aR.apply(this,arguments)}function lR(){return lR=(0,we.Z)(function*(n,e){const t=tt(n);if(hR(t),fR(t),!0===e&&!0!==t.ca){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield uL(t,r.toArray());t.ca=!0,yield Px(t.remoteStore,!0);for(const a of i)sD(t.remoteStore,a)}else if(!1===e&&!1!==t.ca){const r=[];let i=Promise.resolve();t.ea.forEach((a,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(xg(t,u),Eg(t.localStore,u,!0))),kb(t.remoteStore,u)}),yield i,yield uL(t,r),function(a){const u=tt(a);u.ia.forEach((f,g)=>{kb(u.remoteStore,g)}),u.ra.bi(),u.ia=new Map,u.sa=new qr(Ze.comparator)}(t),t.ca=!1,yield Px(t.remoteStore,!1)}}),lR.apply(this,arguments)}function uL(n,e,t){return cR.apply(this,arguments)}function cR(){return cR=(0,we.Z)(function*(n,e,t){const r=tt(n),i=[],a=[];for(const u of e){let f;const g=r.ea.get(u);if(g&&0!==g.length){f=yield Cg(r.localStore,Aa(g[0]));for(const b of g){const T=r.ta.get(b),A=yield l3(r,T);A.snapshot&&a.push(A.snapshot)}}else{const b=yield UF(r.localStore,u);f=yield Cg(r.localStore,b),yield $x(r,dL(b),u,!1)}i.push(f)}return r.Zu.Ko(a),i}),cR.apply(this,arguments)}function dL(n){return EN(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function h3(n){const e=tt(n);return tt(tt(e.localStore).persistence).Os()}function f3(n,e,t,r){return uR.apply(this,arguments)}function uR(){return uR=(0,we.Z)(function*(n,e,t,r){const i=tt(n);if(i.ca)return void Ue("SyncEngine","Ignoring unexpected query state notification.");const a=i.ea.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const u=yield jF(i.localStore,SN(a[0])),f=_b.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield cu(i,u,f);break}case"rejected":yield Eg(i.localStore,e,!0),xg(i,e,r);break;default:dt()}}),uR.apply(this,arguments)}function p3(n,e,t){return dR.apply(this,arguments)}function dR(){return dR=(0,we.Z)(function*(n,e,t){const r=hR(n);if(r.ca){for(const i of e){if(r.ea.has(i)){Ue("SyncEngine","Adding an already active target "+i);continue}const a=yield UF(r.localStore,i),u=yield Cg(r.localStore,a);yield $x(r,dL(a),u.targetId,!1),sD(r.remoteStore,u)}for(const i of t)r.ea.has(i)&&(yield Eg(r.localStore,i,!1).then(()=>{kb(r.remoteStore,i),xg(r,i)}).catch(xf))}}),dR.apply(this,arguments)}function hR(n){const e=tt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=aL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=a3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=t3.bind(null,e),e.Zu.Ko=qH.bind(null,e.eventManager),e.Zu.la=zH.bind(null,e.eventManager),e}function fR(n){const e=tt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=n3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=r3.bind(null,e),e}class hL{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,we.Z)(function*(){t.M=xb(e.databaseInfo.databaseId),t.sharedClientState=t.da(e),t.persistence=t._a(e),yield t.persistence.start(),t.gcScheduler=t.wa(e),t.localStore=t.ma(e)})()}wa(e){return null}ma(e){return FF(this.persistence,new NF,e.initialUser,this.M)}_a(e){return new EH(fx.Wi,this.M)}da(e){return new qF}terminate(){var e=this;return(0,we.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class fL extends hL{constructor(e,t,r){super(),this.ga=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,we.Z)(function*(){yield t().call(r,e),yield r.ga.initialize(r,e),yield fR(r.ga.syncEngine),yield Tg(r.ga.remoteStore),yield r.persistence.Is(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ma(e){return FF(this.persistence,new NF,e.initialUser,this.M)}wa(e){return new iH(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}_a(e){const t=ox(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?_o.withCacheSize(this.cacheSizeBytes):_o.DEFAULT;return new sx(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,ZF(),iD(),this.M,this.sharedClientState,!!this.forceOwnership)}da(e){return new qF}}class g3 extends fL{constructor(e,t){super(e,t,!1),this.ga=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,we.Z)(function*(){yield t().call(r,e);const i=r.ga.syncEngine;r.sharedClientState instanceof _x&&(r.sharedClientState.syncEngine={kr:u3.bind(null,i),Mr:f3.bind(null,i),Or:p3.bind(null,i),Os:h3.bind(null,i),Nr:c3.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Is(function(){var a=(0,we.Z)(function*(u){yield function d3(n,e){return lR.apply(this,arguments)}(r.ga.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):u||r.gcScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}da(e){const t=ZF();if(!_x.vt(t))throw new Oe(pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=ox(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new _x(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class pR{initialize(e,t){var r=this;return(0,we.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>lL(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=o3.bind(null,r.syncEngine),yield Px(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new $H}createDatastore(e){const t=xb(e.databaseInfo.databaseId),r=new AH(e.databaseInfo);return new RH(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>lL(this.syncEngine,f,0),u=zF.vt()?new zF:new TH,new OH(t,r,i,a,u);var t,r,i,a,u}createSyncEngine(e,t){return function(r,i,a,u,f,g,b){const T=new QH(r,i,a,u,f,g);return b&&(T.ca=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,we.Z)(function*(t){const r=tt(t);Ue("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield Dg(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function pL(n,e=10240){let t=0;return{read:()=>(0,we.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,we.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class aD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class _3{constructor(e,t){this.Ia=e,this.M=t,this.metadata=new xi,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ia.cancel()}getMetadata(){var e=this;return(0,we.Z)(function*(){return e.metadata.promise})()}fa(){var e=this;return(0,we.Z)(function*(){return yield e.getMetadata(),e.Ea()})()}Ea(){var e=this;return(0,we.Z)(function*(){const t=yield e.Aa();if(null===t)return null;const r=e.Ta.decode(t),i=Number(r);isNaN(i)&&e.Ra(`length string (${r}) is not valid number`);const a=yield e.ba(i);return new ZH(JSON.parse(a),t.length+i)})()}Pa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Aa(){var e=this;return(0,we.Z)(function*(){for(;e.Pa()<0&&!(yield e.Va()););if(0===e.buffer.length)return null;const t=e.Pa();t<0&&e.Ra("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,we.Z)(function*(){for(;t.buffer.length<e;)(yield t.Va())&&t.Ra("Reached the end of bundle when more is expected.");const r=t.Ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Ra(e){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${e}`)}Va(){var e=this;return(0,we.Z)(function*(){const t=yield e.Ia.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class y3{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,we.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Oe(pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,we.Z)(function*(a,u){const f=tt(a),g=wb(f.M)+"/documents",b={documents:u.map(H=>bb(f.M,H))},T=yield f.co("BatchGetDocuments",g,b),A=new Map;T.forEach(H=>{const q=function yj(n,e){return"found"in e?function(t,r){jt(!!r.found);const i=ic(t,r.found.name),a=ki(r.found.updateTime),u=new fs({mapValue:{fields:r.found.fields}});return sr.newFoundDocument(i,a,u)}(n,e):"missing"in e?function(t,r){jt(!!r.missing),jt(!!r.readTime);const i=ic(t,r.missing),a=ki(r.readTime);return sr.newNoDocument(i,a)}(n,e):dt()}(f.M,H);A.set(q.key.toString(),q)});const O=[];return u.forEach(H=>{const q=A.get(H.toString());jt(!!q),O.push(q)}),O}),function(a,u){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new mb(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,we.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=Ze.fromPath(i);e.mutations.push(new GM(a,e.precondition(a)))}),yield(r=(0,we.Z)(function*(i,a){const u=tt(i),f=wb(u.M)+"/documents",g={writes:a.map(b=>Cb(u.M,b))};yield u.ro("Commit",f,g)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw dt();t=Pt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Oe(pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?ii.updateTime(t):ii.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Pt.min()))throw new Oe(pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ii.updateTime(t)}return ii.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class v3{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.va=5,this.So=new yx(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var e=this;this.So.Io((0,we.Z)(function*(){const t=new y3(e.datastore),r=e.Da(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Ca(a)}))}).catch(i=>{e.Ca(i)})}))}Da(e){try{const t=this.updateFunction(e);return!yf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ca(e){this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(e)}xa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!jN(t)}return!1}}class b3{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Qi.UNAUTHENTICATED,this.clientId=rN.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,we.Z)(function*(f){Ue("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(Ue("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,we.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Ig(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function mL(n,e){return mR.apply(this,arguments)}function mR(){return mR=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,we.Z)(function*(a){r.isEqual(a)||(yield LF(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),mR.apply(this,arguments)}function gL(n,e){return gR.apply(this,arguments)}function gR(){return gR=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield _R(n);Ue("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>eL(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>eL(e.remoteStore,a)),n.onlineComponents=e}),gR.apply(this,arguments)}function _R(n){return yR.apply(this,arguments)}function yR(){return yR=(0,we.Z)(function*(n){return n.offlineComponents||(Ue("FirestoreClient","Using default OfflineComponentProvider"),yield mL(n,new hL)),n.offlineComponents}),yR.apply(this,arguments)}function lD(n){return vR.apply(this,arguments)}function vR(){return vR=(0,we.Z)(function*(n){return n.onlineComponents||(Ue("FirestoreClient","Using default OnlineComponentProvider"),yield gL(n,new pR)),n.onlineComponents}),vR.apply(this,arguments)}function _L(n){return _R(n).then(e=>e.persistence)}function bR(n){return _R(n).then(e=>e.localStore)}function yL(n){return lD(n).then(e=>e.remoteStore)}function wR(n){return lD(n).then(e=>e.syncEngine)}function Rg(n){return CR.apply(this,arguments)}function CR(){return CR=(0,we.Z)(function*(n){const e=yield lD(n),t=e.eventManager;return t.onListen=JH.bind(null,e.syncEngine),t.onUnlisten=XH.bind(null,e.syncEngine),t}),CR.apply(this,arguments)}function vL(n,e,t={}){const r=new xi;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(i,a,u,f,g){const b=new aD({next:A=>{a.enqueueAndForget(()=>Bx(i,T));const O=A.docs.has(u);!O&&A.fromCache?g.reject(new Oe(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&A.fromCache&&f&&"server"===f.source?g.reject(new Oe(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new Hx(dg(u.path),b,{includeMetadataChanges:!0,Du:!0});return Lx(i,T)}(yield Rg(n),n.asyncQueue,e,t,r)})),r.promise}function bL(n,e,t={}){const r=new xi;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(i,a,u,f,g){const b=new aD({next:A=>{a.enqueueAndForget(()=>Bx(i,T)),A.fromCache&&"server"===f.source?g.reject(new Oe(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new Hx(u,b,{includeMetadataChanges:!0,Du:!0});return Lx(i,T)}(yield Rg(n),n.asyncQueue,e,t,r)})),r.promise}const wL=new Map;function ER(n,e,t){if(!t)throw new Oe(pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function CL(n,e,t,r){if(!0===e&&!0===r)throw new Oe(pe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function EL(n){if(!Ze.isDocumentKey(n))throw new Oe(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function DL(n){if(Ze.isDocumentKey(n))throw new Oe(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function cD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":dt()}function ln(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Oe(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=cD(n);throw new Oe(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function TL(n,e){if(e<=0)throw new Oe(pe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class SL{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Oe(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oe(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,CL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ob{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new SL({}),this._settingsFrozen=!1,e instanceof ou?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Oe(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ou(i.options.projectId)}(e))}get app(){if(!this._app)throw new Oe(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Oe(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new SL(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new RU;switch(t.type){case"gapi":const r=t.client;return jt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new NU(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Oe(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=wL.get(e);t&&(Ue("ComponentProvider","Removing Datastore"),wL.delete(e),t.terminate())}(this),Promise.resolve()}}class ar{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ar(this.firestore,e,this._key)}}class ps{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ps(this.firestore,e,this._query)}}class sc extends ps{constructor(e,t,r){super(e,t,dg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ar(this.firestore,null,new Ze(e))}withConverter(e){return new sc(this.firestore,e,this._path)}}function IL(n,e,...t){if(n=(0,yt.m9)(n),ER("collection","path",e),n instanceof Ob){const r=un.fromString(e,...t);return DL(r),new sc(n,null,r)}{if(!(n instanceof ar||n instanceof sc))throw new Oe(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(un.fromString(e,...t));return DL(r),new sc(n.firestore,null,r)}}function uD(n,e,...t){if(n=(0,yt.m9)(n),1===arguments.length&&(e=rN.R()),ER("doc","path",e),n instanceof Ob){const r=un.fromString(e,...t);return EL(r),new ar(n,null,new Ze(r))}{if(!(n instanceof ar||n instanceof sc))throw new Oe(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(un.fromString(e,...t));return EL(r),new ar(n.firestore,n instanceof sc?n.converter:null,new Ze(r))}}function AL(n,e){return n=(0,yt.m9)(n),e=(0,yt.m9)(e),(n instanceof ar||n instanceof sc)&&(e instanceof ar||e instanceof sc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function ML(n,e){return n=(0,yt.m9)(n),e=(0,yt.m9)(e),n instanceof ps&&e instanceof ps&&n.firestore===e.firestore&&hb(n._query,e._query)&&n.converter===e.converter}class R3{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new yx(this,"async_queue_retry"),this.Ua=()=>{const t=iD();t&&Ue("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=iD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const t=iD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const t=new xi;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return(0,we.Z)(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(t){if(!Df(t))throw t;Ue("AsyncQueue","Operation failed with retryable error: "+t)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const t=this.Na.then(()=>(this.$a=!0,e().catch(r=>{throw this.Fa=r,this.$a=!1,ri("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(r)),r}).then(r=>(this.$a=!1,r))));return this.Na=t,t}enqueueAfterDelay(e,t,r){this.qa(),this.La.indexOf(e)>-1&&(t=0);const i=Fx.createAndSchedule(this,e,t,r,a=>this.Qa(a));return this.Oa.push(i),i}qa(){this.Fa&&dt()}verifyOperationInProgress(){}ja(){var e=this;return(0,we.Z)(function*(){let t;do{t=e.Na,yield t}while(t!==e.Na)})()}Wa(e){for(const t of this.Oa)if(t.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Oa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}function DR(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class k3{constructor(){this._progressObserver={},this._taskCompletionResolver=new xi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class fr extends Ob{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new R3,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||xL(this),this._firestoreClient.terminate()}}function oi(n){return n._firestoreClient||xL(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function xL(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new jU(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new b3(n._authCredentials,n._appCheckCredentials,n._queue,r)}function RL(n,e,t){const r=new xi;return n.asyncQueue.enqueue((0,we.Z)(function*(){try{yield mL(n,t),yield gL(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(a=i).name?a.code===pe.FAILED_PRECONDITION||a.code===pe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var a})).then(()=>r.promise)}function kL(n){if(n._initialized||n._terminated)throw new Oe(pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class uu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Oe(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ri(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class oc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oc(mi.fromBase64String(e))}catch(t){throw new Oe(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new oc(mi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class kf{constructor(e){this._methodName=e}}class dD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oe(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oe(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tn(this._lat,e._lat)||tn(this._long,e._long)}}const H3=/^__.*__$/;class G3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ef(e,this.data,this.fieldMask,t,this.fieldTransforms):new pb(e,this.data,t,this.fieldTransforms)}}class OL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ef(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function PL(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt()}}class hD{constructor(e,t,r,i,a,u){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ja(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new hD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Xa({path:r,tc:!1});return i.ec(e),i}nc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Xa({path:r,tc:!1});return i.Ja(),i}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return mD(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(PL(this.Ya)&&H3.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class $3{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||xb(e)}uc(e,t,r,i=!1){return new hD({Ya:e,methodName:t,oc:r,path:Ri.emptyPath(),tc:!1,rc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Of(n){const e=n._freezeSettings(),t=xb(n._databaseId);return new $3(n._databaseId,!!e.ignoreUndefinedProperties,t)}function fD(n,e,t,r,i,a={}){const u=n.uc(a.merge||a.mergeFields?2:0,e,t,i);AR("Data must be an object, but it was:",u,r);const f=LL(r,u);let g,b;if(a.merge)g=new og(u.fieldMask),b=u.fieldTransforms;else if(a.mergeFields){const T=[];for(const A of a.mergeFields){const O=MR(e,A,t);if(!u.contains(O))throw new Oe(pe.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);BL(T,O)||T.push(O)}g=new og(T),b=u.fieldTransforms.filter(A=>g.covers(A.field))}else g=null,b=u.fieldTransforms;return new G3(new fs(f),g,b)}class Pb extends kf{_toFieldTransform(e){if(2!==e.Ya)throw e.ic(1===e.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pb}}function NL(n,e,t){return new hD({Ya:3,oc:e.settings.oc,methodName:n._methodName,tc:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class TR extends kf{_toFieldTransform(e){return new fb(e.path,new fg)}isEqual(e){return e instanceof TR}}class q3 extends kf{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=NL(this,e,!0),r=this.ac.map(a=>Pf(a,t)),i=new wf(r);return new fb(e.path,i)}isEqual(e){return this===e}}class z3 extends kf{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=NL(this,e,!0),r=this.ac.map(a=>Pf(a,t)),i=new Cf(r);return new fb(e.path,i)}isEqual(e){return this===e}}class Z3 extends kf{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=new pg(e.M,xN(e.M,this.cc));return new fb(e.path,t)}isEqual(e){return this===e}}function SR(n,e,t,r){const i=n.uc(1,e,t);AR("Data must be an object, but it was:",i,r);const a=[],u=fs.empty();gf(r,(g,b)=>{const T=pD(e,g,t);b=(0,yt.m9)(b);const A=i.nc(T);if(b instanceof Pb)a.push(T);else{const O=Pf(b,A);null!=O&&(a.push(T),u.set(T,O))}});const f=new og(a);return new OL(u,f,i.fieldTransforms)}function IR(n,e,t,r,i,a){const u=n.uc(1,e,t),f=[MR(e,r,t)],g=[i];if(a.length%2!=0)throw new Oe(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<a.length;O+=2)f.push(MR(e,a[O])),g.push(a[O+1]);const b=[],T=fs.empty();for(let O=f.length-1;O>=0;--O)if(!BL(b,f[O])){const H=f[O];let q=g[O];q=(0,yt.m9)(q);const ee=u.nc(H);if(q instanceof Pb)b.push(H);else{const de=Pf(q,ee);null!=de&&(b.push(H),T.set(H,de))}}const A=new og(b);return new OL(T,A,u.fieldTransforms)}function FL(n,e,t,r=!1){return Pf(t,n.uc(r?4:3,e))}function Pf(n,e){if(VL(n=(0,yt.m9)(n)))return AR("Unsupported field value:",e,n),LL(n,e);if(n instanceof kf)return function(t,r){if(!PL(r.Ya))throw r.ic(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ic(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const u of t){let f=Pf(u,r.sc(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,yt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return xN(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=$r.fromDate(t);return{timestampValue:vb(r.M,i)}}if(t instanceof $r){const i=new $r(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:vb(r.M,i)}}if(t instanceof dD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof oc)return{bytesValue:KN(r.M,t._byteString)};if(t instanceof ar){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.ic(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:qM(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ic(`Unsupported field value: ${cD(t)}`)}(n,e)}function LL(n,e){const t={};return oN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gf(n,(r,i)=>{const a=Pf(i,e.Za(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function VL(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof $r||n instanceof dD||n instanceof oc||n instanceof ar||n instanceof kf)}function AR(n,e,t){if(!VL(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=cD(t);throw e.ic("an object"===r?n+" a custom object":n+" "+r)}var r}function MR(n,e,t){if((e=(0,yt.m9)(e))instanceof uu)return e._internalPath;if("string"==typeof e)return pD(n,e);throw mD("Field path arguments must be of type string or ",n,!1,void 0,t)}const W3=new RegExp("[~\\*/\\[\\]]");function pD(n,e,t){if(e.search(W3)>=0)throw mD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new uu(...e.split("."))._internalPath}catch(r){throw mD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function mD(n,e,t,r,i){const a=r&&!r.isEmpty(),u=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(a||u)&&(g+=" (found",a&&(g+=` in field ${r}`),u&&(g+=` in document ${i}`),g+=")"),new Oe(pe.INVALID_ARGUMENT,f+n+g)}function BL(n,e){return n.some(t=>t.isEqual(e))}class Nb{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ar(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new K3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(gD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class K3 extends Nb{data(){return super.data()}}function gD(n,e){return"string"==typeof e?pD(n,e):e instanceof uu?e._internalPath:e._delegate._internalPath}class Nf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class du extends Nb{constructor(e,t,r,i,a,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Fb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(gD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Fb extends du{data(e={}){return super.data(e)}}class Pd{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Nf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Fb(this._firestore,this._userDataWriter,r.key,r,new Nf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oe(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new Fb(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Nf(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>i||3!==u.type).map(u=>{const f=new Fb(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Nf(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let g=-1,b=-1;return 0!==u.type&&(g=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),b=a.indexOf(u.doc.key)),{type:Y3(u.type),doc:f,oldIndex:g,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Y3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt()}}function UL(n,e){return n instanceof du&&e instanceof du?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Pd&&e instanceof Pd&&n._firestore===e._firestore&&ML(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function jL(n){if(VE(n)&&0===n.explicitOrderBy.length)throw new Oe(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lb{}function Nd(n,...e){for(const t of e)n=t._apply(n);return n}class Q3 extends Lb{constructor(e,t,r){super(),this.hc=e,this.lc=t,this.fc=r,this.type="where"}_apply(e){const t=Of(e.firestore),r=function(i,a,u,f,g,b,T){let A;if(g.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Oe(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){ZL(T,b);const H=[];for(const q of T)H.push(zL(f,i,q));A={arrayValue:{values:H}}}else A=zL(f,i,T)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||ZL(T,b),A=FL(u,"where",T,"in"===b||"not-in"===b);const O=Ji.create(g,b,A);return function(H,q){if(q.S()){const de=VM(H);if(null!==de&&!de.isEqual(q.field))throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${de.toString()}' and '${q.field.toString()}'`);const Ye=LM(H);null!==Ye&&WL(0,q.field,Ye)}const ee=function(de,Ye){for(const je of de.filters)if(Ye.indexOf(je.op)>=0)return je.op;return null}(H,function(de){switch(de){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(q.op));if(null!==ee)throw new Oe(pe.INVALID_ARGUMENT,ee===q.op?`Invalid query. You cannot use more than one '${q.op.toString()}' filter.`:`Invalid query. You cannot use '${q.op.toString()}' filters with '${ee.toString()}' filters.`)}(i,O),O}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new ps(e.firestore,e.converter,function(i,a){const u=i.filters.concat([a]);return new lu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),u,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class X3 extends Lb{constructor(e,t){super(),this.hc=e,this.dc=t,this.type="orderBy"}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Oe(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Oe(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new ug(i,a);return function(f,g){if(null===LM(f)){const b=VM(f);null!==b&&WL(0,b,g.field)}}(r,u),u}(e._query,this.hc,this.dc);return new ps(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new lu(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class HL extends Lb{constructor(e,t,r){super(),this.type=e,this._c=t,this.wc=r}_apply(e){return new ps(e.firestore,e.converter,DN(e._query,this._c,this.wc))}}class GL extends Lb{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=qL(e,this.type,this.mc,this.gc);return new ps(e.firestore,e.converter,(i=t,new lu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class $L extends Lb{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=qL(e,this.type,this.mc,this.gc);return new ps(e.firestore,e.converter,(i=t,new lu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function qL(n,e,t,r){if(t[0]=(0,yt.m9)(t[0]),t[0]instanceof Nb)return function(i,a,u,f,g){if(!f)throw new Oe(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const b=[];for(const T of hg(i))if(T.field.isKeyField())b.push(lg(a,f.key));else{const A=f.data.field(T.field);if(OM(A))throw new Oe(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===A){const O=T.field.canonicalString();throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}b.push(A)}return new Sd(b,g)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Of(n.firestore);return function(a,u,f,g,b,T){const A=a.explicitOrderBy;if(b.length>A.length)throw new Oe(pe.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let H=0;H<b.length;H++){const q=b[H];if(A[H].field.isKeyField()){if("string"!=typeof q)throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof q}`);if(!BM(a)&&-1!==q.indexOf("/"))throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${q}' contains a slash.`);const ee=a.path.child(un.fromString(q));if(!Ze.isDocumentKey(ee))throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${ee}' is not because it contains an odd number of segments.`);const de=new Ze(ee);O.push(lg(u,de))}else{const ee=FL(f,g,q);O.push(ee)}}return new Sd(O,T)}(n._query,n.firestore._databaseId,i,e,t,r)}}function zL(n,e,t){if("string"==typeof(t=(0,yt.m9)(t))){if(""===t)throw new Oe(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!BM(e)&&-1!==t.indexOf("/"))throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(un.fromString(t));if(!Ze.isDocumentKey(r))throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return lg(n,new Ze(r))}if(t instanceof ar)return lg(n,t._key);throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cD(t)}.`)}function ZL(n,e){if(!Array.isArray(n)||0===n.length)throw new Oe(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Oe(pe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function WL(n,e,t){if(!t.isEqual(e))throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class xR{convertValue(e,t="none"){switch(vf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_f(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw dt()}}convertObject(e,t){const r={};return gf(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new dD(xr(e.latitude),xr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=aN(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(sb(e));default:return null}}convertTimestamp(e){const t=Dd(e);return new $r(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=un.fromString(e);jt(sF(r));const i=new ou(r.get(1),r.get(3)),a=new Ze(r.popFirst(5));return i.isEqual(t)||ri(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function _D(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class aG extends xR{constructor(e){super(),this.firestore=e}convertBytes(e){return new oc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ar(this.firestore,null,t)}}class KL{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Of(e)}set(e,t,r){this._verifyNotCommitted();const i=Fd(e,this._firestore),a=_D(i.converter,t,r),u=fD(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(u.toMutation(i._key,ii.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=Fd(e,this._firestore);let u;return u="string"==typeof(t=(0,yt.m9)(t))||t instanceof uu?IR(this._dataReader,"WriteBatch.update",a._key,t,r,i):SR(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,ii.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Fd(e,this._firestore);return this._mutations=this._mutations.concat(new mb(t._key,ii.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Fd(n,e){if((n=(0,yt.m9)(n)).firestore!==e)throw new Oe(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Ff extends xR{constructor(e){super(),this.firestore=e}convertBytes(e){return new oc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ar(this.firestore,null,t)}}function YL(n,e,t){n=ln(n,ar);const r=ln(n.firestore,fr),i=_D(n.converter,e,t);return kg(r,[fD(Of(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,ii.none())])}function QL(n,e,t,...r){n=ln(n,ar);const i=ln(n.firestore,fr),a=Of(i);let u;return u="string"==typeof(e=(0,yt.m9)(e))||e instanceof uu?IR(a,"updateDoc",n._key,e,t,r):SR(a,"updateDoc",n._key,e),kg(i,[u.toMutation(n._key,ii.exists(!0))])}function JL(n,...e){var t,r,i;n=(0,yt.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||DR(e[u])||(a=e[u],u++);const f={includeMetadataChanges:a.includeMetadataChanges};if(DR(e[u])){const A=e[u];e[u]=null===(t=A.next)||void 0===t?void 0:t.bind(A),e[u+1]=null===(r=A.error)||void 0===r?void 0:r.bind(A),e[u+2]=null===(i=A.complete)||void 0===i?void 0:i.bind(A)}let g,b,T;if(n instanceof ar)b=ln(n.firestore,fr),T=dg(n._key.path),g={next:A=>{e[u]&&e[u](RR(b,n,A))},error:e[u+1],complete:e[u+2]};else{const A=ln(n,ps);b=ln(A.firestore,fr),T=A._query;const O=new Ff(b);g={next:H=>{e[u]&&e[u](new Pd(b,O,A,H))},error:e[u+1],complete:e[u+2]},jL(n._query)}return function(A,O,H,q){const ee=new aD(q),de=new Hx(O,ee,H);return A.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return Lx(yield Rg(A),de)})),()=>{ee.pa(),A.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return Bx(yield Rg(A),de)}))}}(oi(b),T,f,g)}function kg(n,e){return function(t,r){const i=new xi;return t.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function e3(n,e,t){return Zx.apply(this,arguments)}(yield wR(t),r,i)})),i.promise}(oi(n),e)}function RR(n,e,t){const r=t.docs.get(e._key),i=new Ff(n);return new du(n,i,e._key,r,new Nf(t.hasPendingWrites,t.fromCache),e.converter)}class _G extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Of(e)}get(e){const t=Fd(e,this._firestore),r=new aG(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return dt();const a=i[0];if(a.isFoundDocument())return new Nb(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new Nb(this._firestore,r,t._key,null,t.converter);throw dt()})}set(e,t,r){const i=Fd(e,this._firestore),a=_D(i.converter,t,r),u=fD(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const a=Fd(e,this._firestore);let u;return u="string"==typeof(t=(0,yt.m9)(t))||t instanceof uu?IR(this._dataReader,"Transaction.update",a._key,t,r,i):SR(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,u),this}delete(e){const t=Fd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Fd(e,this._firestore),r=new Ff(this._firestore);return super.get(e).then(i=>new du(this._firestore,r,t._key,i._document,new Nf(!1,!1),t.converter))}}function kR(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function eV(){if("undefined"==typeof Uint8Array)throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function tV(){if(!function BU(){return"undefined"!=typeof atob}())throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){ig=Rs.SDK_VERSION,(0,Rs._registerComponent)(new $c.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),a=new fr(i,new OU(t.getProvider("auth-internal")),new FU(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),a._setSettings(r),a},"PUBLIC")),(0,Rs.registerVersion)(eN,"3.4.7",n),(0,Rs.registerVersion)(eN,"3.4.7","esm2017")}();class Vb{constructor(e){this._delegate=e}static fromBase64String(e){return tV(),new Vb(oc.fromBase64String(e))}static fromUint8Array(e){return eV(),new Vb(oc.fromUint8Array(e))}toBase64(){return tV(),this._delegate.toBase64()}toUint8Array(){return eV(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function OR(n){return function SG(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class IG{enableIndexedDbPersistence(e,t){return function P3(n,e){kL(n=ln(n,fr));const t=oi(n),r=n._freezeSettings(),i=new pR;return RL(t,i,new fL(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function N3(n){kL(n=ln(n,fr));const e=oi(n),t=n._freezeSettings(),r=new pR;return RL(e,r,new g3(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function F3(n){if(n._initialized&&!n._terminated)throw new Oe(pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new xi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{yield(t=(0,we.Z)(function*(r){if(!sl.vt())return Promise.resolve();const i=r+"main";yield sl.delete(i)}),function(r){return t.apply(this,arguments)})(ox(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class nV{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ou||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&rb("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function M3(n,e,t,r={}){var i;const a=(n=ln(n,Ob))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&rb("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let u,f;if("string"==typeof r.mockUserToken)u=r.mockUserToken,f=Qi.MOCK_USER;else{u=(0,yt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Oe(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Qi(g)}n._authCredentials=new kU(new tN(u,f))}}(this._delegate,e,t,r)}enableNetwork(){return function V3(n){return function w3(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield _L(n),t=yield yL(n);return e.setNetworkEnabled(!0),function(r){const i=tt(r);return i.lu.delete(0),Rb(i)}(t)}))}(oi(n=ln(n,fr)))}(this._delegate)}disableNetwork(){return function B3(n){return function C3(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield _L(n),t=yield yL(n);return e.setNetworkEnabled(!1),(r=(0,we.Z)(function*(i){const a=tt(i);a.lu.add(0),yield Dg(a),a._u.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(oi(n=ln(n,fr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,CL("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function L3(n){return function(e){const t=new xi;return e.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function i3(n,e){return Jx.apply(this,arguments)}(yield wR(e),t)})),t.promise}(oi(n=ln(n,fr)))}(this._delegate)}onSnapshotsInSync(e){return function gG(n,e){return function T3(n,e){const t=new aD(e);return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return r=yield Rg(n),i=t,tt(r).Tu.add(i),void i.next();var r,i})),()=>{t.pa(),n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return r=yield Rg(n),i=t,void tt(r).Tu.delete(i);var r,i}))}}(oi(n=ln(n,fr)),DR(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Og(this,IL(this._delegate,e))}catch(t){throw Bs(t,"collection()","Firestore.collection()")}}doc(e){try{return new xa(this,uD(this._delegate,e))}catch(t){throw Bs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Us(this,function x3(n,e){if(n=ln(n,Ob),ER("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Oe(pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ps(n,null,(t=e,new lu(un.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Bs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function yG(n,e){return function S3(n,e){const t=new xi;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){const r=yield(i=n,lD(i).then(a=>a.datastore));var i;new v3(n.asyncQueue,r,e,t).run()})),t.promise}(oi(n=ln(n,fr)),t=>e(new _G(n,t)))}(this._delegate,t=>e(new rV(this,t)))}batch(){return oi(this._delegate),new iV(new KL(this._delegate,e=>kg(this._delegate,e)))}loadBundle(e){return function U3(n,e){const t=oi(n=ln(n,fr)),r=new k3;return function I3(n,e,t,r){const i=function(a,u){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,g=function(g,b){if(g instanceof Uint8Array)return pL(g,b);if(g instanceof ArrayBuffer)return pL(new Uint8Array(g),b);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new _3(g,u);var g}(t,xb(e));n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){!function m3(n,e,t){const r=tt(n);var i;(i=(0,we.Z)(function*(a,u,f){try{const g=yield u.getMetadata();if(yield function(O,H){const q=tt(O),ee=ki(H.createTime);return q.persistence.runTransaction("hasNewerBundle","readonly",de=>q.ds.getBundleMetadata(de,H.id)).then(de=>!!de&&de.createTime.compareTo(ee)>=0)}(a.localStore,g))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(O=g).totalDocuments,bytesLoaded:O.totalBytes,totalDocuments:O.totalDocuments,totalBytes:O.totalBytes}),Promise.resolve(new Set);f._updateProgress(rL(g));const b=new WH(g,a.localStore,u.M);let T=yield u.fa();for(;T;){const O=yield b.Nu(T);O&&f._updateProgress(O),T=yield u.fa()}const A=yield b.complete();return yield cu(a,A.Ou,void 0),yield function(O,H){const q=tt(O);return q.persistence.runTransaction("Save bundle","readwrite",ee=>q.ds.saveBundleMetadata(ee,H))}(a.localStore,g),f._completeWith(A.progress),Promise.resolve(A.Mu)}catch(g){return rb("SyncEngine",`Loading bundle failed with ${g}`),f._failWith(g),Promise.resolve(new Set)}var O}),function(a,u,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield wR(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function j3(n,e){return function A3(n,e){return n.asyncQueue.enqueue((0,we.Z)(function*(){return function(t,r){const i=tt(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.ds.getNamedQuery(a,r))}(yield bR(n),e)}))}(oi(n=ln(n,fr)),e).then(t=>t?new ps(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Us(this,t):null)}}class yD extends xR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vb(new oc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return xa.forKey(t,this.firestore,null)}}class rV{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new yD(e)}get(e){const t=Vf(e);return this._delegate.get(t).then(r=>new Bb(this._firestore,new du(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Vf(e);return r?(kR("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Vf(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Vf(e);return this._delegate.delete(t),this}}class iV{constructor(e){this._delegate=e}set(e,t,r){const i=Vf(e);return r?(kR("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=Vf(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=Vf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Lf{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Fb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ub(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Lf.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new Lf(e,new yD(e),t),i.set(t,a)),a}}Lf.INSTANCES=new WeakMap;class xa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new yD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new xa(t,new ar(t._delegate,r,new Ze(e)))}static forKey(e,t,r){return new xa(t,new ar(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Og(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Og(this.firestore,IL(this._delegate,e))}catch(t){throw Bs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,yt.m9)(e))instanceof ar&&AL(this._delegate,e)}set(e,t){t=kR("DocumentReference.set",t);try{return t?YL(this._delegate,e,t):YL(this._delegate,e)}catch(r){throw Bs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?QL(this._delegate,e):QL(this._delegate,e,t,...r)}catch(i){throw Bs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function pG(n){return kg(ln(n.firestore,fr),[new mb(n._key,ii.none())])}(this._delegate)}onSnapshot(...e){const t=sV(e),r=oV(e,i=>new Bb(this.firestore,new du(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return JL(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function cG(n){n=ln(n,ar);const e=ln(n.firestore,fr),t=oi(e),r=new Ff(e);return function E3(n,e){const t=new xi;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(r=(0,we.Z)(function*(i,a,u){try{const f=yield function(g,b){const T=tt(g);return T.persistence.runTransaction("read document","readonly",A=>T.ai.Bs(A,b))}(i,a);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new Oe(pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const g=Ig(f,`Failed to get document '${a} from cache`);u.reject(g)}}),function(i,a,u){return r.apply(this,arguments)})(yield bR(n),e,t);var r})),t.promise}(t,n._key).then(i=>new du(e,r,n._key,i,new Nf(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function uG(n){n=ln(n,ar);const e=ln(n.firestore,fr);return vL(oi(e),n._key,{source:"server"}).then(t=>RR(e,n,t))}(this._delegate):function lG(n){n=ln(n,ar);const e=ln(n.firestore,fr);return vL(oi(e),n._key).then(t=>RR(e,n,t))}(this._delegate),t.then(r=>new Bb(this.firestore,new du(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new xa(this.firestore,this._delegate.withConverter(e?Lf.getInstance(this.firestore,e):null))}}function Bs(n,e,t){return n.message=n.message.replace(e,t),n}function sV(n){for(const e of n)if("object"==typeof e&&!OR(e))return e;return{}}function oV(n,e){var t,r;let i;return i=OR(n[0])?n[0]:OR(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Bb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new xa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return UL(this._delegate,e._delegate)}}class Ub extends Bb{data(e){const t=this._delegate.data(e);return function xU(n,e){n||dt()}(void 0!==t),t}}class Us{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new yD(e)}where(e,t,r){try{return new Us(this.firestore,Nd(this._delegate,function J3(n,e,t){const r=e,i=gD("where",n);return new Q3(i,r,t)}(e,t,r)))}catch(i){throw Bs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Us(this.firestore,Nd(this._delegate,function eG(n,e="asc"){const t=e,r=gD("orderBy",n);return new X3(r,t)}(e,t)))}catch(r){throw Bs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Us(this.firestore,Nd(this._delegate,function tG(n){return TL("limit",n),new HL("limit",n,"F")}(e)))}catch(t){throw Bs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Us(this.firestore,Nd(this._delegate,function nG(n){return TL("limitToLast",n),new HL("limitToLast",n,"L")}(e)))}catch(t){throw Bs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Us(this.firestore,Nd(this._delegate,function rG(...n){return new GL("startAt",n,!0)}(...e)))}catch(t){throw Bs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Us(this.firestore,Nd(this._delegate,function iG(...n){return new GL("startAfter",n,!1)}(...e)))}catch(t){throw Bs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Us(this.firestore,Nd(this._delegate,function sG(...n){return new $L("endBefore",n,!1)}(...e)))}catch(t){throw Bs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Us(this.firestore,Nd(this._delegate,function oG(...n){return new $L("endAt",n,!0)}(...e)))}catch(t){throw Bs(t,"endAt()","Query.endAt()")}}isEqual(e){return ML(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function hG(n){n=ln(n,ps);const e=ln(n.firestore,fr),t=oi(e),r=new Ff(e);return function D3(n,e){const t=new xi;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(r=(0,we.Z)(function*(i,a,u){try{const f=yield tD(i,a,!0),g=new oL(a,f.hi),b=g.Gu(f.documents),T=g.applyChanges(b,!1);u.resolve(T.snapshot)}catch(f){const g=Ig(f,`Failed to execute query '${a} against cache`);u.reject(g)}}),function(i,a,u){return r.apply(this,arguments)})(yield bR(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Pd(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function fG(n){n=ln(n,ps);const e=ln(n.firestore,fr),t=oi(e),r=new Ff(e);return bL(t,n._query,{source:"server"}).then(i=>new Pd(e,r,n,i))}(this._delegate):function dG(n){n=ln(n,ps);const e=ln(n.firestore,fr),t=oi(e),r=new Ff(e);return jL(n._query),bL(t,n._query).then(i=>new Pd(e,r,n,i))}(this._delegate),t.then(r=>new PR(this.firestore,new Pd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=sV(e),r=oV(e,i=>new PR(this.firestore,new Pd(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return JL(this._delegate,t,r)}withConverter(e){return new Us(this.firestore,this._delegate.withConverter(e?Lf.getInstance(this.firestore,e):null))}}class MG{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ub(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class PR{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Us(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ub(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new MG(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Ub(this._firestore,r))})}isEqual(e){return UL(this._delegate,e._delegate)}}class Og extends Us{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new xa(this.firestore,e):null}doc(e){try{return new xa(this.firestore,void 0===e?uD(this._delegate):uD(this._delegate,e))}catch(t){throw Bs(t,"doc()","CollectionReference.doc()")}}add(e){return function mG(n,e){const t=ln(n.firestore,fr),r=uD(n),i=_D(n.converter,e);return kg(t,[fD(Of(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,ii.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new xa(this.firestore,t))}isEqual(e){return AL(this._delegate,e._delegate)}withConverter(e){return new Og(this.firestore,this._delegate.withConverter(e?Lf.getInstance(this.firestore,e):null))}}function Vf(n){return ln(n,ar)}class NR{constructor(...e){this._delegate=new uu(...e)}static documentId(){return new NR(Ri.keyField().canonicalString())}isEqual(e){return(e=(0,yt.m9)(e))instanceof uu&&this._delegate._internalPath.isEqual(e._internalPath)}}class Bf{constructor(e){this._delegate=e}static serverTimestamp(){const e=function bG(){return new TR("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Bf(e)}static delete(){const e=function vG(){return new Pb("deleteField")}();return e._methodName="FieldValue.delete",new Bf(e)}static arrayUnion(...e){const t=function wG(...n){return new q3("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Bf(t)}static arrayRemove(...e){const t=function CG(...n){return new z3("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Bf(t)}static increment(e){const t=function EG(n){return new Z3("increment",n)}(e);return t._methodName="FieldValue.increment",new Bf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const xG={Firestore:nV,GeoPoint:dD,Timestamp:$r,Blob:Vb,Transaction:rV,WriteBatch:iV,DocumentReference:xa,DocumentSnapshot:Bb,Query:Us,QueryDocumentSnapshot:Ub,QuerySnapshot:PR,CollectionReference:Og,FieldPath:NR,FieldValue:Bf,setLogLevel:function AG(n){!function MU(n){Ed.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function aV(n,e){return function OG(n,e=mm.z){return new _n.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function FR(n,e){return aV(n,e).pipe((0,Nt.U)(t=>({payload:t,type:"query"})))}function vD(n,e){return FR(n,e).pipe(Ir(void 0),BA(),(0,Nt.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((u,f)=>{const g=i.find(T=>T.doc.ref.isEqual(u.ref)),b=null==t?void 0:t.payload.docs.find(T=>T.ref.isEqual(u.ref));g&&JSON.stringify(g.doc.metadata)===JSON.stringify(u.metadata)||!g&&b&&JSON.stringify(b.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),a}))}function lV(n,e,t){return vD(n,t).pipe(Ci((r,i)=>function NG(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function FG(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return LR(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return LR(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return LR(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),_m(),(0,Nt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function LR(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function cV(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function kG(n){(function RG(n,e){n.INTERNAL.registerComponent(new $c.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},xG)))})(n,(e,t)=>new nV(e,t,new IG)),n.registerVersion("@firebase/firestore-compat","0.1.16")}(V1.Z);class uV{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=vD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Nt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Ir(void 0),BA(),En(([r,i])=>i.length>0||!r),(0,Nt.U)(([r,i])=>i),qn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ci((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=cV(e);return lV(this.query,t,this.afs.schedulers.outsideAngular).pipe(qn.iC)}valueChanges(e={}){return FR(this.query,this.afs.schedulers.outsideAngular).pipe((0,Nt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),qn.iC)}get(e){return(0,gn.D)(this.query.get(e)).pipe(qn.iC)}add(e){return this.ref.add(e)}doc(e){return new dV(this.ref.doc(e),this.afs)}}class dV{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=pV(r,t);return new uV(i,a,this.afs)}snapshotChanges(){return function PG(n,e){return aV(n,e).pipe(Ir(void 0),BA(),(0,Nt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(qn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Nt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,gn.D)(this.ref.get(e)).pipe(qn.iC)}}class LG{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?vD(this.query,this.afs.schedulers.outsideAngular).pipe((0,Nt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),En(t=>t.length>0),qn.iC):vD(this.query,this.afs.schedulers.outsideAngular).pipe(qn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ci((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=cV(e);return lV(this.query,t,this.afs.schedulers.outsideAngular).pipe(qn.iC)}valueChanges(e={}){return FR(this.query,this.afs.schedulers.outsideAngular).pipe((0,Nt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),qn.iC)}get(e){return(0,gn.D)(this.query.get(e)).pipe(qn.iC)}}const hV=new l.OlP("angularfire2.enableFirestorePersistence"),fV=new l.OlP("angularfire2.firestore.persistenceSettings"),VG=new l.OlP("angularfire2.firestore.settings"),BG=new l.OlP("angularfire2.firestore.use-emulator");function pV(n,e=(t=>t)){return{query:e(n),ref:n}}let mV=(()=>{class n{constructor(t,r,i,a,u,f,g,b,T,A,O,H,q,ee,de,Ye,je){this.schedulers=g;const Qe=(0,qi.on)(t,f,r),Fe=T;A&&by(Qe,f,O,q,ee,de,H,Ye),[this.firestore,this.persistenceEnabled$]=(0,qi.cc)(`${Qe.name}.firestore`,"AngularFirestore",Qe.name,()=>{const St=f.runOutsideAngular(()=>Qe.firestore());if(a&&St.settings(a),Fe&&St.useEmulator(...Fe),i&&!Jo(u)){const Dt=()=>{try{return(0,gn.D)(St.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(xn){return"undefined"!=typeof console&&console.warn(xn),ct(!1)}};return[St,f.runOutsideAngular(Dt)]}return[St,ct(!1)]},[a,Fe,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:u}=pV(i,r),f=this.schedulers.ngZone.run(()=>a);return new uV(f,u,this)}collectionGroup(t,r){const i=r||(u=>u),a=this.firestore.collectionGroup(t);return new LG(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new dV(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(qi.Dh),l.LFG(qi.xv,8),l.LFG(hV,8),l.LFG(VG,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(qn.HU),l.LFG(fV,8),l.LFG(BG,8),l.LFG(Uh,8),l.LFG(im,8),l.LFG(sm,8),l.LFG(gy,8),l.LFG(_y,8),l.LFG(yy,8),l.LFG(vy,8),l.LFG(nm,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),UG=(()=>{class n{constructor(){rm.Z.registerVersion("angularfire",qn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:hV,useValue:!0},{provide:fV,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[mV]}),n})();const gV="firebasestorage.googleapis.com",_V="storageBucket";class Rr extends yt.ZR{constructor(e,t){super(VR(e),`Firebase Storage: ${t} (${VR(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Rr.prototype)}_codeEquals(e){return VR(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function VR(n){return"storage/"+n}function BR(){return new Rr("unknown","An unknown error occurred, please check the error payload for server response.")}function yV(){return new Rr("canceled","User canceled the upload/download.")}function vV(){return new Rr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Pg(n){return new Rr("invalid-argument",n)}function bV(){return new Rr("app-deleted","The Firebase app was deleted.")}function wV(n){return new Rr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function jb(n,e){return new Rr("invalid-format","String does not match format '"+n+"': "+e)}function Hb(n){throw new Rr("internal-error","Internal error: "+n)}class ms{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=ms.makeFromUrl(e,t)}catch(i){return new ms(e,"")}if(""===r.path)return r;throw function YG(n){return new Rr("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",f=new RegExp("^gs://"+i+"(/(.*))?$","i");function b(Fe){Fe.path_=decodeURIComponent(Fe.path)}const A=t.replace(/[.]/g,"\\."),Qe=[{regex:f,indices:{bucket:1,path:3},postModify:function a(Fe){"/"===Fe.path.charAt(Fe.path.length-1)&&(Fe.path_=Fe.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${A}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:b},{regex:new RegExp(`^https?://${t===gV?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:b}];for(let Fe=0;Fe<Qe.length;Fe++){const St=Qe[Fe],Dt=St.regex.exec(e);if(Dt){let kn=Dt[St.indices.path];kn||(kn=""),r=new ms(Dt[St.indices.bucket],kn),St.postModify(r);break}}if(null==r)throw function KG(n){return new Rr("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class e${constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function bD(n){return"string"==typeof n||n instanceof String}function CV(n){return UR()&&n instanceof Blob}function UR(){return"undefined"!=typeof Blob}function jR(n,e,t,r){if(r<e)throw Pg(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Pg(`Invalid value for '${n}'. Expected ${t} or less.`)}function hu(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function EV(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Ld=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Ld||(Ld={})),Ld))();class o${constructor(e,t,r,i,a,u,f,g,b,T,A){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=g,this.timeout_=b,this.progressCallback_=T,this.connectionFactory_=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,H)=>{this.resolve_=O,this.reject_=H,this.start_()})}start_(){const t=(r,i)=>{const a=this.resolve_,u=this.reject_,f=i.connection;if(i.wasSuccessCode)try{const g=this.callback_(f,f.getResponse());!function r$(n){return void 0!==n}(g)?a():a(g)}catch(g){u(g)}else if(null!==f){const g=BR();g.serverResponse=f.getErrorText(),u(this.errorCallback_?this.errorCallback_(f,g):g)}else u(i.canceled?this.appDelete_?bV():yV():function WG(){return new Rr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new wD(!1,null,!0)):this.backoffId_=function t$(n,e,t){let r=1,i=null,a=null,u=!1,f=0;function g(){return 2===f}let b=!1;function T(...de){b||(b=!0,e.apply(null,de))}function A(de){i=setTimeout(()=>{i=null,n(H,g())},de)}function O(){a&&clearTimeout(a)}function H(de,...Ye){if(b)return void O();if(de)return O(),void T.call(null,de,...Ye);if(g()||u)return O(),void T.call(null,de,...Ye);let Qe;r<64&&(r*=2),1===f?(f=2,Qe=0):Qe=1e3*(r+Math.random()),A(Qe)}let q=!1;function ee(de){q||(q=!0,O(),!b&&(null!==i?(de||(f=2),clearTimeout(i),A(0)):de||(f=1)))}return A(0),a=setTimeout(()=>{u=!0,ee(!0)},t),ee}((r,i)=>{if(i)return void r(!1,new wD(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const u=f=>{null!==this.progressCallback_&&this.progressCallback_(f.loaded,f.lengthComputable?f.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const f=a.getErrorCode()===Ld.NO_ERROR,g=a.getStatus();if(!f||this.isRetryStatusCode_(g)){const T=a.getErrorCode()===Ld.ABORT;return void r(!1,new wD(!1,null,T))}const b=-1!==this.successCodes_.indexOf(g);r(!0,new wD(b,a))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function n$(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,i=-1!==[408,429].indexOf(e),a=-1!==this.additionalRetryCodes_.indexOf(e);return t||i||a}}class wD{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function f$(...n){const e=function h$(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(UR())return new Blob(n);throw new Rr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const $o={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class HR{constructor(e,t){this.data=e,this.contentType=t||null}}function GR(n,e){switch(n){case $o.RAW:return new HR(DV(e));case $o.BASE64:case $o.BASE64URL:return new HR(TV(n,e));case $o.DATA_URL:return new HR(function _$(n){const e=new SV(n);return e.base64?TV($o.BASE64,e.rest):function g$(n){let e;try{e=decodeURIComponent(n)}catch(t){throw jb($o.DATA_URL,"Malformed data URL.")}return DV(e)}(e.rest)}(e),function y$(n){return new SV(n).contentType}(e))}throw BR()}function DV(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function TV(n,e){switch(n){case $o.BASE64:{const i=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(i||a)throw jb(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case $o.BASE64URL:{const i=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(i||a)throw jb(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function m$(n){return atob(n)}(e)}catch(i){throw jb(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class SV{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw jb($o.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function v$(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class ac{constructor(e,t){let r=0,i="";CV(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(CV(this.data_)){const i=function p$(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new ac(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new ac(r,!0)}}static getBlob(...e){if(UR()){const t=e.map(r=>r instanceof ac?r.data_:r);return new ac(f$.apply(null,t))}{const t=e.map(u=>bD(u)?GR($o.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const i=new Uint8Array(r);let a=0;return t.forEach(u=>{for(let f=0;f<u.length;f++)i[a++]=u[f]}),new ac(i,!0)}}uploadData(){return this.data_}}function $R(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function s$(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function IV(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function C$(n,e){return e}class js{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||C$}}let CD=null;function Gb(){if(CD)return CD;const n=[];n.push(new js("bucket")),n.push(new js("generation")),n.push(new js("metageneration")),n.push(new js("name","fullPath",!0));const t=new js("name");t.xform=function e(a,u){return function E$(n){return!bD(n)||n.length<2?n:IV(n)}(u)},n.push(t);const i=new js("size");return i.xform=function r(a,u){return void 0!==u?Number(u):u},n.push(i),n.push(new js("timeCreated")),n.push(new js("updated")),n.push(new js("md5Hash",null,!0)),n.push(new js("cacheControl",null,!0)),n.push(new js("contentDisposition",null,!0)),n.push(new js("contentEncoding",null,!0)),n.push(new js("contentLanguage",null,!0)),n.push(new js("contentType",null,!0)),n.push(new js("metadata","customMetadata",!0)),CD=n,CD}function AV(n,e,t){const r=$R(e);return null===r?null:function T$(n,e,t){const r={type:"file"},i=t.length;for(let a=0;a<i;a++){const u=t[a];r[u.local]=u.xform(r,e[u.server])}return function D$(n,e){Object.defineProperty(n,"ref",{get:function t(){const a=new ms(n.bucket,n.fullPath);return e._makeStorageReference(a)}})}(r,n),r}(n,r,t)}function qR(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}const MV="prefixes";class lc{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function cc(n){if(!n)throw BR()}function ED(n,e){return function t(r,i){const a=AV(n,i,e);return cc(null!==a),a}}function Ng(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function zG(){return new Rr("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function qG(){return new Rr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function $G(n){return new Rr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function ZG(n){return new Rr("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.serverResponse=r.serverResponse,i}}function $b(n){const e=Ng(n);return function t(r,i){let a=e(r,i);return 404===r.getStatus()&&(a=function GG(n){return new Rr("object-not-found","Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=i.serverResponse,a}}function RV(n,e,t){const i=hu(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,f=new lc(i,"GET",ED(n,t),u);return f.errorHandler=$b(e),f}function R$(n,e,t,r,i){const a={};a.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(a.delimiter=t),r&&(a.pageToken=r),i&&(a.maxResults=i);const f=hu(e.bucketOnlyServerUrl(),n.host,n._protocol),b=n.maxOperationRetryTime,T=new lc(f,"GET",function M$(n,e){return function t(r,i){const a=function A$(n,e,t){const r=$R(t);return null===r?null:function I$(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[MV])for(const i of t[MV]){const a=i.replace(/\/$/,""),u=n._makeStorageReference(new ms(e,a));r.prefixes.push(u)}if(t.items)for(const i of t.items){const a=n._makeStorageReference(new ms(e,i.name));r.items.push(a)}return r}(n,e,r)}(n,e,i);return cc(null!==a),a}}(n,e.bucket),b);return T.urlParams=a,T.errorHandler=Ng(e),T}function OV(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function N$(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class DD{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function zR(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(i){cc(!1)}return cc(!!t&&-1!==(e||["active"]).indexOf(t)),t}const B$={STATE_CHANGED:"state_changed"},Hs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ZR(n){switch(n){case"running":case"pausing":case"canceling":return Hs.RUNNING;case"paused":return Hs.PAUSED;case"success":return Hs.SUCCESS;case"canceled":return Hs.CANCELED;default:return Hs.ERROR}}class U${constructor(e,t,r){if(function i$(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=r?r:void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function Fg(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class H$ extends class j${constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ld.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ld.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ld.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Hb("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Hb("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Hb("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw Hb("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Hb("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function ol(){return new H$}class LV{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=Gb(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=i,this._transition("error"))},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this._promise=new Promise((i,a)=>{this._resolve=i,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function F$(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),u=OV(e,r,i),f={name:u.fullPath},g=hu(a,n.host,n._protocol),T={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},A=qR(u,t),q=new lc(g,"POST",function H(ee){let de;zR(ee);try{de=ee.getResponseHeader("X-Goog-Upload-URL")}catch(Ye){cc(!1)}return cc(bD(de)),de},n.maxUploadRetryTime);return q.urlParams=f,q.headers=T,q.body=A,q.errorHandler=Ng(e),q}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ol,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function L$(n,e,t,r){const g=new lc(t,"POST",function a(b){const T=zR(b,["active","final"]);let A=null;try{A=b.getResponseHeader("X-Goog-Upload-Size-Received")}catch(H){cc(!1)}A||cc(!1);const O=Number(A);return cc(!isNaN(O)),new DD(O,r.size(),"final"===T)},n.maxUploadRetryTime);return g.headers={"X-Goog-Upload-Command":"query"},g.errorHandler=Ng(e),g}(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(i,ol,t,r);this._request=a,a.getPromise().then(u=>{u=u,this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new DD(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,a)=>{let u;try{u=function V$(n,e,t,r,i,a,u,f){const g=new DD(0,0);if(u?(g.current=u.current,g.total=u.total):(g.current=0,g.total=r.size()),r.size()!==g.total)throw function JG(){return new Rr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const b=g.total-g.current;let T=b;i>0&&(T=Math.min(T,i));const A=g.current,q={"X-Goog-Upload-Command":T===b?"upload, finalize":"upload","X-Goog-Upload-Offset":`${g.current}`},ee=r.slice(A,A+T);if(null===ee)throw vV();const Qe=new lc(t,"POST",function de(Fe,St){const Dt=zR(Fe,["active","final"]),xn=g.current+T,kn=r.size();let zr;return zr="final"===Dt?ED(e,a)(Fe,St):null,new DD(xn,kn,"final"===Dt,zr)},e.maxUploadRetryTime);return Qe.headers=q,Qe.body=ee.uploadData(),Qe.progressCallback=f||null,Qe.errorHandler=Ng(n),Qe}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(g){return this._error=g,void this._transition("error")}const f=this._ref.storage._makeRequest(u,ol,i,a);this._request=f,f.getPromise().then(g=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(g.current),g.finalized?(this._metadata=g.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=RV(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,ol,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function PV(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},g=function f(){let Qe="";for(let Fe=0;Fe<2;Fe++)Qe+=Math.random().toString().slice(2);return Qe}();u["Content-Type"]="multipart/related; boundary="+g;const b=OV(e,r,i),T=qR(b,t),H=ac.getBlob("--"+g+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+T+"\r\n--"+g+"\r\nContent-Type: "+b.contentType+"\r\n\r\n",r,"\r\n--"+g+"--");if(null===H)throw vV();const q={name:b.fullPath},ee=hu(a,n.host,n._protocol),Ye=n.maxUploadRetryTime,je=new lc(ee,"POST",ED(n,t),Ye);return je.urlParams=q,je.headers=u,je.body=H.uploadData(),je.errorHandler=Ng(e),je}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ol,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=yV(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=ZR(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const a=new U$(t||void 0,r||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(ZR(this._state)){case Hs.SUCCESS:Fg(this._resolve.bind(null,this.snapshot))();break;case Hs.CANCELED:case Hs.ERROR:Fg(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(ZR(this._state)){case Hs.RUNNING:case Hs.PAUSED:e.next&&Fg(e.next.bind(e,this.snapshot))();break;case Hs.SUCCESS:e.complete&&Fg(e.complete.bind(e))();break;default:e.error&&Fg(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Uf{constructor(e,t){this._service=e,this._location=t instanceof ms?t:ms.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Uf(e,t)}get root(){const e=new ms(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return IV(this._location.path)}get storage(){return this._service}get parent(){const e=function b$(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new ms(this._location.bucket,e);return new Uf(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw wV(e)}}function BV(n,e,t){return WR.apply(this,arguments)}function WR(){return WR=(0,we.Z)(function*(n,e,t){const i=yield UV(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield BV(n,e,i.nextPageToken))}),WR.apply(this,arguments)}function UV(n,e){null!=e&&"number"==typeof e.maxResults&&jR("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=R$(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,ol)}function eq(n){n._throwIfRoot("getDownloadURL");const e=function k$(n,e,t){const i=hu(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,f=new lc(i,"GET",function x$(n,e){return function t(r,i){const a=AV(n,i,e);return cc(null!==a),function S$(n,e,t,r){const i=$R(e);if(null===i||!bD(i.downloadTokens))return null;const a=i.downloadTokens;if(0===a.length)return null;const u=encodeURIComponent;return a.split(",").map(b=>{const A=n.fullPath;return hu("/b/"+u(n.bucket)+"/o/"+u(A),t,r)+EV({alt:"media",token:b})})[0]}(a,i,n.host,n._protocol)}}(n,t),u);return f.errorHandler=$b(e),f}(n.storage,n._location,Gb());return n.storage.makeRequestWithTokens(e,ol).then(t=>{if(null===t)throw function XG(){return new Rr("no-download-url","The given file does not have any download URLs.")}();return t})}function jV(n,e){const t=function w$(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new ms(n._location.bucket,t);return new Uf(n.storage,r)}function HV(n,e){if(n instanceof KR){const t=n;if(null==t._bucket)throw function QG(){return new Rr("no-default-bucket","No default bucket found. Did you set the '"+_V+"' property when initializing the app?")}();const r=new Uf(t,t._bucket);return null!=e?HV(r,e):r}return void 0!==e?jV(n,e):n}function iq(n,e){if(e&&function nq(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof KR)return function rq(n,e){return new Uf(n,e)}(n,e);throw Pg("To use ref(service, url), the first argument must be a Storage instance.")}return HV(n,e)}function GV(n,e){const t=null==e?void 0:e[_V];return null==t?null:ms.makeFromBucketSpec(t,n)}class KR{constructor(e,t,r,i,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=gV,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?ms.makeFromBucketSpec(i,this._host):GV(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?ms.makeFromBucketSpec(this._url,e):GV(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){jR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){jR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,we.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,we.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Uf(this,e)}_makeRequest(e,t,r,i){if(this._deleted)return new e$(bV());{const a=function d$(n,e,t,r,i,a){const u=EV(n.urlParams),f=n.url+u,g=Object.assign({},n.headers);return function c$(n,e){e&&(n["X-Firebase-GMPID"]=e)}(g,e),function a$(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(g,t),function l$(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(g,a),function u$(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(g,r),new o$(f,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i)}(e,this._appId,r,i,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(e,t){var r=this;return(0,we.Z)(function*(){const[i,a]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,a).getPromise()})()}}const $V="@firebase/storage";function ZV(n,e){return iq(n=(0,yt.m9)(n),e)}function mq(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new KR(t,r,i,e,Rs.SDK_VERSION)}!function gq(){(0,Rs._registerComponent)(new $c.wA("storage",mq,"PUBLIC").setMultipleInstances(!0)),(0,Rs.registerVersion)($V,"0.9.4",""),(0,Rs.registerVersion)($V,"0.9.4","esm2017")}();class TD{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class WV{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new TD(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new TD(r,this,this._ref))},t)}on(e,t,r,i){let a;return t&&(a="function"==typeof t?u=>t(new TD(u,this,this._ref)):{next:t.next?u=>t.next(new TD(u,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)}}class KV{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new fu(e,this._service))}get items(){return this._delegate.items.map(e=>new fu(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class fu{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function fq(n,e){return jV(n,e)}(this._delegate,e);return new fu(t,this.storage)}get root(){return new fu(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new fu(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new WV(function oq(n,e,t){return function K$(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new LV(n,new ac(e),t)}(n=(0,yt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=$o.RAW,r){this._throwIfRoot("putString");const i=GR(t,e),a=Object.assign({},r);return null==a.contentType&&null!=i.contentType&&(a.contentType=i.contentType),new WV(new LV(this._delegate,new ac(i.data,!0),a),this)}listAll(){return function uq(n){return function Q$(n){const e={prefixes:[],items:[]};return BV(n,e).then(()=>e)}(n=(0,yt.m9)(n))}(this._delegate).then(e=>new KV(e,this.storage))}list(e){return function cq(n,e){return UV(n=(0,yt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new KV(t,this.storage))}getMetadata(){return function aq(n){return function J$(n){n._throwIfRoot("getMetadata");const e=RV(n.storage,n._location,Gb());return n.storage.makeRequestWithTokens(e,ol)}(n=(0,yt.m9)(n))}(this._delegate)}updateMetadata(e){return function lq(n,e){return function X$(n,e){n._throwIfRoot("updateMetadata");const t=function O$(n,e,t,r){const a=hu(e.fullServerUrl(),n.host,n._protocol),f=qR(t,r),b=n.maxOperationRetryTime,T=new lc(a,"PATCH",ED(n,r),b);return T.headers={"Content-Type":"application/json; charset=utf-8"},T.body=f,T.errorHandler=$b(e),T}(n.storage,n._location,e,Gb());return n.storage.makeRequestWithTokens(t,ol)}(n=(0,yt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function dq(n){return eq(n=(0,yt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function hq(n){return function tq(n){n._throwIfRoot("deleteObject");const e=function P$(n,e){const r=hu(e.fullServerUrl(),n.host,n._protocol),f=new lc(r,"DELETE",function u(g,b){},n.maxOperationRetryTime);return f.successCodes=[200,204],f.errorHandler=$b(e),f}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,ol)}(n=(0,yt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw wV(e)}}class YV{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(QV(e))throw Pg("ref() expected a child path but got a URL, use refFromURL instead.");return new fu(ZV(this._delegate,e),this)}refFromURL(e){if(!QV(e))throw Pg("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ms.makeFromUrl(e,this._delegate.host)}catch(t){throw Pg("refFromUrl() expected a valid full URL but got an invalid one.")}return new fu(ZV(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function pq(n,e,t,r={}){!function sq(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,yt.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function QV(n){return/^[A-Za-z]+:\/\//.test(n)}function bq(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new YV(t,r)}function JV(n){const e=function Cq(n){return new _n.y(e=>{const t=u=>e.next(u);t(n.snapshot);const a=n.on("state_changed",t);return n.then(u=>{t(u),e.complete()},u=>{t(n.snapshot),(u=>{e.error(u)})(u)}),function(){a()}}).pipe(gm(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Nt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function SD(n){return{getDownloadURL:()=>ct(void 0).pipe(qn.fc,Cn(()=>n.getDownloadURL()),qn.iC),getMetadata:()=>ct(void 0).pipe(qn.fc,Cn(()=>n.getMetadata()),qn.iC),delete:()=>(0,gn.D)(n.delete()),child:e=>SD(n.child(e)),updateMetadata:e=>(0,gn.D)(n.updateMetadata(e)),put:(e,t)=>JV(n.put(e,t)),putString:(e,t,r)=>JV(n.putString(e,t,r)),list:e=>(0,gn.D)(n.list(e)),listAll:()=>(0,gn.D)(n.listAll())}}!function wq(n){const e={TaskState:Hs,TaskEvent:B$,StringFormat:$o,Storage:YV,Reference:fu};n.INTERNAL.registerComponent(new $c.wA("storage-compat",bq,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.12")}(V1.Z);const Eq=new l.OlP("angularfire2.storageBucket"),Dq=new l.OlP("angularfire2.storage.maxUploadRetryTime"),Tq=new l.OlP("angularfire2.storage.maxOperationRetryTime"),Sq=new l.OlP("angularfire2.storage.use-emulator");let XV=(()=>{class n{constructor(t,r,i,a,u,f,g,b,T,A){const O=(0,qi.on)(t,u,r);this.storage=(0,qi.cc)(`${O.name}.storage.${i}`,"AngularFireStorage",O.name,()=>{const H=u.runOutsideAngular(()=>O.storage(i||void 0)),q=T;return q&&H.useEmulator(...q),g&&H.setMaxUploadRetryTime(g),b&&H.setMaxOperationRetryTime(b),H},[g,b])}ref(t){return SD(this.storage.ref(t))}refFromURL(t){return SD(this.storage.refFromURL(t))}upload(t,r,i){return SD(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(qi.Dh),l.LFG(qi.xv,8),l.LFG(Eq,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(qn.HU),l.LFG(Dq,8),l.LFG(Tq,8),l.LFG(Sq,8),l.LFG(nm,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Iq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),Aq=(()=>{class n{constructor(){rm.Z.registerVersion("angularfire",qn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[XV],imports:[Iq]}),n})(),YR=(()=>{class n{constructor(t,r){this.angularFirestore=t,this.storage=r,this._PATH="Personagens"}uploadStorage(t,r){var i=this;return(0,we.Z)(function*(){if("image"!=t.type.split("/")[0])return void console.log("Tipo N\xe3o Suportado!");i.fileName=t.name;const a=`imagens/${(new Date).getTime()}_${t.name}`,u=i.storage.ref(a);return i.task=i.storage.upload(a,t),i.task.snapshotChanges().pipe(Ac(()=>{i.uploadedFileUrl=u.getDownloadURL(),i.uploadedFileUrl.subscribe(f=>{r.nomeimagem=t.name,r.downloadURL=f,i.criarPersonagem(r)})})).subscribe()})()}updateStorage(t,r,i){var a=this;return(0,we.Z)(function*(){if("image"!=t.type.split("/")[0])return void console.log("Tipo N\xe3o Suportado!");a.fileName=t.name;const u=`imagens/${(new Date).getTime()}_${t.name}`,f=a.storage.ref(u);return a.task=a.storage.upload(u,t),a.task.snapshotChanges().pipe(Ac(()=>{a.uploadedFileUrl=f.getDownloadURL(),a.uploadedFileUrl.subscribe(g=>{r.nomeimagem=t.name,r.downloadURL=g,a.editarPersonagem(r,i)})})).subscribe()})()}getPersonagem(t){return this.angularFirestore.collection(this._PATH).doc(t).valueChanges()}getPersonagems(){return this.angularFirestore.collection(this._PATH).snapshotChanges()}criarPersonagem(t){return this.angularFirestore.collection(this._PATH).add(t)}deletarPersonagem(t){return this.angularFirestore.collection(this._PATH).doc(t.id).delete()}editarPersonagem(t,r){return this.angularFirestore.collection(this._PATH).doc(r).update({nome:t.nome,downloadURL:t.downloadURL,funcao:t.funcao,principal:t.principal,secundaria:t.secundaria,magia:t.magia,orientacao:t.orientacao,orientacao2:t.orientacao2,equipamento:t.equipamento})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(mV),l.LFG(XV))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eB=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mq=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=Ea(t);return new _n.y(i=>{const u=this._observeElement(r).subscribe(i);return()=>{u.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new Ot.x,i=this._mutationObserverFactory.create(a=>r.next(a));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(eB))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xq=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Ar(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=ym(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(gm(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Mq),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),Rq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[eB]}),n})();var kq=P(1144);const Oq=["addListener","removeListener"],Pq=["addEventListener","removeEventListener"],Nq=["on","off"];function ID(n,e,t,r){if((0,ui.m)(t)&&(r=t,t=void 0),r)return ID(n,e,t).pipe(da(r));const[i,a]=function Vq(n){return(0,ui.m)(n.addEventListener)&&(0,ui.m)(n.removeEventListener)}(n)?Pq.map(u=>f=>n[u](e,f,t)):function Fq(n){return(0,ui.m)(n.addListener)&&(0,ui.m)(n.removeListener)}(n)?Oq.map(tB(n,e)):function Lq(n){return(0,ui.m)(n.on)&&(0,ui.m)(n.off)}(n)?Nq.map(tB(n,e)):[];if(!i&&(0,kq.z)(n))return(0,_r.z)(u=>ID(u,e,t))((0,Ss.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new _n.y(u=>{const f=(...g)=>u.next(1<g.length?g:g[0]);return i(f),()=>a(f)})}function tB(n,e){return t=>r=>n[t](e,r)}const Bq=["connectionContainer"],Uq=["inputContainer"],jq=["label"];function Hq(n,e){1&n&&(l.ynx(0),l.TgZ(1,"div",14),l._UZ(2,"div",15)(3,"div",16)(4,"div",17),l.qZA(),l.TgZ(5,"div",18),l._UZ(6,"div",15)(7,"div",16)(8,"div",17),l.qZA(),l.BQk())}function Gq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",19),l.NdJ("cdkObserveContent",function(){return l.CHM(t),l.oxw().updateOutlineGap()}),l.Hsn(1,1),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function $q(n,e){if(1&n&&(l.ynx(0),l.Hsn(1,2),l.TgZ(2,"span"),l._uU(3),l.qZA(),l.BQk()),2&n){const t=l.oxw(2);l.xp6(3),l.Oqu(t._control.placeholder)}}function qq(n,e){1&n&&l.Hsn(0,3,["*ngSwitchCase","true"])}function zq(n,e){1&n&&(l.TgZ(0,"span",23),l._uU(1," *"),l.qZA())}function Zq(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"label",20,21),l.NdJ("cdkObserveContent",function(){return l.CHM(t),l.oxw().updateOutlineGap()}),l.YNc(2,$q,4,1,"ng-container",12),l.YNc(3,qq,1,0,"ng-content",12),l.YNc(4,zq,2,0,"span",22),l.qZA()}if(2&n){const t=l.oxw();l.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),l.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),l.uIk("for",t._control.id)("aria-owns",t._control.id),l.xp6(2),l.Q6J("ngSwitchCase",!1),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function Wq(n,e){1&n&&(l.TgZ(0,"div",24),l.Hsn(1,4),l.qZA())}function Kq(n,e){if(1&n&&(l.TgZ(0,"div",25),l._UZ(1,"span",26),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function Yq(n,e){if(1&n&&(l.TgZ(0,"div"),l.Hsn(1,5),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState)}}function Qq(n,e){if(1&n&&(l.TgZ(0,"div",30),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.Q6J("id",t._hintLabelId),l.xp6(1),l.Oqu(t.hintLabel)}}function Jq(n,e){if(1&n&&(l.TgZ(0,"div",27),l.YNc(1,Qq,2,2,"div",28),l.Hsn(2,6),l._UZ(3,"div",29),l.Hsn(4,7),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState),l.xp6(1),l.Q6J("ngIf",t.hintLabel)}}const Xq=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],ez=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],tz=new l.OlP("MatError"),nz={transitionMessages:Wh("transitionMessages",[Qc("enter",zi({opacity:1,transform:"translateY(0%)"})),Xl("void => enter",[zi({opacity:0,transform:"translateY(-5px)"}),Yc("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let AD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n}),n})();const rz=new l.OlP("MatHint");let MD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-label"]]}),n})(),iz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const sz=new l.OlP("MatPrefix"),oz=new l.OlP("MatSuffix");let nB=0;const lz=Jm(class{constructor(n){this._elementRef=n}},"primary"),cz=new l.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),QR=new l.OlP("MatFormField");let iB=(()=>{class n extends lz{constructor(t,r,i,a,u,f,g){super(t),this._changeDetectorRef=r,this._dir=i,this._defaults=a,this._platform=u,this._ngZone=f,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Ot.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+nB++,this._labelId="mat-form-field-label-"+nB++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==g,this.appearance=a&&a.appearance?a.appearance:"legacy",this._hideRequiredMarker=!(!a||null==a.hideRequiredMarker)&&a.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Ar(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Ir(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(zn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(zn(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,qc.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Ir(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Ir(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(zn(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,ID(this._label.nativeElement,"transitionend").pipe((0,dr.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,i=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,i=".mat-form-field-outline-start",a=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const T=r.querySelectorAll(`${i}, ${a}`);for(let A=0;A<T.length;A++)T[A].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,f=0;const g=r.querySelectorAll(i),b=r.querySelectorAll(a);if(this._label&&this._label.nativeElement.children.length){const T=r.getBoundingClientRect();if(0===T.width&&0===T.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const A=this._getStartEnd(T),O=t.children,H=this._getStartEnd(O[0].getBoundingClientRect());let q=0;for(let ee=0;ee<O.length;ee++)q+=O[ee].offsetWidth;u=Math.abs(H-A)-5,f=q>0?.75*q+10:0}for(let T=0;T<g.length;T++)g[T].style.width=`${u}px`;for(let T=0;T<b.length;T++)b[T].style.width=`${f}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(Zc,8),l.Y36(cz,8),l.Y36(ti),l.Y36(l.R0b),l.Y36(eu,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(l.Suo(i,AD,5),l.Suo(i,AD,7),l.Suo(i,MD,5),l.Suo(i,MD,7),l.Suo(i,iz,5),l.Suo(i,tz,5),l.Suo(i,rz,5),l.Suo(i,sz,5),l.Suo(i,oz,5)),2&t){let a;l.iGM(a=l.CRH())&&(r._controlNonStatic=a.first),l.iGM(a=l.CRH())&&(r._controlStatic=a.first),l.iGM(a=l.CRH())&&(r._labelChildNonStatic=a.first),l.iGM(a=l.CRH())&&(r._labelChildStatic=a.first),l.iGM(a=l.CRH())&&(r._placeholderChild=a.first),l.iGM(a=l.CRH())&&(r._errorChildren=a),l.iGM(a=l.CRH())&&(r._hintChildren=a),l.iGM(a=l.CRH())&&(r._prefixChildren=a),l.iGM(a=l.CRH())&&(r._suffixChildren=a)}},viewQuery:function(t,r){if(1&t&&(l.Gf(Bq,7),l.Gf(Uq,5),l.Gf(jq,5)),2&t){let i;l.iGM(i=l.CRH())&&(r._connectionContainerRef=i.first),l.iGM(i=l.CRH())&&(r._inputContainerRef=i.first),l.iGM(i=l.CRH())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&l.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[l._Bn([{provide:QR,useExisting:n}]),l.qOj],ngContentSelectors:ez,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(l.F$t(Xq),l.TgZ(0,"div",0)(1,"div",1,2),l.NdJ("click",function(a){return r._control.onContainerClick&&r._control.onContainerClick(a)}),l.YNc(3,Hq,9,0,"ng-container",3),l.YNc(4,Gq,2,1,"div",4),l.TgZ(5,"div",5,6),l.Hsn(7),l.TgZ(8,"span",7),l.YNc(9,Zq,5,16,"label",8),l.qZA()(),l.YNc(10,Wq,2,0,"div",9),l.qZA(),l.YNc(11,Kq,2,4,"div",10),l.TgZ(12,"div",11),l.YNc(13,Yq,2,1,"div",12),l.YNc(14,Jq,5,2,"div",13),l.qZA()()),2&t&&(l.xp6(3),l.Q6J("ngIf","outline"==r.appearance),l.xp6(1),l.Q6J("ngIf",r._prefixChildren.length),l.xp6(5),l.Q6J("ngIf",r._hasFloatingLabel()),l.xp6(1),l.Q6J("ngIf",r._suffixChildren.length),l.xp6(1),l.Q6J("ngIf","outline"!=r.appearance),l.xp6(1),l.Q6J("ngSwitch",r._getDisplayedMessages()),l.xp6(1),l.Q6J("ngSwitchCase","error"),l.xp6(1),l.Q6J("ngSwitchCase","hint"))},directives:[Jn,xq,Lr,vi],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[nz.transitionMessages]},changeDetection:0}),n})(),xD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Fa,ir,Rq],ir]}),n})();const sB=Hh({passive:!0});let uz=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Hi.E;const r=Ea(t),i=this._monitoredElements.get(r);if(i)return i.subject;const a=new Ot.x,u="cdk-text-field-autofilled",f=g=>{"cdk-text-field-autofill-start"!==g.animationName||r.classList.contains(u)?"cdk-text-field-autofill-end"===g.animationName&&r.classList.contains(u)&&(r.classList.remove(u),this._ngZone.run(()=>a.next({target:g.target,isAutofilled:!1}))):(r.classList.add(u),this._ngZone.run(()=>a.next({target:g.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",f,sB),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:a,unlisten:()=>{r.removeEventListener("animationstart",f,sB)}}),a}stopMonitoring(t){const r=Ea(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ti),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const dz=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),hz=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let fz=0;const pz=rE(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r}});let aB=(()=>{class n extends pz{constructor(t,r,i,a,u,f,g,b,T,A){super(f,a,u,i),this._elementRef=t,this._platform=r,this._autofillMonitor=b,this._formField=A,this._uid="mat-input-"+fz++,this.focused=!1,this.stateChanges=new Ot.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(q=>Kc().has(q));const O=this._elementRef.nativeElement,H=O.nodeName.toLowerCase();this._inputValueAccessor=g||O,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&T.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",q=>{const ee=q.target;!ee.value&&0===ee.selectionStart&&0===ee.selectionEnd&&(ee.setSelectionRange(1,1),ee.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===H,this._isTextarea="textarea"===H,this._isInFormField=!!A,this._isNativeSelect&&(this.controlType=O.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Ar(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,r,i,a;return null!==(a=null!==(t=this._required)&&void 0!==t?t:null===(i=null===(r=this.ngControl)||void 0===r?void 0:r.control)||void 0===i?void 0:i.hasValidator(en.required))&&void 0!==a&&a}set required(t){this._required=Ar(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Kc().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Ar(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,r;const i=(null===(r=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===r?void 0:r.call(t))?null:this.placeholder;if(i!==this._previousPlaceholder){const a=this._elementRef.nativeElement;this._previousPlaceholder=i,i?a.setAttribute("placeholder",i):a.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){hz.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(ti),l.Y36(fo,10),l.Y36(Pp,8),l.Y36(Xa,8),l.Y36(Mv),l.Y36(dz,10),l.Y36(uz),l.Y36(l.R0b),l.Y36(QR,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,r){1&t&&l.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(l.Ikx("disabled",r.disabled)("required",r.required),l.uIk("id",r.id)("data-placeholder",r.placeholder)("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),l.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l._Bn([{provide:AD,useExisting:n}]),l.qOj,l.TTD]}),n})(),mz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Mv],imports:[[oB,xD,ir],oB,xD]}),n})();var lB=P(4408);const qb={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=qb;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(a=>{t=void 0,n(a)});return new Br.w0(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=qb;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=qb;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var cB=P(7565);new class _z extends cB.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class gz extends lB.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=qb.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(qb.cancelAnimationFrame(t),e._scheduled=void 0)}});let JR,vz=1;const RD={};function uB(n){return n in RD&&(delete RD[n],!0)}const bz={setImmediate(n){const e=vz++;return RD[e]=!0,JR||(JR=Promise.resolve()),JR.then(()=>uB(e)&&n()),e},clearImmediate(n){uB(n)}},{setImmediate:wz,clearImmediate:Cz}=bz,kD={setImmediate(...n){const{delegate:e}=kD;return((null==e?void 0:e.setImmediate)||wz)(...n)},clearImmediate(n){const{delegate:e}=kD;return((null==e?void 0:e.clearImmediate)||Cz)(n)},delegate:void 0};new class Dz extends cB.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class Ez extends lB.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=kD.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(kD.clearImmediate(t),e._scheduled=void 0)}});var Iz=P(3532);function dB(n,e=mm.z){return function Sz(n){return(0,gr.e)((e,t)=>{let r=!1,i=null,a=null,u=!1;const f=()=>{if(null==a||a.unsubscribe(),a=null,r){r=!1;const b=i;i=null,t.next(b)}u&&t.complete()},g=()=>{a=null,u&&t.complete()};e.subscribe((0,yn.x)(t,b=>{r=!0,i=b,a||(0,Ss.Xf)(n(b)).subscribe(a=(0,yn.x)(t,f,g))},()=>{u=!0,(!r||!a||a.closed)&&t.complete()}))})}(()=>function Mz(n=0,e,t=mm.P){let r=-1;return null!=e&&((0,Iz.K)(e)?t=e:r=e),new _n.y(i=>{let a=function Az(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let u=0;return t.schedule(function(){i.closed||(i.next(u++),0<=r?this.schedule(void 0,r):i.complete())},a)})}(n,e))}let Rz=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Ot.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new _n.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(dB(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ct()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(En(a=>!a||i.indexOf(a)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,a)=>{this._scrollableContainsElement(a,t)&&r.push(a)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=Ea(r),a=t.getElementRef().nativeElement;do{if(i==a)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ID(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(ti),l.LFG(re,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OD=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Ot.x,this._changeListener=a=>{this._change.next(a)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,a=i.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-a.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(dB(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ti),l.LFG(l.R0b),l.LFG(re,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),ek=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ud,XR],ud,XR]}),n})();class tk{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class zb extends tk{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class PD extends tk{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Oz extends tk{constructor(e){super(),this.element=e instanceof l.SBq?e.nativeElement:e}}class ND{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof zb?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof PD?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Oz?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Pz extends ND{constructor(e,t,r,i,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=u=>{const f=u.element,g=this._document.createComment("dom-portal");f.parentNode.insertBefore(g,f),this.outletElement.appendChild(f),this._attachedPortal=u,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(f,g)})},this._document=a}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let FD=(()=>{class n extends ND{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new l.vpe,this.attachDomPortal=a=>{const u=a.element,f=this._document.createComment("dom-portal");a.setAttachedHost(this),u.parentNode.insertBefore(f,u),this._getRootNode().appendChild(u),this._attachedPortal=a,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(u,f)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,a=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),u=r.createComponent(a,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=t,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l._Vd),l.Y36(l.s_b),l.Y36(re))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[l.qOj]}),n})(),nk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const hB=Jk();class Fz{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Mr(-this._previousScrollPosition.left),e.style.top=Mr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,a=r.scrollBehavior||"",u=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),hB&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),hB&&(r.scrollBehavior=a,i.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class Lz{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class fB{enable(){}disable(){}attach(){}}function rk(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function pB(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Vz{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();rk(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Bz=(()=>{class n{constructor(t,r,i,a){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new fB,this.close=u=>new Lz(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new Fz(this._viewportRuler,this._document),this.reposition=u=>new Vz(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Rz),l.LFG(OD),l.LFG(l.R0b),l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class LD{constructor(e){if(this.scrollStrategy=new fB,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class Uz{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class jz{constructor(e,t,r,i,a,u,f,g,b){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=a,this._keyboardDispatcher=u,this._document=f,this._location=g,this._outsideClickDispatcher=b,this._backdropElement=null,this._backdropClick=new Ot.x,this._attachments=new Ot.x,this._detachments=new Ot.x,this._locationChanges=Br.w0.EMPTY,this._backdropClickHandler=T=>this._backdropClick.next(T),this._keydownEvents=new Ot.x,this._outsidePointerEvents=new Ot.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,dr.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Mr(this._config.width),e.height=Mr(this._config.height),e.minWidth=Mr(this._config.minWidth),e.minHeight=Mr(this._config.minHeight),e.maxWidth=Mr(this._config.maxWidth),e.maxHeight=Mr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const r=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",r),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",r)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(r,500))}_toggleClasses(e,t,r){const i=qh(t||[]).filter(a=>!!a);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(zn((0,qc.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.remove(),this._backdropElement===e&&(this._backdropElement=null))}}let ik=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||ks()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<i.length;a++)i[a].remove()}const r=this._document.createElement("div");r.classList.add(t),ks()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re),l.LFG(ti))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mB="cdk-overlay-connected-position-bounding-box",Hz=/([A-Za-z%]+)$/;class Gz{constructor(e,t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ot.x,this._resizeSubscription=Br.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(mB),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,a=[];let u;for(let f of this._preferredPositions){let g=this._getOriginPoint(e,i,f),b=this._getOverlayPoint(g,t,f),T=this._getOverlayFit(b,t,r,f);if(T.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,g);this._canFitWithFlexibleDimensions(T,b,r)?a.push({position:f,origin:g,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(g,f)}):(!u||u.overlayFit.visibleArea<T.visibleArea)&&(u={overlayFit:T,overlayPoint:b,originPoint:g,position:f,overlayRect:t})}if(a.length){let f=null,g=-1;for(const b of a){const T=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);T>g&&(g=T,f=b)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&jf(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(mB),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,a;if("center"==r.originX)i=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;i="start"==r.originX?u:f}return t.left<0&&(i-=t.left),a="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:i,y:a}}_getOverlayPoint(e,t,r){let i,a;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+a}}_getOverlayFit(e,t,r,i){const a=_B(t);let{x:u,y:f}=e,g=this._getOffset(i,"x"),b=this._getOffset(i,"y");g&&(u+=g),b&&(f+=b);let O=0-f,H=f+a.height-r.height,q=this._subtractOverflows(a.width,0-u,u+a.width-r.width),ee=this._subtractOverflows(a.height,O,H),de=q*ee;return{visibleArea:de,isCompletelyWithinViewport:a.width*a.height===de,fitsInViewportVertically:ee===a.height,fitsInViewportHorizontally:q==a.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,a=r.right-t.x,u=gB(this._overlayRef.getConfig().minHeight),f=gB(this._overlayRef.getConfig().minWidth),b=e.fitsInViewportHorizontally||null!=f&&f<=a;return(e.fitsInViewportVertically||null!=u&&u<=i)&&b}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=_B(t),a=this._viewportRect,u=Math.max(e.x+i.width-a.width,0),f=Math.max(e.y+i.height-a.height,0),g=Math.max(a.top-r.top-e.y,0),b=Math.max(a.left-r.left-e.x,0);let T=0,A=0;return T=i.width<=a.width?b||-u:e.x<this._viewportMargin?a.left-r.left-e.x:0,A=i.height<=a.height?g||-f:e.y<this._viewportMargin?a.top-r.top-e.y:0,this._previousPushAmount={x:T,y:A},{x:e.x+T,y:e.y+A}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new Uz(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let a,u,f,T,A,O;if("top"===t.overlayY)u=e.y,a=r.height-u+this._viewportMargin;else if("bottom"===t.overlayY)f=r.height-e.y+2*this._viewportMargin,a=r.height-f+this._viewportMargin;else{const H=Math.min(r.bottom-e.y+r.top,e.y),q=this._lastBoundingBoxSize.height;a=2*H,u=e.y-H,a>q&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-q/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)O=r.width-e.x+this._viewportMargin,T=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)A=e.x,T=r.right-e.x;else{const H=Math.min(r.right-e.x+r.left,e.x),q=this._lastBoundingBoxSize.width;T=2*H,A=e.x-H,T>q&&!this._isInitialRender&&!this._growAfterOpen&&(A=e.x-q/2)}return{top:u,left:A,bottom:f,right:O,width:T,height:a}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;i.height=Mr(r.height),i.top=Mr(r.top),i.bottom=Mr(r.bottom),i.width=Mr(r.width),i.left=Mr(r.left),i.right=Mr(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(i.maxHeight=Mr(a)),u&&(i.maxWidth=Mr(u))}this._lastBoundingBoxSize=r,jf(this._boundingBox.style,i)}_resetBoundingBoxStyles(){jf(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){jf(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),a=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(i){const T=this._viewportRuler.getViewportScrollPosition();jf(r,this._getExactOverlayY(t,e,T)),jf(r,this._getExactOverlayX(t,e,T))}else r.position="static";let f="",g=this._getOffset(t,"x"),b=this._getOffset(t,"y");g&&(f+=`translateX(${g}px) `),b&&(f+=`translateY(${b}px)`),r.transform=f.trim(),u.maxHeight&&(i?r.maxHeight=Mr(u.maxHeight):a&&(r.maxHeight="")),u.maxWidth&&(i?r.maxWidth=Mr(u.maxWidth):a&&(r.maxWidth="")),jf(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":i.top=Mr(a.y),i}_getExactOverlayX(e,t,r){let u,i={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?i.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":i.left=Mr(a.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:pB(e,r),isOriginOutsideView:rk(e,r),isOverlayClipped:pB(t,r),isOverlayOutsideView:rk(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&qh(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof l.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function jf(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function gB(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Hz);return t&&"px"!==t?null:parseFloat(e)}return n||null}function _B(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const yB="cdk-global-overlay-wrapper";class $z{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(yB),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:a,maxWidth:u,maxHeight:f}=r,g=!("100%"!==i&&"100vw"!==i||u&&"100%"!==u&&"100vw"!==u),b=!("100%"!==a&&"100vh"!==a||f&&"100%"!==f&&"100vh"!==f);e.position=this._cssPosition,e.marginLeft=g?"0":this._leftOffset,e.marginTop=b?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,g?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=b?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(yB),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let qz=(()=>{class n{constructor(t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a}global(){return new $z}flexibleConnectedTo(t){return new Gz(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(OD),l.LFG(re),l.LFG(ti),l.LFG(ik))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vB=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zz=(()=>{class n extends vB{constructor(t){super(t),this._keydownListener=r=>{const i=this._attachedOverlays;for(let a=i.length-1;a>-1;a--)if(i[a]._keydownEvents.observers.length>0){i[a]._keydownEvents.next(r);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zz=(()=>{class n extends vB{constructor(t,r){super(t),this._platform=r,this._cursorStyleIsSet=!1,this._pointerDownListener=i=>{this._pointerDownEventTarget=Ii(i)},this._clickListener=i=>{const a=Ii(i),u="click"===i.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const f=this._attachedOverlays.slice();for(let g=f.length-1;g>-1;g--){const b=f[g];if(!(b._outsidePointerEvents.observers.length<1)&&b.hasAttached()){if(b.overlayElement.contains(a)||b.overlayElement.contains(u))break;b._outsidePointerEvents.next(i)}}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(re),l.LFG(ti))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wz=0,Vd=(()=>{class n{constructor(t,r,i,a,u,f,g,b,T,A,O){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=a,this._keyboardDispatcher=u,this._injector=f,this._ngZone=g,this._document=b,this._directionality=T,this._location=A,this._outsideClickDispatcher=O}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),a=this._createPortalOutlet(i),u=new LD(t);return u.direction=u.direction||this._directionality.value,new jz(a,r,i,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+Wz++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new Pz(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Bz),l.LFG(ik),l.LFG(l._Vd),l.LFG(qz),l.LFG(zz),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(re),l.LFG(Zc),l.LFG(Ie),l.LFG(Zz))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Kz=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],bB=new l.OlP("cdk-connected-overlay-scroll-strategy");let wB=(()=>{class n{constructor(t){this.elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),CB=(()=>{class n{constructor(t,r,i,a,u){this._overlay=t,this._dir=u,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Br.w0.EMPTY,this._attachSubscription=Br.w0.EMPTY,this._detachSubscription=Br.w0.EMPTY,this._positionSubscription=Br.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new l.vpe,this.positionChange=new l.vpe,this.attach=new l.vpe,this.detach=new l.vpe,this.overlayKeydown=new l.vpe,this.overlayOutsideClick=new l.vpe,this._templatePortal=new PD(r,i),this._scrollStrategyFactory=a,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Ar(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=Ar(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=Ar(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=Ar(t)}get push(){return this._push}set push(t){this._push=Ar(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Kz);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),27===r.keyCode&&!this.disableClose&&!fd(r)&&(r.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{this.overlayOutsideClick.next(r)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),r=new LD({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(r.width=this.width),(this.height||0===this.height)&&(r.height=this.height),(this.minWidth||0===this.minWidth)&&(r.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(t){const r=this.positions.map(i=>({originX:i.originX,originY:i.originY,overlayX:i.overlayX,overlayY:i.overlayY,offsetX:i.offsetX||this.offsetX,offsetY:i.offsetY||this.offsetY,panelClass:i.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof wB?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function Nz(n,e=!1){return(0,gr.e)((t,r)=>{let i=0;t.subscribe((0,yn.x)(r,a=>{const u=n(a,i++);(u||e)&&r.next(a),!u&&r.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Vd),l.Y36(l.Rgc),l.Y36(l.s_b),l.Y36(bB),l.Y36(Zc,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[l.TTD]}),n})();const Qz={provide:bB,deps:[Vd],useFactory:function Yz(n){return()=>n.scrollStrategies.reposition()}};let sk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Vd,Qz],imports:[[ud,nk,ek],ek]}),n})();class Jz{constructor(e=!1,t,r=!0){this._multiple=e,this._emitChanges=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Ot.x,t&&t.length&&(e?t.forEach(i=>this._markSelected(i)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}const Xz=["trigger"],e6=["panel"];function t6(n,e){if(1&n&&(l.TgZ(0,"span",8),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Oqu(t.placeholder)}}function n6(n,e){if(1&n&&(l.TgZ(0,"span",12),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.triggerValue)}}function r6(n,e){1&n&&l.Hsn(0,0,["*ngSwitchCase","true"])}function i6(n,e){if(1&n&&(l.TgZ(0,"span",9),l.YNc(1,n6,2,1,"span",10),l.YNc(2,r6,1,0,"ng-content",11),l.qZA()),2&n){const t=l.oxw();l.Q6J("ngSwitch",!!t.customTrigger),l.xp6(2),l.Q6J("ngSwitchCase",!0)}}function s6(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",13)(1,"div",14,15),l.NdJ("@transformPanel.done",function(i){return l.CHM(t),l.oxw()._panelDoneAnimatingStream.next(i.toState)})("keydown",function(i){return l.CHM(t),l.oxw()._handleKeydown(i)}),l.Hsn(3,1),l.qZA()()}if(2&n){const t=l.oxw();l.Q6J("@transformPanelWrap",void 0),l.xp6(1),l.Gre("mat-select-panel ",t._getPanelTheme(),""),l.Udp("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),l.Q6J("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),l.uIk("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const o6=[[["mat-select-trigger"]],"*"],a6=["mat-select-trigger","*"],TB={transformPanelWrap:Wh("transformPanelWrap",[Xl("* => void",n1("@transformPanel",[dC()],{optional:!0}))]),transformPanel:Wh("transformPanel",[Qc("void",zi({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Qc("showing",zi({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Qc("showing-multiple",zi({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Xl("void => *",Yc("120ms cubic-bezier(0, 0, 0.2, 1)")),Xl("* => void",Yc("100ms 25ms linear",zi({opacity:0})))])};let SB=0;const AB=new l.OlP("mat-select-scroll-strategy"),d6=new l.OlP("MAT_SELECT_CONFIG"),h6={provide:AB,deps:[Vd],useFactory:function u6(n){return()=>n.scrollStrategies.reposition()}};class f6{constructor(e,t){this.source=e,this.value=t}}const p6=Sv(RA(Tv(rE(class{constructor(n,e,t,r,i){this._elementRef=n,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=r,this.ngControl=i}})))),m6=new l.OlP("MatSelectTrigger");let g6=(()=>{class n extends p6{constructor(t,r,i,a,u,f,g,b,T,A,O,H,q,ee){var de,Ye,je;super(u,a,g,b,A),this._viewportRuler=t,this._changeDetectorRef=r,this._ngZone=i,this._dir=f,this._parentFormField=T,this._liveAnnouncer=q,this._defaultOptions=ee,this._panelOpen=!1,this._compareWith=(Qe,Fe)=>Qe===Fe,this._uid="mat-select-"+SB++,this._triggerAriaLabelledBy=null,this._destroy=new Ot.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+SB++,this._panelDoneAnimatingStream=new Ot.x,this._overlayPanelClass=(null===(de=this._defaultOptions)||void 0===de?void 0:de.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(je=null===(Ye=this._defaultOptions)||void 0===Ye?void 0:Ye.disableOptionCentering)&&void 0!==je&&je,this.ariaLabel="",this.optionSelectionChanges=ku(()=>{const Qe=this.options;return Qe?Qe.changes.pipe(Ir(Qe),Cn(()=>(0,qc.T)(...Qe.map(Fe=>Fe.onSelectionChange)))):this._ngZone.onStable.pipe((0,dr.q)(1),Cn(()=>this.optionSelectionChanges))}),this.openedChange=new l.vpe,this._openedStream=this.openedChange.pipe(En(Qe=>Qe),(0,Nt.U)(()=>{})),this._closedStream=this.openedChange.pipe(En(Qe=>!Qe),(0,Nt.U)(()=>{})),this.selectionChange=new l.vpe,this.valueChange=new l.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==ee?void 0:ee.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=ee.typeaheadDebounceInterval),this._scrollStrategyFactory=H,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(O)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){var t,r,i,a;return null!==(a=null!==(t=this._required)&&void 0!==t?t:null===(i=null===(r=this.ngControl)||void 0===r?void 0:r.control)||void 0===i?void 0:i.hasValidator(en.required))&&void 0!==a&&a}set required(t){this._required=Ar(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=Ar(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=Ar(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=ym(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new Jz(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(_m(),zn(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(zn(this._destroy)).subscribe(t=>{t.added.forEach(r=>r.select()),t.removed.forEach(r=>r.deselect())}),this.options.changes.pipe(Ir(null),zn(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?r.setAttribute("aria-labelledby",t):r.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var t,r;return this.multiple?(null===(t=this._selectionModel)||void 0===t?void 0:t.selected)||[]:null===(r=this._selectionModel)||void 0===r?void 0:r.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(r=>r.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const r=t.keyCode,i=40===r||38===r||37===r||39===r,a=13===r||32===r,u=this._keyManager;if(!u.isTyping()&&a&&!fd(t)||(this.multiple||t.altKey)&&i)t.preventDefault(),this.open();else if(!this.multiple){const f=this.selected;u.onKeydown(t);const g=this.selected;g&&f!==g&&this._liveAnnouncer.announce(g.viewValue,1e4)}}_handleOpenKeydown(t){const r=this._keyManager,i=t.keyCode,a=40===i||38===i,u=r.isTyping();if(a&&t.altKey)t.preventDefault(),this.close();else if(u||13!==i&&32!==i||!r.activeItem||fd(t))if(!u&&this._multiple&&65===i&&t.ctrlKey){t.preventDefault();const f=this.options.some(g=>!g.disabled&&!g.selected);this.options.forEach(g=>{g.disabled||(f?g.select():g.deselect())})}else{const f=r.activeItemIndex;r.onKeydown(t),this._multiple&&a&&t.shiftKey&&r.activeItem&&r.activeItemIndex!==f&&r.activeItem._selectViaInteraction()}else t.preventDefault(),r.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,dr.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(r=>r.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(r=>this._selectValue(r)),this._sortValues();else{const r=this._selectValue(t);r?this._keyManager.updateActiveItem(r):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const r=this.options.find(i=>{if(this._selectionModel.isSelected(i))return!1;try{return null!=i.value&&this._compareWith(i.value,t)}catch(a){return!1}});return r&&this._selectionModel.select(r),r}_initKeyManager(){this._keyManager=new EI(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(zn(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(zn(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=(0,qc.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(zn(t)).subscribe(r=>{this._onSelect(r.source,r.isUserInput),r.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,qc.T)(...this.options.map(r=>r._stateChanges)).pipe(zn(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,r){const i=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(i!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),r&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),r&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),i!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((r,i)=>this.sortComparator?this.sortComparator(r,i,t):t.indexOf(r)-t.indexOf(i)),this.stateChanges.next()}}_propagateChanges(t){let r=null;r=this.multiple?this.selected.map(i=>i.value):this.selected?this.selected.value:t,this._value=r,this.valueChange.emit(r),this._onChange(r),this.selectionChange.emit(this._getChangeEvent(r)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var t;if(this.ariaLabel)return null;const r=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();return this.ariaLabelledby?(r?r+" ":"")+this.ariaLabelledby:r}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var t;if(this.ariaLabel)return null;const r=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();let i=(r?r+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(OD),l.Y36(l.sBO),l.Y36(l.R0b),l.Y36(Mv),l.Y36(l.SBq),l.Y36(Zc,8),l.Y36(Pp,8),l.Y36(Xa,8),l.Y36(QR,8),l.Y36(fo,10),l.$8M("tabindex"),l.Y36(AB),l.Y36(aC),l.Y36(d6,8))},n.\u0275dir=l.lG2({type:n,viewQuery:function(t,r){if(1&t&&(l.Gf(Xz,5),l.Gf(e6,5),l.Gf(CB,5)),2&t){let i;l.iGM(i=l.CRH())&&(r.trigger=i.first),l.iGM(i=l.CRH())&&(r.panel=i.first),l.iGM(i=l.CRH())&&(r._overlayDir=i.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[l.qOj,l.TTD]}),n})(),MB=(()=>{class n extends g6{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,r,i){const a=this._getItemHeight();return Math.min(Math.max(0,a*t-r+a/2),i)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(zn(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,dr.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const r=J(t,this.options,this.optionGroups),i=this._getItemHeight();this.panel.nativeElement.scrollTop=0===t&&1===r?0:function Ce(n,e,t,r){return n<t?n:n+e>t+r?Math.max(0,n-r+e):t}((t+r)*i,i,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new f6(this,t)}_calculateOverlayOffsetX(){const t=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),r=this._viewportRuler.getViewportSize(),i=this._isRtl(),a=this.multiple?56:32;let u;if(this.multiple)u=40;else if(this.disableOptionCentering)u=16;else{let b=this._selectionModel.selected[0]||this.options.first;u=b&&b.group?32:16}i||(u*=-1);const f=0-(t.left+u-(i?a:0)),g=t.right+u-r.width+(i?0:a);f>0?u+=f+8:g>0&&(u-=g+8),this._overlayDir.offsetX=Math.round(u),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,r,i){const a=this._getItemHeight(),u=(a-this._triggerRect.height)/2,f=Math.floor(256/a);let g;return this.disableOptionCentering?0:(g=0===this._scrollTop?t*a:this._scrollTop===i?(t-(this._getItemCount()-f))*a+(a-(this._getItemCount()*a-256)%a):r-a/2,Math.round(-1*g-u))}_checkOverlayWithinViewport(t){const r=this._getItemHeight(),i=this._viewportRuler.getViewportSize(),a=this._triggerRect.top-8,u=i.height-this._triggerRect.bottom-8,f=Math.abs(this._offsetY),b=Math.min(this._getItemCount()*r,256)-f-this._triggerRect.height;b>u?this._adjustPanelUp(b,u):f>a?this._adjustPanelDown(f,a,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,r){const i=Math.round(t-r);this._scrollTop-=i,this._offsetY-=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,r,i){const a=Math.round(t-r);if(this._scrollTop+=a,this._offsetY+=a,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=i)return this._scrollTop=i,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),r=this._getItemCount(),i=Math.min(r*t,256),u=r*t-i;let f;f=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),f+=J(f,this.options,this.optionGroups);const g=i/2;this._scrollTop=this._calculateOverlayScroll(f,g,u),this._offsetY=this._calculateOverlayOffsetY(f,g,u),this._checkOverlayWithinViewport(u)}_getOriginBasedOnOption(){const t=this._getItemHeight(),r=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-r+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(t,r,i){if(1&t&&(l.Suo(i,m6,5),l.Suo(i,$,5),l.Suo(i,w,5)),2&t){let a;l.iGM(a=l.CRH())&&(r.customTrigger=a.first),l.iGM(a=l.CRH())&&(r.options=a),l.iGM(a=l.CRH())&&(r.optionGroups=a)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,r){1&t&&l.NdJ("keydown",function(a){return r._handleKeydown(a)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&t&&(l.uIk("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-describedby",r._ariaDescribedby||null)("aria-activedescendant",r._getAriaActiveDescendant()),l.ekj("mat-select-disabled",r.disabled)("mat-select-invalid",r.errorState)("mat-select-required",r.required)("mat-select-empty",r.empty)("mat-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[l._Bn([{provide:AD,useExisting:n},{provide:d,useExisting:n}]),l.qOj],ngContentSelectors:a6,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,r){if(1&t&&(l.F$t(o6),l.TgZ(0,"div",0,1),l.NdJ("click",function(){return r.toggle()}),l.TgZ(3,"div",2),l.YNc(4,t6,2,1,"span",3),l.YNc(5,i6,3,2,"span",4),l.qZA(),l.TgZ(6,"div",5),l._UZ(7,"div",6),l.qZA()(),l.YNc(8,s6,4,14,"ng-template",7),l.NdJ("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&t){const i=l.MAs(1);l.uIk("aria-owns",r.panelOpen?r.id+"-panel":null),l.xp6(3),l.Q6J("ngSwitch",r.empty),l.uIk("id",r._valueId),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngSwitchCase",!1),l.xp6(3),l.Q6J("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",i)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayMinWidth",null==r._triggerRect?null:r._triggerRect.width)("cdkConnectedOverlayOffsetY",r._offsetY)}},directives:[wB,Lr,vi,ka,CB,rs],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[TB.transformPanelWrap,TB.transformPanel]},changeDetection:0}),n})(),_6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[h6],imports:[[Fa,sk,Ve,ir],XR,xD,Ve,ir]}),n})();const y6=["mat-button",""],v6=["*"],w6=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],C6=Jm(Tv(Sv(class{constructor(n){this._elementRef=n}})));let Vg=(()=>{class n extends C6{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of w6)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(lC),l.Y36(eu,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&l.Gf(sE,5),2&t){let i;l.iGM(i=l.CRH())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(l.uIk("disabled",r.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:y6,ngContentSelectors:v6,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(l.F$t(),l.TgZ(0,"span",0),l.Hsn(1),l.qZA(),l._UZ(2,"span",1)(3,"span",2)),2&t&&(l.xp6(2),l.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),l.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[sE],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),xB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[s,ir],ir]}),n})();function E6(n,e){1&n&&(l.TgZ(0,"small",19),l._uU(1," O Nome \xe9 obrigat\xf3rio!"),l.qZA())}function D6(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,E6,2,0,"small",18),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.formCriar.controls.nome.hasError("required"))}}function T6(n,e){if(1&n&&(l.TgZ(0,"mat-option",20),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value),l.xp6(1),l.hij(" ",t.viewValue," ")}}function S6(n,e){if(1&n&&(l.TgZ(0,"mat-option",20),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value),l.xp6(1),l.hij(" ",t.viewValue," ")}}function I6(n,e){if(1&n&&(l.TgZ(0,"mat-option",20),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value),l.xp6(1),l.hij(" ",t.viewValue," ")}}function A6(n,e){if(1&n&&(l.TgZ(0,"mat-option",20),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value),l.xp6(1),l.hij(" ",t.viewValue," ")}}function M6(n,e){if(1&n&&(l.TgZ(0,"mat-option",20),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value),l.xp6(1),l.hij(" ",t.viewValue," ")}}function x6(n,e){if(1&n&&(l.TgZ(0,"mat-option",20),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value),l.xp6(1),l.hij(" ",t.viewValue," ")}}function R6(n,e){if(1&n&&(l.TgZ(0,"mat-option",20),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value),l.xp6(1),l.hij(" ",t.viewValue," ")}}let k6=(()=>{class n{constructor(t,r,i){this._router=t,this._personagensService=r,this._formBuilder=i,this.principal=[{value:"Combatente",viewValue:"Combatente"},{value:"Usu\xe1rio de magia",viewValue:"Usu\xe1rio de magia"},{value:"Suporte",viewValue:"Suporte"},{value:"Defensor",viewValue:"Defensor"}],this.secundarias=[{value:"Usu\xe1rio de magia leve",viewValue:"Usu\xe1rio de magia leve"},{value:"Utilidade intera\xe7\xe3o",viewValue:"Utilidade intera\xe7\xe3o"},{value:"Utilidade com itens",viewValue:"Utilidade com itens"},{value:"Controle",viewValue:"Controle"}],this.magias=[{value:"Origem divina",viewValue:"Origem divina"},{value:"Origem arcana",viewValue:"Origem arcana"},{value:"Origem de pacto",viewValue:"Origem de pacto"}],this.orientacaos=[{value:"Bom",viewValue:"Bom"},{value:"Neutro",viewValue:"Neutro"},{value:"Mal",viewValue:"Mal"}],this.funcaos=[{value:"Magico combatente",viewValue:"Magico combatente"},{value:"Magico utilidade",viewValue:"Magico utilidade"},{value:"Combatente corpo a corpo",viewValue:"Combatente corpo a corpo"},{value:"Combatente a distancia",viewValue:"Combatente a distancia"},{value:"Curador",viewValue:"Curador"},{value:"Tanque",viewValue:"Tanque"}],this.orientacaos2=[{value:"Leal",viewValue:"Leal"},{value:"Neutro",viewValue:"Neutro"},{value:"Caos",viewValue:"Caos"}],this.equipamentos=[{value:"Arma uma m\xe3o, armadura, escudo",viewValue:"Arma uma m\xe3o, armadura, escudo"},{value:"Arma duas m\xe3os, armadura",viewValue:"Arma duas m\xe3os, armadura"},{value:"Arco e flecha, armadura leve, adaga",viewValue:"Arco e flecha, armadura leve, adaga"},{value:"Foco, adaga",viewValue:"Foco, adaga"}],this.formCriar=this._formBuilder.group({nome:["",[en.required]],funcao:["",[en.required]],principal:["",[en.required]],secundaria:["",[en.required]],magia:["",[en.required]],orientacao:["",[en.required]],orientacao2:["",[en.required]],equipamento:["",[en.required]]})}ngOnInit(){}validarFormulario(){for(let t in this.formCriar.controls)this.formCriar.controls[t].markAsTouched()}submitForm(){this.validarFormulario(),this.formCriar.valid&&this.salvar()}salvar(){const r=document.getElementById("imagem").files[0];"image"==r.type.split("/")[0]?this._personagensService.uploadStorage(r,this.formCriar.value).then(()=>{this._router.navigate(["/listaDePersonagens"])}).catch(i=>{console.log(i),alert("deu ruim")}):alert("Tipo de arquivo n\xe3o suportado")}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(br),l.Y36(YR),l.Y36(Bp))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-criar"]],decls:57,vars:9,consts:[["color","primary"],[3,"formGroup","ngSubmit"],["appearance","outline",2,"background-color","rgb(8, 8, 61) !important","color","white"],["matInput","","formControlName","nome","type","text","required",""],[4,"ngIf"],["appearance","outline",2,"background-color","rgb(8, 8, 61) !important"],["formControlName","principal","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","secundaria","required",""],["formControlName","magia","required",""],["formControlName","funcao","required",""],["formControlName","orientacao","required",""],["formControlName","orientacao2","required",""],["formControlName","equipamento","required",""],[1,"file-input"],["for","imagem"],["id","imagem","type","file","required","",1,"file"],["mat-raised-button","","type","submit"],["style","color: pink",4,"ngIf"],[2,"color","pink"],[3,"value"]],template:function(t,r){1&t&&(l.TgZ(0,"body")(1,"mat-toolbar",0)(2,"span"),l._uU(3,"Cria\xe7\xe3o de Nova Ideia"),l.qZA()(),l.TgZ(4,"form",1),l.NdJ("ngSubmit",function(){return r.submitForm()}),l.TgZ(5,"mat-form-field",2)(6,"mat-label"),l._uU(7,"nome"),l.qZA(),l._UZ(8,"input",3),l.YNc(9,D6,2,1,"div",4),l.qZA(),l._UZ(10,"br"),l.TgZ(11,"mat-form-field",5)(12,"mat-label"),l._uU(13,"Ideia principal"),l.qZA(),l.TgZ(14,"mat-select",6),l.YNc(15,T6,2,2,"mat-option",7),l.qZA()(),l.TgZ(16,"mat-form-field",5)(17,"mat-label"),l._uU(18,"Ideia secundaria"),l.qZA(),l.TgZ(19,"mat-select",8),l.YNc(20,S6,2,2,"mat-option",7),l.qZA()(),l._UZ(21,"br"),l.TgZ(22,"mat-form-field",5)(23,"mat-label"),l._uU(24,"Magia"),l.qZA(),l.TgZ(25,"mat-select",9),l.YNc(26,I6,2,2,"mat-option",7),l.qZA()(),l.TgZ(27,"mat-form-field",5)(28,"mat-label"),l._uU(29,"Funcao"),l.qZA(),l.TgZ(30,"mat-select",10),l.YNc(31,A6,2,2,"mat-option",7),l.qZA()(),l._UZ(32,"br"),l.TgZ(33,"mat-form-field",5)(34,"mat-label"),l._uU(35,"Orientacao"),l.qZA(),l.TgZ(36,"mat-select",11),l.YNc(37,M6,2,2,"mat-option",7),l.qZA()(),l.TgZ(38,"mat-form-field",5)(39,"mat-label"),l._uU(40,"Orientacao 2"),l.qZA(),l.TgZ(41,"mat-select",12),l.YNc(42,x6,2,2,"mat-option",7),l.qZA()(),l._UZ(43,"br"),l.TgZ(44,"mat-form-field",5)(45,"mat-label"),l._uU(46,"Equipamento"),l.qZA(),l.TgZ(47,"mat-select",13),l.YNc(48,R6,2,2,"mat-option",7),l.qZA()(),l._UZ(49,"br"),l.TgZ(50,"div",14)(51,"label",15),l._uU(52,"Adicione uma imagem"),l.qZA(),l._UZ(53,"input",16),l.qZA(),l._UZ(54,"br"),l.TgZ(55,"button",17),l._uU(56,"Criar"),l.qZA()()()),2&t&&(l.xp6(4),l.Q6J("formGroup",r.formCriar),l.xp6(5),l.Q6J("ngIf",r.formCriar.controls.nome.touched),l.xp6(6),l.Q6J("ngForOf",r.principal),l.xp6(5),l.Q6J("ngForOf",r.secundarias),l.xp6(6),l.Q6J("ngForOf",r.magias),l.xp6(5),l.Q6J("ngForOf",r.funcaos),l.xp6(6),l.Q6J("ngForOf",r.orientacaos),l.xp6(5),l.Q6J("ngForOf",r.orientacaos2),l.xp6(6),l.Q6J("ngForOf",r.equipamentos))},directives:[Kt,Mh,bh,Xa,iB,MD,aB,ql,vh,Qu,Bo,Jn,MB,Qn,$,Vg],styles:["body[_ngcontent-%COMP%]{background-color:#08083d!important}form[_ngcontent-%COMP%]{text-align:center}button[_ngcontent-%COMP%]{margin-right:2%}mat-form-field[_ngcontent-%COMP%]{margin-right:2%}.file-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:2%;display:block;position:relative;left:39%;width:20%;height:37px;border-radius:5px;background:#fe0177;box-shadow:0 2px 3px #25222266;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:500;cursor:pointer;transition:transform .2s ease-out}.file[_ngcontent-%COMP%]{opacity:0;width:.1px;height:.1px;position:absolute}.file-input[_ngcontent-%COMP%]:hover   label[_ngcontent-%COMP%]{background-color:#fd3fc4}"]}),n})();function O6(n,e){if(1&n&&(l.TgZ(0,"mat-option",17),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value),l.xp6(1),l.hij(" ",t.viewValue," ")}}function P6(n,e){if(1&n&&(l.TgZ(0,"mat-option",17),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value),l.xp6(1),l.hij(" ",t.viewValue," ")}}function N6(n,e){if(1&n&&(l.TgZ(0,"mat-option",17),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value),l.xp6(1),l.hij(" ",t.viewValue," ")}}function F6(n,e){if(1&n&&(l.TgZ(0,"mat-option",17),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value),l.xp6(1),l.hij(" ",t.viewValue," ")}}function L6(n,e){if(1&n&&(l.TgZ(0,"mat-option",17),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value),l.xp6(1),l.hij(" ",t.viewValue," ")}}function V6(n,e){if(1&n&&(l.TgZ(0,"mat-option",17),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value),l.xp6(1),l.hij(" ",t.viewValue," ")}}function B6(n,e){if(1&n&&(l.TgZ(0,"mat-option",17),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value),l.xp6(1),l.hij(" ",t.viewValue," ")}}let U6=(()=>{class n{constructor(t,r,i,a){this._router=t,this._actRoute=r,this._personagemService=i,this._formBuilder=a,this.principal=[{value:"Combatente",viewValue:"Combatente"},{value:"Usu\xe1rio de magia",viewValue:"Usu\xe1rio de magia"},{value:"Suporte",viewValue:"Suporte"},{value:"Defensor",viewValue:"Defensor"}],this.secundarias=[{value:"Usu\xe1rio de magia leve",viewValue:"Usu\xe1rio de magia leve"},{value:"Utilidade intera\xe7\xe3o",viewValue:"Utilidade intera\xe7\xe3o"},{value:"Utilidade com itens",viewValue:"Utilidade com itens"},{value:"Controle",viewValue:"Controle"}],this.magias=[{value:"Origem divina",viewValue:"Origem divina"},{value:"Origem arcana",viewValue:"Origem arcana"},{value:"Origem de pacto",viewValue:"Origem de pacto"}],this.orientacaos=[{value:"Bom",viewValue:"Bom"},{value:"Neutro",viewValue:"Neutro"},{value:"Mal",viewValue:"Mal"}],this.funcaos=[{value:"Magico combatente",viewValue:"Magico combatente"},{value:"Magico utilidade",viewValue:"Magico utilidade"},{value:"Combatente corpo a corpo",viewValue:"Combatente corpo a corpo"},{value:"Combatente a distancia",viewValue:"Combatente a distancia"},{value:"Curador",viewValue:"Curador"},{value:"Tanque",viewValue:"Tanque"}],this.orientacaos2=[{value:"Leal",viewValue:"Leal"},{value:"Neutro",viewValue:"Neutro"},{value:"Caos",viewValue:"Caos"}],this.equipamentos=[{value:"Arma uma m\xe3o, armadura, escudo",viewValue:"Arma uma m\xe3o, armadura, escudo"},{value:"Arma duas m\xe3os, armadura",viewValue:"Arma duas m\xe3os, armadura"},{value:"Arco e flecha, armadura leve, adaga",viewValue:"Arco e flecha, armadura leve, adaga"},{value:"Foco, adaga",viewValue:"Foco, adaga"}],this.formEditar=this._formBuilder.group({nome:["",[en.required]],funcao:["",[en.required]],principal:["",[en.required]],secundaria:["",[en.required]],magia:["",[en.required]],orientacao:["",[en.required]],orientacao2:["",[en.required]],equipamento:["",[en.required]]})}ngOnInit(){this._actRoute.params.subscribe(t=>{t.indice&&(this.id=t.indice,this._personagemService.getPersonagem(t.indice).subscribe(r=>{let i=r;this.downloadURL=i.downloadURL,this.formEditar=this._formBuilder.group({nome:[i.nome,[en.required]],funcao:[i.funcao,[en.required]],principal:[i.principal,[en.required]],secundaria:[i.secundaria,[en.required]],magia:[i.magia,[en.required]],orientacao:[i.orientacao,[en.required]],orientacao2:[i.orientacao2,[en.required]],equipamento:[i.equipamento,[en.required]]})}))})}validarFormulario(){for(let t in this.formEditar.controls)this.formEditar.controls[t].markAsTouched()}submitForm(){this.validarFormulario(),this.formEditar.valid&&this.salvar()}salvar(){const r=document.getElementById("imagem").files[0];null==r||"image"!=r.type.split("/")[0]?(this.formEditar.value.downloadURL=this.downloadURL,this._personagemService.editarPersonagem(this.formEditar.value,this.id),this._router.navigate(["/listaDePersonagens"])):this._personagemService.updateStorage(r,this.formEditar.value,this.id).then(()=>{this._router.navigate(["/listaDePersonagens"])}).catch(i=>{console.log(i),alert("deu ruim")})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(br),l.Y36(ko),l.Y36(YR),l.Y36(Bp))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-editar"]],decls:56,vars:8,consts:[["color","primary"],[3,"formGroup","ngSubmit"],["appearance","outline",2,"background-color","rgb(8, 8, 61) !important"],["matInput","","formControlName","nome","required",""],["appearance","fill",2,"background-color","rgb(8, 8, 61) !important"],["formControlName","principal","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","secundaria","required",""],["formControlName","magia","required",""],["formControlName","orientacao","required",""],["formControlName","orientacao2","required",""],["formControlName","funcao","required",""],["formControlName","equipamento","required",""],[1,"file-input"],["for","imagem"],["id","imagem","type","file",1,"file"],["mat-raised-button","","type","submit"],[3,"value"]],template:function(t,r){1&t&&(l.TgZ(0,"body")(1,"mat-toolbar",0)(2,"span"),l._uU(3,"Editar Ideia"),l.qZA()(),l.TgZ(4,"form",1),l.NdJ("ngSubmit",function(){return r.submitForm()}),l.TgZ(5,"mat-form-field",2)(6,"mat-label"),l._uU(7,"nome"),l.qZA(),l._UZ(8,"input",3),l.qZA(),l._UZ(9,"br"),l.TgZ(10,"mat-form-field",4)(11,"mat-label"),l._uU(12,"Ideia principal"),l.qZA(),l.TgZ(13,"mat-select",5),l.YNc(14,O6,2,2,"mat-option",6),l.qZA()(),l.TgZ(15,"mat-form-field",4)(16,"mat-label"),l._uU(17,"Ideia secundaria"),l.qZA(),l.TgZ(18,"mat-select",7),l.YNc(19,P6,2,2,"mat-option",6),l.qZA()(),l._UZ(20,"br"),l.TgZ(21,"mat-form-field",4)(22,"mat-label"),l._uU(23,"Magia"),l.qZA(),l.TgZ(24,"mat-select",8),l.YNc(25,N6,2,2,"mat-option",6),l.qZA()(),l._UZ(26,"br"),l.TgZ(27,"mat-form-field",4)(28,"mat-label"),l._uU(29,"Orientacao"),l.qZA(),l.TgZ(30,"mat-select",9),l.YNc(31,F6,2,2,"mat-option",6),l.qZA()(),l.TgZ(32,"mat-form-field",4)(33,"mat-label"),l._uU(34,"Orientacao 2"),l.qZA(),l.TgZ(35,"mat-select",10),l.YNc(36,L6,2,2,"mat-option",6),l.qZA()(),l._UZ(37,"br"),l.TgZ(38,"mat-form-field",4)(39,"mat-label"),l._uU(40,"Funcao"),l.qZA(),l.TgZ(41,"mat-select",11),l.YNc(42,V6,2,2,"mat-option",6),l.qZA()(),l.TgZ(43,"mat-form-field",4)(44,"mat-label"),l._uU(45,"Equipamento"),l.qZA(),l.TgZ(46,"mat-select",12),l.YNc(47,B6,2,2,"mat-option",6),l.qZA()(),l._UZ(48,"br"),l.TgZ(49,"div",13)(50,"label",14),l._uU(51,"Adicione uma imagem"),l.qZA(),l._UZ(52,"input",15),l.qZA(),l._UZ(53,"br"),l.TgZ(54,"button",16),l._uU(55,"Salvar"),l.qZA()()()),2&t&&(l.xp6(4),l.Q6J("formGroup",r.formEditar),l.xp6(10),l.Q6J("ngForOf",r.principal),l.xp6(5),l.Q6J("ngForOf",r.secundarias),l.xp6(6),l.Q6J("ngForOf",r.magias),l.xp6(6),l.Q6J("ngForOf",r.orientacaos),l.xp6(5),l.Q6J("ngForOf",r.orientacaos2),l.xp6(6),l.Q6J("ngForOf",r.funcaos),l.xp6(5),l.Q6J("ngForOf",r.equipamentos))},directives:[Kt,Mh,bh,Xa,iB,MD,aB,ql,vh,Qu,Bo,MB,Qn,$,Vg],styles:["body[_ngcontent-%COMP%]{background-color:#08083d!important}form[_ngcontent-%COMP%]{text-align:center}button[_ngcontent-%COMP%]{margin-right:2%}mat-form-field[_ngcontent-%COMP%]{margin-right:2%}.file-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:2%;display:block;position:relative;left:39%;width:20%;height:37px;border-radius:5px;background:#fe0177;box-shadow:0 2px 3px #25222266;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:500;cursor:pointer;transition:transform .2s ease-out}.file[_ngcontent-%COMP%]{opacity:0;width:.1px;height:.1px;position:absolute}.file-input[_ngcontent-%COMP%]:hover   label[_ngcontent-%COMP%]{background-color:#fd3fc4}input[_ngcontent-%COMP%]{color:#fff}"]}),n})();function j6(n,e){}class ak{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0}}const H6={dialogContainer:Wh("dialogContainer",[Qc("void, exit",zi({opacity:0,transform:"scale(0.7)"})),Qc("enter",zi({transform:"none"})),Xl("* => enter",Yc("150ms cubic-bezier(0, 0, 0.2, 1)",zi({transform:"none",opacity:1}))),Xl("* => void, * => exit",Yc("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",zi({opacity:0})))])};let G6=(()=>{class n extends ND{constructor(t,r,i,a,u,f,g,b){super(),this._elementRef=t,this._focusTrapFactory=r,this._changeDetectorRef=i,this._config=u,this._interactivityChecker=f,this._ngZone=g,this._focusMonitor=b,this._animationStateChanged=new l.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=T=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(T)),this._ariaLabelledBy=u.ariaLabelledBy||null,this._document=a}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{t.addEventListener("blur",()=>t.removeAttribute("tabindex")),t.addEventListener("mousedown",()=>t.removeAttribute("tabindex"))})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const r=Ey(),i=this._elementRef.nativeElement;(!r||r===this._document.body||r===i||i.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=Ey())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=Ey();return t===r||t.contains(r)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Vy),l.Y36(l.sBO),l.Y36(re,8),l.Y36(ak),l.Y36(Y0),l.Y36(l.R0b),l.Y36(lC))},n.\u0275dir=l.lG2({type:n,viewQuery:function(t,r){if(1&t&&l.Gf(FD,7),2&t){let i;l.iGM(i=l.CRH())&&(r._portalOutlet=i.first)}},features:[l.qOj]}),n})(),$6=(()=>{class n extends G6{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:r}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:r}))}_onAnimationStart({toState:t,totalTime:r}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,r){1&t&&l.WFA("@dialogContainer.start",function(a){return r._onAnimationStart(a)})("@dialogContainer.done",function(a){return r._onAnimationDone(a)}),2&t&&(l.Ikx("id",r._id),l.uIk("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),l.d8E("@dialogContainer",r._state))},features:[l.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&l.YNc(0,j6,0,0,"ng-template",0)},directives:[FD],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[H6.dialogContainer]}}),n})(),q6=0;class lk{constructor(e,t,r="mat-dialog-"+q6++){this._overlayRef=e,this._containerInstance=t,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Ot.x,this._afterClosed=new Ot.x,this._beforeClosed=new Ot.x,this._state=0,t._id=r,t._animationStateChanged.pipe(En(i=>"opened"===i.state),(0,dr.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(En(i=>"closed"===i.state),(0,dr.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(En(i=>27===i.keyCode&&!this.disableClose&&!fd(i))).subscribe(i=>{i.preventDefault(),ck(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():ck(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(En(t=>"closing"===t.state),(0,dr.q)(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function ck(n,e,t){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=e),n.close(t)}const z6=new l.OlP("MatDialogData"),Z6=new l.OlP("mat-dialog-default-options"),RB=new l.OlP("mat-dialog-scroll-strategy"),K6={provide:RB,deps:[Vd],useFactory:function W6(n){return()=>n.scrollStrategies.block()}};let Y6=(()=>{class n{constructor(t,r,i,a,u,f,g,b,T,A){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=a,this._overlayContainer=u,this._dialogRefConstructor=g,this._dialogContainerType=b,this._dialogDataToken=T,this._animationMode=A,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ot.x,this._afterOpenedAtThisLevel=new Ot.x,this._ariaHiddenElements=new Map,this._dialogAnimatingOpen=!1,this.afterAllClosed=ku(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ir(void 0))),this._scrollStrategy=f}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,r){if(r=function Q6(n,e){return Object.assign(Object.assign({},e),n)}(r,this._defaultOptions||new ak),r.id&&this.getDialogById(r.id),this._dialogAnimatingOpen)return this._lastDialogRef;const i=this._createOverlay(r),a=this._attachDialogContainer(i,r);if("NoopAnimations"!==this._animationMode){const f=a._animationStateChanged.subscribe(g=>{"opening"===g.state&&(this._dialogAnimatingOpen=!0),"opened"===g.state&&(this._dialogAnimatingOpen=!1,f.unsubscribe())});this._animationStateSubscriptions||(this._animationStateSubscriptions=new Br.w0),this._animationStateSubscriptions.add(f)}const u=this._attachDialogContent(t,a,i,r);return this._lastDialogRef=u,this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(u),u.afterClosed().subscribe(()=>this._removeOpenDialog(u)),this.afterOpened.next(u),a._initializeWithAttachedContent(),u}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._animationStateSubscriptions&&this._animationStateSubscriptions.unsubscribe()}_createOverlay(t){const r=this._getOverlayConfig(t);return this._overlay.create(r)}_getOverlayConfig(t){const r=new LD({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachDialogContainer(t,r){const a=l.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:ak,useValue:r}]}),u=new zb(this._dialogContainerType,r.viewContainerRef,a,r.componentFactoryResolver);return t.attach(u).instance}_attachDialogContent(t,r,i,a){const u=new this._dialogRefConstructor(i,r,a.id);if(t instanceof l.Rgc)r.attachTemplatePortal(new PD(t,null,{$implicit:a.data,dialogRef:u}));else{const f=this._createInjector(a,u,r),g=r.attachComponentPortal(new zb(t,a.viewContainerRef,f));u.componentInstance=g.instance}return u.updateSize(a.width,a.height).updatePosition(a.position),u}_createInjector(t,r,i){const a=t&&t.viewContainerRef&&t.viewContainerRef.injector,u=[{provide:this._dialogContainerType,useValue:i},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:r}];return t.direction&&(!a||!a.get(Zc,null,l.XFs.Optional))&&u.push({provide:Zc,useValue:{value:t.direction,change:ct()}}),l.zs3.create({parent:a||this._injector,providers:u})}_removeOpenDialog(t){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((i,a)=>{i?a.setAttribute("aria-hidden",i):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){let a=r[i];a!==t&&"SCRIPT"!==a.nodeName&&"STYLE"!==a.nodeName&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275dir=l.lG2({type:n}),n})(),BD=(()=>{class n extends Y6{constructor(t,r,i,a,u,f,g,b){super(t,r,a,f,g,u,lk,$6,z6,b)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Vd),l.LFG(l.zs3),l.LFG(Ie,8),l.LFG(Z6,8),l.LFG(RB),l.LFG(n,12),l.LFG(ik),l.LFG(eu,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),J6=0,kB=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this._elementRef=r,this._dialog=i,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=FB(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const r=t._matDialogClose||t._matDialogCloseResult;r&&(this.dialogResult=r.currentValue)}_onButtonClick(t){ck(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(lk,8),l.Y36(l.SBq),l.Y36(BD))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,r){1&t&&l.NdJ("click",function(a){return r._onButtonClick(a)}),2&t&&l.uIk("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[l.TTD]}),n})(),OB=(()=>{class n{constructor(t,r,i){this._dialogRef=t,this._elementRef=r,this._dialog=i,this.id="mat-dialog-title-"+J6++}ngOnInit(){this._dialogRef||(this._dialogRef=FB(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(lk,8),l.Y36(l.SBq),l.Y36(BD))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,r){2&t&&l.Ikx("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),PB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),NB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),n})();function FB(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-dialog-container");)t=t.parentElement;return t?e.find(r=>r.id===t.id):null}let X6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[BD,K6],imports:[[sk,nk,ir],ir]}),n})(),eZ=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-dialogo"]],decls:11,vars:1,consts:[["mat-dialog-title","",1,"dialogo"],[1,"dialogo"],["mat-button","","mat-dialog-close","",1,"dialogo"],["mat-button","",1,"dialogo",3,"mat-dialog-close"]],template:function(t,r){1&t&&(l.TgZ(0,"h2",0),l._uU(1,"Excluir personagem"),l.qZA(),l.TgZ(2,"mat-dialog-content")(3,"p",1),l._uU(4,"Realmente deseja excluir este personagem?"),l.qZA()(),l.TgZ(5,"mat-dialog-actions")(6,"button",2),l._uU(7,"Cancelar"),l.qZA(),l.TgZ(8,"a")(9,"button",3),l._uU(10,"Excluir"),l.qZA()()()),2&t&&(l.xp6(9),l.Q6J("mat-dialog-close",!0))},directives:[OB,PB,NB,Vg,kB],styles:["a[_ngcontent-%COMP%]{color:tomato}"]}),n})(),tZ=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-logout"]],decls:11,vars:1,consts:[["mat-dialog-title","",1,"dialogo"],[1,"dialogo"],["mat-button","","mat-dialog-close","",1,"dialogo"],["mat-button","",1,"dialogo",3,"mat-dialog-close"]],template:function(t,r){1&t&&(l.TgZ(0,"h2",0),l._uU(1,"Logout"),l.qZA(),l.TgZ(2,"mat-dialog-content")(3,"p",1),l._uU(4,"Deseja sair?"),l.qZA()(),l.TgZ(5,"mat-dialog-actions")(6,"button",2),l._uU(7,"Cancelar"),l.qZA(),l.TgZ(8,"a")(9,"button",3),l._uU(10,"Sair"),l.qZA()()()),2&t&&(l.xp6(9),l.Q6J("mat-dialog-close",!0))},directives:[OB,PB,NB,Vg,kB],styles:["a[_ngcontent-%COMP%]{color:orange}"]}),n})();const LB=new Set;let Bg,nZ=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):iZ}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function rZ(n){if(!LB.has(n))try{Bg||(Bg=document.createElement("style"),Bg.setAttribute("type","text/css"),document.head.appendChild(Bg)),Bg.sheet&&(Bg.sheet.insertRule(`@media ${n} {body{ }}`,0),LB.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ti))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function iZ(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let VB=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Ot.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return BB(qh(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let a=vl(BB(qh(t)).map(u=>this._registerQuery(u).observable));return a=Ts(a.pipe((0,dr.q)(1)),a.pipe(K0(1),gm(0))),a.pipe((0,Nt.U)(u=>{const f={matches:!1,breakpoints:{}};return u.forEach(({matches:g,query:b})=>{f.matches=f.matches||g,f.breakpoints[b]=g}),f}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),a={observable:new _n.y(u=>{const f=g=>this._zone.run(()=>u.next(g));return r.addListener(f),()=>{r.removeListener(f)}}).pipe(Ir(r),(0,Nt.U)(({matches:u})=>({query:t,matches:u})),zn(this._destroySubject)),mql:r};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(nZ),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function BB(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function oZ(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",2)(1,"button",3),l.NdJ("click",function(){return l.CHM(t),l.oxw().action()}),l._uU(2),l.qZA()()}if(2&n){const t=l.oxw();l.xp6(2),l.Oqu(t.data.action)}}function aZ(n,e){}const UB=new l.OlP("MatSnackBarData");class UD{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const lZ=Math.pow(2,31)-1;class uk{constructor(e,t){this._overlayRef=t,this._afterDismissed=new Ot.x,this._afterOpened=new Ot.x,this._onAction=new Ot.x,this._dismissedByAction=!1,this.containerInstance=e,this.onAction().subscribe(()=>this.dismiss()),e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,lZ))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let cZ=(()=>{class n{constructor(t,r){this.snackBarRef=t,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(uk),l.Y36(UB))},n.\u0275cmp=l.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"span",0),l._uU(1),l.qZA(),l.YNc(2,oZ,3,1,"div",1)),2&t&&(l.xp6(1),l.Oqu(r.data.message),l.xp6(1),l.Q6J("ngIf",r.hasAction))},directives:[Vg,Jn],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),n})();const uZ={snackBarState:Wh("state",[Qc("void, hidden",zi({transform:"scale(0.8)",opacity:0})),Qc("visible",zi({transform:"scale(1)",opacity:1})),Xl("* => visible",Yc("150ms cubic-bezier(0, 0, 0.2, 1)")),Xl("* => void, * => hidden",Yc("75ms cubic-bezier(0.4, 0.0, 1, 1)",zi({opacity:0})))])};let dZ=(()=>{class n extends ND{constructor(t,r,i,a,u){super(),this._ngZone=t,this._elementRef=r,this._changeDetectorRef=i,this._platform=a,this.snackBarConfig=u,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Ot.x,this._onExit=new Ot.x,this._onEnter=new Ot.x,this._animationState="void",this.attachDomPortal=f=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(f)),this._live="assertive"!==u.politeness||u.announcementMessage?"off"===u.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:r,toState:i}=t;if(("void"===i&&"void"!==r||"hidden"===i)&&this._completeExit(),"visible"===i){const a=this._onEnter;this._ngZone.run(()=>{a.next(),a.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,dr.q)(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(i=>t.classList.add(i)):t.classList.add(r)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&r){let i=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(i=document.activeElement),t.removeAttribute("aria-hidden"),r.appendChild(t),null==i||i.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.R0b),l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(ti),l.Y36(UD))},n.\u0275cmp=l.Xpm({type:n,selectors:[["snack-bar-container"]],viewQuery:function(t,r){if(1&t&&l.Gf(FD,7),2&t){let i;l.iGM(i=l.CRH())&&(r._portalOutlet=i.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,r){1&t&&l.WFA("@state.done",function(a){return r.onAnimationEnd(a)}),2&t&&l.d8E("@state",r._animationState)},features:[l.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l.YNc(1,aZ,0,0,"ng-template",1),l.qZA(),l._UZ(2,"div")),2&t&&(l.xp6(2),l.uIk("aria-live",r._live)("role",r._role))},directives:[FD],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[uZ.snackBarState]}}),n})(),jB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[sk,nk,Fa,xB,ir],ir]}),n})();const HB=new l.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function hZ(){return new UD}});let fZ=(()=>{class n{constructor(t,r,i,a,u,f){this._overlay=t,this._live=r,this._injector=i,this._breakpointObserver=a,this._parentSnackBar=u,this._defaultConfig=f,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,r){return this._attach(t,r)}openFromTemplate(t,r){return this._attach(t,r)}open(t,r="",i){const a=Object.assign(Object.assign({},this._defaultConfig),i);return a.data={message:t,action:r},a.announcementMessage===t&&(a.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,a)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,r){const a=l.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:UD,useValue:r}]}),u=new zb(this.snackBarContainerComponent,r.viewContainerRef,a),f=t.attach(u);return f.instance.snackBarConfig=r,f.instance}_attach(t,r){const i=Object.assign(Object.assign(Object.assign({},new UD),this._defaultConfig),r),a=this._createOverlay(i),u=this._attachSnackBarContainer(a,i),f=new uk(u,a);if(t instanceof l.Rgc){const g=new PD(t,null,{$implicit:i.data,snackBarRef:f});f.instance=u.attachTemplatePortal(g)}else{const g=this._createInjector(i,f),b=new zb(t,void 0,g),T=u.attachComponentPortal(b);f.instance=T.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(zn(a.detachments())).subscribe(g=>{a.overlayElement.classList.toggle(this.handsetCssClass,g.matches)}),i.announcementMessage&&u._onAnnounce.subscribe(()=>{this._live.announce(i.announcementMessage,i.politeness)}),this._animateSnackBar(f,i),this._openedSnackBarRef=f,this._openedSnackBarRef}_animateSnackBar(t,r){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),r.duration&&r.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(r.duration))}_createOverlay(t){const r=new LD;r.direction=t.direction;let i=this._overlay.position().global();const a="rtl"===t.direction,u="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!a||"end"===t.horizontalPosition&&a,f=!u&&"center"!==t.horizontalPosition;return u?i.left("0"):f?i.right("0"):i.centerHorizontally(),"top"===t.verticalPosition?i.top("0"):i.bottom("0"),r.positionStrategy=i,this._overlay.create(r)}_createInjector(t,r){return l.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:uk,useValue:r},{provide:UB,useValue:t.data}]})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Vd),l.LFG(aC),l.LFG(l.zs3),l.LFG(VB),l.LFG(n,12),l.LFG(HB))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),pZ=(()=>{class n extends fZ{constructor(t,r,i,a,u,f){super(t,r,i,a,u,f),this.simpleSnackBarComponent=cZ,this.snackBarContainerComponent=dZ,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Vd),l.LFG(aC),l.LFG(l.zs3),l.LFG(VB),l.LFG(n,12),l.LFG(HB))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:jB}),n})();function mZ(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tr")(1,"td"),l._UZ(2,"img",5),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.qZA(),l.TgZ(9,"td"),l._uU(10),l.qZA(),l.TgZ(11,"td"),l._uU(12),l.qZA(),l.TgZ(13,"td"),l._uU(14),l.qZA(),l.TgZ(15,"td"),l._uU(16),l.qZA(),l.TgZ(17,"td"),l._uU(18),l.qZA(),l.TgZ(19,"td")(20,"button",6),l.NdJ("click",function(){const a=l.CHM(t).$implicit;return l.oxw().editar(a)}),l._uU(21," Editar "),l.qZA(),l.TgZ(22,"button",7),l.NdJ("click",function(){const a=l.CHM(t).$implicit;return l.oxw().excluir(a)}),l._uU(23," Excluir "),l.qZA()()()}if(2&n){const t=e.$implicit;l.xp6(2),l.s9C("src",t.downloadURL,l.LSH),l.xp6(2),l.Oqu(t.nome),l.xp6(2),l.Oqu(t.funcao),l.xp6(2),l.Oqu(t.principal),l.xp6(2),l.Oqu(t.secundaria),l.xp6(2),l.Oqu(t.magia),l.xp6(2),l.Oqu(t.orientacao),l.xp6(2),l.Oqu(t.orientacao2),l.xp6(2),l.Oqu(t.equipamento)}}let gZ=(()=>{class n{constructor(t,r,i,a,u){this._router=t,this._personagemService=r,this.dialog=i,this._snackBar=a,this.userService=u,this.lista_personagens=[]}ngOnInit(){this._personagemService.getPersonagems().subscribe(t=>{this.lista_personagens=t.map(r=>Object.assign({id:r.payload.doc.id},r.payload.doc.data()))})}excluir(t){this.dialog.open(eZ,{width:"250px"}).afterClosed().subscribe(i=>{i&&this._personagemService.deletarPersonagem(t).then(()=>{this._snackBar.open("Personagem exclu\xeddo","Fechar",{duration:1e3,panelClass:["blue-snackbar"]})}).catch(()=>{this._snackBar.open("Deu ruim","Fechar",{duration:1e3,panelClass:["blue-snack"]})})})}editar(t){this._router.navigate(["/editarPersonagens",t.id])}irParaCriarPersonagem(){this._router.navigate(["/criarPersonagem"])}logout(){this.dialog.open(tZ,{width:"250px"}).afterClosed().subscribe(r=>{r&&this.userService.logout().then(()=>{this._router.navigate(["/login"])}).catch(()=>{alert("Deu errado")})})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(br),l.Y36(YR),l.Y36(BD),l.Y36(pZ),l.Y36(cd))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-listar"]],decls:33,vars:1,consts:[["color","primary"],["mat-raised-button","","color","accent","id","logout",3,"click"],["mat-fab","","color","accent","id","criar",3,"click"],["id","imagem"],[4,"ngFor","ngForOf"],[3,"src"],["mat-fab","","color","accent",3,"click"],["mat-fab","","color","warn",3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"body")(1,"mat-toolbar",0)(2,"span"),l._uU(3,"Ideias de Personagens"),l.qZA(),l.TgZ(4,"a")(5,"button",1),l.NdJ("click",function(){return r.logout()}),l._uU(6," logout "),l.qZA()(),l.TgZ(7,"a")(8,"button",2),l.NdJ("click",function(){return r.irParaCriarPersonagem()}),l._uU(9," Criar "),l.qZA()()(),l.TgZ(10,"table")(11,"tr")(12,"th",3),l._uU(13,"Imagem"),l.qZA(),l.TgZ(14,"th"),l._uU(15,"Nome"),l.qZA(),l.TgZ(16,"th"),l._uU(17,"Fun\xe7\xe3o"),l.qZA(),l.TgZ(18,"th"),l._uU(19,"Prim\xe1ria"),l.qZA(),l.TgZ(20,"th"),l._uU(21,"Secundaria"),l.qZA(),l.TgZ(22,"th"),l._uU(23,"Magia"),l.qZA(),l.TgZ(24,"th"),l._uU(25,"Orienta\xe7\xe3o"),l.qZA(),l.TgZ(26,"th"),l._uU(27,"Orienta\xe7\xe3o 2"),l.qZA(),l.TgZ(28,"th"),l._uU(29,"Equipamento"),l.qZA(),l.TgZ(30,"th"),l._uU(31,"Opera\xe7\xe3o"),l.qZA()(),l.YNc(32,mZ,24,9,"tr",4),l.qZA()()),2&t&&(l.xp6(32),l.Q6J("ngForOf",r.lista_personagens))},directives:[Kt,Vg,Qn],styles:["body[_ngcontent-%COMP%]{background-image:url(https://www.htmlcsscolor.com/preview/gallery/01015F.png);background-repeat:repeat}table[_ngcontent-%COMP%]{font-size:large;width:100%;background-color:#3b3b3b;border-style:inset;border-color:purple;border-width:10px}img[_ngcontent-%COMP%]{width:50%}#imagem[_ngcontent-%COMP%]{width:20%}td[_ngcontent-%COMP%]{color:#adff2f;text-align:center;border:10px solid #ffffff;border-style:inset}th[_ngcontent-%COMP%]{color:plum;font-family:Lucida Sans;text-align:center;border:10px solid crimson;border-style:inset}#criar[_ngcontent-%COMP%]{margin-left:120px}#logout[_ngcontent-%COMP%]{margin-left:1000px}"]}),n})();const _Z=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],yZ=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let vZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),bZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:yZ,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,r){1&t&&(l.F$t(_Z),l.Hsn(0),l.TgZ(1,"div",0),l.Hsn(2,1),l.qZA(),l.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),wZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ir],ir]}),n})();function CZ(n,e){1&n&&(l.TgZ(0,"small",11),l._uU(1,"O email \xe9 obrigat\xf3rio! "),l.qZA())}function EZ(n,e){1&n&&(l.TgZ(0,"small",11),l._uU(1,"Email inv\xe1lido!"),l.qZA())}function DZ(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,CZ,2,0,"small",10),l.YNc(2,EZ,2,0,"small",10),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.formLogin.controls.email.hasError("required")),l.xp6(1),l.Q6J("ngIf",t.formLogin.controls.email.hasError("email"))}}function TZ(n,e){1&n&&(l.TgZ(0,"small",11),l._uU(1,"A senha \xe9 obirgat\xf3ria!"),l.qZA())}function SZ(n,e){1&n&&(l.TgZ(0,"small",11),l._uU(1,"Senha pequena demais!"),l.qZA())}function IZ(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,TZ,2,0,"small",10),l.YNc(2,SZ,2,0,"small",10),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.formLogin.controls.password.hasError("required")),l.xp6(1),l.Q6J("ngIf",t.formLogin.controls.password.hasError("minlength"))}}let AZ=(()=>{class n{constructor(t,r,i){this._router=t,this._usuarioService=r,this._formBuilder=i,this.storage=window.localStorage,this.formLogin=this._formBuilder.group({email:["",[en.required,en.email]],password:["",[en.required,en.minLength(6)]]})}ngOnInit(){"autenticado"==this._usuarioService.storage.getItem("condicao")&&this._router.navigate(["/listaDePersonagens"])}validarFormulario(){for(let t in this.formLogin.controls)this.formLogin.controls[t].markAsTouched()}submitForm(){this.validarFormulario(),this.formLogin.valid&&this.logarComEmailSenha()}logarComEmailSenha(){this._usuarioService.loginComEmailSenha(this.formLogin.controls.email.value,this.formLogin.controls.password.value).then(()=>{alert("Login efetuado com sucesso!"),this._router.navigate(["/listaDePersonagens"])}).catch(t=>{alert("Deu ruim"),console.log(t)})}logarComGoogleCount(){this._usuarioService.loginComGoogleCount().then(()=>{alert("Login efetuado com sucesso!"),this._router.navigate(["/listaDePersonagens"])}).catch(t=>{alert("Deu ruim"),console.log(t)})}logarComFacebook(){this._usuarioService.loginComFacebook().then(()=>{alert("Login efetuado com sucesso!"),this._router.navigate(["/listaDePersonagens"])}).catch(t=>{alert("Deu ruim"),console.log(t)})}logarComGithub(){this._usuarioService.loginComGithub().then(()=>{alert("Login efetuado com sucesso!"),this._router.navigate(["/listaDePersonagens"])}).catch(t=>{alert("Deu ruim"),console.log(t)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(br),l.Y36(cd),l.Y36(Bp))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-login"]],decls:29,vars:3,consts:[["color","primary"],[3,"formGroup","ngSubmit"],["text","text","formControlName","email","required",""],[4,"ngIf"],["type","password","formControlName","password","required",""],["type","submit"],[2,"background-color","aqua",3,"click"],[2,"background-color","blue",3,"click"],[2,"background-color","black","color","white",3,"click"],["routerLink","/cadastro"],["style","color: pink",4,"ngIf"],[2,"color","pink"]],template:function(t,r){1&t&&(l.TgZ(0,"body")(1,"mat-toolbar",0),l._uU(2,"Login"),l.qZA(),l.TgZ(3,"form",1),l.NdJ("ngSubmit",function(){return r.submitForm()}),l.TgZ(4,"mat-card-header")(5,"mat-card-title"),l._uU(6,"Email"),l.qZA()(),l._UZ(7,"input",2)(8,"br"),l.YNc(9,DZ,3,2,"div",3),l.TgZ(10,"mat-card-header")(11,"mat-card-title"),l._uU(12,"Senha"),l.qZA()(),l._UZ(13,"input",4)(14,"br"),l.YNc(15,IZ,3,2,"div",3),l.TgZ(16,"button",5),l._uU(17,"Login"),l.qZA()(),l.TgZ(18,"button",6),l.NdJ("click",function(){return r.logarComGoogleCount()}),l._uU(19,"Logar com Conta Google"),l.qZA(),l._UZ(20,"br"),l.TgZ(21,"button",7),l.NdJ("click",function(){return r.logarComFacebook()}),l._uU(22,"Logar com Facebook"),l.qZA(),l._UZ(23,"br"),l.TgZ(24,"button",8),l.NdJ("click",function(){return r.logarComGithub()}),l._uU(25,"Logar com Github"),l.qZA(),l._UZ(26,"br"),l.TgZ(27,"a",9),l._uU(28,"N\xe3o tem cadastro? Clique aqui"),l.qZA()()),2&t&&(l.xp6(3),l.Q6J("formGroup",r.formLogin),l.xp6(6),l.Q6J("ngIf",r.formLogin.controls.email.touched),l.xp6(6),l.Q6J("ngIf",r.formLogin.controls.password.touched))},directives:[Kt,Mh,bh,Xa,bZ,vZ,ql,vh,Qu,Bo,Jn,gp],styles:["body[_ngcontent-%COMP%]{background-color:#db7093}"]}),n})(),dk=(()=>{class n{constructor(t,r){this.router=t,this.authService=r}canActivate(t,r){return"autenticado"==this.authService.storage.getItem("condicao")||(this.router.navigate(["/login"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(br),l.LFG(cd))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const MZ=[{path:"listaDePersonagens",component:gZ,canActivate:[dk]},{path:"criarPersonagem",component:k6,canActivate:[dk]},{path:"editarPersonagens/:indice",component:U6,canActivate:[dk]},{path:"login",component:AZ},{path:"cadastro",component:w2},{path:"**",redirectTo:"/login"},{path:"",redirectTo:"/login",pathMatch:"full"}];let xZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ww.forRoot(MZ)],ww]}),n})(),RZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},directives:[qu],styles:["body[_ngcontent-%COMP%]{background-repeat:repeat}table[_ngcontent-%COMP%]{font-size:large;width:100%;background-color:#3b3b3b}td[_ngcontent-%COMP%]{color:#adff2f;text-align:center;border:1px solid #FFFFFF}th[_ngcontent-%COMP%]{color:plum;font-family:Lucida Sans;text-align:center;border:1px solid #FFFFFF}"]}),n})(),zZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ek]]}),n})(),c8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[zZ,ir],ir]}),n})(),d8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[ir],ir]}),n})();const XB_firebaseConfig={apiKey:"AIzaSyAQc65lmWgHFXyslApnZ6ZKAESQBdEaL6w",authDomain:"crud-rpg.firebaseapp.com",projectId:"crud-rpg",storageBucket:"crud-rpg.appspot.com",messagingSenderId:"846634721280",appId:"1:846634721280:web:6823e988c44efb59c838e5"};let h8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[RZ]}),n.\u0275inj=l.cJS({providers:[cd],imports:[[c8,ZT,Gc,Ns,_6,xD,mz,Ys,xZ,XC,xB,d8,qi.hO.initializeApp(XB_firebaseConfig),UG,Aq,V0,jB,X6,wZ]]}),n})();(0,l.G48)(),ja().bootstrapModule(h8).catch(n=>console.error(n))},5867:(ut,Se,P)=>{P.d(Se,{Mq:()=>l.getApp,C6:()=>l.getApps});var l=P(9681);(0,l.registerVersion)("firebase","9.6.10","app")},127:(ut,Se,P)=>{P.d(Se,{Z:()=>l.Z});var l=P(3942);l.Z.registerVersion("firebase","9.6.10","app-compat")},5881:(ut,Se,P)=>{P.r(Se);var l=P(5861),G=P(3942),k=P(424),oe=P(2090),re=(P(9681),P(1877),P(4859));function ue(){return window}function z(){return(z=(0,l.Z)(function*(N,V,j){var le;const{BuildInfo:Be}=ue();(0,k.ap)(V.sessionId,"AuthEvent did not contain a session ID");const ze=yield De(V.sessionId),Tt={};return(0,k.aq)()?Tt.ibi=Be.packageName:(0,k.ar)()?Tt.apn=Be.packageName:(0,k.as)(N,"operation-not-supported-in-this-environment"),Be.displayName&&(Tt.appDisplayName=Be.displayName),Tt.sessionId=ze,(0,k.at)(N,j,V.type,void 0,null!==(le=V.eventId)&&void 0!==le?le:void 0,Tt)})).apply(this,arguments)}function Ge(){return(Ge=(0,l.Z)(function*(N){const{BuildInfo:V}=ue(),j={};(0,k.aq)()?j.iosBundleId=V.packageName:(0,k.ar)()?j.androidPackageName=V.packageName:(0,k.as)(N,"operation-not-supported-in-this-environment"),yield(0,k.au)(N,j)})).apply(this,arguments)}function Le(){return(Le=(0,l.Z)(function*(N,V,j){const{cordova:le}=ue();let Be=()=>{};try{yield new Promise((ze,Tt)=>{let rt=null;function Rt(){var Yt;ze();const Pr=null===(Yt=le.plugins.browsertab)||void 0===Yt?void 0:Yt.close;"function"==typeof Pr&&Pr(),"function"==typeof(null==j?void 0:j.close)&&j.close()}function In(){rt||(rt=window.setTimeout(()=>{Tt((0,k.av)(N,"redirect-cancelled-by-user"))},2e3))}function lr(){"visible"===(null==document?void 0:document.visibilityState)&&In()}V.addPassiveListener(Rt),document.addEventListener("resume",In,!1),(0,k.ar)()&&document.addEventListener("visibilitychange",lr,!1),Be=()=>{V.removePassiveListener(Rt),document.removeEventListener("resume",In,!1),document.removeEventListener("visibilitychange",lr,!1),rt&&window.clearTimeout(rt)}})}finally{Be()}})).apply(this,arguments)}function De(N){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,l.Z)(function*(N){const V=He(N),j=yield crypto.subtle.digest("SHA-256",V);return Array.from(new Uint8Array(j)).map(Be=>Be.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function He(N){if((0,k.ap)(/[0-9a-zA-Z]+/.test(N),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(N);const V=new ArrayBuffer(N.length),j=new Uint8Array(V);for(let le=0;le<N.length;le++)j[le]=N.charCodeAt(le);return j}class Ie extends k.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(V=>{this.resolveInialized=V})}addPassiveListener(V){this.passiveListeners.add(V)}removePassiveListener(V){this.passiveListeners.delete(V)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(V){return this.resolveInialized(),this.passiveListeners.forEach(j=>j(V)),super.onEvent(V)}initialized(){var V=this;return(0,l.Z)(function*(){yield V.initPromise})()}}function ne(N){return Je.apply(this,arguments)}function Je(){return(Je=(0,l.Z)(function*(N){const V=yield ce()._get(me(N));return V&&(yield ce()._remove(me(N))),V})).apply(this,arguments)}function he(){const N=[],V="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let j=0;j<20;j++){const le=Math.floor(Math.random()*V.length);N.push(V.charAt(le))}return N.join("")}function ce(){return(0,k.ax)(k.b)}function me(N){return(0,k.ay)("authEvent",N.config.apiKey,N.name)}function It(N){if(!(null==N?void 0:N.includes("?")))return{};const[V,...j]=N.split("?");return(0,oe.zd)(j.join("?"))}function mt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,k.av)("no-auth-event")}}function Jt(){var N;return(null===(N=null==self?void 0:self.location)||void 0===N?void 0:N.protocol)||null}function Pn(N=(0,oe.z$)()){return!("file:"!==Jt()&&"ionic:"!==Jt()||!N.toLowerCase().match(/iphone|ipad|ipod|android/))}function _i(){try{const N=self.localStorage,V=k.aG();if(N)return N.setItem(V,"1"),N.removeItem(V),!function es(N=(0,oe.z$)()){return function kr(){return(0,oe.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Er(N=(0,oe.z$)()){return/Edge\/\d+/.test(N)}(N)}()||(0,oe.hl)()}catch(N){return mr()&&(0,oe.hl)()}return!1}function mr(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Dr(){return(function rn(){return"http:"===Jt()||"https:"===Jt()}()||(0,oe.ru)()||Pn())&&!function pr(){return(0,oe.b$)()||(0,oe.UG)()}()&&_i()&&!mr()}function gs(){return Pn()&&"undefined"!=typeof document}function Or(){return(Or=(0,l.Z)(function*(){return!!gs()&&new Promise(N=>{const V=setTimeout(()=>{N(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(V),N(!0)})})})).apply(this,arguments)}const on={LOCAL:"local",NONE:"none",SESSION:"session"},Zn=k.aw,yi="persistence";function Nn(N){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,l.Z)(function*(N){yield N._initializationPromise;const V=qt(),j=k.ay(yi,N.config.apiKey,N.name);V&&V.setItem(j,N._getPersistence())})).apply(this,arguments)}function qt(){var N;try{return(null===(N=function Ln(){return"undefined"!=typeof window?window:null}())||void 0===N?void 0:N.sessionStorage)||null}catch(V){return null}}const ft=k.aw;class it{constructor(){this.browserResolver=k.ax(k.k),this.cordovaResolver=k.ax(class Fn{constructor(){this._redirectPersistence=k.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=k.aA}_initialize(V){var j=this;return(0,l.Z)(function*(){const le=V._key();let Be=j.eventManagers.get(le);return Be||(Be=new Ie(V),j.eventManagers.set(le,Be),j.attachCallbackListeners(V,Be)),Be})()}_openPopup(V){(0,k.as)(V,"operation-not-supported-in-this-environment")}_openRedirect(V,j,le,Be){var ze=this;return(0,l.Z)(function*(){!function _e(N){var V,j,le,Be,ze,Tt,rt,Rt,In,lr;const Yt=ue();(0,k.aw)("function"==typeof(null===(V=null==Yt?void 0:Yt.universalLinks)||void 0===V?void 0:V.subscribe),N,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,k.aw)(void 0!==(null===(j=null==Yt?void 0:Yt.BuildInfo)||void 0===j?void 0:j.packageName),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,k.aw)("function"==typeof(null===(ze=null===(Be=null===(le=null==Yt?void 0:Yt.cordova)||void 0===le?void 0:le.plugins)||void 0===Be?void 0:Be.browsertab)||void 0===ze?void 0:ze.openUrl),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.aw)("function"==typeof(null===(Rt=null===(rt=null===(Tt=null==Yt?void 0:Yt.cordova)||void 0===Tt?void 0:Tt.plugins)||void 0===rt?void 0:rt.browsertab)||void 0===Rt?void 0:Rt.isAvailable),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.aw)("function"==typeof(null===(lr=null===(In=null==Yt?void 0:Yt.cordova)||void 0===In?void 0:In.InAppBrowser)||void 0===lr?void 0:lr.open),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(V);const Tt=yield ze._initialize(V);yield Tt.initialized(),Tt.resetRedirect(),(0,k.aB)(),yield ze._originValidation(V);const rt=function Ee(N,V,j=null){return{type:V,eventId:j,urlResponse:null,sessionId:he(),postBody:null,tenantId:N.tenantId,error:(0,k.av)(N,"no-auth-event")}}(V,le,Be);yield function We(N,V){return ce()._set(me(N),V)}(V,rt);const Rt=yield function Z(N,V,j){return z.apply(this,arguments)}(V,rt,j),In=yield function ke(N){const{cordova:V}=ue();return new Promise(j=>{V.plugins.browsertab.isAvailable(le=>{let Be=null;le?V.plugins.browsertab.openUrl(N):Be=V.InAppBrowser.open(N,(0,k.ao)()?"_blank":"_system","location=yes"),j(Be)})})}(Rt);return function Ne(N,V,j){return Le.apply(this,arguments)}(V,Tt,In)})()}_isIframeWebStorageSupported(V,j){throw new Error("Method not implemented.")}_originValidation(V){const j=V._key();return this.originValidationPromises[j]||(this.originValidationPromises[j]=function te(N){return Ge.apply(this,arguments)}(V)),this.originValidationPromises[j]}attachCallbackListeners(V,j){const{universalLinks:le,handleOpenURL:Be,BuildInfo:ze}=ue(),Tt=setTimeout((0,l.Z)(function*(){yield ne(V),j.onEvent(mt())}),500),rt=function(){var lr=(0,l.Z)(function*(Yt){clearTimeout(Tt);const Pr=yield ne(V);let Li=null;Pr&&(null==Yt?void 0:Yt.url)&&(Li=function Y(N,V){var j,le;const Be=function ae(N){const V=It(N),j=V.link?decodeURIComponent(V.link):void 0,le=It(j).link,Be=V.deep_link_id?decodeURIComponent(V.deep_link_id):void 0;return It(Be).link||Be||le||j||N}(V);if(Be.includes("/__/auth/callback")){const ze=It(Be),Tt=ze.firebaseError?function Pe(N){try{return JSON.parse(N)}catch(V){return null}}(decodeURIComponent(ze.firebaseError)):null,rt=null===(le=null===(j=null==Tt?void 0:Tt.code)||void 0===j?void 0:j.split("auth/"))||void 0===le?void 0:le[1],Rt=rt?(0,k.av)(rt):null;return Rt?{type:N.type,eventId:N.eventId,tenantId:N.tenantId,error:Rt,urlResponse:null,sessionId:null,postBody:null}:{type:N.type,eventId:N.eventId,tenantId:N.tenantId,sessionId:N.sessionId,urlResponse:Be,postBody:null}}return null}(Pr,Yt.url)),j.onEvent(Li||mt())});return function(Pr){return lr.apply(this,arguments)}}();void 0!==le&&"function"==typeof le.subscribe&&le.subscribe(null,rt);const Rt=Be,In=`${ze.packageName.toLowerCase()}://`;ue().handleOpenURL=function(){var lr=(0,l.Z)(function*(Yt){if(Yt.toLowerCase().startsWith(In)&&rt({url:Yt}),"function"==typeof Rt)try{Rt(Yt)}catch(Pr){console.error(Pr)}});return function(Yt){return lr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=k.a,this._completeRedirectFn=k.aA}_initialize(V){var j=this;return(0,l.Z)(function*(){return yield j.selectUnderlyingResolver(),j.assertedUnderlyingResolver._initialize(V)})()}_openPopup(V,j,le,Be){var ze=this;return(0,l.Z)(function*(){return yield ze.selectUnderlyingResolver(),ze.assertedUnderlyingResolver._openPopup(V,j,le,Be)})()}_openRedirect(V,j,le,Be){var ze=this;return(0,l.Z)(function*(){return yield ze.selectUnderlyingResolver(),ze.assertedUnderlyingResolver._openRedirect(V,j,le,Be)})()}_isIframeWebStorageSupported(V,j){this.assertedUnderlyingResolver._isIframeWebStorageSupported(V,j)}_originValidation(V){return this.assertedUnderlyingResolver._originValidation(V)}get _shouldInitProactively(){return gs()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ft(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var V=this;return(0,l.Z)(function*(){if(V.underlyingResolver)return;const j=yield function _t(){return Or.apply(this,arguments)}();V.underlyingResolver=j?V.cordovaResolver:V.browserResolver})()}}function ai(N){return N.unwrap()}function Zt(N){return Bn(N)}function Bn(N){const{_tokenResponse:V}=N instanceof oe.ZR?N.customData:N;if(!V)return null;if(!(N instanceof oe.ZR)&&"temporaryProof"in V&&"phoneNumber"in V)return k.P.credentialFromResult(N);const j=V.providerId;if(!j||j===k.o.PASSWORD)return null;let le;switch(j){case k.o.GOOGLE:le=k.N;break;case k.o.FACEBOOK:le=k.M;break;case k.o.GITHUB:le=k.Q;break;case k.o.TWITTER:le=k.V;break;default:const{oauthIdToken:Be,oauthAccessToken:ze,oauthTokenSecret:Tt,pendingToken:rt,nonce:Rt}=V;return ze||Tt||Be||rt?rt?j.startsWith("saml.")?k.aJ._create(j,rt):k.I._fromParams({providerId:j,signInMethod:j,pendingToken:rt,idToken:Be,accessToken:ze}):new k.T(j).credential({idToken:Be,accessToken:ze,rawNonce:Rt}):null}return N instanceof oe.ZR?le.credentialFromError(N):le.credentialFromResult(N)}function an(N,V){return V.catch(j=>{throw j instanceof oe.ZR&&function ns(N,V){var j;const le=null===(j=V.customData)||void 0===j?void 0:j._tokenResponse;if("auth/multi-factor-auth-required"===V.code)V.resolver=new Wt(N,k.am(N,V));else if(le){const Be=Bn(V),ze=V;Be&&(ze.credential=Be,ze.tenantId=le.tenantId||void 0,ze.email=le.email||void 0,ze.phoneNumber=le.phoneNumber||void 0)}}(N,j),j}).then(j=>{const Be=j.user;return{operationType:j.operationType,credential:Zt(j),additionalUserInfo:k.ak(j),user:$e.getOrCreate(Be)}})}function vt(N,V){return Un.apply(this,arguments)}function Un(){return(Un=(0,l.Z)(function*(N,V){const j=yield V;return{verificationId:j.verificationId,confirm:le=>an(N,j.confirm(le))}})).apply(this,arguments)}class Wt{constructor(V,j){this.resolver=j,this.auth=function ts(N){return N.wrapped()}(V)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(V){return an(ai(this.auth),this.resolver.resolveSignIn(V))}}class $e{constructor(V){this._delegate=V,this.multiFactor=k.an(V)}static getOrCreate(V){return $e.USER_MAP.has(V)||$e.USER_MAP.set(V,new $e(V)),$e.USER_MAP.get(V)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(V){return this._delegate.getIdTokenResult(V)}getIdToken(V){return this._delegate.getIdToken(V)}linkAndRetrieveDataWithCredential(V){return this.linkWithCredential(V)}linkWithCredential(V){var j=this;return(0,l.Z)(function*(){return an(j.auth,k.Y(j._delegate,V))})()}linkWithPhoneNumber(V,j){var le=this;return(0,l.Z)(function*(){return vt(le.auth,k.l(le._delegate,V,j))})()}linkWithPopup(V){var j=this;return(0,l.Z)(function*(){return an(j.auth,k.d(j._delegate,V,it))})()}linkWithRedirect(V){var j=this;return(0,l.Z)(function*(){return yield Nn(k.aC(j.auth)),k.g(j._delegate,V,it)})()}reauthenticateAndRetrieveDataWithCredential(V){return this.reauthenticateWithCredential(V)}reauthenticateWithCredential(V){var j=this;return(0,l.Z)(function*(){return an(j.auth,k.Z(j._delegate,V))})()}reauthenticateWithPhoneNumber(V,j){return vt(this.auth,k.r(this._delegate,V,j))}reauthenticateWithPopup(V){return an(this.auth,k.e(this._delegate,V,it))}reauthenticateWithRedirect(V){var j=this;return(0,l.Z)(function*(){return yield Nn(k.aC(j.auth)),k.h(j._delegate,V,it)})()}sendEmailVerification(V){return k.aa(this._delegate,V)}unlink(V){var j=this;return(0,l.Z)(function*(){return yield k.aj(j._delegate,V),j})()}updateEmail(V){return k.af(this._delegate,V)}updatePassword(V){return k.ag(this._delegate,V)}updatePhoneNumber(V){return k.u(this._delegate,V)}updateProfile(V){return k.ae(this._delegate,V)}verifyBeforeUpdateEmail(V,j){return k.ab(this._delegate,V,j)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}$e.USER_MAP=new WeakMap;const Te=k.aw;let et=(()=>{class N{constructor(j,le){if(this.app=j,le.isInitialized())return this._delegate=le.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Be}=j.options;Te(Be,"invalid-api-key",{appName:j.name}),Te(Be,"invalid-api-key",{appName:j.name});const ze="undefined"!=typeof window?it:void 0;this._delegate=le.initialize({options:{persistence:Vt(Be,j.name),popupRedirectResolver:ze}}),this._delegate._updateErrorMap(k.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?$e.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(j){this._delegate.languageCode=j}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(j){this._delegate.tenantId=j}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(j,le){k.E(this._delegate,j,le)}applyActionCode(j){return k.a1(this._delegate,j)}checkActionCode(j){return k.a2(this._delegate,j)}confirmPasswordReset(j,le){return k.a0(this._delegate,j,le)}createUserWithEmailAndPassword(j,le){var Be=this;return(0,l.Z)(function*(){return an(Be._delegate,k.a4(Be._delegate,j,le))})()}fetchProvidersForEmail(j){return this.fetchSignInMethodsForEmail(j)}fetchSignInMethodsForEmail(j){return k.a9(this._delegate,j)}isSignInWithEmailLink(j){return k.a7(this._delegate,j)}getRedirectResult(){var j=this;return(0,l.Z)(function*(){Te(Dr(),j._delegate,"operation-not-supported-in-this-environment");const le=yield k.j(j._delegate,it);return le?an(j._delegate,Promise.resolve(le)):{credential:null,user:null}})()}addFrameworkForLogging(j){!function hn(N,V){(0,k.aC)(N)._logFramework(V)}(this._delegate,j)}onAuthStateChanged(j,le,Be){const{next:ze,error:Tt,complete:rt}=pt(j,le,Be);return this._delegate.onAuthStateChanged(ze,Tt,rt)}onIdTokenChanged(j,le,Be){const{next:ze,error:Tt,complete:rt}=pt(j,le,Be);return this._delegate.onIdTokenChanged(ze,Tt,rt)}sendSignInLinkToEmail(j,le){return k.a6(this._delegate,j,le)}sendPasswordResetEmail(j,le){return k.$(this._delegate,j,le||void 0)}setPersistence(j){var le=this;return(0,l.Z)(function*(){let Be;switch(function Vn(N,V){Zn(Object.values(on).includes(V),N,"invalid-persistence-type"),(0,oe.b$)()?Zn(V!==on.SESSION,N,"unsupported-persistence-type"):(0,oe.UG)()?Zn(V===on.NONE,N,"unsupported-persistence-type"):mr()?Zn(V===on.NONE||V===on.LOCAL&&(0,oe.hl)(),N,"unsupported-persistence-type"):Zn(V===on.NONE||_i(),N,"unsupported-persistence-type")}(le._delegate,j),j){case on.SESSION:Be=k.a;break;case on.LOCAL:Be=(yield k.ax(k.i)._isAvailable())?k.i:k.b;break;case on.NONE:Be=k.K;break;default:return k.as("argument-error",{appName:le._delegate.name})}return le._delegate.setPersistence(Be)})()}signInAndRetrieveDataWithCredential(j){return this.signInWithCredential(j)}signInAnonymously(){return an(this._delegate,k.W(this._delegate))}signInWithCredential(j){return an(this._delegate,k.X(this._delegate,j))}signInWithCustomToken(j){return an(this._delegate,k._(this._delegate,j))}signInWithEmailAndPassword(j,le){return an(this._delegate,k.a5(this._delegate,j,le))}signInWithEmailLink(j,le){return an(this._delegate,k.a8(this._delegate,j,le))}signInWithPhoneNumber(j,le){return vt(this._delegate,k.s(this._delegate,j,le))}signInWithPopup(j){var le=this;return(0,l.Z)(function*(){return Te(Dr(),le._delegate,"operation-not-supported-in-this-environment"),an(le._delegate,k.c(le._delegate,j,it))})()}signInWithRedirect(j){var le=this;return(0,l.Z)(function*(){return Te(Dr(),le._delegate,"operation-not-supported-in-this-environment"),yield Nn(le._delegate),k.f(le._delegate,j,it)})()}updateCurrentUser(j){return this._delegate.updateCurrentUser(j)}verifyPasswordResetCode(j){return k.a3(this._delegate,j)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return N.Persistence=on,N})();function pt(N,V,j){let le=N;"function"!=typeof N&&({next:le,error:V,complete:j}=N);const Be=le;return{next:Tt=>Be(Tt&&$e.getOrCreate(Tt)),error:V,complete:j}}function Vt(N,V){const j=function yo(N,V){const j=qt();if(!j)return[];const le=k.ay(yi,N,V);switch(j.getItem(le)){case on.NONE:return[k.K];case on.LOCAL:return[k.i,k.a];case on.SESSION:return[k.a];default:return[]}}(N,V);if("undefined"!=typeof self&&!j.includes(k.i)&&j.push(k.i),"undefined"!=typeof window)for(const le of[k.b,k.a])j.includes(le)||j.push(le);return j.includes(k.K)||j.push(k.K),j}class Bt{constructor(){this.providerId="phone",this._delegate=new k.P(ai(G.Z.auth()))}static credential(V,j){return k.P.credential(V,j)}verifyPhoneNumber(V,j){return this._delegate.verifyPhoneNumber(V,j)}unwrap(){return this._delegate}}Bt.PHONE_SIGN_IN_METHOD=k.P.PHONE_SIGN_IN_METHOD,Bt.PROVIDER_ID=k.P.PROVIDER_ID;const W=k.aw;class U{constructor(V,j,le=G.Z.app()){var Be;W(null===(Be=le.options)||void 0===Be?void 0:Be.apiKey,"invalid-api-key",{appName:le.name}),this._delegate=new k.R(V,j,le.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function fe(N){N.INTERNAL.registerComponent(new re.wA("auth-compat",V=>{const j=V.getProvider("app-compat").getImmediate(),le=V.getProvider("auth");return new et(j,le)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:k.A.EMAIL_SIGNIN,PASSWORD_RESET:k.A.PASSWORD_RESET,RECOVER_EMAIL:k.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:k.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:k.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:k.A.VERIFY_EMAIL}},EmailAuthProvider:k.L,FacebookAuthProvider:k.M,GithubAuthProvider:k.Q,GoogleAuthProvider:k.N,OAuthProvider:k.T,SAMLAuthProvider:k.U,PhoneAuthProvider:Bt,PhoneMultiFactorGenerator:k.m,RecaptchaVerifier:U,TwitterAuthProvider:k.V,Auth:et,AuthCredential:k.G,Error:oe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),N.registerVersion("@firebase/auth-compat","0.2.11")}(G.Z)},8306:(ut,Se,P)=>{P.d(Se,{y:()=>Z});var l=P(930),G=P(727),k=P(8822),oe=P(4671);var re=P(2416),ue=P(576),be=P(2806);let Z=(()=>{class ke{constructor(Le){Le&&(this._subscribe=Le)}lift(Le){const _e=new ke;return _e.source=this,_e.operator=Le,_e}subscribe(Le,_e,De){const Xe=function Ge(ke){return ke&&ke instanceof l.Lv||function te(ke){return ke&&(0,ue.m)(ke.next)&&(0,ue.m)(ke.error)&&(0,ue.m)(ke.complete)}(ke)&&(0,G.Nn)(ke)}(Le)?Le:new l.Hp(Le,_e,De);return(0,be.x)(()=>{const{operator:He,source:Re}=this;Xe.add(He?He.call(Xe,Re):Re?this._subscribe(Xe):this._trySubscribe(Xe))}),Xe}_trySubscribe(Le){try{return this._subscribe(Le)}catch(_e){Le.error(_e)}}forEach(Le,_e){return new(_e=z(_e))((De,Xe)=>{const He=new l.Hp({next:Re=>{try{Le(Re)}catch(Ie){Xe(Ie),He.unsubscribe()}},error:Xe,complete:De});this.subscribe(He)})}_subscribe(Le){var _e;return null===(_e=this.source)||void 0===_e?void 0:_e.subscribe(Le)}[k.L](){return this}pipe(...Le){return function ve(ke){return 0===ke.length?oe.y:1===ke.length?ke[0]:function(Le){return ke.reduce((_e,De)=>De(_e),Le)}}(Le)(this)}toPromise(Le){return new(Le=z(Le))((_e,De)=>{let Xe;this.subscribe(He=>Xe=He,He=>De(He),()=>_e(Xe))})}}return ke.create=Ne=>new ke(Ne),ke})();function z(ke){var Ne;return null!==(Ne=null!=ke?ke:re.v.Promise)&&void 0!==Ne?Ne:Promise}},7579:(ut,Se,P)=>{P.d(Se,{x:()=>re});var l=P(8306),G=P(727);const oe=(0,P(3888).d)(be=>function(){be(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=P(8737),ve=P(2806);let re=(()=>{class be extends l.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const te=new ue(this,this);return te.operator=z,te}_throwIfClosed(){if(this.closed)throw new oe}next(z){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const te=this.observers.slice();for(const Ge of te)Ge.next(z)}})}error(z){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:te}=this;for(;te.length;)te.shift().error(z)}})}complete(){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:te,isStopped:Ge,observers:ke}=this;return te||Ge?G.Lc:(ke.push(z),new G.w0(()=>(0,se.P)(ke,z)))}_checkFinalizedStatuses(z){const{hasError:te,thrownError:Ge,isStopped:ke}=this;te?z.error(Ge):ke&&z.complete()}asObservable(){const z=new l.y;return z.source=this,z}}return be.create=(Z,z)=>new ue(Z,z),be})();class ue extends re{constructor(Z,z){super(),this.destination=Z,this.source=z}next(Z){var z,te;null===(te=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===te||te.call(z,Z)}error(Z){var z,te;null===(te=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===te||te.call(z,Z)}complete(){var Z,z;null===(z=null===(Z=this.destination)||void 0===Z?void 0:Z.complete)||void 0===z||z.call(Z)}_subscribe(Z){var z,te;return null!==(te=null===(z=this.source)||void 0===z?void 0:z.subscribe(Z))&&void 0!==te?te:G.Lc}}},930:(ut,Se,P)=>{P.d(Se,{Hp:()=>Le,Lv:()=>te});var l=P(576),G=P(727),k=P(2416),oe=P(7849),se=P(5032);const ve=be("C",void 0,void 0);function be(Re,Ie,Ee){return{kind:Re,value:Ie,error:Ee}}var Z=P(3410),z=P(2806);class te extends G.w0{constructor(Ie){super(),this.isStopped=!1,Ie?(this.destination=Ie,(0,G.Nn)(Ie)&&Ie.add(this)):this.destination=He}static create(Ie,Ee,We){return new Le(Ie,Ee,We)}next(Ie){this.isStopped?Xe(function ue(Re){return be("N",Re,void 0)}(Ie),this):this._next(Ie)}error(Ie){this.isStopped?Xe(function re(Re){return be("E",void 0,Re)}(Ie),this):(this.isStopped=!0,this._error(Ie))}complete(){this.isStopped?Xe(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ie){this.destination.next(Ie)}_error(Ie){try{this.destination.error(Ie)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function ke(Re,Ie){return Ge.call(Re,Ie)}class Ne{constructor(Ie){this.partialObserver=Ie}next(Ie){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next(Ie)}catch(We){_e(We)}}error(Ie){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error(Ie)}catch(We){_e(We)}else _e(Ie)}complete(){const{partialObserver:Ie}=this;if(Ie.complete)try{Ie.complete()}catch(Ee){_e(Ee)}}}class Le extends te{constructor(Ie,Ee,We){let ne;if(super(),(0,l.m)(Ie)||!Ie)ne={next:null!=Ie?Ie:void 0,error:null!=Ee?Ee:void 0,complete:null!=We?We:void 0};else{let Je;this&&k.v.useDeprecatedNextContext?(Je=Object.create(Ie),Je.unsubscribe=()=>this.unsubscribe(),ne={next:Ie.next&&ke(Ie.next,Je),error:Ie.error&&ke(Ie.error,Je),complete:Ie.complete&&ke(Ie.complete,Je)}):ne=Ie}this.destination=new Ne(ne)}}function _e(Re){k.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(Re):(0,oe.h)(Re)}function Xe(Re,Ie){const{onStoppedNotification:Ee}=k.v;Ee&&Z.z.setTimeout(()=>Ee(Re,Ie))}const He={closed:!0,next:se.Z,error:function De(Re){throw Re},complete:se.Z}},727:(ut,Se,P)=>{P.d(Se,{Lc:()=>ve,w0:()=>se,Nn:()=>re});var l=P(576);const k=(0,P(3888).d)(be=>function(z){be(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((te,Ge)=>`${Ge+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var oe=P(8737);class se{constructor(Z){this.initialTeardown=Z,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let Z;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const ke of z)ke.remove(this);else z.remove(this);const{initialTeardown:te}=this;if((0,l.m)(te))try{te()}catch(ke){Z=ke instanceof k?ke.errors:[ke]}const{_teardowns:Ge}=this;if(Ge){this._teardowns=null;for(const ke of Ge)try{ue(ke)}catch(Ne){Z=null!=Z?Z:[],Ne instanceof k?Z=[...Z,...Ne.errors]:Z.push(Ne)}}if(Z)throw new k(Z)}}add(Z){var z;if(Z&&Z!==this)if(this.closed)ue(Z);else{if(Z instanceof se){if(Z.closed||Z._hasParent(this))return;Z._addParent(this)}(this._teardowns=null!==(z=this._teardowns)&&void 0!==z?z:[]).push(Z)}}_hasParent(Z){const{_parentage:z}=this;return z===Z||Array.isArray(z)&&z.includes(Z)}_addParent(Z){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(Z),z):z?[z,Z]:Z}_removeParent(Z){const{_parentage:z}=this;z===Z?this._parentage=null:Array.isArray(z)&&(0,oe.P)(z,Z)}remove(Z){const{_teardowns:z}=this;z&&(0,oe.P)(z,Z),Z instanceof se&&Z._removeParent(this)}}se.EMPTY=(()=>{const be=new se;return be.closed=!0,be})();const ve=se.EMPTY;function re(be){return be instanceof se||be&&"closed"in be&&(0,l.m)(be.remove)&&(0,l.m)(be.add)&&(0,l.m)(be.unsubscribe)}function ue(be){(0,l.m)(be)?be():be.unsubscribe()}},2416:(ut,Se,P)=>{P.d(Se,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ut,Se,P)=>{P.d(Se,{E:()=>G});const G=new(P(8306).y)(se=>se.complete())},8996:(ut,Se,P)=>{P.d(Se,{D:()=>Ie});var l=P(8421),G=P(5363),k=P(9468),ve=P(8306),ue=P(2202),be=P(576),Z=P(9672);function te(Ee,We){if(!Ee)throw new Error("Iterable cannot be null");return new ve.y(ne=>{(0,Z.f)(ne,We,()=>{const Je=Ee[Symbol.asyncIterator]();(0,Z.f)(ne,We,()=>{Je.next().then(Y=>{Y.done?ne.complete():ne.next(Y.value)})},0,!0)})})}var Ge=P(3670),ke=P(8239),Ne=P(1144),Le=P(6495),_e=P(2206),De=P(4532),Xe=P(3260);function Ie(Ee,We){return We?function Re(Ee,We){if(null!=Ee){if((0,Ge.c)(Ee))return function oe(Ee,We){return(0,l.Xf)(Ee).pipe((0,k.R)(We),(0,G.Q)(We))}(Ee,We);if((0,Ne.z)(Ee))return function re(Ee,We){return new ve.y(ne=>{let Je=0;return We.schedule(function(){Je===Ee.length?ne.complete():(ne.next(Ee[Je++]),ne.closed||this.schedule())})})}(Ee,We);if((0,ke.t)(Ee))return function se(Ee,We){return(0,l.Xf)(Ee).pipe((0,k.R)(We),(0,G.Q)(We))}(Ee,We);if((0,_e.D)(Ee))return te(Ee,We);if((0,Le.T)(Ee))return function z(Ee,We){return new ve.y(ne=>{let Je;return(0,Z.f)(ne,We,()=>{Je=Ee[ue.h](),(0,Z.f)(ne,We,()=>{let Y,he;try{({value:Y,done:he}=Je.next())}catch(ce){return void ne.error(ce)}he?ne.complete():ne.next(Y)},0,!0)}),()=>(0,be.m)(null==Je?void 0:Je.return)&&Je.return()})}(Ee,We);if((0,Xe.L)(Ee))return function He(Ee,We){return te((0,Xe.Q)(Ee),We)}(Ee,We)}throw(0,De.z)(Ee)}(Ee,We):(0,l.Xf)(Ee)}},8421:(ut,Se,P)=>{P.d(Se,{Xf:()=>Ge});var l=P(655),G=P(1144),k=P(8239),oe=P(8306),se=P(3670),ve=P(2206),re=P(4532),ue=P(6495),be=P(3260),Z=P(576),z=P(7849),te=P(8822);function Ge(Re){if(Re instanceof oe.y)return Re;if(null!=Re){if((0,se.c)(Re))return function ke(Re){return new oe.y(Ie=>{const Ee=Re[te.L]();if((0,Z.m)(Ee.subscribe))return Ee.subscribe(Ie);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Re);if((0,G.z)(Re))return function Ne(Re){return new oe.y(Ie=>{for(let Ee=0;Ee<Re.length&&!Ie.closed;Ee++)Ie.next(Re[Ee]);Ie.complete()})}(Re);if((0,k.t)(Re))return function Le(Re){return new oe.y(Ie=>{Re.then(Ee=>{Ie.closed||(Ie.next(Ee),Ie.complete())},Ee=>Ie.error(Ee)).then(null,z.h)})}(Re);if((0,ve.D)(Re))return De(Re);if((0,ue.T)(Re))return function _e(Re){return new oe.y(Ie=>{for(const Ee of Re)if(Ie.next(Ee),Ie.closed)return;Ie.complete()})}(Re);if((0,be.L)(Re))return function Xe(Re){return De((0,be.Q)(Re))}(Re)}throw(0,re.z)(Re)}function De(Re){return new oe.y(Ie=>{(function He(Re,Ie){var Ee,We,ne,Je;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Ee=(0,l.KL)(Re);!(We=yield Ee.next()).done;)if(Ie.next(We.value),Ie.closed)return}catch(Y){ne={error:Y}}finally{try{We&&!We.done&&(Je=Ee.return)&&(yield Je.call(Ee))}finally{if(ne)throw ne.error}}Ie.complete()})})(Re,Ie).catch(Ee=>Ie.error(Ee))})}},6451:(ut,Se,P)=>{P.d(Se,{T:()=>ve});var l=P(8189),G=P(8421),k=P(515),oe=P(3269),se=P(8996);function ve(...re){const ue=(0,oe.yG)(re),be=(0,oe._6)(re,1/0),Z=re;return Z.length?1===Z.length?(0,G.Xf)(Z[0]):(0,l.J)(be)((0,se.D)(Z,ue)):k.E}},5403:(ut,Se,P)=>{P.d(Se,{x:()=>G});var l=P(930);function G(oe,se,ve,re,ue){return new k(oe,se,ve,re,ue)}class k extends l.Lv{constructor(se,ve,re,ue,be,Z){super(se),this.onFinalize=be,this.shouldUnsubscribe=Z,this._next=ve?function(z){try{ve(z)}catch(te){se.error(te)}}:super._next,this._error=ue?function(z){try{ue(z)}catch(te){se.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=re?function(){try{re()}catch(z){se.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ve}=this;super.unsubscribe(),!ve&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},4004:(ut,Se,P)=>{P.d(Se,{U:()=>k});var l=P(4482),G=P(5403);function k(oe,se){return(0,l.e)((ve,re)=>{let ue=0;ve.subscribe((0,G.x)(re,be=>{re.next(oe.call(se,be,ue++))}))})}},8189:(ut,Se,P)=>{P.d(Se,{J:()=>k});var l=P(5577),G=P(4671);function k(oe=1/0){return(0,l.z)(G.y,oe)}},5577:(ut,Se,P)=>{P.d(Se,{z:()=>ue});var l=P(4004),G=P(8421),k=P(4482),oe=P(9672),se=P(5403),re=P(576);function ue(be,Z,z=1/0){return(0,re.m)(Z)?ue((te,Ge)=>(0,l.U)((ke,Ne)=>Z(te,ke,Ge,Ne))((0,G.Xf)(be(te,Ge))),z):("number"==typeof Z&&(z=Z),(0,k.e)((te,Ge)=>function ve(be,Z,z,te,Ge,ke,Ne,Le){const _e=[];let De=0,Xe=0,He=!1;const Re=()=>{He&&!_e.length&&!De&&Z.complete()},Ie=We=>De<te?Ee(We):_e.push(We),Ee=We=>{ke&&Z.next(We),De++;let ne=!1;(0,G.Xf)(z(We,Xe++)).subscribe((0,se.x)(Z,Je=>{null==Ge||Ge(Je),ke?Ie(Je):Z.next(Je)},()=>{ne=!0},void 0,()=>{if(ne)try{for(De--;_e.length&&De<te;){const Je=_e.shift();Ne?(0,oe.f)(Z,Ne,()=>Ee(Je)):Ee(Je)}Re()}catch(Je){Z.error(Je)}}))};return be.subscribe((0,se.x)(Z,Ie,()=>{He=!0,Re()})),()=>{null==Le||Le()}}(te,Ge,be,z)))}},5363:(ut,Se,P)=>{P.d(Se,{Q:()=>oe});var l=P(9672),G=P(4482),k=P(5403);function oe(se,ve=0){return(0,G.e)((re,ue)=>{re.subscribe((0,k.x)(ue,be=>(0,l.f)(ue,se,()=>ue.next(be),ve),()=>(0,l.f)(ue,se,()=>ue.complete(),ve),be=>(0,l.f)(ue,se,()=>ue.error(be),ve)))})}},3099:(ut,Se,P)=>{P.d(Se,{B:()=>ve});var l=P(8996),G=P(5698),k=P(7579),oe=P(930),se=P(4482);function ve(ue={}){const{connector:be=(()=>new k.x),resetOnError:Z=!0,resetOnComplete:z=!0,resetOnRefCountZero:te=!0}=ue;return Ge=>{let ke=null,Ne=null,Le=null,_e=0,De=!1,Xe=!1;const He=()=>{null==Ne||Ne.unsubscribe(),Ne=null},Re=()=>{He(),ke=Le=null,De=Xe=!1},Ie=()=>{const Ee=ke;Re(),null==Ee||Ee.unsubscribe()};return(0,se.e)((Ee,We)=>{_e++,!Xe&&!De&&He();const ne=Le=null!=Le?Le:be();We.add(()=>{_e--,0===_e&&!Xe&&!De&&(Ne=re(Ie,te))}),ne.subscribe(We),ke||(ke=new oe.Hp({next:Je=>ne.next(Je),error:Je=>{Xe=!0,He(),Ne=re(Re,Z,Je),ne.error(Je)},complete:()=>{De=!0,He(),Ne=re(Re,z),ne.complete()}}),(0,l.D)(Ee).subscribe(ke))})(Ge)}}function re(ue,be,...Z){return!0===be?(ue(),null):!1===be?null:be(...Z).pipe((0,G.q)(1)).subscribe(()=>ue())}},9468:(ut,Se,P)=>{P.d(Se,{R:()=>G});var l=P(4482);function G(k,oe=0){return(0,l.e)((se,ve)=>{ve.add(k.schedule(()=>se.subscribe(ve),oe))})}},5698:(ut,Se,P)=>{P.d(Se,{q:()=>oe});var l=P(515),G=P(4482),k=P(5403);function oe(se){return se<=0?()=>l.E:(0,G.e)((ve,re)=>{let ue=0;ve.subscribe((0,k.x)(re,be=>{++ue<=se&&(re.next(be),se<=ue&&re.complete())}))})}},8505:(ut,Se,P)=>{P.d(Se,{b:()=>se});var l=P(576),G=P(4482),k=P(5403),oe=P(4671);function se(ve,re,ue){const be=(0,l.m)(ve)||re||ue?{next:ve,error:re,complete:ue}:ve;return be?(0,G.e)((Z,z)=>{var te;null===(te=be.subscribe)||void 0===te||te.call(be);let Ge=!0;Z.subscribe((0,k.x)(z,ke=>{var Ne;null===(Ne=be.next)||void 0===Ne||Ne.call(be,ke),z.next(ke)},()=>{var ke;Ge=!1,null===(ke=be.complete)||void 0===ke||ke.call(be),z.complete()},ke=>{var Ne;Ge=!1,null===(Ne=be.error)||void 0===Ne||Ne.call(be,ke),z.error(ke)},()=>{var ke,Ne;Ge&&(null===(ke=be.unsubscribe)||void 0===ke||ke.call(be)),null===(Ne=be.finalize)||void 0===Ne||Ne.call(be)}))}):oe.y}},4408:(ut,Se,P)=>{P.d(Se,{o:()=>se});var l=P(727);class G extends l.w0{constructor(re,ue){super()}schedule(re,ue=0){return this}}const k={setInterval(...ve){const{delegate:re}=k;return((null==re?void 0:re.setInterval)||setInterval)(...ve)},clearInterval(ve){const{delegate:re}=k;return((null==re?void 0:re.clearInterval)||clearInterval)(ve)},delegate:void 0};var oe=P(8737);class se extends G{constructor(re,ue){super(re,ue),this.scheduler=re,this.work=ue,this.pending=!1}schedule(re,ue=0){if(this.closed)return this;this.state=re;const be=this.id,Z=this.scheduler;return null!=be&&(this.id=this.recycleAsyncId(Z,be,ue)),this.pending=!0,this.delay=ue,this.id=this.id||this.requestAsyncId(Z,this.id,ue),this}requestAsyncId(re,ue,be=0){return k.setInterval(re.flush.bind(re,this),be)}recycleAsyncId(re,ue,be=0){if(null!=be&&this.delay===be&&!1===this.pending)return ue;k.clearInterval(ue)}execute(re,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const be=this._execute(re,ue);if(be)return be;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(re,ue){let Z,be=!1;try{this.work(re)}catch(z){be=!0,Z=z||new Error("Scheduled action threw falsy error")}if(be)return this.unsubscribe(),Z}unsubscribe(){if(!this.closed){const{id:re,scheduler:ue}=this,{actions:be}=ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(be,this),null!=re&&(this.id=this.recycleAsyncId(ue,re,null)),this.delay=null,super.unsubscribe()}}}},7565:(ut,Se,P)=>{P.d(Se,{v:()=>k});var l=P(6063);class G{constructor(se,ve=G.now){this.schedulerActionCtor=se,this.now=ve}schedule(se,ve=0,re){return new this.schedulerActionCtor(this,se).schedule(re,ve)}}G.now=l.l.now;class k extends G{constructor(se,ve=G.now){super(se,ve),this.actions=[],this._active=!1,this._scheduled=void 0}flush(se){const{actions:ve}=this;if(this._active)return void ve.push(se);let re;this._active=!0;do{if(re=se.execute(se.state,se.delay))break}while(se=ve.shift());if(this._active=!1,re){for(;se=ve.shift();)se.unsubscribe();throw re}}}},4986:(ut,Se,P)=>{P.d(Se,{z:()=>k,P:()=>oe});var l=P(4408);const k=new(P(7565).v)(l.o),oe=k},6063:(ut,Se,P)=>{P.d(Se,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(ut,Se,P)=>{P.d(Se,{z:()=>l});const l={setTimeout(...G){const{delegate:k}=l;return((null==k?void 0:k.setTimeout)||setTimeout)(...G)},clearTimeout(G){const{delegate:k}=l;return((null==k?void 0:k.clearTimeout)||clearTimeout)(G)},delegate:void 0}},2202:(ut,Se,P)=>{P.d(Se,{h:()=>G});const G=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ut,Se,P)=>{P.d(Se,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ut,Se,P)=>{P.d(Se,{jO:()=>oe,yG:()=>se,_6:()=>ve});var l=P(576),G=P(3532);function k(re){return re[re.length-1]}function oe(re){return(0,l.m)(k(re))?re.pop():void 0}function se(re){return(0,G.K)(k(re))?re.pop():void 0}function ve(re,ue){return"number"==typeof k(re)?re.pop():ue}},8737:(ut,Se,P)=>{function l(G,k){if(G){const oe=G.indexOf(k);0<=oe&&G.splice(oe,1)}}P.d(Se,{P:()=>l})},3888:(ut,Se,P)=>{function l(G){const oe=G(se=>{Error.call(se),se.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}P.d(Se,{d:()=>l})},2806:(ut,Se,P)=>{P.d(Se,{x:()=>k,O:()=>oe});var l=P(2416);let G=null;function k(se){if(l.v.useDeprecatedSynchronousErrorHandling){const ve=!G;if(ve&&(G={errorThrown:!1,error:null}),se(),ve){const{errorThrown:re,error:ue}=G;if(G=null,re)throw ue}}else se()}function oe(se){l.v.useDeprecatedSynchronousErrorHandling&&G&&(G.errorThrown=!0,G.error=se)}},9672:(ut,Se,P)=>{function l(G,k,oe,se=0,ve=!1){const re=k.schedule(function(){oe(),ve?G.add(this.schedule(null,se)):this.unsubscribe()},se);if(G.add(re),!ve)return re}P.d(Se,{f:()=>l})},4671:(ut,Se,P)=>{function l(G){return G}P.d(Se,{y:()=>l})},1144:(ut,Se,P)=>{P.d(Se,{z:()=>l});const l=G=>G&&"number"==typeof G.length&&"function"!=typeof G},2206:(ut,Se,P)=>{P.d(Se,{D:()=>G});var l=P(576);function G(k){return Symbol.asyncIterator&&(0,l.m)(null==k?void 0:k[Symbol.asyncIterator])}},576:(ut,Se,P)=>{function l(G){return"function"==typeof G}P.d(Se,{m:()=>l})},3670:(ut,Se,P)=>{P.d(Se,{c:()=>k});var l=P(8822),G=P(576);function k(oe){return(0,G.m)(oe[l.L])}},6495:(ut,Se,P)=>{P.d(Se,{T:()=>k});var l=P(2202),G=P(576);function k(oe){return(0,G.m)(null==oe?void 0:oe[l.h])}},8239:(ut,Se,P)=>{P.d(Se,{t:()=>G});var l=P(576);function G(k){return(0,l.m)(null==k?void 0:k.then)}},3260:(ut,Se,P)=>{P.d(Se,{Q:()=>k,L:()=>oe});var l=P(655),G=P(576);function k(se){return(0,l.FC)(this,arguments,function*(){const re=se.getReader();try{for(;;){const{value:ue,done:be}=yield(0,l.qq)(re.read());if(be)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(ue)}}finally{re.releaseLock()}})}function oe(se){return(0,G.m)(null==se?void 0:se.getReader)}},3532:(ut,Se,P)=>{P.d(Se,{K:()=>G});var l=P(576);function G(k){return k&&(0,l.m)(k.schedule)}},4482:(ut,Se,P)=>{P.d(Se,{A:()=>G,e:()=>k});var l=P(576);function G(oe){return(0,l.m)(null==oe?void 0:oe.lift)}function k(oe){return se=>{if(G(se))return se.lift(function(ve){try{return oe(ve,this)}catch(re){this.error(re)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ut,Se,P)=>{function l(){}P.d(Se,{Z:()=>l})},7849:(ut,Se,P)=>{P.d(Se,{h:()=>k});var l=P(2416),G=P(3410);function k(oe){G.z.setTimeout(()=>{const{onUnhandledError:se}=l.v;if(!se)throw oe;se(oe)})}},4532:(ut,Se,P)=>{function l(G){return new TypeError(`You provided ${null!==G&&"object"==typeof G?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Se,{z:()=>l})},655:(ut,Se,P)=>{function oe(Y,he){var ce={};for(var me in Y)Object.prototype.hasOwnProperty.call(Y,me)&&he.indexOf(me)<0&&(ce[me]=Y[me]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var Pe=0;for(me=Object.getOwnPropertySymbols(Y);Pe<me.length;Pe++)he.indexOf(me[Pe])<0&&Object.prototype.propertyIsEnumerable.call(Y,me[Pe])&&(ce[me[Pe]]=Y[me[Pe]])}return ce}function ue(Y,he,ce,me){return new(ce||(ce=Promise))(function(ae,It){function nn(mt){try{ht(me.next(mt))}catch(hn){It(hn)}}function Fn(mt){try{ht(me.throw(mt))}catch(hn){It(hn)}}function ht(mt){mt.done?ae(mt.value):function Pe(ae){return ae instanceof ce?ae:new ce(function(It){It(ae)})}(mt.value).then(nn,Fn)}ht((me=me.apply(Y,he||[])).next())})}function _e(Y){return this instanceof _e?(this.v=Y,this):new _e(Y)}function De(Y,he,ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,me=ce.apply(Y,he||[]),ae=[];return Pe={},It("next"),It("throw"),It("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe;function It(cn){me[cn]&&(Pe[cn]=function(gi){return new Promise(function(sn,Jt){ae.push([cn,gi,sn,Jt])>1||nn(cn,gi)})})}function nn(cn,gi){try{!function Fn(cn){cn.value instanceof _e?Promise.resolve(cn.value.v).then(ht,mt):hn(ae[0][2],cn)}(me[cn](gi))}catch(sn){hn(ae[0][3],sn)}}function ht(cn){nn("next",cn)}function mt(cn){nn("throw",cn)}function hn(cn,gi){cn(gi),ae.shift(),ae.length&&nn(ae[0][0],ae[0][1])}}function He(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,he=Y[Symbol.asyncIterator];return he?he.call(Y):(Y=function te(Y){var he="function"==typeof Symbol&&Symbol.iterator,ce=he&&Y[he],me=0;if(ce)return ce.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&me>=Y.length&&(Y=void 0),{value:Y&&Y[me++],done:!Y}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),ce={},me("next"),me("throw"),me("return"),ce[Symbol.asyncIterator]=function(){return this},ce);function me(ae){ce[ae]=Y[ae]&&function(It){return new Promise(function(nn,Fn){!function Pe(ae,It,nn,Fn){Promise.resolve(Fn).then(function(ht){ae({value:ht,done:nn})},It)}(nn,Fn,(It=Y[ae](It)).done,It.value)})}}}P.d(Se,{_T:()=>oe,mG:()=>ue,qq:()=>_e,FC:()=>De,KL:()=>He})},5e3:(ut,Se,P)=>{P.d(Se,{deG:()=>Jd,tb:()=>BC,AFp:()=>FC,ip1:()=>af,CZH:()=>rl,hGG:()=>PA,z2F:()=>nc,sBO:()=>Km,Sil:()=>lv,_Vd:()=>Da,EJc:()=>zm,SBq:()=>zh,qLn:()=>fh,vpe:()=>Sa,tBr:()=>ls,XFs:()=>_t,OlP:()=>Gn,zs3:()=>yt,ZZ4:()=>Iv,aQg:()=>Av,soG:()=>lf,YKP:()=>dC,h0i:()=>Kh,PXZ:()=>$C,R0b:()=>Os,FiY:()=>yr,Lbi:()=>pA,g9A:()=>qm,n_E:()=>Tm,Qsj:()=>OI,FYo:()=>kI,JOm:()=>pa,tp0:()=>cs,Rgc:()=>Xh,dDg:()=>Zm,q4F:()=>jy,GfV:()=>Uy,s_b:()=>$y,ifc:()=>qt,eFA:()=>gv,G48:()=>SA,Gpc:()=>z,f3M:()=>Xt,X6Q:()=>TA,_c5:()=>M1,VLi:()=>CA,c2e:()=>UC,zSh:()=>Y_,wAp:()=>Mt,vHH:()=>Ne,cg1:()=>Z0,kL8:()=>W0,dqk:()=>Zt,sIi:()=>Xu,CqO:()=>O0,QGY:()=>R0,F4k:()=>k0,RDi:()=>Zs,AaK:()=>ue,qOj:()=>d0,TTD:()=>Qo,_Bn:()=>MI,xp6:()=>y_,uIk:()=>ed,Gre:()=>GS,ekj:()=>Gh,Suo:()=>km,Xpm:()=>Bt,lG2:()=>le,Yz7:()=>sn,cJS:()=>rn,oAB:()=>N,Yjl:()=>Be,Y36:()=>Xp,_UZ:()=>tm,GkF:()=>M0,BQk:()=>ld,ynx:()=>my,qZA:()=>em,TgZ:()=>Bh,EpF:()=>x0,n5z:()=>dr,Ikx:()=>q0,LFG:()=>ot,$8M:()=>Ic,$Z:()=>bS,NdJ:()=>P0,CRH:()=>EC,oxw:()=>TS,Hsn:()=>L0,F$t:()=>rm,Q6J:()=>Vh,s9C:()=>im,iGM:()=>sA,MAs:()=>g0,CHM:()=>$d,LSH:()=>zu,Udp:()=>j0,WFA:()=>N0,d8E:()=>z0,YNc:()=>ly,_uU:()=>cm,Oqu:()=>um,hij:()=>dd,Gf:()=>Yy});var l=P(7579),G=P(727),k=P(8306),oe=P(6451),se=P(3099);function ve(s){for(let o in s)if(s[o]===ve)return o;throw Error("Could not find renamed property on target object.")}function re(s,o){for(const c in o)o.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=o[c])}function ue(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ue).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const c=o.indexOf("\n");return-1===c?o:o.substring(0,c)}function be(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const Z=ve({__forward_ref__:ve});function z(s){return s.__forward_ref__=z,s.toString=function(){return ue(this())},s}function te(s){return Ge(s)?s():s}function Ge(s){return"function"==typeof s&&s.hasOwnProperty(Z)&&s.__forward_ref__===z}class Ne extends Error{constructor(o,c){super(function Le(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,c)),this.code=o}}function _e(s){return"string"==typeof s?s:null==s?"":String(s)}function De(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():_e(s)}function Ie(s,o){const c=o?` in ${o}`:"";throw new Ne(-201,`No provider for ${De(s)} found${c}`)}function ht(s,o){null==s&&function mt(s,o,c,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${c} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function sn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function rn(s){return{providers:s.providers||[],imports:s.imports||[]}}function Pn(s){return pr(s,_i)||pr(s,Dr)}function pr(s,o){return s.hasOwnProperty(o)?s[o]:null}function es(s){return s&&(s.hasOwnProperty(mr)||s.hasOwnProperty(gs))?s[mr]:null}const _i=ve({\u0275prov:ve}),mr=ve({\u0275inj:ve}),Dr=ve({ngInjectableDef:ve}),gs=ve({ngInjectorDef:ve});var _t=(()=>((_t=_t||{})[_t.Default=0]="Default",_t[_t.Host=1]="Host",_t[_t.Self=2]="Self",_t[_t.SkipSelf=4]="SkipSelf",_t[_t.Optional=8]="Optional",_t))();let Or;function on(s){const o=Or;return Or=s,o}function Zn(s,o,c){const d=Pn(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&_t.Optional?null:void 0!==o?o:void Ie(ue(s),"Injector")}function Vn(s){return{toString:s}.toString()}var Nn=(()=>((Nn=Nn||{})[Nn.OnPush=0]="OnPush",Nn[Nn.Default=1]="Default",Nn))(),qt=(()=>{return(s=qt||(qt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",qt;var s})();const ft="undefined"!=typeof globalThis&&globalThis,it="undefined"!=typeof window&&window,ai="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Zt=ft||"undefined"!=typeof global&&global||it||ai,an={},vt=[],Un=ve({\u0275cmp:ve}),Wt=ve({\u0275dir:ve}),$e=ve({\u0275pipe:ve}),Te=ve({\u0275mod:ve}),et=ve({\u0275fac:ve}),pt=ve({__NG_ELEMENT_ID__:ve});let Vt=0;function Bt(s){return Vn(()=>{const c={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Nn.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||vt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||qt.Emulated,id:"c",styles:s.styles||vt,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,p=s.features,y=s.pipes;return d.id+=Vt++,d.inputs=j(s.inputs,c),d.outputs=j(s.outputs),p&&p.forEach(w=>w(d)),d.directiveDefs=h?()=>("function"==typeof h?h():h).map(U):null,d.pipeDefs=y?()=>("function"==typeof y?y():y).map(K):null,d})}function U(s){return ze(s)||function Tt(s){return s[Wt]||null}(s)}function K(s){return function rt(s){return s[$e]||null}(s)}const fe={};function N(s){return Vn(()=>{const o={type:s.type,bootstrap:s.bootstrap||vt,declarations:s.declarations||vt,imports:s.imports||vt,exports:s.exports||vt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(fe[s.id]=s.type),o})}function j(s,o){if(null==s)return an;const c={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),c[h]=d,o&&(o[h]=p)}return c}const le=Bt;function Be(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function ze(s){return s[Un]||null}function Rt(s,o){const c=s[Te]||null;if(!c&&!0===o)throw new Error(`Type ${ue(s)} does not have '\u0275mod' property.`);return c}function Lr(s){return Array.isArray(s)&&"object"==typeof s[1]}function vi(s){return Array.isArray(s)&&!0===s[1]}function ka(s){return 0!=(8&s.flags)}function Zo(s){return 2==(2&s.flags)}function Wo(s){return 1==(1&s.flags)}function Vi(s){return null!==s.template}function hc(s){return 0!=(512&s[2])}function bi(s,o){return s.hasOwnProperty(et)?s[et]:null}class jd{constructor(o,c,d){this.previousValue=o,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function Qo(){return dl}function dl(s){return s.type.prototype.ngOnChanges&&(s.setInput=Na),Hd}function Hd(){const s=Bi(this),o=null==s?void 0:s.current;if(o){const c=s.previous;if(c===an)s.previous=o;else for(let d in o)c[d]=o[d];s.current=null,this.ngOnChanges(o)}}function Na(s,o,c,d){const h=Bi(s)||function bs(s,o){return s[Fa]=o}(s,{previous:an,current:null}),p=h.current||(h.current={}),y=h.previous,w=this.declaredInputs[c],E=y[w];p[w]=new jd(E&&E.currentValue,o,y===an),s[d]=o}Qo.ngInherit=!0;const Fa="__ngSimpleChanges__";function Bi(s){return s[Fa]||null}let fl;function Zs(s){fl=s}function Tn(s){return!!s.listen}const Co={createRenderer:(s,o)=>function wo(){return void 0!==fl?fl:"undefined"!=typeof document?document:void 0}()};function mn(s){for(;Array.isArray(s);)s=s[0];return s}function Ws(s,o){return mn(o[s])}function Tr(s,o){return mn(o[s.index])}function pl(s,o){return s.data[o]}function Wr(s,o){const c=o[s];return Lr(c)?c:c[0]}function ws(s){return 4==(4&s[2])}function Do(s){return 128==(128&s[2])}function Ui(s,o){return null==o?null:s[o]}function ss(s){s[18]=0}function Cs(s,o){s[5]+=o;let c=s,d=s[3];for(;null!==d&&(1===o&&1===c[5]||-1===o&&0===c[5]);)d[5]+=o,c=d,d=d[3]}const Ct={lFrame:wc(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ra(){return Ct.bindingsEnabled}function Ae(){return Ct.lFrame.lView}function Ht(){return Ct.lFrame.tView}function $d(s){return Ct.lFrame.contextLView=s,s[8]}function wn(){let s=ml();for(;null!==s&&64===s.type;)s=s.parent;return s}function ml(){return Ct.lFrame.currentTNode}function ji(s,o){const c=Ct.lFrame;c.currentTNode=s,c.isParent=o}function gc(){return Ct.lFrame.isParent}function Ua(){Ct.lFrame.isParent=!1}function ia(){return Ct.isInCheckNoChangesMode}function sa(s){Ct.isInCheckNoChangesMode=s}function aa(){return Ct.lFrame.bindingIndex++}function ci(s){const o=Ct.lFrame,c=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,c}function Du(s,o){const c=Ct.lFrame;c.bindingIndex=c.bindingRootIndex=s,yc(o)}function yc(s){Ct.lFrame.currentDirectiveIndex=s}function Ys(s){const o=Ct.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function zd(){return Ct.lFrame.currentQueryIndex}function vc(s){Ct.lFrame.currentQueryIndex=s}function bc(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function gl(s,o,c){if(c&_t.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||c&_t.Host||(h=bc(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const d=Ct.lFrame=To();return d.currentTNode=o,d.lView=s,!0}function Ha(s){const o=To(),c=s[1];Ct.lFrame=o,o.currentTNode=c.firstChild,o.lView=s,o.tView=c,o.contextLView=s,o.bindingIndex=c.bindingStartIndex,o.inI18n=!1}function To(){const s=Ct.lFrame,o=null===s?null:s.child;return null===o?wc(s):o}function wc(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Zd(){const s=Ct.lFrame;return Ct.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Tu=Zd;function So(){const s=Zd();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Kr(){return Ct.lFrame.selectedIndex}function Js(s){Ct.lFrame.selectedIndex=s}function Hn(){const s=Ct.lFrame;return pl(s.tView,s.selectedIndex)}function Ga(s,o){for(let c=o.directiveStart,d=o.directiveEnd;c<d;c++){const p=s.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:E,ngAfterViewChecked:I,ngOnDestroy:x}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-c,y),w&&((s.contentHooks||(s.contentHooks=[])).push(c,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(c,w)),E&&(s.viewHooks||(s.viewHooks=[])).push(-c,E),I&&((s.viewHooks||(s.viewHooks=[])).push(c,I),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(c,I)),null!=x&&(s.destroyHooks||(s.destroyHooks=[])).push(c,x)}}function Dc(s,o,c){Iu(s,o,3,c)}function _l(s,o,c,d){(3&s[2])===c&&Iu(s,o,c,d)}function er(s,o){let c=s[2];(3&c)===o&&(c&=2047,c+=1,s[2]=c)}function Iu(s,o,c,d){const p=null!=d?d:-1,y=o.length-1;let w=0;for(let E=void 0!==d?65535&s[18]:0;E<y;E++)if("number"==typeof o[E+1]){if(w=o[E],null!=d&&w>=d)break}else o[E]<0&&(s[18]+=65536),(w<p||-1==p)&&(Au(s,c,o,E),s[18]=(4294901760&s[18])+E+2),E++}function Au(s,o,c,d){const h=c[d]<0,p=c[d+1],w=s[h?-c[d]:c[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class yl{constructor(o,c,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function ct(s,o,c){const d=Tn(s);let h=0;for(;h<c.length;){const p=c[h];if("number"==typeof p){if(0!==p)break;h++;const y=c[h++],w=c[h++],E=c[h++];d?s.setAttribute(o,w,E,y):o.setAttributeNS(y,w,E)}else{const y=p,w=c[++h];Vr(y)?d&&s.setProperty(o,y,w):d?s.setAttribute(o,y,w):o.setAttribute(y,w),h++}}return h}function Ot(s){return 3===s||4===s||6===s}function Vr(s){return 64===s.charCodeAt(0)}function _n(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let c=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?c=h:0===c||xu(s,c,h,null,-1===c||2===c?o[++d]:null)}}return s}function xu(s,o,c,d,h){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const w=s[p++];if("number"==typeof w){if(w===o){y=-1;break}if(w>o){y=p-1;break}}}for(;p<s.length;){const w=s[p];if("number"==typeof w)break;if(w===c){if(null===d)return void(null!==h&&(s[p+1]=h));if(d===s[p+1])return void(s[p+2]=h)}p++,null!==d&&p++,null!==h&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,c),null!==d&&s.splice(p++,0,d),null!==h&&s.splice(p++,0,h)}function Wn(s){return-1!==s}function Xs(s){return 32767&s}function Ds(s,o){let c=function Tc(s){return s>>16}(s),d=o;for(;c>0;)d=d[15],c--;return d}let ua=!0;function as(s){const o=ua;return ua=s,o}let da=0;function yn(s,o){const c=vl(s,o);if(-1!==c)return c;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,eo(d.data,s),eo(o,null),eo(d.blueprint,null));const h=Yr(s,o),p=s.injectorIndex;if(Wn(h)){const y=Xs(h),w=Ds(h,o),E=w[1].data;for(let I=0;I<8;I++)o[p+I]=w[y+I]|E[y+I]}return o[p+8]=h,p}function eo(s,o){s.push(0,0,0,0,0,0,0,0,o)}function vl(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Yr(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,d=null,h=o;for(;null!==h;){const p=h[1],y=p.type;if(d=2===y?p.declTNode:1===y?h[6]:null,null===d)return-1;if(c++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function Ao(s,o,c){!function qa(s,o,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(pt)&&(d=c[pt]),null==d&&(d=c[pt]=da++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,c)}function to(s,o,c){if(c&_t.Optional)return s;Ie(o,"NodeInjector")}function no(s,o,c,d){if(c&_t.Optional&&void 0===d&&(d=null),0==(c&(_t.Self|_t.Host))){const h=s[9],p=on(void 0);try{return h?h.get(o,d,c&_t.Optional):Zn(o,d,c&_t.Optional)}finally{on(p)}}return to(d,o,c)}function wl(s,o,c,d=_t.Default,h){if(null!==s){const p=function gr(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(pt)?s[pt]:void 0;return"number"==typeof o?o>=0?255&o:Ss:o}(c);if("function"==typeof p){if(!gl(o,s,d))return d&_t.Host?to(h,c,d):no(o,c,d,h);try{const y=p(d);if(null!=y||d&_t.Optional)return y;Ie(c)}finally{Tu()}}else if("number"==typeof p){let y=null,w=vl(s,o),E=-1,I=d&_t.Host?o[16][6]:null;for((-1===w||d&_t.SkipSelf)&&(E=-1===w?Yr(s,o):o[w+8],-1!==E&&Cl(d,!1)?(y=o[1],w=Xs(E),o=Ds(E,o)):w=-1);-1!==w;){const x=o[1];if(za(p,w,x.data)){const L=ku(w,o,c,y,d,I);if(L!==Ts)return L}E=o[w+8],-1!==E&&Cl(d,o[1].data[w+8]===I)&&za(p,w,o)?(y=x,w=Xs(E),o=Ds(E,o)):w=-1}}}return no(o,c,d,h)}const Ts={};function Ss(){return new Cn(wn(),Ae())}function ku(s,o,c,d,h,p){const y=o[1],w=y.data[s+8],x=Hi(w,y,c,null==d?Zo(w)&&ua:d!=y&&0!=(3&w.type),h&_t.Host&&p===w);return null!==x?Br(o,y,x,w):Ts}function Hi(s,o,c,d,h){const p=s.providerIndexes,y=o.data,w=1048575&p,E=s.directiveStart,x=p>>20,$=h?w+x:s.directiveEnd;for(let J=d?w:w+x;J<$;J++){const Ce=y[J];if(J<E&&c===Ce||J>=E&&Ce.type===c)return J}if(h){const J=y[E];if(J&&Vi(J)&&J.type===c)return E}return null}function Br(s,o,c,d){let h=s[c];const p=o.data;if(function $a(s){return s instanceof yl}(h)){const y=h;y.resolving&&function Xe(s,o){const c=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Ne(-200,`Circular dependency in DI detected for ${s}${c}`)}(De(p[c]));const w=as(y.canSeeViewProviders);y.resolving=!0;const E=y.injectImpl?on(y.injectImpl):null;gl(s,d,_t.Default);try{h=s[c]=y.factory(void 0,p,s,d),o.firstCreatePass&&c>=d.directiveStart&&function Io(s,o,c){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(d){const y=dl(o);(c.preOrderHooks||(c.preOrderHooks=[])).push(s,y),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,y)}h&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-s,h),p&&((c.preOrderHooks||(c.preOrderHooks=[])).push(s,p),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,p))}(c,p[c],o)}finally{null!==E&&on(E),as(w),y.resolving=!1,Tu()}}return h}function za(s,o,c){return!!(c[o+(s>>5)]&1<<s)}function Cl(s,o){return!(s&_t.Self||s&_t.Host&&o)}class Cn{constructor(o,c){this._tNode=o,this._lView=c}get(o,c,d){return wl(this._tNode,this._lView,o,d,c)}}function dr(s){return Vn(()=>{const o=s.prototype.constructor,c=o[et]||Ir(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const p=h[et]||Ir(h);if(p&&p!==c)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function Ir(s){return Ge(s)?()=>{const o=Ir(te(s));return o&&o()}:bi(s)}function Ic(s){return function bl(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const c=s.attrs;if(c){const d=c.length;let h=0;for(;h<d;){const p=c[h];if(Ot(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<d&&"string"==typeof c[h];)h++;else{if(p===o)return c[h+1];h+=2}}}return null}(wn(),s)}const En="__parameters__";function Ei(s,o,c){return Vn(()=>{const d=function ui(s){return function(...c){if(s){const d=s(...c);for(const h in d)this[h]=d[h]}}}(o);function h(...p){if(this instanceof h)return d.apply(this,p),this;const y=new h(...p);return w.annotation=y,w;function w(E,I,x){const L=E.hasOwnProperty(En)?E[En]:Object.defineProperty(E,En,{value:[]})[En];for(;L.length<=x;)L.push(null);return(L[x]=L[x]||[]).push(y),E}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Gn{constructor(o,c){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=sn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Jd=new Gn("AnalyzeForEntryComponents");function jr(s,o){void 0===o&&(o=s);for(let c=0;c<s.length;c++){let d=s[c];Array.isArray(d)?(o===s&&(o=s.slice(0,c)),jr(d,o)):o!==s&&o.push(d)}return o}function Gi(s,o){s.forEach(c=>Array.isArray(c)?Gi(c,o):o(c))}function Wa(s,o,c){o>=s.length?s.push(c):s.splice(o,0,c)}function ha(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function di(s,o){const c=[];for(let d=0;d<s;d++)c.push(o);return c}function hi(s,o,c){let d=io(s,o);return d>=0?s[1|d]=c:(d=~d,function Il(s,o,c,d){let h=s.length;if(h==o)s.push(c,d);else if(1===h)s.push(d,s[0]),s[0]=c;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=c,s[o+1]=d}}(s,d,o,c)),d}function Ml(s,o){const c=io(s,o);if(c>=0)return s[1|c]}function io(s,o){return function As(s,o,c){let d=0,h=s.length>>c;for(;h!==d;){const p=d+(h-d>>1),y=s[p<<c];if(o===y)return p<<c;y>o?h=p:d=p+1}return~(h<<c)}(s,o,1)}const oo={},kl="__NG_DI_FLAG__",Ol="ngTempTokenPath",S=/\n/gm,B="__source",Q=ve({provide:String,useValue:ve});let ie;function ge(s){const o=ie;return ie=s,o}function nt(s,o=_t.Default){if(void 0===ie)throw new Ne(203,"");return null===ie?Zn(s,void 0,o):ie.get(s,o&_t.Optional?null:void 0,o)}function ot(s,o=_t.Default){return(function Ln(){return Or}()||nt)(te(s),o)}const Xt=ot;function At(s){const o=[];for(let c=0;c<s.length;c++){const d=te(s[c]);if(Array.isArray(d)){if(0===d.length)throw new Ne(900,"");let h,p=_t.Default;for(let y=0;y<d.length;y++){const w=d[y],E=rr(w);"number"==typeof E?-1===E?h=w.token:p|=E:h=w}o.push(ot(h,p))}else o.push(ot(d))}return o}function nr(s,o){return s[kl]=o,s.prototype[kl]=o,s}function rr(s){return s[kl]}const ls=nr(Ei("Inject",s=>({token:s})),-1),yr=nr(Ei("Optional"),8),cs=nr(Ei("SkipSelf"),4);class Hu{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function xs(s){return s instanceof Hu?s.changingThisBreaksApplicationSecurity:s}const m=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,C=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var vr=(()=>((vr=vr||{})[vr.NONE=0]="NONE",vr[vr.HTML=1]="HTML",vr[vr.STYLE=2]="STYLE",vr[vr.SCRIPT=3]="SCRIPT",vr[vr.URL=4]="URL",vr[vr.RESOURCE_URL=5]="RESOURCE_URL",vr))();function zu(s){const o=function Zu(){const s=Ae();return s&&s[12]}();return o?o.sanitize(vr.URL,s)||"":function co(s,o){const c=function nh(s){return s instanceof Hu&&s.getTypeName()||null}(s);if(null!=c&&c!==o){if("ResourceURL"===c&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===o}(s,"URL")?xs(s):function M(s){return(s=String(s)).match(m)||s.match(C)?s:"unsafe:"+s}(_e(s))}const ow="__ngContext__";function Ti(s,o){s[ow]=o}function e_(s){const o=function ch(s){return s[ow]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function i_(s){return s.ngOriginalError}function sT(s,...o){s.error(...o)}class fh{constructor(){this._console=console}handleError(o){const c=this._findOriginalError(o),d=function iT(s){return s&&s.ngErrorLogger||sT}(o);d(this._console,"ERROR",o),c&&d(this._console,"ORIGINAL ERROR",c)}_findOriginalError(o){let c=o&&i_(o);for(;c&&i_(c);)c=i_(c);return c||null}}const lw=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Zt))();function Oo(s){return s instanceof Function?s():s}var pa=(()=>((pa=pa||{})[pa.Important=1]="Important",pa[pa.DashCase=2]="DashCase",pa))();function o_(s,o){return undefined(s,o)}function ph(s){const o=s[3];return vi(o)?o[3]:o}function fp(s){return pw(s[13])}function l_(s){return pw(s[4])}function pw(s){for(;null!==s&&!vi(s);)s=s[4];return s}function Wu(s,o,c,d,h){if(null!=d){let p,y=!1;vi(d)?p=d:Lr(d)&&(y=!0,d=d[0]);const w=mn(d);0===s&&null!==c?null==h?vw(o,c,w):Gl(o,c,w,h||null,!0):1===s&&null!==c?Gl(o,c,w,h||null,!0):2===s?function Sw(s,o,c){const d=vp(s,o);d&&function ww(s,o,c,d){Tn(s)?s.removeChild(o,c,d):o.removeChild(c)}(s,d,o,c)}(o,w,y):3===s&&o.destroyNode(w),null!=p&&function ma(s,o,c,d,h){const p=c[7];p!==mn(c)&&Wu(o,s,d,p,h);for(let w=10;w<c.length;w++){const E=c[w];mh(E[1],E,s,o,d,p)}}(o,s,p,c,h)}}function br(s,o,c){if(Tn(s))return s.createElement(o,c);{const d=null!==c?function wu(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(c):null;return null===d?s.createElement(o):s.createElementNS(d,o)}}function gw(s,o){const c=s[9],d=c.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,Cs(h,-1)),c.splice(d,1)}function _p(s,o){if(s.length<=10)return;const c=10+o,d=s[c];if(d){const h=d[17];null!==h&&h!==s&&gw(h,d),o>0&&(s[c-1][4]=d[4]);const p=ha(s,10+o);!function _T(s,o){mh(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const y=p[19];null!==y&&y.detachView(p[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function _w(s,o){if(!(256&o[2])){const c=o[11];Tn(c)&&c.destroyNode&&mh(s,o,c,3,null,null),function gp(s){let o=s[13];if(!o)return yp(s[1],s);for(;o;){let c=null;if(Lr(o))c=o[13];else{const d=o[10];d&&(c=d)}if(!c){for(;o&&!o[4]&&o!==s;)Lr(o)&&yp(o[1],o),o=o[3];null===o&&(o=s),Lr(o)&&yp(o[1],o),c=o&&o[4]}o=c}}(o)}}function yp(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function u_(s,o){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let d=0;d<c.length;d+=2){const h=o[c[d]];if(!(h instanceof yl)){const p=c[d+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const w=h[p[y]],E=p[y+1];try{E.call(w)}finally{}}else try{p.call(h)}finally{}}}}(s,o),function yw(s,o){const c=s.cleanup,d=o[7];let h=-1;if(null!==c)for(let p=0;p<c.length-1;p+=2)if("string"==typeof c[p]){const y=c[p+1],w="function"==typeof y?y(o):mn(o[y]),E=d[h=c[p+2]],I=c[p+3];"boolean"==typeof I?w.removeEventListener(c[p],E,I):I>=0?d[h=I]():d[h=-I].unsubscribe(),p+=2}else{const y=d[h=c[p+1]];c[p].call(y)}if(null!==d){for(let p=h+1;p<d.length;p++)d[p]();o[7]=null}}(s,o),1===o[1].type&&Tn(o[11])&&o[11].destroy();const c=o[17];if(null!==c&&vi(o[3])){c!==o[3]&&gw(c,o);const d=o[19];null!==d&&d.detachView(s)}}}function vT(s,o,c){return function Hl(s,o,c){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return c[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===qt.None||h===qt.Emulated)return null}return Tr(d,c)}(s,o.parent,c)}function Gl(s,o,c,d,h){Tn(s)?s.insertBefore(o,c,d,h):o.insertBefore(c,d,h)}function vw(s,o,c){Tn(s)?s.appendChild(o,c):o.appendChild(c)}function bw(s,o,c,d,h){null!==d?Gl(s,o,c,d,h):vw(s,o,c)}function vp(s,o){return Tn(s)?s.parentNode(o):o.parentNode}function Cw(s,o,c){return Ew(s,o,c)}let Ew=function d_(s,o,c){return 40&s.type?Tr(s,c):null};function Yu(s,o,c,d){const h=vT(s,d,o),p=o[11],w=Cw(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(c))for(let E=0;E<c.length;E++)bw(p,h,c[E],w,!1);else bw(p,h,c,w,!1)}function bp(s,o){if(null!==o){const c=o.type;if(3&c)return Tr(o,s);if(4&c)return wp(-1,s[o.index]);if(8&c){const d=o.child;if(null!==d)return bp(s,d);{const h=s[o.index];return vi(h)?wp(-1,h):mn(h)}}if(32&c)return o_(o,s)()||mn(s[o.index]);{const d=Tw(s,o);return null!==d?Array.isArray(d)?d[0]:bp(ph(s[16]),d):bp(s,o.next)}}return null}function Tw(s,o){return null!==o?s[16][6].projection[o.projection]:null}function wp(s,o){const c=10+s+1;if(c<o.length){const d=o[c],h=d[1].firstChild;if(null!==h)return bp(d,h)}return o[7]}function Iw(s,o,c,d,h,p,y){for(;null!=c;){const w=d[c.index],E=c.type;if(y&&0===o&&(w&&Ti(mn(w),d),c.flags|=4),64!=(64&c.flags))if(8&E)Iw(s,o,c.child,d,h,p,!1),Wu(o,s,h,w,p);else if(32&E){const I=o_(c,d);let x;for(;x=I();)Wu(o,s,h,x,p);Wu(o,s,h,w,p)}else 16&E?$l(s,o,d,c,h,p):Wu(o,s,h,w,p);c=y?c.projectionNext:c.next}}function mh(s,o,c,d,h,p){Iw(c,d,s.firstChild,o,h,p,!1)}function $l(s,o,c,d,h,p){const y=c[16],E=y[6].projection[d.projection];if(Array.isArray(E))for(let I=0;I<E.length;I++)Wu(o,s,h,E[I],p);else Iw(s,o,E,y[3],h,p,!0)}function f_(s,o,c){Tn(s)?s.setAttribute(o,"style",c):o.style.cssText=c}function p_(s,o,c){Tn(s)?""===c?s.removeAttribute(o,"class"):s.setAttribute(o,"class",c):o.className=c}function Mw(s,o,c){let d=s.length;for(;;){const h=s.indexOf(o,c);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===d||s.charCodeAt(h+p)<=32)return h}c=h+1}}const ql="ng-template";function zl(s,o,c){let d=0;for(;d<s.length;){let h=s[d++];if(c&&"class"===h){if(h=s[d],-1!==Mw(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function m_(s){return 4===s.type&&s.value!==ql}function Si(s,o,c){return o===(4!==s.type||c?s.value:ql)}function Zl(s,o,c){let d=4;const h=s.attrs||[],p=function Rw(s){for(let o=0;o<s.length;o++)if(Ot(s[o]))return o;return s.length}(h);let y=!1;for(let w=0;w<o.length;w++){const E=o[w];if("number"!=typeof E){if(!y)if(4&d){if(d=2|1&d,""!==E&&!Si(s,E,c)||""===E&&1===o.length){if(Po(d))return!1;y=!0}}else{const I=8&d?E:o[++w];if(8&d&&null!==s.attrs){if(!zl(s.attrs,I,c)){if(Po(d))return!1;y=!0}continue}const L=en(8&d?"class":E,h,m_(s),c);if(-1===L){if(Po(d))return!1;y=!0;continue}if(""!==I){let $;$=L>p?"":h[L+1].toLowerCase();const J=8&d?$:null;if(J&&-1!==Mw(J,I,0)||2&d&&I!==$){if(Po(d))return!1;y=!0}}}}else{if(!y&&!Po(d)&&!Po(E))return!1;if(y&&Po(E))continue;y=!1,d=E|1&d}}return Po(d)||y}function Po(s){return 0==(1&s)}function en(s,o,c,d){if(null===o)return-1;let h=0;if(d||!c){let p=!1;for(;h<o.length;){const y=o[h];if(y===s)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let w=o[++h];for(;"string"==typeof w;)w=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function kw(s,o){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const d=s[c];if("number"==typeof d)return-1;if(d===o)return c;c++}return-1}(o,s)}function g_(s,o,c=!1){for(let d=0;d<o.length;d++)if(Zl(s,o[d],c))return!0;return!1}function Ow(s,o){e:for(let c=0;c<o.length;c++){const d=o[c];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function __(s,o){return s?":not("+o.trim()+")":o}function Pw(s){let o=s[0],c=1,d=2,h="",p=!1;for(;c<s.length;){let y=s[c];if("string"==typeof y)if(2&d){const w=s[++c];h+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!Po(y)&&(o+=__(p,h),h=""),d=y,p=p||!Po(d);c++}return""!==h&&(o+=__(p,h)),o}const Ut={};function y_(s){v_(Ht(),Ae(),Kr()+s,ia())}function v_(s,o,c,d){if(!d)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&Dc(o,p,c)}else{const p=s.preOrderHooks;null!==p&&_l(o,p,0,c)}Js(c)}function Ep(s,o){return s<<17|o<<2}function ho(s){return s>>17&32767}function Dp(s){return 2|s}function No(s){return(131068&s)>>2}function Tp(s,o){return-131069&s|o<<2}function Sp(s){return 1|s}function Uw(s,o){const c=s.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const h=c[d],p=c[d+1];if(-1!==p){const y=s.data[p];vc(h),y.contentQueries(2,o[p],p)}}}function jc(s,o,c,d,h,p,y,w,E,I){const x=o.blueprint.slice();return x[0]=h,x[2]=140|d,ss(x),x[3]=x[15]=s,x[8]=c,x[10]=y||s&&s[10],x[11]=w||s&&s[11],x[12]=E||s&&s[12]||null,x[9]=I||s&&s[9]||null,x[6]=p,x[16]=2==o.type?s[16]:x,x}function Eh(s,o,c,d,h){let p=s.data[o];if(null===p)p=function Dh(s,o,c,d,h){const p=ml(),y=gc(),E=s.data[o]=function Gw(s,o,c,d,h,p){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,c,o,d,h);return null===s.firstChild&&(s.firstChild=E),null!==p&&(y?null==p.child&&null!==E.parent&&(p.child=E):null===p.next&&(p.next=E)),E}(s,o,c,d,h),function qd(){return Ct.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=c,p.value=d,p.attrs=h;const y=function Ks(){const s=Ct.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return ji(p,!0),p}function ga(s,o,c,d){if(0===c)return-1;const h=o.length;for(let p=0;p<c;p++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function Wl(s,o,c){Ha(o);try{const d=s.viewQuery;null!==d&&W_(1,d,c);const h=s.template;null!==h&&Hw(s,o,h,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Uw(s,o),s.staticViewQueries&&W_(2,s.viewQuery,c);const p=s.components;null!==p&&function O_(s,o){for(let c=0;c<o.length;c++)LT(s,o[c])}(o,p)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,So()}}function Lo(s,o,c,d){const h=o[2];if(256==(256&h))return;Ha(o);const p=ia();try{ss(o),function oa(s){return Ct.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&Hw(s,o,c,2,d);const y=3==(3&h);if(!p)if(y){const I=s.preOrderCheckHooks;null!==I&&Dc(o,I,null)}else{const I=s.preOrderHooks;null!==I&&_l(o,I,0,null),er(o,0)}if(function Xa(s){for(let o=fp(s);null!==o;o=l_(o)){if(!o[2])continue;const c=o[9];for(let d=0;d<c.length;d++){const h=c[d],p=h[3];0==(1024&h[2])&&Cs(p,1),h[2]|=1024}}}(o),function NT(s){for(let o=fp(s);null!==o;o=l_(o))for(let c=10;c<o.length;c++){const d=o[c],h=d[1];Do(d)&&Lo(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&Uw(s,o),!p)if(y){const I=s.contentCheckHooks;null!==I&&Dc(o,I)}else{const I=s.contentHooks;null!==I&&_l(o,I,1),er(o,1)}!function k_(s,o){const c=s.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const h=c[d];if(h<0)Js(~h);else{const p=h,y=c[++d],w=c[++d];Du(y,p),w(2,o[p])}}}finally{Js(-1)}}(s,o);const w=s.components;null!==w&&function jw(s,o){for(let c=0;c<o.length;c++)FT(s,o[c])}(o,w);const E=s.viewQuery;if(null!==E&&W_(2,E,d),!p)if(y){const I=s.viewCheckHooks;null!==I&&Dc(o,I)}else{const I=s.viewHooks;null!==I&&_l(o,I,2),er(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),p||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Cs(o[3],-1))}finally{So()}}function Th(s,o,c,d){const h=o[10],p=!ia(),y=ws(o);try{p&&!y&&h.begin&&h.begin(),y&&Wl(s,o,d),Lo(s,o,c,d)}finally{p&&!y&&h.end&&h.end()}}function Hw(s,o,c,d,h){const p=Kr(),y=2&d;try{Js(-1),y&&o.length>20&&v_(s,o,20,ia()),c(d,h)}finally{Js(p)}}function xp(s,o,c){if(ka(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,c[p],p)}}}function Rp(s,o,c){!ra()||(function RT(s,o,c,d){const h=c.directiveStart,p=c.directiveEnd;s.firstCreatePass||yn(c,o),Ti(d,o);const y=c.initialInputs;for(let w=h;w<p;w++){const E=s.data[w],I=Vi(E);I&&PT(o,c,E);const x=Br(o,s,w,c);Ti(x,o),null!==y&&Yw(0,w-h,x,E,0,y),I&&(Wr(c.index,o)[8]=x)}}(s,o,c,Tr(c,o)),128==(128&c.flags)&&function Zw(s,o,c){const d=c.directiveStart,h=c.directiveEnd,y=c.index,w=function ja(){return Ct.lFrame.currentDirectiveIndex}();try{Js(y);for(let E=d;E<h;E++){const I=s.data[E],x=o[E];yc(E),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&B_(I,x)}}finally{Js(-1),yc(w)}}(s,o,c))}function Sh(s,o,c=Tr){const d=o.localNames;if(null!==d){let h=o.index+1;for(let p=0;p<d.length;p+=2){const y=d[p+1],w=-1===y?c(o,s):s[y];s[h++]=w}}}function P_(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Hc(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Hc(s,o,c,d,h,p,y,w,E,I){const x=20+d,L=x+h,$=function N_(s,o){const c=[];for(let d=0;d<o;d++)c.push(d<s?null:Ut);return c}(x,L),J="function"==typeof I?I():I;return $[1]={type:s,blueprint:$,template:c,queries:null,viewQuery:w,declTNode:o,data:$.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:E,consts:J,incompleteFirstPass:!1}}function L_(s,o,c,d){const h=jT(o);null===c?h.push(d):(h.push(c),s.firstCreatePass&&Fp(s).push(d,h.length-1))}function kp(s,o,c){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(o,h):c[d]=[o,h]}return c}function us(s,o,c,d,h,p,y,w){const E=Tr(o,c);let x,I=o.inputs;!w&&null!=I&&(x=I[d])?(Xw(s,c,x,d,h),Zo(o)&&function AT(s,o){const c=Wr(o,s);16&c[2]||(c[2]|=64)}(c,o.index)):3&o.type&&(d=function Op(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=y?y(h,o.value||"",d):h,Tn(p)?p.setProperty(E,d,h):Vr(d)||(E.setProperty?E.setProperty(d,h):E[d]=h))}function $w(s,o,c,d){let h=!1;if(ra()){const p=function Mh(s,o,c){const d=s.directiveRegistry;let h=null;if(d)for(let p=0;p<d.length;p++){const y=d[p];g_(c,y.selectors,!1)&&(h||(h=[]),Ao(yn(c,o),s,y.type),Vi(y)?(Ww(s,c),h.unshift(y)):h.push(y))}return h}(s,o,c),y=null===d?null:{"":-1};if(null!==p){h=!0,OT(c,s.data.length,p.length);for(let x=0;x<p.length;x++){const L=p[x];L.providersResolver&&L.providersResolver(L)}let w=!1,E=!1,I=ga(s,o,p.length,null);for(let x=0;x<p.length;x++){const L=p[x];c.mergedAttrs=_n(c.mergedAttrs,L.hostAttrs),U_(s,c,o,I,L),kT(I,L,y),null!==L.contentQueries&&(c.flags|=8),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(c.flags|=128);const $=L.type.prototype;!w&&($.ngOnChanges||$.ngOnInit||$.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(c.index),w=!0),!E&&($.ngOnChanges||$.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(c.index),E=!0),I++}!function V_(s,o){const d=o.directiveEnd,h=s.data,p=o.attrs,y=[];let w=null,E=null;for(let I=o.directiveStart;I<d;I++){const x=h[I],L=x.inputs,$=null===p||m_(o)?null:H_(L,p);y.push($),w=kp(L,I,w),E=kp(x.outputs,I,E)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=w,o.outputs=E}(s,c)}y&&function Kw(s,o,c){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=c[o[h+1]];if(null==p)throw new Ne(-301,!1);d.push(o[h],p)}}}(c,d,y)}return c.mergedAttrs=_n(c.mergedAttrs,c.attrs),h}function qw(s,o,c,d,h,p){const y=p.hostBindings;if(y){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const E=~o.index;(function zw(s){let o=s.length;for(;o>0;){const c=s[--o];if("number"==typeof c&&c<0)return c}return 0})(w)!=E&&w.push(E),w.push(d,h,y)}}function B_(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Ww(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function kT(s,o,c){if(c){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)c[o.exportAs[d]]=s;Vi(o)&&(c[""]=s)}}function OT(s,o,c){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+c,s.providerIndexes=o}function U_(s,o,c,d,h){s.data[d]=h;const p=h.factory||(h.factory=bi(h.type)),y=new yl(p,Vi(h),null);s.blueprint[d]=y,c[d]=y,qw(s,o,0,d,ga(s,c,h.hostVars,Ut),h)}function PT(s,o,c){const d=Tr(o,s),h=P_(c),p=s[10],y=Rh(s,jc(s,h,null,c.onPush?64:16,d,o,p,p.createRenderer(d,c),null,null));s[o.index]=y}function Vo(s,o,c,d,h,p){const y=Tr(s,o);!function j_(s,o,c,d,h,p,y){if(null==p)Tn(s)?s.removeAttribute(o,h,c):o.removeAttribute(h);else{const w=null==y?_e(p):y(p,d||"",h);Tn(s)?s.setAttribute(o,h,w,c):c?o.setAttributeNS(c,h,w):o.setAttribute(h,w)}}(o[11],y,p,s.value,c,d,h)}function Yw(s,o,c,d,h,p){const y=p[o];if(null!==y){const w=d.setInput;for(let E=0;E<y.length;){const I=y[E++],x=y[E++],L=y[E++];null!==w?d.setInput(c,L,I,x):c[x]=L}}}function H_(s,o){let c=null,d=0;for(;d<o.length;){const h=o[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===c&&(c=[]),c.push(h,s[h],o[d+1])),d+=2}else d+=2;else d+=4}return c}function G_(s,o,c,d){return new Array(s,!0,!1,o,null,0,d,c,null,null)}function FT(s,o){const c=Wr(o,s);if(Do(c)){const d=c[1];80&c[2]?Lo(d,c,d.template,c[8]):c[5]>0&&xh(c)}}function xh(s){for(let d=fp(s);null!==d;d=l_(d))for(let h=10;h<d.length;h++){const p=d[h];if(1024&p[2]){const y=p[1];Lo(y,p,y.template,p[8])}else p[5]>0&&xh(p)}const c=s[1].components;if(null!==c)for(let d=0;d<c.length;d++){const h=Wr(c[d],s);Do(h)&&h[5]>0&&xh(h)}}function LT(s,o){const c=Wr(o,s),d=c[1];(function $_(s,o){for(let c=o.length;c<s.blueprint.length;c++)o.push(s.blueprint[c])})(d,c),Wl(d,c,c[8])}function Rh(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function q_(s){for(;s;){s[2]|=64;const o=ph(s);if(hc(s)&&!o)return s;s=o}return null}function Np(s,o,c){const d=o[10];d.begin&&d.begin();try{Lo(s,o,s.template,c)}catch(h){throw K_(o,h),h}finally{d.end&&d.end()}}function Qw(s){!function z_(s){for(let o=0;o<s.components.length;o++){const c=s.components[o],d=e_(c),h=d[1];Th(h,d,h.template,c)}}(s[8])}function W_(s,o,c){vc(0),o(s,c)}const UT=(()=>Promise.resolve(null))();function jT(s){return s[7]||(s[7]=[])}function Fp(s){return s.cleanup||(s.cleanup=[])}function Jw(s,o,c){return(null===s||Vi(s))&&(c=function mc(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(c[o.index])),c[11]}function K_(s,o){const c=s[9],d=c?c.get(fh,null):null;d&&d.handleError(o)}function Xw(s,o,c,d,h){for(let p=0;p<c.length;){const y=c[p++],w=c[p++],E=o[y],I=s.data[y];null!==I.setInput?I.setInput(E,h,d,w):E[w]=h}}function _a(s,o,c){const d=Ws(o,s);!function mw(s,o,c){Tn(s)?s.setValue(o,c):o.textContent=c}(s[11],d,c)}function ya(s,o,c){let d=c?s.styles:null,h=c?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const w=o[y];"number"==typeof w?p=w:1==p?h=be(h,w):2==p&&(d=be(d,w+": "+o[++y]+";"))}c?s.styles=d:s.stylesWithoutHost=d,c?s.classes=h:s.classesWithoutHost=h}const Lp=new Gn("INJECTOR",-1);class t0{get(o,c=oo){if(c===oo){const d=new Error(`NullInjectorError: No provider for ${ue(o)}!`);throw d.name="NullInjectorError",d}return c}}const Y_=new Gn("Set Injector scope."),Bo={},n0={};let Q_;function J_(){return void 0===Q_&&(Q_=new t0),Q_}function r0(s,o=null,c=null,d){const h=X_(s,o,c,d);return h._resolveInjectorDefTypes(),h}function X_(s,o=null,c=null,d){return new GT(s,c,o||J_(),d)}class GT{constructor(o,c,d,h=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];c&&Gi(c,w=>this.processProvider(w,o,c)),Gi([o],w=>this.processInjectorType(w,[],p)),this.records.set(Lp,kh(void 0,this));const y=this.records.get(Y_);this.scope=null!=y?y.value:null,this.source=h||("object"==typeof o?null:ue(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,c=oo,d=_t.Default){this.assertNotDestroyed();const h=ge(this),p=on(void 0);try{if(!(d&_t.SkipSelf)){let w=this.records.get(o);if(void 0===w){const E=function Up(s){return"function"==typeof s||"object"==typeof s&&s instanceof Gn}(o)&&Pn(o);w=E&&this.injectableDefInScope(E)?kh(Vp(o),Bo):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(d&_t.Self?J_():this.parent).get(o,c=d&_t.Optional&&c===oo?null:c)}catch(y){if("NullInjectorError"===y.name){if((y[Ol]=y[Ol]||[]).unshift(ue(o)),h)throw y;return function ao(s,o,c,d){const h=s[Ol];throw o[B]&&h.unshift(o[B]),s.message=function Ms(s,o,c,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=ue(o);if(Array.isArray(o))h=o.map(ue).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let w=o[y];p.push(y+":"+("string"==typeof w?JSON.stringify(w):ue(w)))}h=`{${p.join(", ")}}`}return`${c}${d?"("+d+")":""}[${h}]: ${s.replace(S,"\n  ")}`}("\n"+s.message,h,c,d),s.ngTokenPath=h,s[Ol]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{on(p),ge(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((d,h)=>o.push(ue(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ne(205,!1)}processInjectorType(o,c,d){if(!(o=te(o)))return!1;let h=es(o);const p=null==h&&o.ngModule||void 0,y=void 0===p?o:p,w=-1!==d.indexOf(y);if(void 0!==p&&(h=es(p)),null==h)return!1;if(null!=h.imports&&!w){let x;d.push(y);try{Gi(h.imports,L=>{this.processInjectorType(L,c,d)&&(void 0===x&&(x=[]),x.push(L))})}finally{}if(void 0!==x)for(let L=0;L<x.length;L++){const{ngModule:$,providers:J}=x[L];Gi(J,Ce=>this.processProvider(Ce,$,J||vt))}}this.injectorDefTypes.add(y);const E=bi(y)||(()=>new y);this.records.set(y,kh(E,Bo));const I=h.providers;if(null!=I&&!w){const x=o;Gi(I,L=>this.processProvider(L,x,I))}return void 0!==p&&void 0!==o.providers}processProvider(o,c,d){let h=Gc(o=te(o))?o:te(o&&o.provide);const p=function s0(s,o,c){return zT(s)?kh(void 0,s.useValue):kh(qT(s),Bo)}(o);if(Gc(o)||!0!==o.multi)this.records.get(h);else{let y=this.records.get(h);y||(y=kh(void 0,Bo,!0),y.factory=()=>At(y.multi),this.records.set(h,y)),h=o,y.multi.push(o)}this.records.set(h,p)}hydrate(o,c){return c.value===Bo&&(c.value=n0,c.value=c.factory()),"object"==typeof c.value&&c.value&&function Uk(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this.onDestroy.add(c.value),c.value}injectableDefInScope(o){if(!o.providedIn)return!1;const c=te(o.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function Vp(s){const o=Pn(s),c=null!==o?o.factory:bi(s);if(null!==c)return c;if(s instanceof Gn)throw new Ne(204,!1);if(s instanceof Function)return function $T(s){const o=s.length;if(o>0)throw di(o,"?"),new Ne(204,!1);const c=function kr(s){const o=s&&(s[_i]||s[Dr]);if(o){const c=function Er(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),o}return null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new Ne(204,!1)}function qT(s,o,c){let d;if(Gc(s)){const h=te(s);return bi(h)||Vp(h)}if(zT(s))d=()=>te(s.useValue);else if(function ZT(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...At(s.deps||[]));else if(function o0(s){return!(!s||!s.useExisting)}(s))d=()=>ot(te(s.useExisting));else{const h=te(s&&(s.useClass||s.provide));if(!function Bp(s){return!!s.deps}(s))return bi(h)||Vp(h);d=()=>new h(...At(s.deps))}return d}function kh(s,o,c=!1){return{factory:s,value:o,multi:c?[]:void 0}}function zT(s){return null!==s&&"object"==typeof s&&Q in s}function Gc(s){return"function"==typeof s}let yt=(()=>{class s{static create(c,d){var h;if(Array.isArray(c))return r0({name:""},d,c,"");{const p=null!==(h=c.name)&&void 0!==h?h:"";return r0({name:p},c.parent,c.providers,p)}}}return s.THROW_IF_NOT_FOUND=oo,s.NULL=new t0,s.\u0275prov=sn({token:s,providedIn:"any",factory:()=>ot(Lp)}),s.__NG_ELEMENT_ID__=-1,s})();function Gk(s,o){Ga(e_(s)[1],wn())}function d0(s){let o=function rS(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const d=[s];for(;o;){let h;if(Vi(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ne(903,"");h=o.\u0275dir}if(h){if(c){d.push(h);const y=s;y.inputs=Hp(s.inputs),y.declaredInputs=Hp(s.declaredInputs),y.outputs=Hp(s.outputs);const w=h.hostBindings;w&&Xr(s,w);const E=h.viewQuery,I=h.contentQueries;if(E&&iS(s,E),I&&sS(s,I),re(s.inputs,h.inputs),re(s.declaredInputs,h.declaredInputs),re(s.outputs,h.outputs),Vi(h)&&h.data.animation){const x=s.data;x.animation=(x.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const w=p[y];w&&w.ngInherit&&w(s),w===d0&&(c=!1)}}o=Object.getPrototypeOf(o)}!function we(s){let o=0,c=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=_n(h.hostAttrs,c=_n(c,h.hostAttrs))}}(d)}function Hp(s){return s===an?{}:s===vt?[]:s}function iS(s,o){const c=s.viewQuery;s.viewQuery=c?(d,h)=>{o(d,h),c(d,h)}:o}function sS(s,o){const c=s.contentQueries;s.contentQueries=c?(d,h,p)=>{o(d,h,p),c(d,h,p)}:o}function Xr(s,o){const c=s.hostBindings;s.hostBindings=c?(d,h)=>{o(d,h),c(d,h)}:o}let $p=null;function Ju(){if(!$p){const s=Zt.Symbol;if(s&&s.iterator)$p=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<o.length;++c){const d=o[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&($p=d)}}}return $p}function Xu(s){return!!ry(s)&&(Array.isArray(s)||!(s instanceof Map)&&Ju()in s)}function ry(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Gr(s,o,c){return!Object.is(s[o],c)&&(s[o]=c,!0)}function ed(s,o,c,d){const h=Ae();return Gr(h,aa(),o)&&(Ht(),Vo(Hn(),h,s,o,c,d)),ed}function Ql(s,o,c,d){return Gr(s,aa(),c)?o+_e(c)+d:Ut}function ly(s,o,c,d,h,p,y,w){const E=Ae(),I=Ht(),x=s+20,L=I.firstCreatePass?function ay(s,o,c,d,h,p,y,w,E){const I=o.consts,x=Eh(o,s,4,y||null,Ui(I,w));$w(o,c,x,Ui(I,E)),Ga(o,x);const L=x.tViews=Hc(2,x,d,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,I);return null!==o.queries&&(o.queries.template(o,x),L.queries=o.queries.embeddedTView(x)),x}(x,I,E,o,c,d,h,p,y):I.data[x];ji(L,!1);const $=E[11].createComment("");Yu(I,E,$,L),Ti($,E),Rh(E,E[x]=G_($,E,$,L)),Wo(L)&&Rp(I,E,L),null!=y&&Sh(E,L,w)}function g0(s){return function wi(s,o){return s[o]}(function _c(){return Ct.lFrame.contextLView}(),20+s)}function Xp(s,o=_t.Default){const c=Ae();return null===c?ot(s,o):wl(wn(),c,te(s),o)}function bS(){throw new Error("invalid")}function Vh(s,o,c){const d=Ae();return Gr(d,aa(),o)&&us(Ht(),Hn(),d,s,o,d[11],c,!1),Vh}function I0(s,o,c,d,h){const y=h?"class":"style";Xw(s,c,o.inputs[y],y,d)}function Bh(s,o,c,d){const h=Ae(),p=Ht(),y=20+s,w=h[11],E=h[y]=br(w,o,function Su(){return Ct.lFrame.currentNamespace}()),I=p.firstCreatePass?function wS(s,o,c,d,h,p,y){const w=o.consts,I=Eh(o,s,2,h,Ui(w,p));return $w(o,c,I,Ui(w,y)),null!==I.attrs&&ya(I,I.attrs,!1),null!==I.mergedAttrs&&ya(I,I.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,I),I}(y,p,h,0,o,c,d):p.data[y];ji(I,!0);const x=I.mergedAttrs;null!==x&&ct(w,E,x);const L=I.classes;null!==L&&p_(w,E,L);const $=I.styles;return null!==$&&f_(w,E,$),64!=(64&I.flags)&&Yu(p,h,E,I),0===function Cu(){return Ct.lFrame.elementDepthCount}()&&Ti(E,h),function na(){Ct.lFrame.elementDepthCount++}(),Wo(I)&&(Rp(p,h,I),xp(p,I,h)),null!==d&&Sh(h,I),Bh}function em(){let s=wn();gc()?Ua():(s=s.parent,ji(s,!1));const o=s;!function Eu(){Ct.lFrame.elementDepthCount--}();const c=Ht();return c.firstCreatePass&&(Ga(c,s),ka(s)&&c.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Yd(s){return 0!=(16&s.flags)}(o)&&I0(c,o,Ae(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function $g(s){return 0!=(32&s.flags)}(o)&&I0(c,o,Ae(),o.stylesWithoutHost,!1),em}function tm(s,o,c,d){return Bh(s,o,c,d),em(),tm}function my(s,o,c){const d=Ae(),h=Ht(),p=s+20,y=h.firstCreatePass?function nm(s,o,c,d,h){const p=o.consts,y=Ui(p,d),w=Eh(o,s,8,"ng-container",y);return null!==y&&ya(w,y,!0),$w(o,c,w,Ui(p,h)),null!==o.queries&&o.queries.elementStart(o,w),w}(p,h,d,o,c):h.data[p];ji(y,!0);const w=d[p]=d[11].createComment("");return Yu(h,d,w,y),Ti(w,d),Wo(y)&&(Rp(h,d,y),xp(h,y,d)),null!=c&&Sh(d,y),my}function ld(){let s=wn();const o=Ht();return gc()?Ua():(s=s.parent,ji(s,!1)),o.firstCreatePass&&(Ga(o,s),ka(s)&&o.queries.elementEnd(s)),ld}function M0(s,o,c){return my(s,o,c),ld(),M0}function x0(){return Ae()}function R0(s){return!!s&&"function"==typeof s.then}function k0(s){return!!s&&"function"==typeof s.subscribe}const O0=k0;function P0(s,o,c,d){const h=Ae(),p=Ht(),y=wn();return ES(p,h,h[11],y,s,o,!!c,d),P0}function N0(s,o){const c=wn(),d=Ae(),h=Ht();return ES(h,d,Jw(Ys(h.data),c,d),c,s,o,!1),N0}function ES(s,o,c,d,h,p,y,w){const E=Wo(d),x=s.firstCreatePass&&Fp(s),L=o[8],$=jT(o);let J=!0;if(3&d.type||w){const qe=Tr(d,o),st=w?w(qe):qe,Me=$.length,Et=w?Kt=>w(mn(Kt[d.index])):d.index;if(Tn(c)){let Kt=null;if(!w&&E&&(Kt=function CS(s,o,c,d){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===c&&h[p+1]===d){const w=o[7],E=h[p+2];return w.length>E?w[E]:null}"string"==typeof y&&(p+=2)}return null}(s,o,h,d.index)),null!==Kt)(Kt.__ngLastListenerFn__||Kt).__ngNextListenerFn__=p,Kt.__ngLastListenerFn__=p,J=!1;else{p=F0(d,o,L,p,!1);const Sn=c.listen(st,h,p);$.push(p,Sn),x&&x.push(h,Et,Me,Me+1)}}else p=F0(d,o,L,p,!0),st.addEventListener(h,p,y),$.push(p),x&&x.push(h,Et,Me,y)}else p=F0(d,o,L,p,!1);const Ce=d.outputs;let Ve;if(J&&null!==Ce&&(Ve=Ce[h])){const qe=Ve.length;if(qe)for(let st=0;st<qe;st+=2){const Ns=o[Ve[st]][Ve[st+1]].subscribe(p),nu=$.length;$.push(p,Ns),x&&x.push(h,d.index,nu,-(nu+1))}}}function DS(s,o,c,d){try{return!1!==c(d)}catch(h){return K_(s,h),!1}}function F0(s,o,c,d,h){return function p(y){if(y===Function)return d;const w=2&s.flags?Wr(s.index,o):o;0==(32&o[2])&&q_(w);let E=DS(o,0,d,y),I=p.__ngNextListenerFn__;for(;I;)E=DS(o,0,I,y)&&E,I=I.__ngNextListenerFn__;return h&&!1===E&&(y.preventDefault(),y.returnValue=!1),E}}function TS(s=1){return function Qs(s){return(Ct.lFrame.contextLView=function Cc(s,o){for(;s>0;)o=o[15],s--;return o}(s,Ct.lFrame.contextLView))[8]}(s)}function Kk(s,o){let c=null;const d=function xw(s){const o=s.attrs;if(null!=o){const c=o.indexOf(5);if(0==(1&c))return o[c+1]}return null}(s);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===d?g_(s,p,!0):Ow(d,p))return h}else c=h}return c}function rm(s){const o=Ae()[16][6];if(!o.projection){const d=o.projection=di(s?s.length:1,null),h=d.slice();let p=o.child;for(;null!==p;){const y=s?Kk(p,s):0;null!==y&&(h[y]?h[y].projectionNext=p:d[y]=p,h[y]=p),p=p.next}}}function L0(s,o=0,c){const d=Ae(),h=Ht(),p=Eh(h,20+s,16,null,c||null);null===p.projection&&(p.projection=o),Ua(),64!=(64&p.flags)&&function Aw(s,o,c){$l(o[11],0,o,c,vT(s,c,o),Cw(c.parent||o[6],c,o))}(h,d,p)}function im(s,o,c){return sm(s,"",o,"",c),im}function sm(s,o,c,d,h){const p=Ae(),y=Ql(p,o,c,d);return y!==Ut&&us(Ht(),Hn(),p,s,y,p[11],h,!1),sm}function B0(s,o,c,d,h){const p=s[c+1],y=null===o;let w=d?ho(p):No(p),E=!1;for(;0!==w&&(!1===E||y);){const x=s[w+1];Zc(s[w],o)&&(E=!0,s[w+1]=d?Sp(x):Dp(x)),w=d?ho(x):No(x)}E&&(s[c+1]=d?Dp(p):Sp(p))}function Zc(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&io(s,o)>=0}const ei={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ud(s){return s.substring(ei.key,ei.keyEnd)}function ti(s,o){const c=ei.textEnd;return c===o?-1:(o=ei.keyEnd=function jh(s,o,c){for(;o<c&&s.charCodeAt(o)>32;)o++;return o}(s,ei.key=o,c),Kc(s,o,c))}function Kc(s,o,c){for(;o<c&&s.charCodeAt(o)<=32;)o++;return o}function j0(s,o,c){return ks(s,o,c,!1),j0}function Gh(s,o){return ks(s,o,null,!0),Gh}function Ii(s,o){for(let c=function wy(s){return function Cy(s){ei.key=0,ei.keyEnd=0,ei.value=0,ei.valueEnd=0,ei.textEnd=s.length}(s),ti(s,Kc(s,0,ei.textEnd))}(o);c>=0;c=ti(o,c))hi(s,ud(o),!0)}function ks(s,o,c,d){const h=Ae(),p=Ht(),y=ci(2);p.firstUpdatePass&&H0(p,s,y,d),o!==Ut&&Gr(h,y,o)&&OS(p,p.data[Kr()],h,h[11],s,h[y+1]=function NS(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ue(xs(s)))),s}(o,c),d,y)}function xS(s,o){return o>=s.expandoStartIndex}function H0(s,o,c,d){const h=s.data;if(null===h[c+1]){const p=h[Kr()],y=xS(s,c);Ay(p,d)&&null===o&&!y&&(o=!1),o=function Xk(s,o,c,d){const h=Ys(s);let p=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(c=am(c=Ty(null,s,o,c,d),o.attrs,d),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==h)if(c=Ty(h,s,o,c,d),null===p){let E=function Dy(s,o,c){const d=c?o.classBindings:o.styleBindings;if(0!==No(d))return s[ho(d)]}(s,o,d);void 0!==E&&Array.isArray(E)&&(E=Ty(null,s,o,E[1],d),E=am(E,o.attrs,d),function RS(s,o,c,d){s[ho(c?o.classBindings:o.styleBindings)]=d}(s,o,d,E))}else p=function kS(s,o,c){let d;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)d=am(d,s[p].hostAttrs,c);return am(d,o.attrs,c)}(s,o,d)}return void 0!==p&&(d?o.residualClasses=p:o.residualStyles=p),c}(h,p,o,d),function SS(s,o,c,d,h,p){let y=p?o.classBindings:o.styleBindings,w=ho(y),E=No(y);s[d]=c;let x,I=!1;if(Array.isArray(c)){const L=c;x=L[1],(null===x||io(L,x)>0)&&(I=!0)}else x=c;if(h)if(0!==E){const $=ho(s[w+1]);s[d+1]=Ep($,w),0!==$&&(s[$+1]=Tp(s[$+1],d)),s[w+1]=function C_(s,o){return 131071&s|o<<17}(s[w+1],d)}else s[d+1]=Ep(w,0),0!==w&&(s[w+1]=Tp(s[w+1],d)),w=d;else s[d+1]=Ep(E,0),0===w?w=d:s[E+1]=Tp(s[E+1],d),E=d;I&&(s[d+1]=Dp(s[d+1])),B0(s,x,d,!0),B0(s,x,d,!1),function IS(s,o,c,d,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&io(p,o)>=0&&(c[d+1]=Sp(c[d+1]))}(o,x,s,d,p),y=Ep(w,E),p?o.classBindings=y:o.styleBindings=y}(h,p,o,c,y,d)}}function Ty(s,o,c,d,h){let p=null;const y=c.directiveEnd;let w=c.directiveStylingLast;for(-1===w?w=c.directiveStart:w++;w<y&&(p=o[w],d=am(d,p.hostAttrs,h),p!==s);)w++;return null!==s&&(c.directiveStylingLast=w),d}function am(s,o,c){const d=c?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?h=y:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),hi(s,y,!!c||o[++p]))}return void 0===s?null:s}function OS(s,o,c,d,h,p,y,w){if(!(3&o.type))return;const E=s.data,I=E[w+1];lm(function E_(s){return 1==(1&s)}(I)?PS(E,o,c,h,No(I),y):void 0)||(lm(p)||function w_(s){return 2==(2&s)}(I)&&(p=PS(E,null,c,h,w,y)),function wT(s,o,c,d,h){const p=Tn(s);if(o)h?p?s.addClass(c,d):c.classList.add(d):p?s.removeClass(c,d):c.classList.remove(d);else{let y=-1===d.indexOf("-")?void 0:pa.DashCase;if(null==h)p?s.removeStyle(c,d,y):c.style.removeProperty(d);else{const w="string"==typeof h&&h.endsWith("!important");w&&(h=h.slice(0,-10),y|=pa.Important),p?s.setStyle(c,d,h,y):c.style.setProperty(d,h,w?"important":"")}}}(d,y,Ws(Kr(),c),h,p))}function PS(s,o,c,d,h,p){const y=null===o;let w;for(;h>0;){const E=s[h],I=Array.isArray(E),x=I?E[1]:E,L=null===x;let $=c[h+1];$===Ut&&($=L?vt:void 0);let J=L?Ml($,d):x===d?$:void 0;if(I&&!lm(J)&&(J=Ml(E,d)),lm(J)&&(w=J,y))return w;const Ce=s[h+1];h=y?ho(Ce):No(Ce)}if(null!==o){let E=p?o.residualClasses:o.residualStyles;null!=E&&(w=Ml(E,d))}return w}function lm(s){return void 0!==s}function Ay(s,o){return 0!=(s.flags&(o?16:32))}function cm(s,o=""){const c=Ae(),d=Ht(),h=s+20,p=d.firstCreatePass?Eh(d,h,1,o,null):d.data[h],y=c[h]=function pp(s,o){return Tn(s)?s.createText(o):s.createTextNode(o)}(c[11],o);Yu(d,c,y,p),ji(p,!1)}function um(s){return dd("",s,""),um}function dd(s,o,c){const d=Ae(),h=Ql(d,s,o,c);return h!==Ut&&_a(d,Kr(),h),dd}function GS(s,o,c){!function Ca(s,o,c,d){const h=Ht(),p=ci(2);h.firstUpdatePass&&H0(h,null,p,d);const y=Ae();if(c!==Ut&&Gr(y,p,c)){const w=h.data[Kr()];if(Ay(w,d)&&!xS(h,p)){let E=d?w.classesWithoutHost:w.stylesWithoutHost;null!==E&&(c=be(E,c||"")),I0(h,w,y,c,d)}else!function Iy(s,o,c,d,h,p,y,w){h===Ut&&(h=vt);let E=0,I=0,x=0<h.length?h[0]:null,L=0<p.length?p[0]:null;for(;null!==x||null!==L;){const $=E<h.length?h[E+1]:void 0,J=I<p.length?p[I+1]:void 0;let Ve,Ce=null;x===L?(E+=2,I+=2,$!==J&&(Ce=L,Ve=J)):null===L||null!==x&&x<L?(E+=2,Ce=x):(I+=2,Ce=L,Ve=J),null!==Ce&&OS(s,o,c,d,Ce,Ve,y,w),x=E<h.length?h[E]:null,L=I<p.length?p[I]:null}}(h,w,y,y[11],y[p+1],y[p+1]=function eO(s,o,c){if(null==c||""===c)return vt;const d=[],h=xs(c);if(Array.isArray(h))for(let p=0;p<h.length;p++)s(d,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&s(d,p,h[p]);else"string"==typeof h&&o(d,h);return d}(s,o,c),d,p)}}(hi,Ii,Ql(Ae(),s,o,c),!0)}function q0(s,o,c){const d=Ae();return Gr(d,aa(),o)&&us(Ht(),Hn(),d,s,o,d[11],c,!0),q0}function z0(s,o,c){const d=Ae();if(Gr(d,aa(),o)){const p=Ht(),y=Hn();us(p,y,d,s,o,Jw(Ys(p.data),y,d),c,!0)}return z0}const hd=void 0;var _O=["en",[["a","p"],["AM","PM"],hd],[["AM","PM"],hd,hd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],hd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],hd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",hd,"{1} 'at' {0}",hd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function gO(s){const c=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let $h={};function Z0(s){const o=function vO(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=eI(o);if(c)return c;const d=o.split("-")[0];if(c=eI(d),c)return c;if("en"===d)return _O;throw new Error(`Missing locale data for the locale "${s}".`)}function W0(s){return Z0(s)[Mt.PluralCase]}function eI(s){return s in $h||($h[s]=Zt.ng&&Zt.ng.common&&Zt.ng.common.locales&&Zt.ng.common.locales[s]),$h[s]}var Mt=(()=>((Mt=Mt||{})[Mt.LocaleId=0]="LocaleId",Mt[Mt.DayPeriodsFormat=1]="DayPeriodsFormat",Mt[Mt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Mt[Mt.DaysFormat=3]="DaysFormat",Mt[Mt.DaysStandalone=4]="DaysStandalone",Mt[Mt.MonthsFormat=5]="MonthsFormat",Mt[Mt.MonthsStandalone=6]="MonthsStandalone",Mt[Mt.Eras=7]="Eras",Mt[Mt.FirstDayOfWeek=8]="FirstDayOfWeek",Mt[Mt.WeekendRange=9]="WeekendRange",Mt[Mt.DateFormat=10]="DateFormat",Mt[Mt.TimeFormat=11]="TimeFormat",Mt[Mt.DateTimeFormat=12]="DateTimeFormat",Mt[Mt.NumberSymbols=13]="NumberSymbols",Mt[Mt.NumberFormats=14]="NumberFormats",Mt[Mt.CurrencyCode=15]="CurrencyCode",Mt[Mt.CurrencySymbol=16]="CurrencySymbol",Mt[Mt.CurrencyName=17]="CurrencyName",Mt[Mt.Currencies=18]="Currencies",Mt[Mt.Directionality=19]="Directionality",Mt[Mt.PluralCase=20]="PluralCase",Mt[Mt.ExtraData=21]="ExtraData",Mt))();const My="en-US";let tI=My;function Fy(s,o,c,d,h){if(s=te(s),Array.isArray(s))for(let p=0;p<s.length;p++)Fy(s[p],o,c,d,h);else{const p=Ht(),y=Ae();let w=Gc(s)?s:te(s.provide),E=qT(s);const I=wn(),x=1048575&I.providerIndexes,L=I.directiveStart,$=I.providerIndexes>>20;if(Gc(s)||!s.multi){const J=new yl(E,h,Xp),Ce=Vy(w,o,h?x:x+$,L);-1===Ce?(Ao(yn(I,y),p,w),Ly(p,s,o.length),o.push(w),I.directiveStart++,I.directiveEnd++,h&&(I.providerIndexes+=1048576),c.push(J),y.push(J)):(c[Ce]=J,y[Ce]=J)}else{const J=Vy(w,o,x+$,L),Ce=Vy(w,o,x,x+$),Ve=J>=0&&c[J],qe=Ce>=0&&c[Ce];if(h&&!qe||!h&&!Ve){Ao(yn(I,y),p,w);const st=function YO(s,o,c,d,h){const p=new yl(s,c,Xp);return p.multi=[],p.index=o,p.componentProviders=0,nC(p,h,d&&!c),p}(h?KO:WO,c.length,h,d,E);!h&&qe&&(c[Ce].providerFactory=st),Ly(p,s,o.length,0),o.push(w),I.directiveStart++,I.directiveEnd++,h&&(I.providerIndexes+=1048576),c.push(st),y.push(st)}else Ly(p,s,J>-1?J:Ce,nC(c[h?Ce:J],E,!h&&d));!h&&d&&qe&&c[Ce].componentProviders++}}}function Ly(s,o,c,d){const h=Gc(o),p=function WT(s){return!!s.useClass}(o);if(h||p){const E=(p?te(o.useClass):o).prototype.ngOnDestroy;if(E){const I=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const x=I.indexOf(c);-1===x?I.push(c,[d,E]):I[x+1].push(d,E)}else I.push(c,E)}}}function nC(s,o,c){return c&&s.componentProviders++,s.multi.push(o)-1}function Vy(s,o,c,d){for(let h=c;h<d;h++)if(o[h]===s)return h;return-1}function WO(s,o,c,d){return rC(this.multi,[])}function KO(s,o,c,d){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=Br(c,c[1],this.providerFactory.index,d);p=w.slice(0,y),rC(h,p);for(let E=y;E<w.length;E++)p.push(w[E])}else p=[],rC(h,p);return p}function rC(s,o){for(let c=0;c<s.length;c++)o.push((0,s[c])());return o}function MI(s,o=[]){return c=>{c.providersResolver=(d,h)=>function AI(s,o,c){const d=Ht();if(d.firstCreatePass){const h=Vi(s);Fy(c,d.data,d.blueprint,h,!0),Fy(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class By{}class oC{resolveComponentFactory(o){throw function iC(s){const o=Error(`No component factory found for ${ue(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Da=(()=>{class s{}return s.NULL=new oC,s})();function xI(){return pd(wn(),Ae())}function pd(s,o){return new zh(Tr(s,o))}let zh=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=xI,s})();function RI(s){return s instanceof zh?s.nativeElement:s}class kI{}let OI=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function lC(){const s=Ae(),c=Wr(wn().index,s);return function bm(s){return s[11]}(Lr(c)?c:s)}(),s})(),XO=(()=>{class s{}return s.\u0275prov=sn({token:s,providedIn:"root",factory:()=>null}),s})();class Uy{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const jy=new Uy("13.2.3"),Zh={};function wm(s,o,c,d,h=!1){for(;null!==c;){const p=o[c.index];if(null!==p&&d.push(mn(p)),vi(p))for(let w=10;w<p.length;w++){const E=p[w],I=E[1].firstChild;null!==I&&wm(E[1],E,I,d)}const y=c.type;if(8&y)wm(s,o,c.child,d);else if(32&y){const w=o_(c,o);let E;for(;E=w();)d.push(E)}else if(16&y){const w=Tw(o,c);if(Array.isArray(w))d.push(...w);else{const E=ph(o[16]);wm(E[1],E,w,d,!0)}}c=h?c.projectionNext:c.next}return d}class Cm{constructor(o,c){this._lView=o,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,c=o[1];return wm(c,o,c.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(vi(o)){const c=o[8],d=c?c.indexOf(this):-1;d>-1&&(_p(o,d),ha(c,d))}this._attachedToViewContainer=!1}_w(this._lView[1],this._lView)}onDestroy(o){L_(this._lView[1],this._lView,null,o)}markForCheck(){q_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Np(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Z_(s,o,c){sa(!0);try{Np(s,o,c)}finally{sa(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ne(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function c_(s,o){mh(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ne(902,"");this._appRef=o}}class cC extends Cm{constructor(o){super(o),this._view=o}detectChanges(){Qw(this._view)}checkNoChanges(){!function VT(s){sa(!0);try{Qw(s)}finally{sa(!1)}}(this._view)}get context(){return null}}class uC extends Da{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const c=ze(o);return new Em(c,this.ngModule)}}function Ta(s){const o=[];for(let c in s)s.hasOwnProperty(c)&&o.push({propName:s[c],templateName:c});return o}const Yc=new Gn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>lw});class Em extends By{constructor(o,c){super(),this.componentDef=o,this.ngModule=c,this.componentType=o.type,this.selector=function Nw(s){return s.map(Pw).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return Ta(this.componentDef.inputs)}get outputs(){return Ta(this.componentDef.outputs)}create(o,c,d,h){const p=(h=h||this.ngModule)?function e1(s,o){return{get:(c,d,h)=>{const p=s.get(c,Zh,h);return p!==Zh||d===Zh?p:o.get(c,d,h)}}}(o,h.injector):o,y=p.get(kI,Co),w=p.get(XO,null),E=y.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",x=d?function F_(s,o,c){if(Tn(s))return s.selectRootElement(o,c===qt.ShadowDom);let d="string"==typeof o?s.querySelector(o):o;return d.textContent="",d}(E,d,this.componentDef.encapsulation):br(y.createRenderer(null,this.componentDef),I,function Wh(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(I)),L=this.componentDef.onPush?576:528,$=function nS(s,o){return{components:[],scheduler:s||lw,clean:UT,playerHandler:o||null,flags:0}}(),J=Hc(0,null,null,1,0,null,null,null,null,null),Ce=jc(null,J,$,L,null,null,y,E,w,p);let Ve,qe;Ha(Ce);try{const st=function eS(s,o,c,d,h,p){const y=c[1];c[20]=s;const E=Eh(y,20,2,"#host",null),I=E.mergedAttrs=o.hostAttrs;null!==I&&(ya(E,I,!0),null!==s&&(ct(h,s,I),null!==E.classes&&p_(h,s,E.classes),null!==E.styles&&f_(h,s,E.styles)));const x=d.createRenderer(s,o),L=jc(c,P_(o),null,o.onPush?64:16,c[20],E,d,x,p||null,null);return y.firstCreatePass&&(Ao(yn(E,c),y,o.type),Ww(y,E),OT(E,c.length,1)),Rh(c,L),c[20]=L}(x,this.componentDef,Ce,y,E);if(x)if(d)ct(E,x,["ng-version",jy.full]);else{const{attrs:Me,classes:Et}=function Cp(s){const o=[],c=[];let d=1,h=2;for(;d<s.length;){let p=s[d];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++d]):8===h&&c.push(p);else{if(!Po(h))break;h=p}d++}return{attrs:o,classes:c}}(this.componentDef.selectors[0]);Me&&ct(E,x,Me),Et&&Et.length>0&&p_(E,x,Et.join(" "))}if(qe=pl(J,20),void 0!==c){const Me=qe.projection=[];for(let Et=0;Et<this.ngContentSelectors.length;Et++){const Kt=c[Et];Me.push(null!=Kt?Array.from(Kt):null)}}Ve=function tS(s,o,c,d,h){const p=c[1],y=function Lk(s,o,c){const d=wn();s.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),U_(s,d,o,ga(s,o,1,null),c));const h=Br(o,s,d.directiveStart,d);Ti(h,o);const p=Tr(d,o);return p&&Ti(p,o),h}(p,c,o);if(d.components.push(y),s[8]=y,h&&h.forEach(E=>E(y,o)),o.contentQueries){const E=wn();o.contentQueries(1,y,E.directiveStart)}const w=wn();return!p.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Js(w.index),qw(c[1],w,0,w.directiveStart,w.directiveEnd,o),B_(o,y)),y}(st,this.componentDef,Ce,$,[Gk]),Wl(J,Ce,null)}finally{So()}return new t1(this.componentType,Ve,pd(qe,Ce),Ce,qe)}}class t1 extends class QO{}{constructor(o,c,d,h,p){super(),this.location=d,this._rootLView=h,this._tNode=p,this.instance=c,this.hostView=this.changeDetectorRef=new cC(h),this.componentType=o}get injector(){return new Cn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Kh{}class dC{}const Yh=new Map;class Qt extends Kh{constructor(o,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new uC(this);const d=Rt(o);this._bootstrapComponents=Oo(d.bootstrap),this._r3Injector=X_(o,c,[{provide:Kh,useValue:this},{provide:Da,useValue:this.componentFactoryResolver}],ue(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,c=yt.THROW_IF_NOT_FOUND,d=_t.Default){return o===yt||o===Kh||o===Lp?this:this._r3Injector.get(o,c,d)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class md extends dC{constructor(o){super(),this.moduleType=o,null!==Rt(o)&&function hC(s){const o=new Set;!function c(d){const h=Rt(d,!0),p=h.id;null!==p&&(function PI(s,o,c){if(o&&o!==c)throw new Error(`Duplicate module registered for ${s} - ${ue(o)} vs ${ue(o.name)}`)}(p,Yh.get(p),d),Yh.set(p,d));const y=Oo(h.imports);for(const w of y)o.has(w)||(o.add(w),c(w))}(s)}(o)}create(o){return new Qt(this.moduleType,o)}}function Gy(s){return o=>{setTimeout(s,void 0,o)}}const Sa=class QI extends l.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,c,d){var h,p,y;let w=o,E=c||(()=>null),I=d;if(o&&"object"==typeof o){const L=o;w=null===(h=L.next)||void 0===h?void 0:h.bind(L),E=null===(p=L.error)||void 0===p?void 0:p.bind(L),I=null===(y=L.complete)||void 0===y?void 0:y.bind(L)}this.__isAsync&&(E=Gy(E),w&&(w=Gy(w)),I&&(I=Gy(I)));const x=super.subscribe({next:w,error:E,complete:I});return o instanceof G.w0&&o.add(x),x}};function JI(){return this._results[Ju()]()}class Tm{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Ju(),d=Tm.prototype;d[c]||(d[c]=JI)}get changes(){return this._changes||(this._changes=new Sa)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,c){return this._results.reduce(o,c)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,c){const d=this;d.dirty=!1;const h=jr(o);(this._changesDetected=!function Sl(s,o,c){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],p=o[d];if(c&&(h=c(h),p=c(p)),p!==h)return!1}return!0}(d._results,h,c))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Xh=(()=>{class s{}return s.__NG_ELEMENT_ID__=tA,s})();const XI=Xh,eA=class extends XI{constructor(o,c,d){super(),this._declarationLView=o,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(o){const c=this._declarationTContainer.tViews,d=jc(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(d[19]=p.createEmbeddedView(c)),Wl(c,d,o),new Cm(d)}};function tA(){return Sm(wn(),Ae())}function Sm(s,o){return 4&s.type?new eA(o,s,pd(s,o)):null}let $y=(()=>{class s{}return s.__NG_ELEMENT_ID__=nA,s})();function nA(){return Mm(wn(),Ae())}const rA=$y,Im=class extends rA{constructor(o,c,d){super(),this._lContainer=o,this._hostTNode=c,this._hostLView=d}get element(){return pd(this._hostTNode,this._hostLView)}get injector(){return new Cn(this._hostTNode,this._hostLView)}get parentInjector(){const o=Yr(this._hostTNode,this._hostLView);if(Wn(o)){const c=Ds(o,this._hostLView),d=Xs(o);return new Cn(c[1].data[d+8],c)}return new Cn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const c=tl(this._lContainer);return null!==c&&c[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,c,d){const h=o.createEmbeddedView(c||{});return this.insert(h,d),h}createComponent(o,c,d,h,p){const y=o&&!function Tl(s){return"function"==typeof s}(o);let w;if(y)w=c;else{const L=c||{};w=L.index,d=L.injector,h=L.projectableNodes,p=L.ngModuleRef}const E=y?o:new Em(ze(o)),I=d||this.parentInjector;if(!p&&null==E.ngModule){const $=(y?I:this.parentInjector).get(Kh,null);$&&(p=$)}const x=E.create(I,h,void 0,p);return this.insert(x.hostView,w),x}insert(o,c){const d=o._lView,h=d[1];if(function ta(s){return vi(s[3])}(d)){const x=this.indexOf(o);if(-1!==x)this.detach(x);else{const L=d[3],$=new Im(L,L[6],L[3]);$.detach($.indexOf(o))}}const p=this._adjustIndex(c),y=this._lContainer;!function Ku(s,o,c,d){const h=10+d,p=c.length;d>0&&(c[h-1][4]=o),d<p-10?(o[4]=c[h],Wa(c,10+d,o)):(c.push(o),o[4]=null),o[3]=c;const y=o[17];null!==y&&c!==y&&function yT(s,o){const c=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===c?s[9]=[o]:c.push(o)}(y,o);const w=o[19];null!==w&&w.insertView(s),o[2]|=128}(h,d,y,p);const w=wp(p,y),E=d[11],I=vp(E,y[7]);return null!==I&&function mp(s,o,c,d,h,p){d[0]=h,d[6]=o,mh(s,d,c,1,h,p)}(h,y[6],E,d,I,w),o.attachToViewContainerRef(),Wa(Am(y),p,o),o}move(o,c){return this.insert(o,c)}indexOf(o){const c=tl(this._lContainer);return null!==c?c.indexOf(o):-1}remove(o){const c=this._adjustIndex(o,-1),d=_p(this._lContainer,c);d&&(ha(Am(this._lContainer),c),_w(d[1],d))}detach(o){const c=this._adjustIndex(o,-1),d=_p(this._lContainer,c);return d&&null!=ha(Am(this._lContainer),c)?new Cm(d):null}_adjustIndex(o,c=0){return null==o?this.length+c:o}};function tl(s){return s[8]}function Am(s){return s[8]||(s[8]=[])}function Mm(s,o){let c;const d=o[s.index];if(vi(d))c=d;else{let h;if(8&s.type)h=mn(d);else{const p=o[11];h=p.createComment("");const y=Tr(s,o);Gl(p,vp(p,y),h,function bT(s,o){return Tn(s)?s.nextSibling(o):o.nextSibling}(p,y),!1)}o[s.index]=c=G_(d,o,h,s),Rh(o,c)}return new Im(c,s,o)}class xm{constructor(o){this.queryList=o,this.matches=null}clone(){return new xm(this.queryList)}setDirty(){this.queryList.setDirty()}}class ef{constructor(o=[]){this.queries=o}createEmbeddedView(o){const c=o.queries;if(null!==c){const d=null!==o.contentQueries?o.contentQueries[0]:c.length,h=[];for(let p=0;p<d;p++){const y=c.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new ef(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let c=0;c<this.queries.length;c++)null!==tf(o,c).matches&&this.queries[c].setDirty()}}class Zy{constructor(o,c,d=null){this.predicate=o,this.flags=c,this.read=d}}class bC{constructor(o=[]){this.queries=o}elementStart(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,c)}elementEnd(o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(o)}embeddedTView(o){let c=null;for(let d=0;d<this.length;d++){const h=null!==c?c.length:0,p=this.getByIndex(d).embeddedTView(o,h);p&&(p.indexInDeclarationView=d,null!==c?c.push(p):c=[p])}return null!==c?new bC(c):null}template(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,c)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Wy{constructor(o,c=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(o,c){this.isApplyingToNode(c)&&this.matchTNode(o,c)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,c){this.elementStart(o,c)}embeddedTView(o,c){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,c),new Wy(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const p=d[h];this.matchTNodeWithReadOption(o,c,Jc(c,p)),this.matchTNodeWithReadOption(o,c,Hi(c,o,p,!1,!1))}else d===Xh?4&c.type&&this.matchTNodeWithReadOption(o,c,-1):this.matchTNodeWithReadOption(o,c,Hi(c,o,d,!1,!1))}matchTNodeWithReadOption(o,c,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===zh||h===$y||h===Xh&&4&c.type)this.addMatch(c.index,-2);else{const p=Hi(c,o,h,!1,!1);null!==p&&this.addMatch(c.index,p)}else this.addMatch(c.index,d)}}addMatch(o,c){null===this.matches?this.matches=[o,c]:this.matches.push(o,c)}}function Jc(s,o){const c=s.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===o)return c[d+1];return null}function CC(s,o,c,d){return-1===c?function wC(s,o){return 11&s.type?pd(s,o):4&s.type?Sm(s,o):null}(o,s):-2===c?function iA(s,o,c){return c===zh?pd(o,s):c===Xh?Sm(o,s):c===$y?Mm(o,s):void 0}(s,o,d):Br(s,s[1],c,o)}function Ky(s,o,c,d){const h=o[19].queries[d];if(null===h.matches){const p=s.data,y=c.matches,w=[];for(let E=0;E<y.length;E+=2){const I=y[E];w.push(I<0?null:CC(o,p[I],y[E+1],c.metadata.read))}h.matches=w}return h.matches}function Rm(s,o,c,d){const h=s.queries.getByIndex(c),p=h.matches;if(null!==p){const y=Ky(s,o,h,c);for(let w=0;w<p.length;w+=2){const E=p[w];if(E>0)d.push(y[w/2]);else{const I=p[w+1],x=o[-E];for(let L=10;L<x.length;L++){const $=x[L];$[17]===$[3]&&Rm($[1],$,I,d)}if(null!==x[9]){const L=x[9];for(let $=0;$<L.length;$++){const J=L[$];Rm(J[1],J,I,d)}}}}}return d}function sA(s){const o=Ae(),c=Ht(),d=zd();vc(d+1);const h=tf(c,d);if(s.dirty&&ws(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?Rm(c,o,d,[]):Ky(c,o,h,d);s.reset(p,RI),s.notifyOnChanges()}return!0}return!1}function Yy(s,o,c){const d=Ht();d.firstCreatePass&&(Om(d,new Zy(s,o,c),-1),2==(2&o)&&(d.staticViewQueries=!0)),TC(d,Ae(),o)}function km(s,o,c,d){const h=Ht();if(h.firstCreatePass){const p=wn();Om(h,new Zy(o,c,d),p.index),function Pm(s,o){const c=s.contentQueries||(s.contentQueries=[]);o!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,o)}(h,s),2==(2&c)&&(h.staticContentQueries=!0)}TC(h,Ae(),c)}function EC(){return function DC(s,o){return s[19].queries[o].queryList}(Ae(),zd())}function TC(s,o,c){const d=new Tm(4==(4&c));L_(s,o,d,d.destroy),null===o[19]&&(o[19]=new ef),o[19].queries.push(new xm(d))}function Om(s,o,c){null===s.queries&&(s.queries=new bC),s.queries.track(new Wy(o,c))}function tf(s,o){return s.queries.getByIndex(o)}function $m(...s){}const af=new Gn("Application Initializer");let rl=(()=>{class s{constructor(c){this.appInits=c,this.resolve=$m,this.reject=$m,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(R0(p))c.push(p);else if(O0(p)){const y=new Promise((w,E)=>{p.subscribe({complete:w,error:E})});c.push(y)}}Promise.all(c).then(()=>{d()}).catch(h=>{this.reject(h)}),0===c.length&&d(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)(ot(af,8))},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})();const FC=new Gn("AppId"),fA={provide:FC,useFactory:function LC(){return`${VC()}${VC()}${VC()}`},deps:[]};function VC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const qm=new Gn("Platform Initializer"),pA=new Gn("Platform ID"),BC=new Gn("appBootstrapListener");let UC=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})();const lf=new Gn("LocaleId"),zm=new Gn("DefaultCurrencyCode");class gA{constructor(o,c){this.ngModuleFactory=o,this.componentFactories=c}}let lv=(()=>{class s{compileModuleSync(c){return new md(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),p=Oo(Rt(c).declarations).reduce((y,w)=>{const E=ze(w);return E&&y.push(new Em(E)),y},[]);return new gA(d,p)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})();const vA=(()=>Promise.resolve(0))();function cv(s){"undefined"==typeof Zone?vA.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Os{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Sa(!1),this.onMicrotaskEmpty=new Sa(!1),this.onStable=new Sa(!1),this.onError=new Sa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&c,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function jC(){let s=Zt.requestAnimationFrame,o=Zt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function wA(s){const o=()=>{!function bA(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Zt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,hv(s),s.isCheckStableRunning=!0,dv(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),hv(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,h,p,y,w)=>{try{return fv(s),c.invokeTask(h,p,y,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),HC(s)}},onInvoke:(c,d,h,p,y,w,E)=>{try{return fv(s),c.invoke(h,p,y,w,E)}finally{s.shouldCoalesceRunChangeDetection&&o(),HC(s)}},onHasTask:(c,d,h,p)=>{c.hasTask(h,p),d===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,hv(s),dv(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(c,d,h,p)=>(c.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Os.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Os.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,c,d){return this._inner.run(o,c,d)}runTask(o,c,d,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,o,uv,$m,$m);try{return p.runTask(y,c,d)}finally{p.cancelTask(y)}}runGuarded(o,c,d){return this._inner.runGuarded(o,c,d)}runOutsideAngular(o){return this._outer.run(o)}}const uv={};function dv(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function hv(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function fv(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function HC(s){s._nesting--,dv(s)}class mo{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Sa,this.onMicrotaskEmpty=new Sa,this.onStable=new Sa,this.onError=new Sa}run(o,c,d){return o.apply(c,d)}runGuarded(o,c,d){return o.apply(c,d)}runOutsideAngular(o){return o()}runTask(o,c,d,h){return o.apply(c,d)}}let Zm=(()=>{class s{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Os.assertNotInAngularZone(),cv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())cv(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,h){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:p,updateCb:h})}whenStable(c,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,d,h){return[]}}return s.\u0275fac=function(c){return new(c||s)(ot(Os))},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})(),bd=(()=>{class s{constructor(){this._applications=new Map,mv.addToWindow(this)}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return mv.findTestabilityInTree(this,c,d)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})();class pv{addToWindow(o){}findTestabilityInTree(o,c,d){return null}}function CA(s){mv=s}let Ps,mv=new pv;const GC=new Gn("AllowMultipleToken");class $C{constructor(o,c){this.name=o,this.token=c}}function gv(s,o,c=[]){const d=`Platform: ${o}`,h=new Gn(d);return(p=[])=>{let y=zC();if(!y||y.injector.get(GC,!1))if(s)s(c.concat(p).concat({provide:h,useValue:!0}));else{const w=c.concat(p).concat({provide:h,useValue:!0},{provide:Y_,useValue:"platform"});!function qC(s){if(Ps&&!Ps.destroyed&&!Ps.injector.get(GC,!1))throw new Ne(400,"");Ps=s.get(ZC);const o=s.get(qm,null);o&&o.forEach(c=>c())}(yt.create({providers:w,name:d}))}return function go(s){const o=zC();if(!o)throw new Ne(401,"");return o}()}}function zC(){return Ps&&!Ps.destroyed?Ps:null}let ZC=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const w=function WC(s,o){let c;return c="noop"===s?new mo:("zone.js"===s?void 0:s)||new Os({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),c}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),E=[{provide:Os,useValue:w}];return w.run(()=>{const I=yt.create({providers:E,parent:this.injector,name:c.moduleType.name}),x=c.create(I),L=x.injector.get(fh,null);if(!L)throw new Ne(402,"");return w.runOutsideAngular(()=>{const $=w.onError.subscribe({next:J=>{L.handleError(J)}});x.onDestroy(()=>{yv(this._modules,x),$.unsubscribe()})}),function DA(s,o,c){try{const d=c();return R0(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(L,w,()=>{const $=x.injector.get(rl);return $.runInitializers(),$.donePromise.then(()=>(function EO(s){ht(s,"Expected localeId to be defined"),"string"==typeof s&&(tI=s.toLowerCase().replace(/_/g,"-"))}(x.injector.get(lf,My)||My),this._moduleDoBootstrap(x),x))})})}bootstrapModule(c,d=[]){const h=_v({},d);return function EA(s,o,c){const d=new md(c);return Promise.resolve(d)}(0,0,c).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(c){const d=c.injector.get(nc);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new Ne(403,"");c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ne(404,"");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)(ot(yt))},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})();function _v(s,o){return Array.isArray(o)?o.reduce(_v,s):Object.assign(Object.assign({},s),o)}let nc=(()=>{class s{constructor(c,d,h,p,y){this._zone=c,this._injector=d,this._exceptionHandler=h,this._componentFactoryResolver=p,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new k.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),E=new k.y(I=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{Os.assertNotInAngularZone(),cv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const L=this._zone.onUnstable.subscribe(()=>{Os.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{x.unsubscribe(),L.unsubscribe()}});this.isStable=(0,oe.T)(w,E.pipe((0,se.B)()))}bootstrap(c,d){if(!this._initStatus.done)throw new Ne(405,"");let h;h=c instanceof By?c:this._componentFactoryResolver.resolveComponentFactory(c),this.componentTypes.push(h.componentType);const p=function Wm(s){return s.isBoundToModule}(h)?void 0:this._injector.get(Kh),w=h.create(yt.NULL,[],d||h.selector,p),E=w.location.nativeElement,I=w.injector.get(Zm,null),x=I&&w.injector.get(bd);return I&&x&&x.registerApplication(E,I),w.onDestroy(()=>{this.detachView(w.hostView),yv(this.components,w),x&&x.unregisterApplication(E)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Ne(101,"");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;yv(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(BC,[]).concat(this._bootstrapListeners).forEach(h=>h(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(c){return new(c||s)(ot(Os),ot(yt),ot(fh),ot(Da),ot(rl))},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})();function yv(s,o){const c=s.indexOf(o);c>-1&&s.splice(c,1)}let YC=!0,bv=!1;function TA(){return bv=!0,YC}function SA(){if(bv)throw new Error("Cannot enable prod mode after platform setup.");YC=!1}let Km=(()=>{class s{}return s.__NG_ELEMENT_ID__=QC,s})();function QC(s){return function IA(s,o,c){if(Zo(s)&&!c){const d=Wr(s.index,o);return new Cm(d,d)}return 47&s.type?new Cm(o[16],o):null}(wn(),Ae(),16==(16&s))}class nE{constructor(){}supports(o){return Xu(o)}create(o){return new w1(o)}}const ir=(s,o)=>o;class w1{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||ir}forEachItem(o){let c;for(c=this._itHead;null!==c;c=c._next)o(c)}forEachOperation(o){let c=this._itHead,d=this._removalsHead,h=0,p=null;for(;c||d;){const y=!d||c&&c.currentIndex<Jm(d,h,p)?c:d,w=Jm(y,h,p),E=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(c=c._next,null==y.previousIndex)h++;else{p||(p=[]);const I=w-h,x=E-h;if(I!=x){for(let $=0;$<I;$++){const J=$<p.length?p[$]:p[$]=0,Ce=J+$;x<=Ce&&Ce<I&&(p[$]=J+1)}p[y.previousIndex]=x-I}}w!==E&&o(y,w,E)}}forEachPreviousItem(o){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachMovedItem(o){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}forEachIdentityChange(o){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)o(c)}diff(o){if(null==o&&(o=[]),!Xu(o))throw new Ne(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,y,c=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)p=o[w],y=this._trackByFn(w,p),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,p,y,w)),Object.is(c.item,p)||this._addIdentityChange(c,p)):(c=this._mismatch(c,p,y,w),d=!0),c=c._next}else h=0,function lS(s,o){if(Array.isArray(s))for(let c=0;c<s.length;c++)o(s[c]);else{const c=s[Ju()]();let d;for(;!(d=c.next()).done;)o(d.value)}}(o,w=>{y=this._trackByFn(h,w),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,w,y,h)),Object.is(c.item,w)||this._addIdentityChange(c,w)):(c=this._mismatch(c,w,y,h),d=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,c,d,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._moveAfter(o,p,h)):o=this._addAfter(new C1(c,d),p,h),o}_verifyReinsertion(o,c,d,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const c=o._next;this._addToRemovals(this._unlink(o)),o=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,c,d),this._addToMoves(o,d),o}_moveAfter(o,c,d){return this._unlink(o),this._insertAfter(o,c,d),this._addToMoves(o,d),o}_addAfter(o,c,d){return this._insertAfter(o,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,c,d){const h=null===c?this._itHead:c._next;return o._next=h,o._prev=c,null===h?this._itTail=o:h._prev=o,null===c?this._itHead=o:c._next=o,null===this._linkedRecords&&(this._linkedRecords=new Tv),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const c=o._prev,d=o._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,o}_addToMoves(o,c){return o.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Tv),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,c){return o.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class C1{constructor(o,c){this.item=o,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class E1{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const c=o._prevDup,d=o._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class Tv{constructor(){this.map=new Map}put(o){const c=o.trackById;let d=this.map.get(c);d||(d=new E1,this.map.set(c,d)),d.add(o)}get(o,c){const h=this.map.get(o);return h?h.get(o,c):null}remove(o){const c=o.trackById;return this.map.get(c).remove(o)&&this.map.delete(c),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Jm(s,o,c){const d=s.previousIndex;if(null===d)return d;let h=0;return c&&d<c.length&&(h=c[d]),d+o+h}class Sv{constructor(){}supports(o){return o instanceof Map||ry(o)}create(){return new RA}}class RA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let c;for(c=this._mapHead;null!==c;c=c._next)o(c)}forEachPreviousItem(o){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)o(c)}forEachChangedItem(o){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}diff(o){if(o){if(!(o instanceof Map||ry(o)))throw new Ne(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const p=this._getOrCreateRecordForKey(h,d);c=this._insertBeforeOrAppend(c,p)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,c){if(o){const d=o._prev;return c._next=o,c._prev=d,o._prev=c,d&&(d._next=c),o===this._mapHead&&(this._mapHead=c),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(o,c){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,c);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const d=new rE(o);return this._records.set(o,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,c){Object.is(c,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=c,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,c){o instanceof Map?o.forEach(c):Object.keys(o).forEach(d=>c(o[d],d))}}class rE{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function kA(){return new Iv([new nE])}let Iv=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(null!=d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||kA()),deps:[[s,new cs,new yr]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(null!=d)return d;throw new Ne(901,"")}}return s.\u0275prov=sn({token:s,providedIn:"root",factory:kA}),s})();function OA(){return new Av([new Sv])}let Av=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||OA()),deps:[[s,new cs,new yr]]}}find(c){const d=this.factories.find(p=>p.supports(c));if(d)return d;throw new Ne(901,"")}}return s.\u0275prov=sn({token:s,providedIn:"root",factory:OA}),s})();const T1=[new Sv],I1=new Iv([new nE]),A1=new Av(T1),M1=gv(null,"core",[{provide:pA,useValue:"unknown"},{provide:ZC,deps:[yt]},{provide:bd,deps:[]},{provide:UC,deps:[]}]),uf=[{provide:nc,useClass:nc,deps:[Os,yt,fh,Da,rl]},{provide:Yc,deps:[Os],useFactory:function O1(s){let o=[];return s.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(c){o.push(c)}}},{provide:rl,useClass:rl,deps:[[new yr,af]]},{provide:lv,useClass:lv,deps:[]},fA,{provide:Iv,useFactory:function x1(){return I1},deps:[]},{provide:Av,useFactory:function Mv(){return A1},deps:[]},{provide:lf,useFactory:function R1(s){return s||function k1(){return"undefined"!=typeof $localize&&$localize.locale||My}()},deps:[[new ls(lf),new yr,new cs]]},{provide:zm,useValue:"USD"}];let PA=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)(ot(nc))},s.\u0275mod=N({type:s}),s.\u0275inj=rn({providers:uf}),s})()},3942:(ut,Se,P)=>{P.d(Se,{Z:()=>Ne});var l=P(2090),G=P(4859),k=P(9681),oe=P(1877);class se{constructor(_e,De){this._delegate=_e,this.firebase=De,(0,k._addComponent)(_e,new G.wA("app-compat",()=>this,"PUBLIC")),this.container=_e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this._delegate.automaticDataCollectionEnabled=_e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(_e=>{this._delegate.checkDestroyed(),_e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(_e,De=k._DEFAULT_ENTRY_NAME){var Xe;this._delegate.checkDestroyed();const He=this._delegate.container.getProvider(_e);return!He.isInitialized()&&"EXPLICIT"===(null===(Xe=He.getComponent())||void 0===Xe?void 0:Xe.instantiationMode)&&He.initialize(),He.getImmediate({identifier:De})}_removeServiceInstance(_e,De=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(_e).clearInstance(De)}_addComponent(_e){(0,k._addComponent)(this._delegate,_e)}_addOrOverwriteComponent(_e){(0,k._addOrOverwriteComponent)(this._delegate,_e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const re=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Z=function be(){const Le=function ue(Le){const _e={},De={__esModule:!0,initializeApp:function Re(ne,Je={}){const Y=k.initializeApp(ne,Je);if((0,l.r3)(_e,Y.name))return _e[Y.name];const he=new Le(Y,De);return _e[Y.name]=he,he},app:He,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function Ee(ne){const Je=ne.name,Y=Je.replace("-compat","");if(k._registerComponent(ne)&&"PUBLIC"===ne.type){const he=(ce=He())=>{if("function"!=typeof ce[Y])throw re.create("invalid-app-argument",{appName:Je});return ce[Y]()};void 0!==ne.serviceProps&&(0,l.ZB)(he,ne.serviceProps),De[Y]=he,Le.prototype[Y]=function(...ce){return this._getService.bind(this,Je).apply(this,ne.multipleInstances?ce:[])}}return"PUBLIC"===ne.type?De[Y]:null},removeApp:function Xe(ne){delete _e[ne]},useAsService:function We(ne,Je){return"serverAuth"===Je?null:Je},modularAPIs:k}};function He(ne){if(!(0,l.r3)(_e,ne=ne||k._DEFAULT_ENTRY_NAME))throw re.create("no-app",{appName:ne});return _e[ne]}return De.default=De,Object.defineProperty(De,"apps",{get:function Ie(){return Object.keys(_e).map(ne=>_e[ne])}}),He.App=Le,De}(se);return Le.INTERNAL=Object.assign(Object.assign({},Le.INTERNAL),{createFirebaseNamespace:be,extendNamespace:function _e(De){(0,l.ZB)(Le,De)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Le}(),z=new oe.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Le=self.firebase.SDK_VERSION;Le&&Le.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ne=Z;!function ke(Le){(0,k.registerVersion)("@firebase/app-compat","0.1.21",Le)}()},9681:(ut,Se,P)=>{P.r(Se),P.d(Se,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>es,_DEFAULT_ENTRY_NAME:()=>Fn,_addComponent:()=>cn,_addOrOverwriteComponent:()=>gi,_apps:()=>mt,_clearComponents:()=>Pn,_components:()=>hn,_getProvider:()=>Jt,_registerComponent:()=>sn,_removeServiceInstance:()=>rn,deleteApp:()=>gs,getApp:()=>mr,getApps:()=>Dr,initializeApp:()=>_i,onLog:()=>Ln,registerVersion:()=>Or,setLogLevel:()=>on});var l=P(5861),G=P(4859),k=P(1877),oe=P(2090);class se{constructor(Te){this.container=Te}getPlatformInfoString(){return this.container.getProviders().map(et=>{if(function ve($e){const Te=$e.getComponent();return"VERSION"===(null==Te?void 0:Te.type)}(et)){const pt=et.getImmediate();return`${pt.library}/${pt.version}`}return null}).filter(et=>et).join(" ")}}const re="@firebase/app",be=new k.Yd("@firebase/app"),Fn="[DEFAULT]",ht={[re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},mt=new Map,hn=new Map;function cn($e,Te){try{$e.container.addComponent(Te)}catch(et){be.debug(`Component ${Te.name} failed to register with FirebaseApp ${$e.name}`,et)}}function gi($e,Te){$e.container.addOrOverwriteComponent(Te)}function sn($e){const Te=$e.name;if(hn.has(Te))return be.debug(`There were multiple attempts to register component ${Te}.`),!1;hn.set(Te,$e);for(const et of mt.values())cn(et,$e);return!0}function Jt($e,Te){const et=$e.container.getProvider("heartbeat").getImmediate({optional:!0});return et&&et.triggerHeartbeat(),$e.container.getProvider(Te)}function rn($e,Te,et=Fn){Jt($e,Te).clearInstance(et)}function Pn(){hn.clear()}const kr=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Er{constructor(Te,et,pt){this._isDeleted=!1,this._options=Object.assign({},Te),this._config=Object.assign({},et),this._name=et.name,this._automaticDataCollectionEnabled=et.automaticDataCollectionEnabled,this._container=pt,this.container.addComponent(new G.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this.checkDestroyed(),this._automaticDataCollectionEnabled=Te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Te){this._isDeleted=Te}checkDestroyed(){if(this.isDeleted)throw kr.create("app-deleted",{appName:this._name})}}const es="9.6.10";function _i($e,Te={}){"object"!=typeof Te&&(Te={name:Te});const et=Object.assign({name:Fn,automaticDataCollectionEnabled:!1},Te),pt=et.name;if("string"!=typeof pt||!pt)throw kr.create("bad-app-name",{appName:String(pt)});const Vt=mt.get(pt);if(Vt){if((0,oe.vZ)($e,Vt.options)&&(0,oe.vZ)(et,Vt.config))return Vt;throw kr.create("duplicate-app",{appName:pt})}const Bt=new G.H0(pt);for(const U of hn.values())Bt.addComponent(U);const W=new Er($e,et,Bt);return mt.set(pt,W),W}function mr($e=Fn){const Te=mt.get($e);if(!Te)throw kr.create("no-app",{appName:$e});return Te}function Dr(){return Array.from(mt.values())}function gs($e){return _t.apply(this,arguments)}function _t(){return(_t=(0,l.Z)(function*($e){const Te=$e.name;mt.has(Te)&&(mt.delete(Te),yield Promise.all($e.container.getProviders().map(et=>et.delete())),$e.isDeleted=!0)})).apply(this,arguments)}function Or($e,Te,et){var pt;let Vt=null!==(pt=ht[$e])&&void 0!==pt?pt:$e;et&&(Vt+=`-${et}`);const Bt=Vt.match(/\s|\//),W=Te.match(/\s|\//);if(Bt||W){const U=[`Unable to register library "${Vt}" with version "${Te}":`];return Bt&&U.push(`library name "${Vt}" contains illegal characters (whitespace or "/")`),Bt&&W&&U.push("and"),W&&U.push(`version name "${Te}" contains illegal characters (whitespace or "/")`),void be.warn(U.join(" "))}sn(new G.wA(`${Vt}-version`,()=>({library:Vt,version:Te}),"VERSION"))}function Ln($e,Te){if(null!==$e&&"function"!=typeof $e)throw kr.create("invalid-log-argument");(0,k.Am)($e,Te)}function on($e){(0,k.Ub)($e)}const Vn="firebase-heartbeat-store";let Nn=null;function Zr(){return Nn||(Nn=(0,oe.X3)("firebase-heartbeat-database",1,($e,Te)=>{0===Te&&$e.createObjectStore(Vn)}).catch($e=>{throw kr.create("storage-open",{originalErrorMessage:$e.message})})),Nn}function qt(){return(qt=(0,l.Z)(function*($e){try{return(yield Zr()).transaction(Vn).objectStore(Vn).get(ai($e))}catch(Te){throw kr.create("storage-get",{originalErrorMessage:Te.message})}})).apply(this,arguments)}function ft($e,Te){return it.apply(this,arguments)}function it(){return(it=(0,l.Z)(function*($e,Te){try{const pt=(yield Zr()).transaction(Vn,"readwrite");return yield pt.objectStore(Vn).put(Te,ai($e)),pt.complete}catch(et){throw kr.create("storage-set",{originalErrorMessage:et.message})}})).apply(this,arguments)}function ai($e){return`${$e.name}!${$e.options.appId}`}class ns{constructor(Te){this.container=Te,this._heartbeatsCache=null;const et=this.container.getProvider("app").getImmediate();this._storage=new vt(et),this._heartbeatsCachePromise=this._storage.read().then(pt=>(this._heartbeatsCache=pt,pt))}triggerHeartbeat(){var Te=this;return(0,l.Z)(function*(){const pt=Te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Vt=Bn();if(null===Te._heartbeatsCache&&(Te._heartbeatsCache=yield Te._heartbeatsCachePromise),Te._heartbeatsCache.lastSentHeartbeatDate!==Vt&&!Te._heartbeatsCache.heartbeats.some(Bt=>Bt.date===Vt))return Te._heartbeatsCache.heartbeats.push({date:Vt,agent:pt}),Te._heartbeatsCache.heartbeats=Te._heartbeatsCache.heartbeats.filter(Bt=>{const W=new Date(Bt.date).valueOf();return Date.now()-W<=2592e6}),Te._storage.overwrite(Te._heartbeatsCache)})()}getHeartbeatsHeader(){var Te=this;return(0,l.Z)(function*(){if(null===Te._heartbeatsCache&&(yield Te._heartbeatsCachePromise),null===Te._heartbeatsCache||0===Te._heartbeatsCache.heartbeats.length)return"";const et=Bn(),{heartbeatsToSend:pt,unsentEntries:Vt}=function an($e,Te=1024){const et=[];let pt=$e.slice();for(const Vt of $e){const Bt=et.find(W=>W.agent===Vt.agent);if(Bt){if(Bt.dates.push(Vt.date),Un(et)>Te){Bt.dates.pop();break}}else if(et.push({agent:Vt.agent,dates:[Vt.date]}),Un(et)>Te){et.pop();break}pt=pt.slice(1)}return{heartbeatsToSend:et,unsentEntries:pt}}(Te._heartbeatsCache.heartbeats),Bt=(0,oe.L)(JSON.stringify({version:2,heartbeats:pt}));return Te._heartbeatsCache.lastSentHeartbeatDate=et,Vt.length>0?(Te._heartbeatsCache.heartbeats=Vt,yield Te._storage.overwrite(Te._heartbeatsCache)):(Te._heartbeatsCache.heartbeats=[],Te._storage.overwrite(Te._heartbeatsCache)),Bt})()}}function Bn(){return(new Date).toISOString().substring(0,10)}class vt{constructor(Te){this.app=Te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Te=this;return(0,l.Z)(function*(){return(yield Te._canUseIndexedDBPromise)&&(yield function yo($e){return qt.apply(this,arguments)}(Te.app))||{heartbeats:[]}})()}overwrite(Te){var et=this;return(0,l.Z)(function*(){var pt;if(yield et._canUseIndexedDBPromise){const Bt=yield et.read();return ft(et.app,{lastSentHeartbeatDate:null!==(pt=Te.lastSentHeartbeatDate)&&void 0!==pt?pt:Bt.lastSentHeartbeatDate,heartbeats:Te.heartbeats})}})()}add(Te){var et=this;return(0,l.Z)(function*(){var pt;if(yield et._canUseIndexedDBPromise){const Bt=yield et.read();return ft(et.app,{lastSentHeartbeatDate:null!==(pt=Te.lastSentHeartbeatDate)&&void 0!==pt?pt:Bt.lastSentHeartbeatDate,heartbeats:[...Bt.heartbeats,...Te.heartbeats]})}})()}}function Un($e){return(0,oe.L)(JSON.stringify({version:2,heartbeats:$e})).length}!function Wt($e){sn(new G.wA("platform-logger",Te=>new se(Te),"PRIVATE")),sn(new G.wA("heartbeat",Te=>new ns(Te),"PRIVATE")),Or(re,"0.7.20",$e),Or(re,"0.7.20","esm2017"),Or("fire-js","")}("")},4859:(ut,Se,P)=>{P.d(Se,{wA:()=>k,H0:()=>ue});var l=P(5861),G=P(2090);class k{constructor(Z,z,te){this.name=Z,this.instanceFactory=z,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}const oe="[DEFAULT]";class se{constructor(Z,z){this.name=Z,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Z){const z=this.normalizeInstanceIdentifier(Z);if(!this.instancesDeferred.has(z)){const te=new G.BH;if(this.instancesDeferred.set(z,te),this.isInitialized(z)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:z});Ge&&te.resolve(Ge)}catch(Ge){}}return this.instancesDeferred.get(z).promise}getImmediate(Z){var z;const te=this.normalizeInstanceIdentifier(null==Z?void 0:Z.identifier),Ge=null!==(z=null==Z?void 0:Z.optional)&&void 0!==z&&z;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(ke){if(Ge)return null;throw ke}}getComponent(){return this.component}setComponent(Z){if(Z.name!==this.name)throw Error(`Mismatching Component ${Z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Z,this.shouldAutoInitialize()){if(function re(be){return"EAGER"===be.instantiationMode}(Z))try{this.getOrInitializeService({instanceIdentifier:oe})}catch(z){}for(const[z,te]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier(z);try{const ke=this.getOrInitializeService({instanceIdentifier:Ge});te.resolve(ke)}catch(ke){}}}}clearInstance(Z=oe){this.instancesDeferred.delete(Z),this.instancesOptions.delete(Z),this.instances.delete(Z)}delete(){var Z=this;return(0,l.Z)(function*(){const z=Array.from(Z.instances.values());yield Promise.all([...z.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...z.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Z=oe){return this.instances.has(Z)}getOptions(Z=oe){return this.instancesOptions.get(Z)||{}}initialize(Z={}){const{options:z={}}=Z,te=this.normalizeInstanceIdentifier(Z.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:te,options:z});for(const[ke,Ne]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(ke)&&Ne.resolve(Ge);return Ge}onInit(Z,z){var te;const Ge=this.normalizeInstanceIdentifier(z),ke=null!==(te=this.onInitCallbacks.get(Ge))&&void 0!==te?te:new Set;ke.add(Z),this.onInitCallbacks.set(Ge,ke);const Ne=this.instances.get(Ge);return Ne&&Z(Ne,Ge),()=>{ke.delete(Z)}}invokeOnInitCallbacks(Z,z){const te=this.onInitCallbacks.get(z);if(te)for(const Ge of te)try{Ge(Z,z)}catch(ke){}}getOrInitializeService({instanceIdentifier:Z,options:z={}}){let te=this.instances.get(Z);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(be=Z,be===oe?void 0:be),options:z}),this.instances.set(Z,te),this.instancesOptions.set(Z,z),this.invokeOnInitCallbacks(te,Z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Z,te)}catch(Ge){}var be;return te||null}normalizeInstanceIdentifier(Z=oe){return this.component?this.component.multipleInstances?Z:oe:Z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ue{constructor(Z){this.name=Z,this.providers=new Map}addComponent(Z){const z=this.getProvider(Z.name);if(z.isComponentSet())throw new Error(`Component ${Z.name} has already been registered with ${this.name}`);z.setComponent(Z)}addOrOverwriteComponent(Z){this.getProvider(Z.name).isComponentSet()&&this.providers.delete(Z.name),this.addComponent(Z)}getProvider(Z){if(this.providers.has(Z))return this.providers.get(Z);const z=new se(Z,this);return this.providers.set(Z,z),z}getProviders(){return Array.from(this.providers.values())}}},1877:(ut,Se,P)=>{P.d(Se,{in:()=>G,Yd:()=>re,Ub:()=>ue,Am:()=>be});const l=[];var G=(()=>{return(Z=G||(G={}))[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT",G;var Z})();const k={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},oe=G.INFO,se={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},ve=(Z,z,...te)=>{if(z<Z.logLevel)return;const Ge=(new Date).toISOString(),ke=se[z];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[ke](`[${Ge}]  ${Z.name}:`,...te)};class re{constructor(z){this.name=z,this._logLevel=oe,this._logHandler=ve,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in G))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?k[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...z),this._logHandler(this,G.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...z),this._logHandler(this,G.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,G.INFO,...z),this._logHandler(this,G.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,G.WARN,...z),this._logHandler(this,G.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,G.ERROR,...z),this._logHandler(this,G.ERROR,...z)}}function ue(Z){l.forEach(z=>{z.setLogLevel(Z)})}function be(Z,z){for(const te of l){let Ge=null;z&&z.level&&(Ge=k[z.level]),te.userLogHandler=null===Z?null:(ke,Ne,...Le)=>{const _e=Le.map(De=>{if(null==De)return null;if("string"==typeof De)return De;if("number"==typeof De||"boolean"==typeof De)return De.toString();if(De instanceof Error)return De.message;try{return JSON.stringify(De)}catch(Xe){return null}}).filter(De=>De).join(" ");Ne>=(null!=Ge?Ge:ke.logLevel)&&Z({level:G[Ne].toLowerCase(),message:_e,args:Le,type:ke.name})}}}},5861:(ut,Se,P)=>{function l(k,oe,se,ve,re,ue,be){try{var Z=k[ue](be),z=Z.value}catch(te){return void se(te)}Z.done?oe(z):Promise.resolve(z).then(ve,re)}function G(k){return function(){var oe=this,se=arguments;return new Promise(function(ve,re){var ue=k.apply(oe,se);function be(z){l(ue,ve,re,be,Z,"next",z)}function Z(z){l(ue,ve,re,be,Z,"throw",z)}be(void 0)})}}P.d(Se,{Z:()=>G})}},ut=>{ut(ut.s=3576)}]);