"use strict";(self.webpackChunkcrud_rpg=self.webpackChunkcrud_rpg||[]).push([[179],{2011:(ut,Se,P)=>{P.d(Se,{hO:()=>Ge,xv:()=>be,Dh:()=>ue,GT:()=>ve,cc:()=>ke,on:()=>Z,pX:()=>se});var l=P(5e3),G=P(127),k=P(5813);ut=P.hmd(ut);const oe=["ngOnDestroy"],se=(De,Je,je,Re={})=>new Proxy(De,{get:(Ie,Ee)=>je.runOutsideAngular(()=>{var Ye;if(De[Ee])return(null===(Ye=null==Re?void 0:Re.spy)||void 0===Ye?void 0:Ye.get)&&Re.spy.get(Ee,De[Ee]),De[Ee];if(oe.indexOf(Ee)>-1)return()=>{};const re=Je.toPromise().then(Xe=>{const Y=Xe&&Xe[Ee];return"function"==typeof Y?Y.bind(Xe):Y&&Y.then?Y.then(he=>je.run(()=>he)):je.run(()=>Y)});return new Proxy(()=>{},{get:(Xe,Y)=>re[Y],apply:(Xe,Y,he)=>re.then(ce=>{var me;const Pe=ce&&ce(...he);return(null===(me=null==Re?void 0:Re.spy)||void 0===me?void 0:me.apply)&&Re.spy.apply(Ee,he,Pe),Pe})})})}),ve=(De,Je)=>{Je.forEach(je=>{Object.getOwnPropertyNames(je.prototype||je).forEach(Re=>{Object.defineProperty(De.prototype,Re,Object.getOwnPropertyDescriptor(je.prototype||je,Re))})})};class te{constructor(Je){return Je}}const ue=new l.OlP("angularfire2.app.options"),be=new l.OlP("angularfire2.app.name");function Z(De,Je,je){const Ie="object"==typeof je&&je||{};Ie.name=Ie.name||"string"==typeof je&&je||"[DEFAULT]";const Ye=G.Z.apps.filter(re=>re&&re.name===Ie.name)[0]||Je.runOutsideAngular(()=>G.Z.initializeApp(De,Ie));try{JSON.stringify(De)!==JSON.stringify(Ye.options)&&z("error",`${Ye.name} Firebase App already initialized with different options${ut.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(re){}return new te(Ye)}const z=(De,...Je)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[De](...Je)},ne={provide:te,useFactory:Z,deps:[ue,l.R0b,[new l.FiY,be]]};let Ge=(()=>{class De{constructor(je){G.Z.registerVersion("angularfire",k.q4.full,"core"),G.Z.registerVersion("angularfire",k.q4.full,"app-compat"),G.Z.registerVersion("angular",l.q4F.full,je.toString())}static initializeApp(je,Re){return{ngModule:De,providers:[{provide:ue,useValue:je},{provide:be,useValue:Re}]}}}return De.\u0275fac=function(je){return new(je||De)(l.LFG(l.Lbi))},De.\u0275mod=l.oAB({type:De}),De.\u0275inj=l.cJS({providers:[ne]}),De})();function ke(De,Je,je,Re,Ie){const[,Ee,Ye]=globalThis.\u0275AngularfireInstanceCache.find(re=>re[0]===De)||[];if(Ee)return function Ne(De,Je){try{return De.toString()===Je.toString()}catch(je){return De===Je}}(Ie,Ye)||(_e("error",`${Je} was already initialized on the ${je} Firebase App with different settings.${Le?" You may need to reload as Firebase is not HMR aware.":""}`),_e("warn",{is:Ie,was:Ye})),Ee;{const re=Re();return globalThis.\u0275AngularfireInstanceCache.push([De,re,Ie]),re}}const Le=!!ut.hot,_e=(De,...Je)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[De](...Je)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ut,Se,P)=>{P.d(Se,{q4:()=>Ya,iC:()=>Fc,fc:()=>Di,HU:()=>Pl,vb:()=>op,JM:()=>ao});var l=P(5e3),G=P(5867),k=P(5861),oe=P(9681),se=P(2090),ve=P(4859),te=P(1877);const ue="@firebase/installations",z="w:0.5.7",ne="FIS_v2",De=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Je(D){return D instanceof se.ZR&&D.code.includes("request-failed")}function je({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function Re(D){return{token:D.token,requestStatus:2,expiresIn:he(D.expiresIn),creationTime:Date.now()}}function Ie(D,S){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,k.Z)(function*(D,S){const U=(yield S.json()).error;return De.create("request-failed",{requestName:D,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function Ye({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function re(D,{refreshToken:S}){const R=Ye(D);return R.append("Authorization",function ce(D){return`${ne} ${D}`}(S)),R}function Xe(D){return Y.apply(this,arguments)}function Y(){return(Y=(0,k.Z)(function*(D){const S=yield D();return S.status>=500&&S.status<600?D():S})).apply(this,arguments)}function he(D){return Number(D.replace("s","000"))}function me(D,S){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,k.Z)(function*({appConfig:D,heartbeatServiceProvider:S},{fid:R}){const U=je(D),Q=Ye(D),ie=S.getImmediate({optional:!0});if(ie){const bt=yield ie.getHeartbeatsHeader();bt&&Q.append("x-firebase-client",bt)}const nt={method:"POST",headers:Q,body:JSON.stringify({fid:R,authVersion:ne,appId:D.appId,sdkVersion:z})},at=yield Xe(()=>fetch(U,nt));if(at.ok){const bt=yield at.json();return{fid:bt.fid||R,registrationStatus:2,refreshToken:bt.refreshToken,authToken:Re(bt.authToken)}}throw yield Ie("Create Installation",at)})).apply(this,arguments)}function ae(D){return new Promise(S=>{setTimeout(S,D)})}const nn=/^[cdef][\w-]{21}$/;function ht(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const R=function mt(D){return function At(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return nn.test(R)?R:""}catch(D){return""}}function fn(D){return`${D.appName}!${D.appId}`}const cn=new Map;function _i(D,S){const R=fn(D);rn(R,S),function Pn(D,S){const R=function Nr(){return!mr&&"BroadcastChannel"in self&&(mr=new BroadcastChannel("[Firebase] FID Change"),mr.onmessage=D=>{rn(D.data.key,D.data.fid)}),mr}();R&&R.postMessage({key:D,fid:S}),function Tr(){0===cn.size&&mr&&(mr.close(),mr=null)}()}(R,S)}function rn(D,S){const R=cn.get(D);if(R)for(const U of R)U(S)}let mr=null;const gr="firebase-installations-store";let Sr=null;function ys(){return Sr||(Sr=(0,se.X3)("firebase-installations-database",1,(D,S)=>{0===S&&D.createObjectStore(gr)})),Sr}function _t(D,S){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,k.Z)(function*(D,S){const R=fn(D),Q=(yield ys()).transaction(gr,"readwrite"),ie=Q.objectStore(gr),ge=yield ie.get(R);return yield ie.put(S,R),yield Q.complete,(!ge||ge.fid!==S.fid)&&_i(D,S.fid),S})).apply(this,arguments)}function Ln(D){return on.apply(this,arguments)}function on(){return(on=(0,k.Z)(function*(D){const S=fn(D),U=(yield ys()).transaction(gr,"readwrite");yield U.objectStore(gr).delete(S),yield U.complete})).apply(this,arguments)}function Wn(D,S){return vi.apply(this,arguments)}function vi(){return(vi=(0,k.Z)(function*(D,S){const R=fn(D),Q=(yield ys()).transaction(gr,"readwrite"),ie=Q.objectStore(gr),ge=yield ie.get(R),nt=S(ge);return void 0===nt?yield ie.delete(R):yield ie.put(nt,R),yield Q.complete,nt&&(!ge||ge.fid!==nt.fid)&&_i(D,nt.fid),nt})).apply(this,arguments)}function Vn(D){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,k.Z)(function*(D){let S;const R=yield Wn(D.appConfig,U=>{const Q=Wr(U),ie=bo(D,Q);return S=ie.registrationPromise,ie.installationEntry});return""===R.fid?{installationEntry:yield S}:{installationEntry:R,registrationPromise:S}})).apply(this,arguments)}function Wr(D){return Zt(D||{fid:ht(),registrationStatus:0})}function bo(D,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(De.create("app-offline"))};const R={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},U=function $t(D,S){return ft.apply(this,arguments)}(D,R);return{installationEntry:R,registrationPromise:U}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:st(D)}:{installationEntry:S}}function ft(){return(ft=(0,k.Z)(function*(D,S){try{const R=yield me(D,S);return _t(D.appConfig,R)}catch(R){throw Je(R)&&409===R.customData.serverCode?yield Ln(D.appConfig):yield _t(D.appConfig,{fid:S.fid,registrationStatus:0}),R}})).apply(this,arguments)}function st(D){return li.apply(this,arguments)}function li(){return(li=(0,k.Z)(function*(D){let S=yield ns(D.appConfig);for(;1===S.registrationStatus;)yield ae(100),S=yield ns(D.appConfig);if(0===S.registrationStatus){const{installationEntry:R,registrationPromise:U}=yield Vn(D);return U||R}return S})).apply(this,arguments)}function ns(D){return Wn(D,S=>{if(!S)throw De.create("installation-not-found");return Zt(S)})}function Zt(D){return function rs(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Bn(D,S){return an.apply(this,arguments)}function an(){return(an=(0,k.Z)(function*({appConfig:D,heartbeatServiceProvider:S},R){const U=vt(D,R),Q=re(D,R),ie=S.getImmediate({optional:!0});if(ie){const bt=yield ie.getHeartbeatsHeader();bt&&Q.append("x-firebase-client",bt)}const nt={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:z,appId:D.appId}})},at=yield Xe(()=>fetch(U,nt));if(at.ok)return Re(yield at.json());throw yield Ie("Generate Auth Token",at)})).apply(this,arguments)}function vt(D,{fid:S}){return`${je(D)}/${S}/authTokens:generate`}function Un(D){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,k.Z)(function*(D,S=!1){let R;const U=yield Wn(D.appConfig,ie=>{if(!Bt(ie))throw De.create("not-registered");const ge=ie.authToken;if(!S&&W(ge))return ie;if(1===ge.requestStatus)return R=qe(D,S),ie;{if(!navigator.onLine)throw De.create("app-offline");const nt=K(ie);return R=pt(D,nt),nt}});return R?yield R:U.authToken})).apply(this,arguments)}function qe(D,S){return Te.apply(this,arguments)}function Te(){return(Te=(0,k.Z)(function*(D,S){let R=yield et(D.appConfig);for(;1===R.authToken.requestStatus;)yield ae(100),R=yield et(D.appConfig);const U=R.authToken;return 0===U.requestStatus?Un(D,S):U})).apply(this,arguments)}function et(D){return Wn(D,S=>{if(!Bt(S))throw De.create("not-registered");return function fe(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function pt(D,S){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,k.Z)(function*(D,S){try{const R=yield Bn(D,S),U=Object.assign(Object.assign({},S),{authToken:R});return yield _t(D.appConfig,U),R}catch(R){if(!Je(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const U=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield _t(D.appConfig,U)}else yield Ln(D.appConfig);throw R}})).apply(this,arguments)}function Bt(D){return void 0!==D&&2===D.registrationStatus}function W(D){return 2===D.requestStatus&&!function H(D){const S=Date.now();return S<D.creationTime||D.creationTime+D.expiresIn<S+36e5}(D)}function K(D){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:S})}function V(){return(V=(0,k.Z)(function*(D){const S=D,{installationEntry:R,registrationPromise:U}=yield Vn(S);return U?U.catch(console.error):Un(S).catch(console.error),R.fid})).apply(this,arguments)}function le(){return(le=(0,k.Z)(function*(D,S=!1){const R=D;return yield Be(R),(yield Un(R,S)).token})).apply(this,arguments)}function Be(D){return ze.apply(this,arguments)}function ze(){return(ze=(0,k.Z)(function*(D){const{registrationPromise:S}=yield Vn(D);S&&(yield S)})).apply(this,arguments)}function Qn(D){return De.create("missing-app-config-values",{valueName:D})}const cl="installations",Qe=D=>{const S=D.getProvider("app").getImmediate(),R=function Li(D){if(!D||!D.options)throw Qn("App Configuration");if(!D.name)throw Qn("App Name");const S=["projectId","apiKey","appId"];for(const R of S)if(!D.options[R])throw Qn(R);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(S);return{app:S,appConfig:R,heartbeatServiceProvider:(0,oe._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},zt=D=>{const S=D.getProvider("app").getImmediate(),R=(0,oe._getProvider)(S,cl).getImmediate();return{getId:()=>function N(D){return V.apply(this,arguments)}(R),getToken:Q=>function j(D){return le.apply(this,arguments)}(R,Q)}};(function mn(){(0,oe._registerComponent)(new ve.wA(cl,Qe,"PUBLIC")),(0,oe._registerComponent)(new ve.wA("installations-internal",zt,"PRIVATE"))})(),(0,oe.registerVersion)(ue,"0.5.7"),(0,oe.registerVersion)(ue,"0.5.7","esm2017");const Vr="@firebase/remote-config",Hn=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class gc{constructor(S,R,U,Q){this.client=S,this.storage=R,this.storageCache=U,this.logger=Q}isCachedDataFresh(S,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-R,Q=U<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${Q}.`),Q}fetch(S){var R=this;return(0,k.Z)(function*(){const[U,Q]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(Q&&R.isCachedDataFresh(S.cacheMaxAgeMillis,U))return Q;S.eTag=Q&&Q.eTag;const ie=yield R.client.fetch(S),ge=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ie.status&&ge.push(R.storage.setLastSuccessfulFetchResponse(ie)),yield Promise.all(ge),ie})()}}function dl(D=navigator){return D.languages&&D.languages[0]||D.language}class Ws{constructor(S,R,U,Q,ie,ge){this.firebaseInstallations=S,this.sdkVersion=R,this.namespace=U,this.projectId=Q,this.apiKey=ie,this.appId=ge}fetch(S){var R=this;return(0,k.Z)(function*(){const[U,Q]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),ge=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,nt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},at={sdk_version:R.sdkVersion,app_instance_id:U,app_instance_id_token:Q,app_id:R.appId,language_code:dl()},bt={method:"POST",headers:nt,body:JSON.stringify(at)},Jt=fetch(ge,bt),Mt=new Promise((br,ho)=>{S.signal.addEventListener(()=>{const us=new Error("The operation was aborted.");us.name="AbortError",ho(us)})});let ir;try{yield Promise.race([Jt,Mt]),ir=yield Jt}catch(br){let ho="fetch-client-network";throw"AbortError"===br.name&&(ho="fetch-timeout"),Hn.create(ho,{originalErrorMessage:br.message})}let sr=ir.status;const uo=ir.headers.get("ETag")||void 0;let ks,cs;if(200===ir.status){let br;try{br=yield ir.json()}catch(ho){throw Hn.create("fetch-client-parse",{originalErrorMessage:ho.message})}ks=br.entries,cs=br.state}if("INSTANCE_STATE_UNSPECIFIED"===cs?sr=500:"NO_CHANGE"===cs?sr=304:("NO_TEMPLATE"===cs||"EMPTY_CONFIG"===cs)&&(ks={}),304!==sr&&200!==sr)throw Hn.create("fetch-status",{httpStatus:sr});return{status:sr,eTag:uo,config:ks}})()}}class bs{constructor(S,R){this.client=S,this.storage=R}fetch(S){var R=this;return(0,k.Z)(function*(){const U=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(S,U)})()}attemptFetch(S,{throttleEndTimeMillis:R,backoffCount:U}){var Q=this;return(0,k.Z)(function*(){yield function ci(D,S){return new Promise((R,U)=>{const Q=Math.max(S-Date.now(),0),ie=setTimeout(R,Q);D.addEventListener(()=>{clearTimeout(ie),U(Hn.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,R);try{const ie=yield Q.client.fetch(S);return yield Q.storage.deleteThrottleMetadata(),ie}catch(ie){if(!function Xf(D){if(!(D instanceof se.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}(ie))throw ie;const ge={throttleEndTimeMillis:Date.now()+(0,se.$s)(U),backoffCount:U+1};return yield Q.storage.setThrottleMetadata(ge),Q.attemptFetch(S,ge)}})()}}class ep{constructor(S,R,U,Q,ie){this.app=S,this._client=R,this._storageCache=U,this._storage=Q,this._logger=ie,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Na(D,S){const R=D.target.error||void 0;return Hn.create(S,{originalErrorMessage:R&&R.message})}const Xo="app_namespace_store";class Cu{constructor(S,R,U,Q=function np(){return new Promise((D,S)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=U=>{S(Na(U,"storage-open"))},R.onsuccess=U=>{D(U.target.result)},R.onupgradeneeded=U=>{0===U.oldVersion&&U.target.result.createObjectStore(Xo,{keyPath:"compositeKey"})}}catch(R){S(Hn.create("storage-open",{originalErrorMessage:R}))}})}()){this.appId=S,this.appName=R,this.namespace=U,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var R=this;return(0,k.Z)(function*(){const U=yield R.openDbPromise;return new Promise((Q,ie)=>{const nt=U.transaction([Xo],"readonly").objectStore(Xo),at=R.createCompositeKey(S);try{const bt=nt.get(at);bt.onerror=Jt=>{ie(Na(Jt,"storage-get"))},bt.onsuccess=Jt=>{const Mt=Jt.target.result;Q(Mt?Mt.value:void 0)}}catch(bt){ie(Hn.create("storage-get",{originalErrorMessage:bt&&bt.message}))}})})()}set(S,R){var U=this;return(0,k.Z)(function*(){const Q=yield U.openDbPromise;return new Promise((ie,ge)=>{const at=Q.transaction([Xo],"readwrite").objectStore(Xo),bt=U.createCompositeKey(S);try{const Jt=at.put({compositeKey:bt,value:R});Jt.onerror=Mt=>{ge(Na(Mt,"storage-set"))},Jt.onsuccess=()=>{ie()}}catch(Jt){ge(Hn.create("storage-set",{originalErrorMessage:Jt&&Jt.message}))}})})()}delete(S){var R=this;return(0,k.Z)(function*(){const U=yield R.openDbPromise;return new Promise((Q,ie)=>{const nt=U.transaction([Xo],"readwrite").objectStore(Xo),at=R.createCompositeKey(S);try{const bt=nt.delete(at);bt.onerror=Jt=>{ie(Na(Jt,"storage-delete"))},bt.onsuccess=()=>{Q()}}catch(bt){ie(Hn.create("storage-delete",{originalErrorMessage:bt&&bt.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class Jo{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,k.Z)(function*(){const R=S.storage.getLastFetchStatus(),U=S.storage.getLastSuccessfulFetchTimestampMillis(),Q=S.storage.getActiveConfig(),ie=yield R;ie&&(S.lastFetchStatus=ie);const ge=yield U;ge&&(S.lastSuccessfulFetchTimestampMillis=ge);const nt=yield Q;nt&&(S.activeConfig=nt)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function Eu(){return hl.apply(this,arguments)}function hl(){return(hl=(0,k.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(D){return!1}})).apply(this,arguments)}!function rp(){(0,oe._registerComponent)(new ve.wA("remote-config",function D(S,{instanceIdentifier:R}){const U=S.getProvider("app").getImmediate(),Q=S.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Hn.create("registration-window");if(!(0,se.hl)())throw Hn.create("indexed-db-unavailable");const{projectId:ie,apiKey:ge,appId:nt}=U.options;if(!ie)throw Hn.create("registration-project-id");if(!ge)throw Hn.create("registration-api-key");if(!nt)throw Hn.create("registration-app-id");const at=new Cu(nt,U.name,R=R||"firebase"),bt=new Jo(at),Jt=new te.Yd(Vr);Jt.logLevel=te.in.ERROR;const Mt=new Ws(Q,oe.SDK_VERSION,R,ie,ge,nt),ir=new bs(Mt,at),sr=new gc(ir,at,bt,Jt),uo=new ep(U,sr,bt,at,Jt);return function Jn(D){const S=(0,se.m9)(D);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(uo),uo},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(Vr,"0.3.6"),(0,oe.registerVersion)(Vr,"0.3.6","esm2017")}();const ws="/firebase-messaging-sw.js",Fa="/firebase-cloud-messaging-push-scope",wi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ea="google.c.a.c_id",fl="google.c.a.c_l",Xd="google.c.a.ts",La="google.c.a.e";var Bi=(()=>{return(D=Bi||(Bi={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Bi;var D})();function Cs(D){const S=new Uint8Array(D);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function pl(D){const R=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(R),Q=new Uint8Array(U.length);for(let ie=0;ie<U.length;++ie)Q[ie]=U.charCodeAt(ie);return Q}const Ba="fcm_token_details_db",ta="fcm_token_object_Store";function ip(D){return na.apply(this,arguments)}function na(){return na=(0,k.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ie=>ie.name).includes(Ba))return null;let S=null;return(yield(0,se.X3)(Ba,5,function(){var U=(0,k.Z)(function*(Q,ie,ge,nt){var at;if(ie<2||!Q.objectStoreNames.contains(ta))return;const bt=nt.objectStore(ta),Jt=yield bt.index("fcmSenderId").get(D);if(yield bt.clear(),Jt)if(2===ie){const Mt=Jt;if(!Mt.auth||!Mt.p256dh||!Mt.endpoint)return;S={token:Mt.fcmToken,createTime:null!==(at=Mt.createTime)&&void 0!==at?at:Date.now(),subscriptionOptions:{auth:Mt.auth,p256dh:Mt.p256dh,endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:"string"==typeof Mt.vapidKey?Mt.vapidKey:Cs(Mt.vapidKey)}}}else if(3===ie){const Mt=Jt;S={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:Cs(Mt.auth),p256dh:Cs(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:Cs(Mt.vapidKey)}}}else if(4===ie){const Mt=Jt;S={token:Mt.fcmToken,createTime:Mt.createTime,subscriptionOptions:{auth:Cs(Mt.auth),p256dh:Cs(Mt.p256dh),endpoint:Mt.endpoint,swScope:Mt.swScope,vapidKey:Cs(Mt.vapidKey)}}}});return function(Q,ie,ge,nt){return U.apply(this,arguments)}}())).close(),yield(0,se.Lj)(Ba),yield(0,se.Lj)("fcm_vapid_details_db"),yield(0,se.Lj)("undefined"),_c(S)?S:null}),na.apply(this,arguments)}function _c(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:S}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const Ys="firebase-messaging-store";let Eo=null;function yc(){return Eo||(Eo=(0,se.X3)("firebase-messaging-database",1,(D,S)=>{0===S&&D.createObjectStore(Ys)})),Eo}function Tn(D){return Do.apply(this,arguments)}function Do(){return(Do=(0,k.Z)(function*(D){const S=Qs(D),U=yield(yield yc()).transaction(Ys).objectStore(Ys).get(S);if(U)return U;{const Q=yield ip(D.appConfig.senderId);if(Q)return yield To(D,Q),Q}})).apply(this,arguments)}function To(D,S){return gn.apply(this,arguments)}function gn(){return(gn=(0,k.Z)(function*(D,S){const R=Qs(D),Q=(yield yc()).transaction(Ys,"readwrite");return yield Q.objectStore(Ys).put(S,R),yield Q.complete,S})).apply(this,arguments)}function vc(D){return ra.apply(this,arguments)}function ra(){return(ra=(0,k.Z)(function*(D){const S=Qs(D),U=(yield yc()).transaction(Ys,"readwrite");yield U.objectStore(Ys).delete(S),yield U.complete})).apply(this,arguments)}function Qs({appConfig:D}){return D.appId}const er=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function gl(D,S){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,k.Z)(function*(D,S){const R=yield os(D),U=Et(S),Q={method:"POST",headers:R,body:JSON.stringify(U)};let ie;try{ie=yield(yield fetch(Ui(D.appConfig),Q)).json()}catch(ge){throw er.create("token-subscribe-failed",{errorInfo:ge})}if(ie.error)throw er.create("token-subscribe-failed",{errorInfo:ie.error.message});if(!ie.token)throw er.create("token-subscribe-no-token");return ie.token})).apply(this,arguments)}function Kr(D,S){return Es.apply(this,arguments)}function Es(){return(Es=(0,k.Z)(function*(D,S){const R=yield os(D),U=Et(S.subscriptionOptions),Q={method:"PATCH",headers:R,body:JSON.stringify(U)};let ie;try{ie=yield(yield fetch(`${Ui(D.appConfig)}/${S.token}`,Q)).json()}catch(ge){throw er.create("token-update-failed",{errorInfo:ge})}if(ie.error)throw er.create("token-update-failed",{errorInfo:ie.error.message});if(!ie.token)throw er.create("token-update-no-token");return ie.token})).apply(this,arguments)}function So(D,S){return ia.apply(this,arguments)}function ia(){return(ia=(0,k.Z)(function*(D,S){const U={method:"DELETE",headers:yield os(D)};try{const ie=yield(yield fetch(`${Ui(D.appConfig)}/${S}`,U)).json();if(ie.error)throw er.create("token-unsubscribe-failed",{errorInfo:ie.error.message})}catch(Q){throw er.create("token-unsubscribe-failed",{errorInfo:Q})}})).apply(this,arguments)}function Ui({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function os(D){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,k.Z)(function*({appConfig:D,installations:S}){const R=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function Et({p256dh:D,auth:S,endpoint:R,vapidKey:U}){const Q={web:{endpoint:R,auth:S,p256dh:D}};return U!==wi&&(Q.web.applicationPubKey=U),Q}const Ua=6048e5;function Tu(D){return sa.apply(this,arguments)}function sa(){return(sa=(0,k.Z)(function*(D){const S=yield eh(D.swRegistration,D.vapidKey),R={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:S.endpoint,auth:Cs(S.getKey("auth")),p256dh:Cs(S.getKey("p256dh"))},U=yield Tn(D.firebaseDependencies);if(U){if(_l(U.subscriptionOptions,R))return Date.now()>=U.createTime+Ua?Jd(D,{token:U.token,createTime:Date.now(),subscriptionOptions:R}):U.token;try{yield So(D.firebaseDependencies,U.token)}catch(Q){console.warn(Q)}return Ae(D.firebaseDependencies,R)}return Ae(D.firebaseDependencies,R)})).apply(this,arguments)}function Su(D){return oa.apply(this,arguments)}function oa(){return(oa=(0,k.Z)(function*(D){const S=yield Tn(D.firebaseDependencies);S&&(yield So(D.firebaseDependencies,S.token),yield vc(D.firebaseDependencies));const R=yield D.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function Jd(D,S){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,k.Z)(function*(D,S){try{const R=yield Kr(D.firebaseDependencies,S),U=Object.assign(Object.assign({},S),{token:R,createTime:Date.now()});return yield To(D.firebaseDependencies,U),R}catch(R){throw yield Su(D),R}})).apply(this,arguments)}function Ae(D,S){return jt.apply(this,arguments)}function jt(){return(jt=(0,k.Z)(function*(D,S){const U={token:yield gl(D,S),createTime:Date.now(),subscriptionOptions:S};return yield To(D,U),U.token})).apply(this,arguments)}function eh(D,S){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,k.Z)(function*(D,S){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:pl(S)})})).apply(this,arguments)}function _l(D,S){return S.vapidKey===D.vapidKey&&S.endpoint===D.endpoint&&S.auth===D.auth&&S.p256dh===D.p256dh}function Xs(D){const S={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function Hi(D,S){if(!S.notification)return;D.notification={};const R=S.notification.title;R&&(D.notification.title=R);const U=S.notification.body;U&&(D.notification.body=U);const Q=S.notification.image;Q&&(D.notification.image=Q)}(S,D),function bc(D,S){!S.data||(D.data=S.data)}(S,D),function ja(D,S){if(!S.fcmOptions)return;D.fcmOptions={};const R=S.fcmOptions.link;R&&(D.fcmOptions.link=R);const U=S.fcmOptions.analytics_label;U&&(D.fcmOptions.analyticsLabel=U)}(S,D),S}function sp(D){return"object"==typeof D&&!!D&&ea in D}function wc(D,S){const R=[];for(let U=0;U<D.length;U++)R.push(D.charAt(U)),U<S.length&&R.push(S.charAt(U));return R.join("")}function la(D){return er.create("missing-app-config-values",{valueName:D})}wc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),wc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class dr{constructor(S,R,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function aa(D){if(!D||!D.options)throw la("App Configuration Object");if(!D.name)throw la("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:R}=D;for(const U of S)if(!R[U])throw la(U);return{appName:D.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:Q,installations:R,analyticsProvider:U}}_delete(){return Promise.resolve()}}function as(D){return ca.apply(this,arguments)}function ca(){return(ca=(0,k.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(ws,{scope:Fa}),D.swRegistration.update().catch(()=>{})}catch(S){throw er.create("failed-service-worker-registration",{browserErrorMessage:S.message})}})).apply(this,arguments)}function ua(D,S){return ui.apply(this,arguments)}function ui(){return(ui=(0,k.Z)(function*(D,S){if(!S&&!D.swRegistration&&(yield as(D)),S||!D.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw er.create("invalid-sw-registration");D.swRegistration=S}})).apply(this,arguments)}function th(D,S){return da.apply(this,arguments)}function da(){return(da=(0,k.Z)(function*(D,S){S?D.vapidKey=S:D.vapidKey||(D.vapidKey=wi)})).apply(this,arguments)}function Ga(){return(Ga=(0,k.Z)(function*(D,S){if(!navigator)throw er.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw er.create("permission-blocked");return yield th(D,null==S?void 0:S.vapidKey),yield ua(D,null==S?void 0:S.serviceWorkerRegistration),Tu(D)})).apply(this,arguments)}function Cc(D,S,R){return Js.apply(this,arguments)}function Js(){return(Js=(0,k.Z)(function*(D,S,R){const U=nh(S);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:R[ea],message_name:R[fl],message_time:R[Xd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function nh(D){switch(D){case Bi.NOTIFICATION_CLICKED:return"notification_open";case Bi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Dc(){return(Dc=(0,k.Z)(function*(D,S){const R=S.data;if(!R.isFirebaseMessaging)return;D.onMessageHandler&&R.messageType===Bi.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Xs(R)):D.onMessageHandler.next(Xs(R)));const U=R.data;sp(U)&&"1"===U[La]&&(yield Cc(D,R.messageType,U))})).apply(this,arguments)}const yl="@firebase/messaging",Io=D=>{const S=new dr(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function Ec(D,S){return Dc.apply(this,arguments)}(S,R)),S},Tc=D=>{const S=D.getProvider("messaging").getImmediate();return{getToken:U=>function Iu(D,S){return Ga.apply(this,arguments)}(S,U)}};function Au(){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,k.Z)(function*(){try{yield(0,se.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function rh(){(0,oe._registerComponent)(new ve.wA("messaging",Io,"PUBLIC")),(0,oe._registerComponent)(new ve.wA("messaging-internal",Tc,"PRIVATE")),(0,oe.registerVersion)(yl,"0.9.11"),(0,oe.registerVersion)(yl,"0.9.11","esm2017")}();const Ic="analytics",Mu="firebase_id",Ac="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",vl="https://www.googletagmanager.com/gtag/js",tr=new te.Yd("@firebase/analytics");function xu(D){return Promise.all(D.map(S=>S.catch(R=>R)))}function Ru(D,S){const R=document.createElement("script");R.src=`${vl}?l=${D}&id=${S}`,R.async=!0,document.head.appendChild(R)}function bl(D,S,R,U,Q,ie){return za.apply(this,arguments)}function za(){return(za=(0,k.Z)(function*(D,S,R,U,Q,ie){const ge=U[Q];try{if(ge)yield S[ge];else{const at=(yield xu(R)).find(bt=>bt.measurementId===Q);at&&(yield S[at.appId])}}catch(nt){tr.error(nt)}D("config",Q,ie)})).apply(this,arguments)}function sh(D,S,R,U,Q){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,k.Z)(function*(D,S,R,U,Q){try{let ie=[];if(Q&&Q.send_to){let ge=Q.send_to;Array.isArray(ge)||(ge=[ge]);const nt=yield xu(R);for(const at of ge){const bt=nt.find(Mt=>Mt.measurementId===at),Jt=bt&&S[bt.appId];if(!Jt){ie=[];break}ie.push(Jt)}}0===ie.length&&(ie=Object.values(S)),yield Promise.all(ie),D("event",U,Q||{})}catch(ie){tr.error(ie)}})).apply(this,arguments)}function Jg(){const D=window.document.getElementsByTagName("script");for(const S of Object.values(D))if(S.src&&S.src.includes(vl))return S;return null}const Ar=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),un=new class Hr{constructor(S={},R=1e3){this.throttleMetadata=S,this.intervalMillis=R}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,R){this.throttleMetadata[S]=R}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function Ou(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Kn(D){return no.apply(this,arguments)}function no(){return(no=(0,k.Z)(function*(D){var S;const{appId:R,apiKey:U}=D,Q={method:"GET",headers:Ou(U)},ie=Ac.replace("{app-id}",R),ge=yield fetch(ie,Q);if(200!==ge.status&&304!==ge.status){let nt="";try{const at=yield ge.json();(null===(S=at.error)||void 0===S?void 0:S.message)&&(nt=at.error.message)}catch(at){}throw Ar.create("config-fetch-failed",{httpStatus:ge.status,responseMessage:nt})}return ge.json()})).apply(this,arguments)}function xc(D){return Is.apply(this,arguments)}function Is(){return(Is=(0,k.Z)(function*(D,S=un,R){const{appId:U,apiKey:Q,measurementId:ie}=D.options;if(!U)throw Ar.create("no-app-id");if(!Q){if(ie)return{measurementId:ie,appId:U};throw Ar.create("no-api-key")}const ge=S.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},nt=new Pu;return setTimeout((0,k.Z)(function*(){nt.abort()}),void 0!==R?R:6e4),ha({appId:U,apiKey:Q,measurementId:ie},ge,nt,S)})).apply(this,arguments)}function ha(D,S,R){return ls.apply(this,arguments)}function ls(){return(ls=(0,k.Z)(function*(D,{throttleEndTimeMillis:S,backoffCount:R},U,Q=un){const{appId:ie,measurementId:ge}=D;try{yield wt(U,S)}catch(nt){if(ge)return tr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ge} provided in the "measurementId" field in the local Firebase config. [${nt.message}]`),{appId:ie,measurementId:ge};throw nt}try{const nt=yield Kn(D);return Q.deleteThrottleMetadata(ie),nt}catch(nt){if(!Rc(nt)){if(Q.deleteThrottleMetadata(ie),ge)return tr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ge} provided in the "measurementId" field in the local Firebase config. [${nt.message}]`),{appId:ie,measurementId:ge};throw nt}const at=503===Number(nt.customData.httpStatus)?(0,se.$s)(R,Q.intervalMillis,30):(0,se.$s)(R,Q.intervalMillis),bt={throttleEndTimeMillis:Date.now()+at,backoffCount:R+1};return Q.setThrottleMetadata(ie,bt),tr.debug(`Calling attemptFetch again in ${at} millis`),ha(D,bt,U,Q)}})).apply(this,arguments)}function wt(D,S){return new Promise((R,U)=>{const Q=Math.max(S-Date.now(),0),ie=setTimeout(R,Q);D.addEventListener(()=>{clearTimeout(ie),U(Ar.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function Rc(D){if(!(D instanceof se.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}class Pu{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}function fa(){return Za.apply(this,arguments)}function Za(){return(Za=(0,k.Z)(function*(){if(!(0,se.hl)())return tr.warn(Ar.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(D){return tr.warn(Ar.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function ro(){return(ro=(0,k.Z)(function*(D,S,R,U,Q,ie,ge){var nt;const at=xc(D);at.then(sr=>{R[sr.measurementId]=sr.appId,D.options.measurementId&&sr.measurementId!==D.options.measurementId&&tr.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${sr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(sr=>tr.error(sr)),S.push(at);const bt=fa().then(sr=>{if(sr)return U.getId()}),[Jt,Mt]=yield Promise.all([at,bt]);Jg()||Ru(ie,Jt.measurementId),Q("js",new Date);const ir=null!==(nt=null==ge?void 0:ge.config)&&void 0!==nt?nt:{};return ir.origin="firebase",ir.update=!0,null!=Mt&&(ir[Mu]=Mt),Q("config",Jt.measurementId,ir),Jt.measurementId})).apply(this,arguments)}class wl{constructor(S){this.app=S}_delete(){return delete Qr[this.app.options.appId],Promise.resolve()}}let Qr={},xo=[];const Cl={};let El,As,io="dataLayer",Ms=!1;function Mr(D,S,R){!function ji(){const D=[];if((0,se.ru)()&&D.push("This is a browser extension environment."),(0,se.zI)()||D.push("Cookies are not available."),D.length>0){const S=D.map((U,Q)=>`(${Q+1}) ${U}`).join(" "),R=Ar.create("invalid-analytics-context",{errorInfo:S});tr.warn(R.message)}}();const U=D.options.appId;if(!U)throw Ar.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw Ar.create("no-api-key");tr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Qr[U])throw Ar.create("already-exists",{id:U});if(!Ms){!function Ts(D){let S=[];Array.isArray(window[D])?S=window[D]:window[D]=S}(io);const{wrappedGtag:ie,gtagCore:ge}=function ku(D,S,R,U,Q){let ie=function(...ge){window[U].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(ie=window[Q]),window[Q]=function Mc(D,S,R,U){function ie(){return(ie=(0,k.Z)(function*(ge,nt,at){try{"event"===ge?yield sh(D,S,R,nt,at):"config"===ge?yield bl(D,S,R,U,nt,at):D("set",nt)}catch(bt){tr.error(bt)}})).apply(this,arguments)}return function Q(ge,nt,at){return ie.apply(this,arguments)}}(ie,D,S,R),{gtagCore:ie,wrappedGtag:window[Q]}}(Qr,xo,Cl,io,"gtag");As=ie,El=ge,Ms=!0}return Qr[U]=function yn(D,S,R,U,Q,ie,ge){return ro.apply(this,arguments)}(D,xo,Cl,S,El,io,R),new wl(D)}function Wa(){return(Wa=(0,k.Z)(function*(D,S,R,U,Q){if(Q&&Q.global)D("event",R,U);else{const ie=yield S;D("event",R,Object.assign(Object.assign({},U),{send_to:ie}))}})).apply(this,arguments)}function di(){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,k.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(D){return!1}})).apply(this,arguments)}const vr="@firebase/analytics";!function oo(){(0,oe._registerComponent)(new ve.wA(Ic,(S,{options:R})=>Mr(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,oe._registerComponent)(new ve.wA("analytics-internal",function D(S){try{const R=S.getProvider(Ic).getImmediate();return{logEvent:(U,Q,ie)=>function Ro(D,S,R,U){D=(0,se.m9)(D),function _r(D,S,R,U,Q){return Wa.apply(this,arguments)}(As,Qr[D.app.options.appId],S,R,U).catch(Q=>tr.error(Q))}(R,U,Q,ie)}}catch(R){throw Ar.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,oe.registerVersion)(vr,"0.7.7"),(0,oe.registerVersion)(vr,"0.7.7","esm2017")}();var Il=P(4408),Oc=P(7565);const Ka=new class rr extends Oc.v{}(class xs extends Il.o{constructor(S,R){super(S,R),this.scheduler=S,this.work=R}schedule(S,R=0){return R>0?super.schedule(S,R):(this.delay=R,this.state=S,this.scheduler.flush(this),this)}execute(S,R){return R>0||this.closed?super.execute(S,R):this._execute(S,R)}requestAsyncId(S,R,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(S,R,U):S.flush(this)}});var Fu=P(4986),Ml=P(8505),jr=P(5363),Gi=P(9468);const Ya=new l.GfV("7.3.0"),pa="__angularfire_symbol__analyticsIsSupportedValue",hi="__angularfire_symbol__analyticsIsSupported",ma="__angularfire_symbol__remoteConfigIsSupportedValue",Pc="__angularfire_symbol__remoteConfigIsSupported",xl="__angularfire_symbol__messagingIsSupportedValue",Gt="__angularfire_symbol__messagingIsSupported";function ao(D,S,R){if(S){if(1===S.length)return S[0];const ie=S.filter(ge=>ge.app===R);if(1===ie.length)return ie[0]}return R.container.getProvider(D).getImmediate({optional:!0})}globalThis[hi]||(globalThis[hi]=di().then(D=>globalThis[pa]=D).catch(()=>globalThis[pa]=!1)),globalThis[Gt]||(globalThis[Gt]=Au().then(D=>globalThis[xl]=D).catch(()=>globalThis[xl]=!1)),globalThis[Pc]||(globalThis[Pc]=Eu().then(D=>globalThis[ma]=D).catch(()=>globalThis[ma]=!1));const op=(D,S)=>{const R=S?[S]:(0,G.C6)(),U=[];return R.forEach(Q=>{Q.container.getProvider(D).instances.forEach(ge=>{U.includes(ge)||U.push(ge)})}),U};function Rs(){}class qi{constructor(S,R=Ka){this.zone=S,this.delegate=R}now(){return this.delegate.now()}schedule(S,R,U){const Q=this.zone;return this.delegate.schedule(function(ge){Q.runGuarded(()=>{S.apply(this,[ge])})},R,U)}}class Ol{constructor(S){this.zone=S,this.task=null}call(S,R){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Rs,{},Rs,Rs)),R.pipe((0,Ml.b)({next:U,complete:U,error:U})).subscribe(S).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Pl=(()=>{class D{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new qi(Zone.current)),this.insideAngular=R.run(()=>new qi(Zone.current,Fu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(R){return new(R||D)(l.LFG(l.R0b))},D.\u0275prov=l.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function lo(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Di(D){return D.pipe((0,jr.Q)(lo().outsideAngular))}function Fc(D){return lo(),function co(D){return function(R){return(R=R.lift(new Ol(D.ngZone))).pipe((0,Gi.R)(D.outsideAngular),(0,jr.Q)(D.insideAngular))}}(lo())(D)}},424:(ut,Se,P)=>{P.d(Se,{$:()=>Tu,A:()=>z,E:()=>zt,G:()=>Br,I:()=>bs,K:()=>H,L:()=>hl,M:()=>Qd,N:()=>ea,P:()=>pa,Q:()=>fl,R:()=>Sl,T:()=>wi,U:()=>Bi,V:()=>Cs,W:()=>ip,X:()=>Ir,Y:()=>gl,Z:()=>Kr,_:()=>Ui,a:()=>it,a0:()=>Su,a1:()=>Jd,a2:()=>Ae,a3:()=>eh,a4:()=>_l,a5:()=>Hi,a6:()=>bc,a7:()=>sp,a8:()=>wc,a9:()=>as,aA:()=>ir,aB:()=>Nl,aC:()=>pn,aG:()=>un,aJ:()=>La,aa:()=>ua,ab:()=>th,ae:()=>Cc,af:()=>nh,ag:()=>Ec,aj:()=>Ys,ak:()=>Sc,am:()=>Ac,an:()=>bl,ao:()=>In,ap:()=>Y,aq:()=>kt,ar:()=>ze,as:()=>je,at:()=>ch,au:()=>Vu,av:()=>Re,aw:()=>re,ax:()=>ce,ay:()=>K,az:()=>br,b:()=>_n,c:()=>kl,d:()=>qi,e:()=>op,f:()=>S,g:()=>nt,h:()=>Q,i:()=>ji,j:()=>Jt,k:()=>Os,l:()=>rr,m:()=>hp,o:()=>ue,r:()=>Al,s:()=>xs,u:()=>Gi,z:()=>ke});var l=P(5861),G=P(2090),k=P(9681),oe=P(655),se=P(1877),ve=P(4859);const ue={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ke=function ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ne=function Ge(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Le=new G.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),De=new se.Yd("@firebase/auth");function Je(b,...m){De.logLevel<=se.in.ERROR&&De.error(`Auth (${k.SDK_VERSION}): ${b}`,...m)}function je(b,...m){throw Ye(b,...m)}function Re(b,...m){return Ye(b,...m)}function Ie(b,m,_){const C=Object.assign(Object.assign({},Ne()),{[m]:_});return new G.LL("auth","Firebase",C).create(m,{appName:b.name})}function Ee(b,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&je(b,"argument-error"),Ie(b,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ye(b,...m){if("string"!=typeof b){const _=m[0],C=[...m.slice(1)];return C[0]&&(C[0].appName=b.name),b._errorFactory.create(_,...C)}return Le.create(b,...m)}function re(b,m,..._){if(!b)throw Ye(m,..._)}function Xe(b){const m="INTERNAL ASSERTION FAILED: "+b;throw Je(m),new Error(m)}function Y(b,m){b||Xe(m)}const he=new Map;function ce(b){Y(b instanceof Function,"Expected a class definition");let m=he.get(b);return m?(Y(m instanceof b,"Instance stored in cache mismatched with class"),m):(m=new b,he.set(b,m),m)}function ae(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function At(){return"http:"===nn()||"https:"===nn()}function nn(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class mt{constructor(m,_){this.shortDelay=m,this.longDelay=_,Y(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,G.uI)()||(0,G.b$)()}get(){return function Fn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(At()||(0,G.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fn(b,m){Y(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class cn{static initialize(m,_,C){this.fetchImpl=m,_&&(this.headersImpl=_),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Xe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Xe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Xe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _i={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},sn=new mt(3e4,6e4);function Xt(b,m){return b.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:b.tenantId}):m}function rn(b,m,_,C){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,l.Z)(function*(b,m,_,C,M={}){return mr(b,M,(0,l.Z)(function*(){let F={},J={};C&&("GET"===m?J=C:F={body:JSON.stringify(C)});const xe=(0,G.xO)(Object.assign({key:b.config.apiKey},J)).slice(1),lt=yield b._getAdditionalHeaders();return lt["Content-Type"]="application/json",b.languageCode&&(lt["X-Firebase-Locale"]=b.languageCode),cn.fetch()(yi(b,b.config.apiHost,_,xe),Object.assign({method:m,headers:lt,referrerPolicy:"no-referrer"},F))}))})).apply(this,arguments)}function mr(b,m,_){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,l.Z)(function*(b,m,_){b._canInitEmulator=!1;const C=Object.assign(Object.assign({},_i),m);try{const M=new gr(b),F=yield Promise.race([_(),M.promise]);M.clearNetworkTimeout();const J=yield F.json();if("needConfirmation"in J)throw Sr(b,"account-exists-with-different-credential",J);if(F.ok&&!("errorMessage"in J))return J;{const xe=F.ok?J.errorMessage:J.error.message,[lt,Ct]=xe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===lt)throw Sr(b,"credential-already-in-use",J);if("EMAIL_EXISTS"===lt)throw Sr(b,"email-already-in-use",J);const Ot=C[lt]||lt.toLowerCase().replace(/[_\s]+/g,"-");if(Ct)throw Ie(b,Ot,Ct);je(b,Ot)}}catch(M){if(M instanceof G.ZR)throw M;je(b,"network-request-failed")}})).apply(this,arguments)}function Tr(b,m,_,C){return ts.apply(this,arguments)}function ts(){return(ts=(0,l.Z)(function*(b,m,_,C,M={}){const F=yield rn(b,m,_,C,M);return"mfaPendingCredential"in F&&je(b,"multi-factor-auth-required",{_serverResponse:F}),F})).apply(this,arguments)}function yi(b,m,_,C){const M=`${m}${_}?${C}`;return b.config.emulator?fn(b.config,M):`${b.config.apiScheme}://${M}`}class gr{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,C)=>{this.timer=setTimeout(()=>C(Re(this.auth,"network-request-failed")),sn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sr(b,m,_){const C={appName:b.name};_.email&&(C.email=_.email),_.phoneNumber&&(C.phoneNumber=_.phoneNumber);const M=Re(b,m,C);return M.customData._tokenResponse=_,M}function _t(){return(_t=(0,l.Z)(function*(b,m){return rn(b,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Fr(b,m){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,l.Z)(function*(b,m){return rn(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function on(b,m){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,l.Z)(function*(b,m){return rn(b,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function vi(b){if(b)try{const m=new Date(Number(b));if(!isNaN(m.getTime()))return m.toUTCString()}catch(m){}}function Wr(){return(Wr=(0,l.Z)(function*(b,m=!1){const _=(0,G.m9)(b),C=yield _.getIdToken(m),M=$t(C);re(M&&M.exp&&M.auth_time&&M.iat,_.auth,"internal-error");const F="object"==typeof M.firebase?M.firebase:void 0,J=null==F?void 0:F.sign_in_provider;return{claims:M,token:C,authTime:vi(bo(M.auth_time)),issuedAtTime:vi(bo(M.iat)),expirationTime:vi(bo(M.exp)),signInProvider:J||null,signInSecondFactor:(null==F?void 0:F.sign_in_second_factor)||null}})).apply(this,arguments)}function bo(b){return 1e3*Number(b)}function $t(b){const[m,_,C]=b.split(".");if(void 0===m||void 0===_||void 0===C)return Je("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,G.tV)(_);return M?JSON.parse(M):(Je("Failed to decode base64 JWT payload"),null)}catch(M){return Je("Caught error parsing JWT payload as JSON",M),null}}function st(b,m){return li.apply(this,arguments)}function li(){return(li=(0,l.Z)(function*(b,m,_=!1){if(_)return m;try{return yield m}catch(C){throw C instanceof G.ZR&&ns(C)&&b.auth.currentUser===b&&(yield b.auth.signOut()),C}})).apply(this,arguments)}function ns({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class Zt{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const M=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const C=this.getInterval(m);this.timerId=setTimeout((0,l.Z)(function*(){yield _.iteration()}),C)}iteration(){var m=this;return(0,l.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&m.schedule(!0))}m.schedule()})()}}class rs{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=vi(this.lastLoginAt),this.creationTime=vi(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Bn(b){return an.apply(this,arguments)}function an(){return(an=(0,l.Z)(function*(b){var m;const _=b.auth,C=yield b.getIdToken(),M=yield st(b,on(_,{idToken:C}));re(null==M?void 0:M.users.length,_,"internal-error");const F=M.users[0];b._notifyReloadListener(F);const J=(null===(m=F.providerUserInfo)||void 0===m?void 0:m.length)?qe(F.providerUserInfo):[],xe=Wt(b.providerData,J),Ot=!!b.isAnonymous&&!(b.email&&F.passwordHash||(null==xe?void 0:xe.length)),qn={uid:F.localId,displayName:F.displayName||null,photoURL:F.photoUrl||null,email:F.email||null,emailVerified:F.emailVerified||!1,phoneNumber:F.phoneNumber||null,tenantId:F.tenantId||null,providerData:xe,metadata:new rs(F.createdAt,F.lastLoginAt),isAnonymous:Ot};Object.assign(b,qn)})).apply(this,arguments)}function Un(){return(Un=(0,l.Z)(function*(b){const m=(0,G.m9)(b);yield Bn(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Wt(b,m){return[...b.filter(C=>!m.some(M=>M.providerId===C.providerId)),...m]}function qe(b){return b.map(m=>{var{providerId:_}=m,C=(0,oe._T)(m,["providerId"]);return{providerId:_,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function et(){return(et=(0,l.Z)(function*(b,m){const _=yield mr(b,{},(0,l.Z)(function*(){const C=(0,G.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:M,apiKey:F}=b.config,J=yi(b,M,"/v1/token",`key=${F}`),xe=yield b._getAdditionalHeaders();return xe["Content-Type"]="application/x-www-form-urlencoded",cn.fetch()(J,{method:"POST",headers:xe,body:C})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class pt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){re(m.idToken,"internal-error"),re(void 0!==m.idToken,"internal-error"),re(void 0!==m.refreshToken,"internal-error");const _="expiresIn"in m&&void 0!==m.expiresIn?Number(m.expiresIn):function ft(b){const m=$t(b);return re(m,"internal-error"),re(void 0!==m.exp,"internal-error"),re(void 0!==m.iat,"internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var C=this;return(0,l.Z)(function*(){return re(!C.accessToken||C.refreshToken,m,"user-token-expired"),_||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(m,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var C=this;return(0,l.Z)(function*(){const{accessToken:M,refreshToken:F,expiresIn:J}=yield function Te(b,m){return et.apply(this,arguments)}(m,_);C.updateTokensAndExpiration(M,F,Number(J))})()}updateTokensAndExpiration(m,_,C){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(m,_){const{refreshToken:C,accessToken:M,expirationTime:F}=_,J=new pt;return C&&(re("string"==typeof C,"internal-error",{appName:m}),J.refreshToken=C),M&&(re("string"==typeof M,"internal-error",{appName:m}),J.accessToken=M),F&&(re("number"==typeof F,"internal-error",{appName:m}),J.expirationTime=F),J}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new pt,this.toJSON())}_performRefresh(){return Xe("not implemented")}}function Vt(b,m){re("string"==typeof b||void 0===b,"internal-error",{appName:m})}class Bt{constructor(m){var{uid:_,auth:C,stsTokenManager:M}=m,F=(0,oe._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=C,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=F.displayName||null,this.email=F.email||null,this.emailVerified=F.emailVerified||!1,this.phoneNumber=F.phoneNumber||null,this.photoURL=F.photoURL||null,this.isAnonymous=F.isAnonymous||!1,this.tenantId=F.tenantId||null,this.providerData=F.providerData?[...F.providerData]:[],this.metadata=new rs(F.createdAt||void 0,F.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,l.Z)(function*(){const C=yield st(_,_.stsTokenManager.getToken(_.auth,m));return re(C,_.auth,"internal-error"),_.accessToken!==C&&(_.accessToken=C,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),C})()}getIdTokenResult(m){return function Nn(b){return Wr.apply(this,arguments)}(this,m)}reload(){return function vt(b){return Un.apply(this,arguments)}(this)}_assign(m){this!==m&&(re(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new Bt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var C=this;return(0,l.Z)(function*(){let M=!1;m.idToken&&m.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(m),M=!0),_&&(yield Bn(C)),yield C.auth._persistUserIfCurrent(C),M&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var m=this;return(0,l.Z)(function*(){const _=yield m.getIdToken();return yield st(m,function ys(b,m){return _t.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var C,M,F,J,xe,lt,Ct,Ot;const qn=null!==(C=_.displayName)&&void 0!==C?C:void 0,pi=null!==(M=_.email)&&void 0!==M?M:void 0,Ja=null!==(F=_.phoneNumber)&&void 0!==F?F:void 0,jl=null!==(J=_.photoURL)&&void 0!==J?J:void 0,Wu=null!==(xe=_.tenantId)&&void 0!==xe?xe:void 0,Hc=null!==(lt=_._redirectEventId)&&void 0!==lt?lt:void 0,jc=null!==(Ct=_.createdAt)&&void 0!==Ct?Ct:void 0,Gc=null!==(Ot=_.lastLoginAt)&&void 0!==Ot?Ot:void 0,{uid:Ku,emailVerified:Gl,isAnonymous:Yu,providerData:dh,stsTokenManager:hh}=_;re(Ku&&hh,m,"internal-error");const fh=pt.fromJSON(this.name,hh);re("string"==typeof Ku,m,"internal-error"),Vt(qn,m.name),Vt(pi,m.name),re("boolean"==typeof Gl,m,"internal-error"),re("boolean"==typeof Yu,m,"internal-error"),Vt(Ja,m.name),Vt(jl,m.name),Vt(Wu,m.name),Vt(Hc,m.name),Vt(jc,m.name),Vt(Gc,m.name);const ql=new Bt({uid:Ku,auth:m,email:pi,emailVerified:Gl,displayName:qn,isAnonymous:Yu,photoURL:jl,phoneNumber:Ja,tenantId:Wu,stsTokenManager:fh,createdAt:jc,lastLoginAt:Gc});return dh&&Array.isArray(dh)&&(ql.providerData=dh.map(mp=>Object.assign({},mp))),Hc&&(ql._redirectEventId=Hc),ql}static _fromIdTokenResponse(m,_,C=!1){return(0,l.Z)(function*(){const M=new pt;M.updateFromServerResponse(_);const F=new Bt({uid:_.localId,auth:m,stsTokenManager:M,isAnonymous:C});return yield Bn(F),F})()}}const H=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(_,C){var M=this;return(0,l.Z)(function*(){M.storage[_]=C})()}_get(_){var C=this;return(0,l.Z)(function*(){const M=C.storage[_];return void 0===M?null:M})()}_remove(_){var C=this;return(0,l.Z)(function*(){delete C.storage[_]})()}_addListener(_,C){}_removeListener(_,C){}}return b.type="NONE",b})();function K(b,m,_){return`firebase:${b}:${m}:${_}`}class fe{constructor(m,_,C){this.persistence=m,this.auth=_,this.userKey=C;const{config:M,name:F}=this.auth;this.fullUserKey=K(this.userKey,M.apiKey,F),this.fullPersistenceKey=K("persistence",M.apiKey,F),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,l.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?Bt._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,l.Z)(function*(){if(_.persistence===m)return;const C=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,C?_.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,C="authUser"){return(0,l.Z)(function*(){if(!_.length)return new fe(ce(H),m,C);const M=(yield Promise.all(_.map(function(){var Ct=(0,l.Z)(function*(Ot){if(yield Ot._isAvailable())return Ot});return function(Ot){return Ct.apply(this,arguments)}}()))).filter(Ct=>Ct);let F=M[0]||ce(H);const J=K(C,m.config.apiKey,m.name);let xe=null;for(const Ct of _)try{const Ot=yield Ct._get(J);if(Ot){const qn=Bt._fromJSON(m,Ot);Ct!==F&&(xe=qn),F=Ct;break}}catch(Ot){}const lt=M.filter(Ct=>Ct._shouldAllowMigration);return F._shouldAllowMigration&&lt.length?(F=lt[0],xe&&(yield F._set(J,xe.toJSON())),yield Promise.all(_.map(function(){var Ct=(0,l.Z)(function*(Ot){if(Ot!==F)try{yield Ot._remove(J)}catch(qn){}});return function(Ot){return Ct.apply(this,arguments)}}())),new fe(F,m,C)):new fe(F,m,C)})()}}function N(b){const m=b.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Be(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(V(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(St(m))return"Blackberry";if(rt(m))return"Webos";if(j(m))return"Safari";if((m.includes("chrome/")||le(m))&&!m.includes("edge/"))return"Chrome";if(ze(m))return"Android";{const C=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==C?void 0:C.length))return C[1]}return"Other"}function V(b=(0,G.z$)()){return/firefox\//i.test(b)}function j(b=(0,G.z$)()){const m=b.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function le(b=(0,G.z$)()){return/crios\//i.test(b)}function Be(b=(0,G.z$)()){return/iemobile/i.test(b)}function ze(b=(0,G.z$)()){return/android/i.test(b)}function St(b=(0,G.z$)()){return/blackberry/i.test(b)}function rt(b=(0,G.z$)()){return/webos/i.test(b)}function kt(b=(0,G.z$)()){return/iphone|ipad|ipod/i.test(b)}function In(b=(0,G.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function Lr(b=(0,G.z$)()){return kt(b)||ze(b)||rt(b)||St(b)||/windows phone/i.test(b)||Be(b)}function Qn(b,m=[]){let _;switch(b){case"Browser":_=N((0,G.z$)());break;case"Worker":_=`${N((0,G.z$)())}-${b}`;break;default:_=b}const C=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${k.SDK_VERSION}/${C}`}class cl{constructor(m,_,C){this.app=m,this.heartbeatServiceProvider=_,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qe(this),this.idTokenSubscription=new Qe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Le,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(m,_){var C=this;return _&&(this._popupRedirectResolver=ce(_)),this._initializationPromise=this.queue((0,l.Z)(function*(){var M,F;if(!C._deleted&&(C.persistenceManager=yield fe.create(C,m),!C._deleted)){if(null===(M=C._popupRedirectResolver)||void 0===M?void 0:M._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch(J){}yield C.initializeCurrentUser(_),C.lastNotifiedUid=(null===(F=C.currentUser)||void 0===F?void 0:F.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,l.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_)}})()}initializeCurrentUser(m){var _=this;return(0,l.Z)(function*(){var C;let M=yield _.assertedPersistence.getCurrentUser();if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const F=null===(C=_.redirectUser)||void 0===C?void 0:C._redirectEventId,J=null==M?void 0:M._redirectEventId,xe=yield _.tryRedirectSignIn(m);(!F||F===J)&&(null==xe?void 0:xe.user)&&(M=xe.user)}return M?M._redirectEventId?(re(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===M._redirectEventId?_.directlySetCurrentUser(M):_.reloadAndSetCurrentUserOrClear(M)):_.reloadAndSetCurrentUserOrClear(M):_.directlySetCurrentUser(null)})()}tryRedirectSignIn(m){var _=this;return(0,l.Z)(function*(){let C=null;try{C=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch(M){yield _._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,l.Z)(function*(){try{yield Bn(m)}catch(C){if("auth/network-request-failed"!==C.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function ht(){if("undefined"==typeof navigator)return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var m=this;return(0,l.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,l.Z)(function*(){const C=m?(0,G.m9)(m):null;return C&&re(C.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(C&&C._clone(_))})()}_updateCurrentUser(m){var _=this;return(0,l.Z)(function*(){if(!_._deleted)return m&&re(_.tenantId===m.tenantId,_,"tenant-id-mismatch"),_.queue((0,l.Z)(function*(){yield _.directlySetCurrentUser(m),_.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,l.Z)(function*(){return(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null)})()}setPersistence(m){var _=this;return this.queue((0,l.Z)(function*(){yield _.assertedPersistence.setPersistence(ce(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new G.LL("auth","Firebase",m())}onAuthStateChanged(m,_,C){return this.registerStateListener(this.authStateSubscription,m,_,C)}onIdTokenChanged(m,_,C){return this.registerStateListener(this.idTokenSubscription,m,_,C)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var C=this;return(0,l.Z)(function*(){const M=yield C.getOrInitRedirectPersistenceManager(_);return null===m?M.removeCurrentUser():M.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,l.Z)(function*(){if(!_.redirectPersistenceManager){const C=m&&ce(m)||_._popupRedirectResolver;re(C,_,"argument-error"),_.redirectPersistenceManager=yield fe.create(_,[ce(C._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,l.Z)(function*(){var C,M;return _._isInitialized&&(yield _.queue((0,l.Z)(function*(){}))),(null===(C=_._currentUser)||void 0===C?void 0:C._redirectEventId)===m?_._currentUser:(null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,l.Z)(function*(){if(m===_.currentUser)return _.queue((0,l.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,C,M){if(this._deleted)return()=>{};const F="function"==typeof _?_:_.next.bind(_),J=this._isInitialized?Promise.resolve():this._initializationPromise;return re(J,this,"internal-error"),J.then(()=>F(this.currentUser)),"function"==typeof _?m.addObserver(_,C,M):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,l.Z)(function*(){_.currentUser&&_.currentUser!==m&&(_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh()),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Qn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,l.Z)(function*(){var _;const C={"X-Client-Version":m.clientVersion};m.app.options.appId&&(C["X-Firebase-gmpid"]=m.app.options.appId);const M=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return M&&(C["X-Firebase-Client"]=M),C})()}}function pn(b){return(0,G.m9)(b)}class Qe{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,G.ne)(_=>this.observer=_)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function zt(b,m,_){const C=pn(b);re(C._canInitEmulator,C,"emulator-config-failed"),re(/^https?:\/\//.test(m),C,"invalid-emulator-scheme");const M=!!(null==_?void 0:_.disableWarnings),F=mn(m),{host:J,port:xe}=function Vr(b){const m=mn(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(m.length));if(!_)return{host:"",port:null};const C=_[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(C);if(M){const F=M[1];return{host:F,port:vs(C.substr(F.length+1))}}{const[F,J]=C.split(":");return{host:F,port:vs(J)}}}(m);C.config.emulator={url:`${F}//${J}${null===xe?"":`:${xe}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:J,port:xe,protocol:F.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function ur(){function b(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function mn(b){const m=b.indexOf(":");return m<0?"":b.substr(0,m+1)}function vs(b){if(!b)return null;const m=Number(b);return isNaN(m)?null:m}class Br{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return Xe("not implemented")}_getIdTokenResponse(m){return Xe("not implemented")}_linkToIdToken(m,_){return Xe("not implemented")}_getReauthenticationResolver(m){return Xe("not implemented")}}function Dn(b,m){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,l.Z)(function*(b,m){return rn(b,"POST","/v1/accounts:resetPassword",Xt(b,m))})).apply(this,arguments)}function wo(b,m){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,l.Z)(function*(b,m){return rn(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function ul(b,m){return is.apply(this,arguments)}function is(){return(is=(0,l.Z)(function*(b,m){return rn(b,"POST","/v1/accounts:update",Xt(b,m))})).apply(this,arguments)}function ss(){return(ss=(0,l.Z)(function*(b,m){return Tr(b,"POST","/v1/accounts:signInWithPassword",Xt(b,m))})).apply(this,arguments)}function Xn(b,m){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,l.Z)(function*(b,m){return rn(b,"POST","/v1/accounts:sendOobCode",Xt(b,m))})).apply(this,arguments)}function Co(b,m){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,l.Z)(function*(b,m){return Xn(b,m)})).apply(this,arguments)}function wn(b,m){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,l.Z)(function*(b,m){return Xn(b,m)})).apply(this,arguments)}function vu(b,m){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,l.Z)(function*(b,m){return Xn(b,m)})).apply(this,arguments)}function bi(b,m){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,l.Z)(function*(b,m){return Xn(b,m)})).apply(this,arguments)}function Qo(){return(Qo=(0,l.Z)(function*(b,m){return Tr(b,"POST","/v1/accounts:signInWithEmailLink",Xt(b,m))})).apply(this,arguments)}function gc(){return(gc=(0,l.Z)(function*(b,m){return Tr(b,"POST","/v1/accounts:signInWithEmailLink",Xt(b,m))})).apply(this,arguments)}class dl extends Br{constructor(m,_,C,M=null){super("password",C),this._email=m,this._password=_,this._tenantId=M}static _fromEmailAndPassword(m,_){return new dl(m,_,"password")}static _fromEmailAndCode(m,_,C=null){return new dl(m,_,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,l.Z)(function*(){switch(_.signInMethod){case"password":return function mc(b,m){return ss.apply(this,arguments)}(m,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function Yo(b,m){return Qo.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:je(m,"internal-error")}})()}_linkToIdToken(m,_){var C=this;return(0,l.Z)(function*(){switch(C.signInMethod){case"password":return wo(m,{idToken:_,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function Vi(b,m){return gc.apply(this,arguments)}(m,{idToken:_,email:C._email,oobCode:C._password});default:je(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Ws(b,m){return ci.apply(this,arguments)}function ci(){return(ci=(0,l.Z)(function*(b,m){return Tr(b,"POST","/v1/accounts:signInWithIdp",Xt(b,m))})).apply(this,arguments)}class bs extends Br{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new bs(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):je("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:C,signInMethod:M}=_,F=(0,oe._T)(_,["providerId","signInMethod"]);if(!C||!M)return null;const J=new bs(C,M);return J.idToken=F.idToken||void 0,J.accessToken=F.accessToken||void 0,J.secret=F.secret,J.nonce=F.nonce,J.pendingToken=F.pendingToken||null,J}_getIdTokenResponse(m){return Ws(m,this.buildRequest())}_linkToIdToken(m,_){const C=this.buildRequest();return C.idToken=_,Ws(m,C)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Ws(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,G.xO)(_)}return m}}function Jf(b,m){return bu.apply(this,arguments)}function bu(){return(bu=(0,l.Z)(function*(b,m){return rn(b,"POST","/v1/accounts:sendVerificationCode",Xt(b,m))})).apply(this,arguments)}function Na(){return(Na=(0,l.Z)(function*(b,m){return Tr(b,"POST","/v1/accounts:signInWithPhoneNumber",Xt(b,m))})).apply(this,arguments)}function wu(){return(wu=(0,l.Z)(function*(b,m){const _=yield Tr(b,"POST","/v1/accounts:signInWithPhoneNumber",Xt(b,m));if(_.temporaryProof)throw Sr(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const tp={USER_NOT_FOUND:"user-not-found"};function Cu(){return(Cu=(0,l.Z)(function*(b,m){return Tr(b,"POST","/v1/accounts:signInWithPhoneNumber",Xt(b,Object.assign(Object.assign({},m),{operation:"REAUTH"})),tp)})).apply(this,arguments)}class Jo extends Br{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new Jo({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new Jo({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function ep(b,m){return Na.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function Xo(b,m){return wu.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function np(b,m){return Cu.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:C,verificationCode:M}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:C,code:M}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:C,phoneNumber:M,temporaryProof:F}=m;return C||_||M||F?new Jo({verificationId:_,verificationCode:C,phoneNumber:M,temporaryProof:F}):null}}class Ks{constructor(m){var _,C,M,F,J,xe;const lt=(0,G.zd)((0,G.pd)(m)),Ct=null!==(_=lt.apiKey)&&void 0!==_?_:null,Ot=null!==(C=lt.oobCode)&&void 0!==C?C:null,qn=function rp(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=lt.mode)&&void 0!==M?M:null);re(Ct&&Ot&&qn,"argument-error"),this.apiKey=Ct,this.operation=qn,this.code=Ot,this.continueUrl=null!==(F=lt.continueUrl)&&void 0!==F?F:null,this.languageCode=null!==(J=lt.languageCode)&&void 0!==J?J:null,this.tenantId=null!==(xe=lt.tenantId)&&void 0!==xe?xe:null}static parseLink(m){const _=function Xg(b){const m=(0,G.zd)((0,G.pd)(b)).link,_=m?(0,G.zd)((0,G.pd)(m)).deep_link_id:null,C=(0,G.zd)((0,G.pd)(b)).deep_link_id;return(C?(0,G.zd)((0,G.pd)(C)).link:null)||C||_||m||b}(m);try{return new Ks(_)}catch(C){return null}}}let hl=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,C){return dl._fromEmailAndPassword(_,C)}static credentialWithLink(_,C){const M=Ks.parseLink(C);return re(M,"argument-error"),dl._fromEmailAndCode(_,M.code,M.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class ws{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Fa extends ws{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class wi extends Fa{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return re("providerId"in _&&"signInMethod"in _,"argument-error"),bs._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return re(m.idToken||m.accessToken,"argument-error"),bs._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return wi.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return wi.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:C,oauthTokenSecret:M,pendingToken:F,nonce:J,providerId:xe}=m;if(!C&&!M&&!_&&!F||!xe)return null;try{return new wi(xe)._credential({idToken:_,accessToken:C,nonce:J,pendingToken:F})}catch(lt){return null}}}let Qd=(()=>{class b extends Fa{constructor(){super("facebook.com")}static credential(_){return bs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch(C){return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),ea=(()=>{class b extends Fa{constructor(){super("google.com"),this.addScope("profile")}static credential(_,C){return bs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:C})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:C,oauthAccessToken:M}=_;if(!C&&!M)return null;try{return b.credential(C,M)}catch(F){return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),fl=(()=>{class b extends Fa{constructor(){super("github.com")}static credential(_){return bs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch(C){return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class La extends Br{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return Ws(m,this.buildRequest())}_linkToIdToken(m,_){const C=this.buildRequest();return C.idToken=_,Ws(m,C)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Ws(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:C,signInMethod:M,pendingToken:F}=_;return C&&M&&F&&C===M?new La(C,F):null}static _create(m,_){return new La(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Bi extends ws{constructor(m){re(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Bi.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Bi.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=La.fromJSON(m);return re(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:C}=m;if(!_||!C)return null;try{return La._create(C,_)}catch(M){return null}}}let Cs=(()=>{class b extends Fa{constructor(){super("twitter.com")}static credential(_,C){return bs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:C})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:C,oauthTokenSecret:M}=_;if(!C||!M)return null;try{return b.credential(C,M)}catch(F){return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function pl(b,m){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,l.Z)(function*(b,m){return Tr(b,"POST","/v1/accounts:signUp",Xt(b,m))})).apply(this,arguments)}class Rn{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,C,M=!1){return(0,l.Z)(function*(){const F=yield Bt._fromIdTokenResponse(m,C,M),J=ta(C);return new Rn({user:F,providerId:J,_tokenResponse:C,operationType:_})})()}static _forOperation(m,_,C){return(0,l.Z)(function*(){yield m._updateTokensIfNecessary(C,!0);const M=ta(C);return new Rn({user:m,providerId:M,_tokenResponse:C,operationType:_})})()}}function ta(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function ip(b){return na.apply(this,arguments)}function na(){return(na=(0,l.Z)(function*(b){var m;const _=pn(b);if(yield _._initializationPromise,null===(m=_.currentUser)||void 0===m?void 0:m.isAnonymous)return new Rn({user:_.currentUser,providerId:null,operationType:"signIn"});const C=yield pl(_,{returnSecureToken:!0}),M=yield Rn._fromIdTokenResponse(_,"signIn",C,!0);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class _c extends G.ZR{constructor(m,_,C,M){var F;super(_.code,_.message),this.operationType=C,this.user=M,Object.setPrototypeOf(this,_c.prototype),this.customData={appName:m.name,tenantId:null!==(F=m.tenantId)&&void 0!==F?F:void 0,_serverResponse:_.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(m,_,C,M){return new _c(m,_,C,M)}}function Du(b,m,_,C){return("reauthenticate"===m?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(F=>{throw"auth/multi-factor-auth-required"===F.code?_c._fromErrorAndOperation(b,F,m,C):F})}function ml(b){return new Set(b.map(({providerId:m})=>m).filter(m=>!!m))}function Ys(b,m){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,l.Z)(function*(b,m){const _=(0,G.m9)(b);yield Do(!0,_,m);const{providerUserInfo:C}=yield Fr(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),M=ml(C||[]);return _.providerData=_.providerData.filter(F=>M.has(F.providerId)),M.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function yc(b,m){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,l.Z)(function*(b,m,_=!1){const C=yield st(b,m._linkToIdToken(b.auth,yield b.getIdToken()),_);return Rn._forOperation(b,"link",C)})).apply(this,arguments)}function Do(b,m,_){return To.apply(this,arguments)}function To(){return(To=(0,l.Z)(function*(b,m,_){yield Bn(m);const M=!1===b?"provider-already-linked":"no-such-provider";re(ml(m.providerData).has(_)===b,m.auth,M)})).apply(this,arguments)}function gn(b,m){return vc.apply(this,arguments)}function vc(){return(vc=(0,l.Z)(function*(b,m,_=!1){const{auth:C}=b,M="reauthenticate";try{const F=yield st(b,Du(C,M,m,b),_);re(F.idToken,C,"internal-error");const J=$t(F.idToken);re(J,C,"internal-error");const{sub:xe}=J;return re(b.uid===xe,C,"user-mismatch"),Rn._forOperation(b,M,F)}catch(F){throw"auth/user-not-found"===(null==F?void 0:F.code)&&je(C,"user-mismatch"),F}})).apply(this,arguments)}function ra(b,m){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,l.Z)(function*(b,m,_=!1){const C="signIn",M=yield Du(b,C,m),F=yield Rn._fromIdTokenResponse(b,C,M);return _||(yield b._updateCurrentUser(F.user)),F})).apply(this,arguments)}function Ir(b,m){return er.apply(this,arguments)}function er(){return(er=(0,l.Z)(function*(b,m){return ra(pn(b),m)})).apply(this,arguments)}function gl(b,m){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,l.Z)(function*(b,m){const _=(0,G.m9)(b);return yield Do(!1,_,m.providerId),yc(_,m)})).apply(this,arguments)}function Kr(b,m){return Es.apply(this,arguments)}function Es(){return(Es=(0,l.Z)(function*(b,m){return gn((0,G.m9)(b),m)})).apply(this,arguments)}function So(b,m){return ia.apply(this,arguments)}function ia(){return(ia=(0,l.Z)(function*(b,m){return Tr(b,"POST","/v1/accounts:signInWithCustomToken",Xt(b,m))})).apply(this,arguments)}function Ui(b,m){return os.apply(this,arguments)}function os(){return(os=(0,l.Z)(function*(b,m){const _=pn(b),C=yield So(_,{token:m,returnSecureToken:!0}),M=yield Rn._fromIdTokenResponse(_,"signIn",C);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class Ds{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?Et._fromServerResponse(m,_):je(m,"internal-error")}}class Et extends Ds{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new Et(_)}}function Ua(b,m,_){var C;re((null===(C=_.url)||void 0===C?void 0:C.length)>0,b,"invalid-continue-uri"),re(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(re(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(re(_.android.packageName.length>0,b,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function Tu(b,m,_){return sa.apply(this,arguments)}function sa(){return(sa=(0,l.Z)(function*(b,m,_){const C=(0,G.m9)(b),M={requestType:"PASSWORD_RESET",email:m};_&&Ua(C,M,_),yield wn(C,M)})).apply(this,arguments)}function Su(b,m,_){return oa.apply(this,arguments)}function oa(){return(oa=(0,l.Z)(function*(b,m,_){yield Dn((0,G.m9)(b),{oobCode:m,newPassword:_})})).apply(this,arguments)}function Jd(b,m){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,l.Z)(function*(b,m){yield ul((0,G.m9)(b),{oobCode:m})})).apply(this,arguments)}function Ae(b,m){return jt.apply(this,arguments)}function jt(){return(jt=(0,l.Z)(function*(b,m){const _=(0,G.m9)(b),C=yield Dn(_,{oobCode:m}),M=C.requestType;switch(re(M,_,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":re(C.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":re(C.mfaInfo,_,"internal-error");default:re(C.email,_,"internal-error")}let F=null;return C.mfaInfo&&(F=Ds._fromServerResponse(pn(_),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:F},operation:M}})).apply(this,arguments)}function eh(b,m){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,l.Z)(function*(b,m){const{data:_}=yield Ae((0,G.m9)(b),m);return _.email})).apply(this,arguments)}function _l(b,m,_){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,l.Z)(function*(b,m,_){const C=pn(b),M=yield pl(C,{returnSecureToken:!0,email:m,password:_}),F=yield Rn._fromIdTokenResponse(C,"signIn",M);return yield C._updateCurrentUser(F.user),F})).apply(this,arguments)}function Hi(b,m,_){return Ir((0,G.m9)(b),hl.credential(m,_))}function bc(b,m,_){return ja.apply(this,arguments)}function ja(){return(ja=(0,l.Z)(function*(b,m,_){const C=(0,G.m9)(b),M={requestType:"EMAIL_SIGNIN",email:m};re(_.handleCodeInApp,C,"argument-error"),_&&Ua(C,M,_),yield vu(C,M)})).apply(this,arguments)}function sp(b,m){const _=Ks.parseLink(m);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}function wc(b,m,_){return aa.apply(this,arguments)}function aa(){return(aa=(0,l.Z)(function*(b,m,_){const C=(0,G.m9)(b),M=hl.credentialWithLink(m,_||ae());return re(M._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Ir(C,M)})).apply(this,arguments)}function la(b,m){return dr.apply(this,arguments)}function dr(){return(dr=(0,l.Z)(function*(b,m){return rn(b,"POST","/v1/accounts:createAuthUri",Xt(b,m))})).apply(this,arguments)}function as(b,m){return ca.apply(this,arguments)}function ca(){return(ca=(0,l.Z)(function*(b,m){const C={identifier:m,continueUri:At()?ae():"http://localhost"},{signinMethods:M}=yield la((0,G.m9)(b),C);return M||[]})).apply(this,arguments)}function ua(b,m){return ui.apply(this,arguments)}function ui(){return(ui=(0,l.Z)(function*(b,m){const _=(0,G.m9)(b),M={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};m&&Ua(_.auth,M,m);const{email:F}=yield Co(_.auth,M);F!==b.email&&(yield b.reload())})).apply(this,arguments)}function th(b,m,_){return da.apply(this,arguments)}function da(){return(da=(0,l.Z)(function*(b,m,_){const C=(0,G.m9)(b),F={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:m};_&&Ua(C.auth,F,_);const{email:J}=yield bi(C.auth,F);J!==b.email&&(yield b.reload())})).apply(this,arguments)}function Iu(b,m){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,l.Z)(function*(b,m){return rn(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Cc(b,m){return Js.apply(this,arguments)}function Js(){return(Js=(0,l.Z)(function*(b,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const C=(0,G.m9)(b),F={idToken:yield C.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},J=yield st(C,Iu(C.auth,F));C.displayName=J.displayName||null,C.photoURL=J.photoUrl||null;const xe=C.providerData.find(({providerId:lt})=>"password"===lt);xe&&(xe.displayName=C.displayName,xe.photoURL=C.photoURL),yield C._updateTokensIfNecessary(J)})).apply(this,arguments)}function nh(b,m){return Dc((0,G.m9)(b),m,null)}function Ec(b,m){return Dc((0,G.m9)(b),null,m)}function Dc(b,m,_){return yl.apply(this,arguments)}function yl(){return(yl=(0,l.Z)(function*(b,m,_){const{auth:C}=b,F={idToken:yield b.getIdToken(),returnSecureToken:!0};m&&(F.email=m),_&&(F.password=_);const J=yield st(b,wo(C,F));yield b._updateTokensIfNecessary(J,!0)})).apply(this,arguments)}class Io{constructor(m,_,C={}){this.isNewUser=m,this.providerId=_,this.profile=C}}class Tc extends Io{constructor(m,_,C,M){super(m,_,C),this.username=M}}class rh extends Io{constructor(m,_){super(m,"facebook.com",_)}}class Au extends Tc{constructor(m,_){super(m,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class Ao extends Io{constructor(m,_){super(m,"google.com",_)}}class eo extends Tc{constructor(m,_,C){super(m,"twitter.com",_,C)}}function Sc(b){const{user:m,_tokenResponse:_}=b;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function qa(b){var m,_;if(!b)return null;const{providerId:C}=b,M=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},F=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!C&&(null==b?void 0:b.idToken)){const J=null===(_=null===(m=$t(b.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(J)return new Io(F,"anonymous"!==J&&"custom"!==J?J:null)}if(!C)return null;switch(C){case"facebook.com":return new rh(F,M);case"github.com":return new Au(F,M);case"google.com":return new Ao(F,M);case"twitter.com":return new eo(F,M,b.screenName||null);case"custom":case"anonymous":return new Io(F,null);default:return new Io(F,C,M)}}(_)}class Mo{constructor(m,_){this.type=m,this.credential=_}static _fromIdtoken(m){return new Mo("enroll",m)}static _fromMfaPendingCredential(m){return new Mo("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,C;if(null==m?void 0:m.multiFactorSession){if(null===(_=m.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return Mo._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null===(C=m.multiFactorSession)||void 0===C?void 0:C.idToken)return Mo._fromIdtoken(m.multiFactorSession.idToken)}return null}}class $a{constructor(m,_,C){this.session=m,this.hints=_,this.signInResolver=C}static _fromError(m,_){const C=pn(m),M=_.customData._serverResponse,F=(M.mfaInfo||[]).map(xe=>Ds._fromServerResponse(C,xe));re(M.mfaPendingCredential,C,"internal-error");const J=Mo._fromMfaPendingCredential(M.mfaPendingCredential);return new $a(J,F,function(){var xe=(0,l.Z)(function*(lt){const Ct=yield lt._process(C,J);delete M.mfaInfo,delete M.mfaPendingCredential;const Ot=Object.assign(Object.assign({},M),{idToken:Ct.idToken,refreshToken:Ct.refreshToken});switch(_.operationType){case"signIn":const qn=yield Rn._fromIdTokenResponse(C,_.operationType,Ot);return yield C._updateCurrentUser(qn.user),qn;case"reauthenticate":return re(_.user,C,"internal-error"),Rn._forOperation(_.user,_.operationType,Ot);default:je(C,"internal-error")}});return function(lt){return xe.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,l.Z)(function*(){return _.signInResolver(m)})()}}function Ac(b,m){var _;const C=(0,G.m9)(b),M=m;return re(m.customData.operationType,C,"argument-error"),re(null===(_=M.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,C,"argument-error"),$a._fromError(C,M)}function vl(b,m){return rn(b,"POST","/v2/accounts/mfaEnrollment:start",Xt(b,m))}class Ru{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(C=>Ds._fromServerResponse(m.auth,C)))})}static _fromUser(m){return new Ru(m)}getSession(){var m=this;return(0,l.Z)(function*(){return Mo._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,_){var C=this;return(0,l.Z)(function*(){const M=m,F=yield C.getSession(),J=yield st(C.user,M._process(C.user.auth,F,_));return yield C.user._updateTokensIfNecessary(J),C.user.reload()})()}unenroll(m){var _=this;return(0,l.Z)(function*(){const C="string"==typeof m?m:m.uid,M=yield _.user.getIdToken(),F=yield st(_.user,function xu(b,m){return rn(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Xt(b,m))}(_.user.auth,{idToken:M,mfaEnrollmentId:C}));_.enrolledFactors=_.enrolledFactors.filter(({uid:J})=>J!==C),yield _.user._updateTokensIfNecessary(F);try{yield _.user.reload()}catch(J){if("auth/user-token-expired"!==J.code)throw J}})()}}const Ts=new WeakMap;function bl(b){const m=(0,G.m9)(b);return Ts.has(m)||Ts.set(m,Ru._fromUser(m)),Ts.get(m)}const za="__sak";class sh{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(za,"1"),this.storage.removeItem(za),Promise.resolve(!0)):Promise.resolve(!1)}catch(m){return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const _n=(()=>{class b extends sh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,C)=>this.onStorageEvent(_,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ss(){const b=(0,G.z$)();return j(b)||kt(b)}()&&function Li(){try{return!(!window||window===window.top)}catch(b){return!1}}(),this.fallbackToPolling=Lr(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const C of Object.keys(this.listeners)){const M=this.storage.getItem(C),F=this.localCache[C];M!==F&&_(C,F,M)}}onStorageEvent(_,C=!1){if(!_.key)return void this.forAllChangedKeys((xe,lt,Ct)=>{this.notifyListeners(xe,Ct)});const M=_.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const xe=this.storage.getItem(M);if(_.newValue!==xe)null!==_.newValue?this.storage.setItem(M,_.newValue):this.storage.removeItem(M);else if(this.localCache[M]===_.newValue&&!C)return}const F=()=>{const xe=this.storage.getItem(M);!C&&this.localCache[M]===xe||this.notifyListeners(M,xe)},J=this.storage.getItem(M);!function Yt(){return(0,G.w1)()&&10===document.documentMode}()||J===_.newValue||_.newValue===_.oldValue?F():setTimeout(F,10)}notifyListeners(_,C){this.localCache[_]=C;const M=this.listeners[_];if(M)for(const F of Array.from(M))F(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,C,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:C,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,C){var M=()=>super._set,F=this;return(0,l.Z)(function*(){yield M().call(F,_,C),F.localCache[_]=JSON.stringify(C)})()}_get(_){var C=()=>super._get,M=this;return(0,l.Z)(function*(){const F=yield C().call(M,_);return M.localCache[_]=JSON.stringify(F),F})()}_remove(_){var C=()=>super._remove,M=this;return(0,l.Z)(function*(){yield C().call(M,_),delete M.localCache[_]})()}}return b.type="LOCAL",b})(),it=(()=>{class b extends sh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,C){}_removeListener(_,C){}}return b.type="SESSION",b})();let Hr=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const C=this.receivers.find(F=>F.isListeningto(_));if(C)return C;const M=new b(_);return this.receivers.push(M),M}isListeningto(_){return this.eventTarget===_}handleEvent(_){var C=this;return(0,l.Z)(function*(){const M=_,{eventId:F,eventType:J,data:xe}=M.data,lt=C.handlersMap[J];if(!(null==lt?void 0:lt.size))return;M.ports[0].postMessage({status:"ack",eventId:F,eventType:J});const Ct=Array.from(lt).map(function(){var qn=(0,l.Z)(function*(pi){return pi(M.origin,xe)});return function(pi){return qn.apply(this,arguments)}}()),Ot=yield function Pt(b){return Promise.all(b.map(function(){var m=(0,l.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(C){return{fulfilled:!1,reason:C}}});return function(_){return m.apply(this,arguments)}}()))}(Ct);M.ports[0].postMessage({status:"done",eventId:F,eventType:J,response:Ot})})()}_subscribe(_,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(C)}_unsubscribe(_,C){this.handlersMap[_]&&C&&this.handlersMap[_].delete(C),(!C||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function un(b="",m=10){let _="";for(let C=0;C<m;C++)_+=Math.floor(10*Math.random());return b+_}class Ou{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,C=50){var M=this;return(0,l.Z)(function*(){const F="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!F)throw new Error("connection_unavailable");let J,xe;return new Promise((lt,Ct)=>{const Ot=un("",20);F.port1.start();const qn=setTimeout(()=>{Ct(new Error("unsupported_event"))},C);xe={messageChannel:F,onMessage(pi){const Ja=pi;if(Ja.data.eventId===Ot)switch(Ja.data.status){case"ack":clearTimeout(qn),J=setTimeout(()=>{Ct(new Error("timeout"))},3e3);break;case"done":clearTimeout(J),lt(Ja.data.response);break;default:clearTimeout(qn),clearTimeout(J),Ct(new Error("invalid_response"))}}},M.handlers.add(xe),F.port1.addEventListener("message",xe.onMessage),M.target.postMessage({eventType:m,eventId:Ot,data:_},[F.port2])}).finally(()=>{xe&&M.removeMessageHandler(xe)})})()}}function Kn(){return window}function xc(){return void 0!==Kn().WorkerGlobalScope&&"function"==typeof Kn().importScripts}function ha(){return(ha=(0,l.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(b){return null}})).apply(this,arguments)}const Rc="firebaseLocalStorageDb",fa="firebaseLocalStorage",Za="fbase_key";class yn{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function ro(b,m){return b.transaction([fa],m?"readwrite":"readonly").objectStore(fa)}function Qr(){const b=indexedDB.open(Rc,1);return new Promise((m,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const C=b.result;try{C.createObjectStore(fa,{keyPath:Za})}catch(M){_(M)}}),b.addEventListener("success",(0,l.Z)(function*(){const C=b.result;C.objectStoreNames.contains(fa)?m(C):(C.close(),yield function wl(){const b=indexedDB.deleteDatabase(Rc);return new yn(b).toPromise()}(),m(yield Qr()))}))})}function xo(b,m,_){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,l.Z)(function*(b,m,_){const C=ro(b,!0).put({[Za]:m,value:_});return new yn(C).toPromise()})).apply(this,arguments)}function so(){return(so=(0,l.Z)(function*(b,m){const _=ro(b,!1).get(m),C=yield new yn(_).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function El(b,m){const _=ro(b,!0).delete(m);return new yn(_).toPromise()}const ji=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,l.Z)(function*(){return _.db||(_.db=yield Qr()),_.db})()}_withRetries(_){var C=this;return(0,l.Z)(function*(){let M=0;for(;;)try{const F=yield C._openDb();return yield _(F)}catch(F){if(M++>3)throw F;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,l.Z)(function*(){return xc()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,l.Z)(function*(){_.receiver=Hr._getInstance(function wt(){return xc()?self:null}()),_.receiver._subscribe("keyChanged",function(){var C=(0,l.Z)(function*(M,F){return{keyProcessed:(yield _._poll()).includes(F.key)}});return function(M,F){return C.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var C=(0,l.Z)(function*(M,F){return["keyChanged"]});return function(M,F){return C.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,l.Z)(function*(){var C,M;if(_.activeServiceWorker=yield function Is(){return ha.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Ou(_.activeServiceWorker);const F=yield _.sender._send("ping",{},800);!F||(null===(C=F[0])||void 0===C?void 0:C.fulfilled)&&(null===(M=F[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var C=this;return(0,l.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function ls(){var b;return(null===(b=null==navigator?void 0:navigator.serviceWorker)||void 0===b?void 0:b.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:_},C.serviceWorkerReceiverAvailable?800:50)}catch(M){}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Qr();return yield xo(_,za,"1"),yield El(_,za),!0}catch(_){}return!1})()}_withPendingWrite(_){var C=this;return(0,l.Z)(function*(){C.pendingWrites++;try{yield _()}finally{C.pendingWrites--}})()}_set(_,C){var M=this;return(0,l.Z)(function*(){return M._withPendingWrite((0,l.Z)(function*(){return yield M._withRetries(F=>xo(F,_,C)),M.localCache[_]=C,M.notifyServiceWorker(_)}))})()}_get(_){var C=this;return(0,l.Z)(function*(){const M=yield C._withRetries(F=>function io(b,m){return so.apply(this,arguments)}(F,_));return C.localCache[_]=M,M})()}_remove(_){var C=this;return(0,l.Z)(function*(){return C._withPendingWrite((0,l.Z)(function*(){return yield C._withRetries(M=>El(M,_)),delete C.localCache[_],C.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,l.Z)(function*(){const C=yield _._withRetries(J=>{const xe=ro(J,!1).getAll();return new yn(xe).toPromise()});if(!C)return[];if(0!==_.pendingWrites)return[];const M=[],F=new Set;for(const{fbase_key:J,value:xe}of C)F.add(J),JSON.stringify(_.localCache[J])!==JSON.stringify(xe)&&(_.notifyListeners(J,xe),M.push(J));for(const J of Object.keys(_.localCache))_.localCache[J]&&!F.has(J)&&(_.notifyListeners(J,null),M.push(J));return M})()}notifyListeners(_,C){this.localCache[_]=C;const M=this.listeners[_];if(M)for(const F of Array.from(M))F(C)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function Mr(b,m){return rn(b,"POST","/v2/accounts/mfaSignIn:start",Xt(b,m))}function Dl(){return(Dl=(0,l.Z)(function*(b){return(yield rn(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function nr(b){return new Promise((m,_)=>{const C=document.createElement("script");C.setAttribute("src",b),C.onload=m,C.onerror=M=>{const F=Re("internal-error");F.customData=M,_(F)},C.type="text/javascript",C.charset="UTF-8",function En(){var b,m;return null!==(m=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==m?m:document}().appendChild(C)})}function xr(b){return`__${b}${Math.floor(1e6*Math.random())}`}const vn=1e12;class Rr{constructor(m){this.auth=m,this.counter=vn,this._widgets=new Map}render(m,_){const C=this.counter;return this._widgets.set(C,new yr(m,this.auth.name,_||{})),this.counter++,C}reset(m){var _;const C=m||vn;null===(_=this._widgets.get(C))||void 0===_||_.delete(),this._widgets.delete(C)}getResponse(m){var _;return(null===(_=this._widgets.get(m||vn))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,l.Z)(function*(){var C;return null===(C=_._widgets.get(m||vn))||void 0===C||C.execute(),""})()}}class yr{constructor(m,_,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof m?document.getElementById(m):m;re(M,"argument-error",{appName:_}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Xr(b){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<b;C++)m.push(_.charAt(Math.floor(Math.random()*_.length)));return m.join("")}(50);const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch(C){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(C){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const di=xr("rcb"),Tl=new mt(3e4,6e4);class Gn{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Kn().grecaptcha}load(m,_=""){return re(function ah(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),m,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Kn().grecaptcha):new Promise((C,M)=>{const F=Kn().setTimeout(()=>{M(Re(m,"network-request-failed"))},Tl.get());Kn()[di]=()=>{Kn().clearTimeout(F),delete Kn()[di];const xe=Kn().grecaptcha;if(!xe)return void M(Re(m,"internal-error"));const lt=xe.render;xe.render=(Ct,Ot)=>{const qn=lt(Ct,Ot);return this.counter++,qn},this.hostLanguage=_,C(xe)},nr(`https://www.google.com/recaptcha/api.js??${(0,G.xO)({onload:di,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(F),M(Re(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){return!!Kn().grecaptcha&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class e_{load(m){return(0,l.Z)(function*(){return new Rr(m)})()}clearedOneInstance(){}}const Ro="recaptcha",vr={theme:"light",type:"image"};class Sl{constructor(m,_=Object.assign({},vr),C){this.parameters=_,this.type=Ro,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pn(C),this.isInvisible="invisible"===this.parameters.size,re("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof m?document.getElementById(m):m;re(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new e_:new Gn,this.validateStartingState()}verify(){var m=this;return(0,l.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),C=m.getAssertedRecaptcha();return C.getResponse(_)||new Promise(F=>{const J=xe=>{!xe||(m.tokenChangeListeners.delete(J),F(xe))};m.tokenChangeListeners.add(J),m.isInvisible&&C.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){re(!this.parameters.sitekey,this.auth,"argument-error"),re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),re("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(C=>C(_)),"function"==typeof m)m(_);else if("string"==typeof m){const C=Kn()[m];"function"==typeof C&&C(_)}}}assertNotDestroyed(){re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,l.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const C=document.createElement("div");_.appendChild(C),_=C}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,l.Z)(function*(){re(At()&&!xc(),m.auth,"internal-error"),yield function oo(){let b=null;return new Promise(m=>{"complete"!==document.readyState?(b=()=>m(),window.addEventListener("load",b)):m()}).catch(m=>{throw b&&window.removeEventListener("load",b),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function Wa(b){return Dl.apply(this,arguments)}(m.auth);re(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Il{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=Jo._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function xs(b,m,_){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,l.Z)(function*(b,m,_){const C=pn(b),M=yield Ml(C,m,(0,G.m9)(_));return new Il(M,F=>Ir(C,F))})).apply(this,arguments)}function rr(b,m,_){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,l.Z)(function*(b,m,_){const C=(0,G.m9)(b);yield Do(!1,C,"phone");const M=yield Ml(C.auth,m,(0,G.m9)(_));return new Il(M,F=>gl(C,F))})).apply(this,arguments)}function Al(b,m,_){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,l.Z)(function*(b,m,_){const C=(0,G.m9)(b),M=yield Ml(C.auth,m,(0,G.m9)(_));return new Il(M,F=>Kr(C,F))})).apply(this,arguments)}function Ml(b,m,_){return jr.apply(this,arguments)}function jr(){return(jr=(0,l.Z)(function*(b,m,_){var C;const M=yield _.verify();try{let F;if(re("string"==typeof M,b,"argument-error"),re(_.type===Ro,b,"argument-error"),F="string"==typeof m?{phoneNumber:m}:m,"session"in F){const J=F.session;if("phoneNumber"in F)return re("enroll"===J.type,b,"internal-error"),(yield vl(b,{idToken:J.credential,phoneEnrollmentInfo:{phoneNumber:F.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{re("signin"===J.type,b,"internal-error");const xe=(null===(C=F.multiFactorHint)||void 0===C?void 0:C.uid)||F.multiFactorUid;return re(xe,b,"missing-multi-factor-info"),(yield Mr(b,{mfaPendingCredential:J.credential,mfaEnrollmentId:xe,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:J}=yield Jf(b,{phoneNumber:F.phoneNumber,recaptchaToken:M});return J}}finally{_._reset()}})).apply(this,arguments)}function Gi(b,m){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,l.Z)(function*(b,m){yield yc((0,G.m9)(b),m)})).apply(this,arguments)}let pa=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=pn(_)}verifyPhoneNumber(_,C){return Ml(this.auth,_,(0,G.m9)(C))}static credential(_,C){return Jo._fromVerification(_,C)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:C,temporaryProof:M}=_;return C&&M?Jo._fromTokenResponse(C,M):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function hi(b,m){return m?ce(m):(re(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class ma extends Br{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Ws(m,this._buildIdpRequest())}_linkToIdToken(m,_){return Ws(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return Ws(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function Pc(b){return ra(b.auth,new ma(b),b.bypassAuthState)}function xl(b){const{auth:m,user:_}=b;return re(_,m,"internal-error"),gn(_,new ma(b),b.bypassAuthState)}function Gt(b){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,l.Z)(function*(b){const{auth:m,user:_}=b;return re(_,m,"internal-error"),yc(_,new ma(b),b.bypassAuthState)})).apply(this,arguments)}class ko{constructor(m,_,C,M,F=!1){this.auth=m,this.resolver=C,this.user=M,this.bypassAuthState=F,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,l.Z)(function*(C,M){m.pendingPromise={resolve:C,reject:M};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(F){m.reject(F)}});return function(C,M){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,l.Z)(function*(){const{urlResponse:C,sessionId:M,postBody:F,tenantId:J,error:xe,type:lt}=m;if(xe)return void _.reject(xe);const Ct={auth:_.auth,requestUri:C,sessionId:M,tenantId:J||void 0,postBody:F||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(lt)(Ct))}catch(Ot){_.reject(Ot)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Pc;case"linkViaPopup":case"linkViaRedirect":return Gt;case"reauthViaPopup":case"reauthViaRedirect":return xl;default:je(this.auth,"internal-error")}}resolve(m){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fi=new mt(2e3,1e4);function kl(b,m,_){return ao.apply(this,arguments)}function ao(){return(ao=(0,l.Z)(function*(b,m,_){const C=pn(b);Ee(b,m,ws);const M=hi(C,_);return new Pl(C,"signInViaPopup",m,M).executeNotNull()})).apply(this,arguments)}function op(b,m,_){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,l.Z)(function*(b,m,_){const C=(0,G.m9)(b);Ee(C.auth,m,ws);const M=hi(C.auth,_);return new Pl(C.auth,"reauthViaPopup",m,M,C).executeNotNull()})).apply(this,arguments)}function qi(b,m,_){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,l.Z)(function*(b,m,_){const C=(0,G.m9)(b);Ee(C.auth,m,ws);const M=hi(C.auth,_);return new Pl(C.auth,"linkViaPopup",m,M,C).executeNotNull()})).apply(this,arguments)}let Pl=(()=>{class b extends ko{constructor(_,C,M,F,J){super(_,C,F,J),this.provider=M,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,l.Z)(function*(){const C=yield _.execute();return re(C,_.auth,"internal-error"),C})()}onExecution(){var _=this;return(0,l.Z)(function*(){Y(1===_.filter.length,"Popup operations only handle one event");const C=un();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],C),_.authWindow.associatedEvent=C,_.resolver._originValidation(_.auth).catch(M=>{_.reject(M)}),_.resolver._isIframeWebStorageSupported(_.auth,M=>{M||_.reject(Re(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Re(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var C,M;this.pollId=(null===(M=null===(C=this.authWindow)||void 0===C?void 0:C.window)||void 0===M?void 0:M.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Re(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,fi.get())};_()}}return b.currentPopupAction=null,b})();const Nc=new Map;class An extends ko{constructor(m,_,C=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,C),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,l.Z)(function*(){let C=Nc.get(_.auth._key());if(!C){try{const F=(yield function Di(b,m){return Qa.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;C=()=>Promise.resolve(F)}catch(M){C=()=>Promise.reject(M)}Nc.set(_.auth._key(),C)}return _.bypassAuthState||Nc.set(_.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,C=this;return(0,l.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(C,m);if("unknown"!==m.type){if(m.eventId){const M=yield C.auth._redirectUserForId(m.eventId);if(M)return C.user=M,_().call(C,m);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Qa(){return(Qa=(0,l.Z)(function*(b,m){const _=D(m),C=Fl(b);if(!(yield C._isAvailable()))return!1;const M="true"===(yield C._get(_));return yield C._remove(_),M})).apply(this,arguments)}function Fc(b,m){return co.apply(this,arguments)}function co(){return(co=(0,l.Z)(function*(b,m){return Fl(b)._set(D(m),"true")})).apply(this,arguments)}function Nl(){Nc.clear()}function Fl(b){return ce(b._redirectPersistence)}function D(b){return K("pendingRedirect",b.config.apiKey,b.name)}function S(b,m,_){return function R(b,m,_){return U.apply(this,arguments)}(b,m,_)}function U(){return(U=(0,l.Z)(function*(b,m,_){const C=pn(b);Ee(b,m,ws);const M=hi(C,_);return yield Fc(M,C),M._openRedirect(C,m,"signInViaRedirect")})).apply(this,arguments)}function Q(b,m,_){return function ie(b,m,_){return ge.apply(this,arguments)}(b,m,_)}function ge(){return(ge=(0,l.Z)(function*(b,m,_){const C=(0,G.m9)(b);Ee(C.auth,m,ws);const M=hi(C.auth,_);yield Fc(M,C.auth);const F=yield uo(C);return M._openRedirect(C.auth,m,"reauthViaRedirect",F)})).apply(this,arguments)}function nt(b,m,_){return function at(b,m,_){return bt.apply(this,arguments)}(b,m,_)}function bt(){return(bt=(0,l.Z)(function*(b,m,_){const C=(0,G.m9)(b);Ee(C.auth,m,ws);const M=hi(C.auth,_);yield Do(!1,C,m.providerId),yield Fc(M,C.auth);const F=yield uo(C);return M._openRedirect(C.auth,m,"linkViaRedirect",F)})).apply(this,arguments)}function Jt(b,m){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,l.Z)(function*(b,m){return yield pn(b)._initializationPromise,ir(b,m,!1)})).apply(this,arguments)}function ir(b,m){return sr.apply(this,arguments)}function sr(){return(sr=(0,l.Z)(function*(b,m,_=!1){const C=pn(b),M=hi(C,m),J=yield new An(C,M,_).execute();return J&&!_&&(delete J.user._redirectEventId,yield C._persistUserIfCurrent(J.user),yield C._setRedirectUser(null,m)),J})).apply(this,arguments)}function uo(b){return ks.apply(this,arguments)}function ks(){return(ks=(0,l.Z)(function*(b){const m=un(`${b.uid}:::`);return b._redirectEventId=m,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),m})).apply(this,arguments)}class br{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(m,C)&&(_=!0,this.sendToConsumer(m,C),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function Lu(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return us(b);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var C;if(m.error&&!us(m)){const M=(null===(C=m.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";_.onError(Re(this.auth,M))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const C=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&C}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ho(m))}saveEventToCache(m){this.cachedEventUids.add(ho(m)),this.lastProcessedEventTime=Date.now()}}function ho(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(m=>m).join("-")}function us({type:b,error:m}){return"unknown"===b&&"auth/no-auth-event"===(null==m?void 0:m.code)}function Vu(b){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,l.Z)(function*(b,m={}){return rn(b,"GET","/v1/projects",m)})).apply(this,arguments)}const Bu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ap=/^https?/;function Vl(){return(Vl=(0,l.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:m}=yield Vu(b);for(const _ of m)try{if(Bl(_))return}catch(C){}je(b,"unauthorized-domain")})).apply(this,arguments)}function Bl(b){const m=ae(),{protocol:_,hostname:C}=new URL(m);if(b.startsWith("chrome-extension://")){const J=new URL(b);return""===J.hostname&&""===C?"chrome-extension:"===_&&b.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&J.hostname===C}if(!ap.test(_))return!1;if(Bu.test(b))return C===b;const M=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(C)}const Lc=new mt(3e4,6e4);function lp(){const b=Kn().___jsl;if(null==b?void 0:b.H)for(const m of Object.keys(b.H))if(b.H[m].r=b.H[m].r||[],b.H[m].L=b.H[m].L||[],b.H[m].r=[...b.H[m].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let Vc=null;function cp(b){return Vc=Vc||function ow(b){return new Promise((m,_)=>{var C,M,F;function J(){lp(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{lp(),_(Re(b,"network-request-failed"))},timeout:Lc.get()})}if(null===(M=null===(C=Kn().gapi)||void 0===C?void 0:C.iframes)||void 0===M?void 0:M.Iframe)m(gapi.iframes.getContext());else{if(!(null===(F=Kn().gapi)||void 0===F?void 0:F.load)){const xe=xr("iframefcb");return Kn()[xe]=()=>{gapi.load?J():_(Re(b,"network-request-failed"))},nr(`https://apis.google.com/js/api.js?onload=${xe}`).catch(lt=>_(lt))}J()}}).catch(m=>{throw Vc=null,m})}(b),Vc}const up=new mt(5e3,15e3),Ul={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Bc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Uu(b){const m=b.config;re(m.authDomain,b,"auth-domain-config-required");const _=m.emulator?fn(m,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,C={apiKey:m.apiKey,appName:b.name,v:k.SDK_VERSION},M=Bc.get(b.config.apiHost);M&&(C.eid=M);const F=b._getFrameworks();return F.length&&(C.fw=F.join(",")),`${_}?${(0,G.xO)(C).slice(1)}`}function Po(){return Po=(0,l.Z)(function*(b){const m=yield cp(b),_=Kn().gapi;return re(_,b,"internal-error"),m.open({where:document.body,url:Uu(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ul,dontclear:!0},C=>new Promise(function(){var M=(0,l.Z)(function*(F,J){yield C.restyle({setHideOnLeave:!1});const xe=Re(b,"network-request-failed"),lt=Kn().setTimeout(()=>{J(xe)},up.get());function Ct(){Kn().clearTimeout(lt),F(C)}C.ping(Ct).then(Ct,()=>{J(xe)})});return function(F,J){return M.apply(this,arguments)}}()))}),Po.apply(this,arguments)}const dp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Gu{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(m){}}}function ch(b,m,_,C,M,F){re(b.config.authDomain,b,"auth-domain-config-required"),re(b.config.apiKey,b,"invalid-api-key");const J={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:C,v:k.SDK_VERSION,eventId:M};if(m instanceof ws){m.setDefaultLanguage(b.languageCode),J.providerId=m.providerId||"",(0,G.xb)(m.getCustomParameters())||(J.customParameters=JSON.stringify(m.getCustomParameters()));for(const[lt,Ct]of Object.entries(F||{}))J[lt]=Ct}if(m instanceof Fa){const lt=m.getScopes().filter(Ct=>""!==Ct);lt.length>0&&(J.scopes=lt.join(","))}b.tenantId&&(J.tid=b.tenantId);const xe=J;for(const lt of Object.keys(xe))void 0===xe[lt]&&delete xe[lt];return`${function r_({config:b}){return b.emulator?fn(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,G.xO)(xe).slice(1)}`}const uh="webStorageSupport",Os=class ds{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=it,this._completeRedirectFn=ir}_openPopup(m,_,C,M){var F=this;return(0,l.Z)(function*(){var J;Y(null===(J=F.eventManagers[m._key()])||void 0===J?void 0:J.manager,"_initialize() not called before _openPopup()");const xe=ch(m,_,C,ae(),M);return function qu(b,m,_,C=500,M=600){const F=Math.max((window.screen.availHeight-M)/2,0).toString(),J=Math.max((window.screen.availWidth-C)/2,0).toString();let xe="";const lt=Object.assign(Object.assign({},dp),{width:C.toString(),height:M.toString(),top:F,left:J}),Ct=(0,G.z$)().toLowerCase();_&&(xe=le(Ct)?"_blank":_),V(Ct)&&(m=m||"http://localhost",lt.scrollbars="yes");const Ot=Object.entries(lt).reduce((pi,[Ja,jl])=>`${pi}${Ja}=${jl},`,"");if(function cr(b=(0,G.z$)()){var m;return kt(b)&&!!(null===(m=window.navigator)||void 0===m?void 0:m.standalone)}(Ct)&&"_self"!==xe)return function No(b,m){const _=document.createElement("a");_.href=b,_.target=m;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(C)}(m||"",xe),new Gu(null);const qn=window.open(m||"",xe,Ot);re(qn,b,"popup-blocked");try{qn.focus()}catch(pi){}return new Gu(qn)}(m,xe,un())})()}_openRedirect(m,_,C,M){var F=this;return(0,l.Z)(function*(){return yield F._originValidation(m),function no(b){Kn().location.href=b}(ch(m,_,C,ae(),M)),new Promise(()=>{})})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:M,promise:F}=this.eventManagers[_];return M?Promise.resolve(M):(Y(F,"If manager is not set, promise should be"),F)}const C=this.initAndGetManager(m);return this.eventManagers[_]={promise:C},C.catch(()=>{delete this.eventManagers[_]}),C}initAndGetManager(m){var _=this;return(0,l.Z)(function*(){const C=yield function Hl(b){return Po.apply(this,arguments)}(m),M=new br(m);return C.register("authEvent",F=>(re(null==F?void 0:F.authEvent,m,"invalid-auth-event"),{status:M.onEvent(F.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:M},_.iframes[m._key()]=C,M})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(uh,{type:uh},M=>{var F;const J=null===(F=null==M?void 0:M[0])||void 0===F?void 0:F[uh];void 0!==J&&_(!!J),je(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function t_(b){return Vl.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return Lr()||j()||kt()}};class zu extends class $u{constructor(m){this.factorId=m}_process(m,_,C){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,C);case"signin":return this._finalizeSignIn(m,_.credential);default:return Xe("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new zu(m)}_finalizeEnroll(m,_,C){return function tr(b,m){return rn(b,"POST","/v2/accounts/mfaEnrollment:finalize",Xt(b,m))}(m,{idToken:_,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function _r(b,m){return rn(b,"POST","/v2/accounts/mfaSignIn:finalize",Xt(b,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let hp=(()=>{class b{constructor(){}static assertion(_){return zu._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var fp="@firebase/auth",Zu="0.19.11";class i_{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,l.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(C=>{var M;m((null===(M=C)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);!_||(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function s_(b){(0,k._registerComponent)(new ve.wA("auth",(m,{options:_})=>{const C=m.getProvider("app").getImmediate(),M=m.getProvider("heartbeat"),{apiKey:F,authDomain:J}=C.options;return((xe,lt)=>{re(F&&!F.includes(":"),"invalid-api-key",{appName:xe.name}),re(!(null==J?void 0:J.includes(":")),"argument-error",{appName:xe.name});const Ct={apiKey:F,authDomain:J,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qn(b)},Ot=new cl(xe,lt,Ct);return function Pe(b,m){const _=(null==m?void 0:m.persistence)||[],C=(Array.isArray(_)?_:[_]).map(ce);(null==m?void 0:m.errorMap)&&b._updateErrorMap(m.errorMap),b._initializeWithPersistence(C,null==m?void 0:m.popupRedirectResolver)}(Ot,_),Ot})(C,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,C)=>{m.getProvider("auth-internal").initialize()})),(0,k._registerComponent)(new ve.wA("auth-internal",m=>{const _=pn(m.getProvider("auth").getImmediate());return new i_(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,k.registerVersion)(fp,Zu,function pp(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,k.registerVersion)(fp,Zu,"esm2017")}("Browser")},2090:(ut,Se,P)=>{P.d(Se,{BH:()=>ke,LL:()=>At,ZR:()=>ae,zI:()=>ce,US:()=>te,tV:()=>Z,L:()=>be,$s:()=>rs,r3:()=>rn,Sg:()=>Ne,ne:()=>_t,vZ:()=>Tr,ZB:()=>ne,Lj:()=>Vt,pd:()=>Sr,m9:()=>vt,z$:()=>Le,jU:()=>Je,ru:()=>je,d:()=>Ie,xb:()=>mr,w1:()=>Ee,hl:()=>Y,uI:()=>_e,UG:()=>De,b$:()=>Re,G6:()=>Xe,Mn:()=>Ye,X3:()=>pt,xO:()=>yi,zd:()=>gr,eu:()=>he});var l=P(5861);const se=function(W){const H=[];let K=0;for(let fe=0;fe<W.length;fe++){let N=W.charCodeAt(fe);N<128?H[K++]=N:N<2048?(H[K++]=N>>6|192,H[K++]=63&N|128):55296==(64512&N)&&fe+1<W.length&&56320==(64512&W.charCodeAt(fe+1))?(N=65536+((1023&N)<<10)+(1023&W.charCodeAt(++fe)),H[K++]=N>>18|240,H[K++]=N>>12&63|128,H[K++]=N>>6&63|128,H[K++]=63&N|128):(H[K++]=N>>12|224,H[K++]=N>>6&63|128,H[K++]=63&N|128)}return H},te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,H){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,fe=[];for(let N=0;N<W.length;N+=3){const V=W[N],j=N+1<W.length,le=j?W[N+1]:0,Be=N+2<W.length,ze=Be?W[N+2]:0;let kt=(15&le)<<2|ze>>6,In=63&ze;Be||(In=64,j||(kt=64)),fe.push(K[V>>2],K[(3&V)<<4|le>>4],K[kt],K[In])}return fe.join("")},encodeString(W,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(W):this.encodeByteArray(se(W),H)},decodeString(W,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(W):function(W){const H=[];let K=0,fe=0;for(;K<W.length;){const N=W[K++];if(N<128)H[fe++]=String.fromCharCode(N);else if(N>191&&N<224){const V=W[K++];H[fe++]=String.fromCharCode((31&N)<<6|63&V)}else if(N>239&&N<365){const Be=((7&N)<<18|(63&W[K++])<<12|(63&W[K++])<<6|63&W[K++])-65536;H[fe++]=String.fromCharCode(55296+(Be>>10)),H[fe++]=String.fromCharCode(56320+(1023&Be))}else{const V=W[K++],j=W[K++];H[fe++]=String.fromCharCode((15&N)<<12|(63&V)<<6|63&j)}}return H.join("")}(this.decodeStringToByteArray(W,H))},decodeStringToByteArray(W,H){this.init_();const K=H?this.charToByteMapWebSafe_:this.charToByteMap_,fe=[];for(let N=0;N<W.length;){const V=K[W.charAt(N++)],le=N<W.length?K[W.charAt(N)]:0;++N;const ze=N<W.length?K[W.charAt(N)]:64;++N;const rt=N<W.length?K[W.charAt(N)]:64;if(++N,null==V||null==le||null==ze||null==rt)throw Error();fe.push(V<<2|le>>4),64!==ze&&(fe.push(le<<4&240|ze>>2),64!==rt&&fe.push(ze<<6&192|rt))}return fe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},be=function(W){return function(W){const H=se(W);return te.encodeByteArray(H,!0)}(W).replace(/\./g,"")},Z=function(W){try{return te.decodeString(W,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function ne(W,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return H}for(const K in H)!H.hasOwnProperty(K)||!Ge(K)||(W[K]=ne(W[K],H[K]));return W}function Ge(W){return"__proto__"!==W}class ke{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,K)=>{this.resolve=H,this.reject=K})}wrapCallback(H){return(K,fe)=>{K?this.reject(K):this.resolve(fe),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(K):H(K,fe))}}}function Ne(W,H){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const fe=H||"demo-project",N=W.iat||0,V=W.sub||W.user_id;if(!V)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const j=Object.assign({iss:`https://securetoken.google.com/${fe}`,aud:fe,iat:N,exp:N+3600,auth_time:N,sub:V,user_id:V,firebase:{sign_in_provider:"custom",identities:{}}},W);return[be(JSON.stringify({alg:"none",type:"JWT"})),be(JSON.stringify(j)),""].join(".")}function Le(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _e(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function De(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(W){return!1}}function Je(){return"object"==typeof self&&self.self===self}function je(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function Re(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ie(){return Le().indexOf("Electron/")>=0}function Ee(){const W=Le();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function Ye(){return Le().indexOf("MSAppHost/")>=0}function Xe(){return!De()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Y(){return"object"==typeof indexedDB}function he(){return new Promise((W,H)=>{try{let K=!0;const fe="validate-browser-context-for-indexeddb-analytics-module",N=self.indexedDB.open(fe);N.onsuccess=()=>{N.result.close(),K||self.indexedDB.deleteDatabase(fe),W(!0)},N.onupgradeneeded=()=>{K=!1},N.onerror=()=>{var V;H((null===(V=N.error)||void 0===V?void 0:V.message)||"")}}catch(K){H(K)}})}function ce(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ae extends Error{constructor(H,K,fe){super(K),this.code=H,this.customData=fe,this.name="FirebaseError",Object.setPrototypeOf(this,ae.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,At.prototype.create)}}class At{constructor(H,K,fe){this.service=H,this.serviceName=K,this.errors=fe}create(H,...K){const fe=K[0]||{},N=`${this.service}/${H}`,V=this.errors[H],j=V?function nn(W,H){return W.replace(Fn,(K,fe)=>{const N=H[fe];return null!=N?String(N):`<${fe}?>`})}(V,fe):"Error";return new ae(N,`${this.serviceName}: ${j} (${N}).`,fe)}}const Fn=/\{\$([^}]+)}/g;function rn(W,H){return Object.prototype.hasOwnProperty.call(W,H)}function mr(W){for(const H in W)if(Object.prototype.hasOwnProperty.call(W,H))return!1;return!0}function Tr(W,H){if(W===H)return!0;const K=Object.keys(W),fe=Object.keys(H);for(const N of K){if(!fe.includes(N))return!1;const V=W[N],j=H[N];if(ts(V)&&ts(j)){if(!Tr(V,j))return!1}else if(V!==j)return!1}for(const N of fe)if(!K.includes(N))return!1;return!0}function ts(W){return null!==W&&"object"==typeof W}function yi(W){const H=[];for(const[K,fe]of Object.entries(W))Array.isArray(fe)?fe.forEach(N=>{H.push(encodeURIComponent(K)+"="+encodeURIComponent(N))}):H.push(encodeURIComponent(K)+"="+encodeURIComponent(fe));return H.length?"&"+H.join("&"):""}function gr(W){const H={};return W.replace(/^\?/,"").split("&").forEach(fe=>{if(fe){const[N,V]=fe.split("=");H[decodeURIComponent(N)]=decodeURIComponent(V)}}),H}function Sr(W){const H=W.indexOf("?");if(!H)return"";const K=W.indexOf("#",H);return W.substring(H,K>0?K:void 0)}function _t(W,H){const K=new Fr(W,H);return K.subscribe.bind(K)}class Fr{constructor(H,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{H(this)}).catch(fe=>{this.error(fe)})}next(H){this.forEachObserver(K=>{K.next(H)})}error(H){this.forEachObserver(K=>{K.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,K,fe){let N;if(void 0===H&&void 0===K&&void 0===fe)throw new Error("Missing Observer.");N=function on(W,H){if("object"!=typeof W||null===W)return!1;for(const K of H)if(K in W&&"function"==typeof W[K])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:K,complete:fe},void 0===N.next&&(N.next=Wn),void 0===N.error&&(N.error=Wn),void 0===N.complete&&(N.complete=Wn);const V=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?N.error(this.finalError):N.complete()}catch(j){}}),this.observers.push(N),V}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,H)}sendOne(H,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{K(this.observers[H])}catch(fe){"undefined"!=typeof console&&console.error&&console.error(fe)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wn(){}function rs(W,H=1e3,K=2){const fe=H*Math.pow(K,W),N=Math.round(.5*fe*(Math.random()-.5)*2);return Math.min(144e5,fe+N)}function vt(W){return W&&W._delegate?W._delegate:W}function Un(W,H){return new Promise((K,fe)=>{W.onsuccess=N=>{K(N.target.result)},W.onerror=N=>{var V;fe(`${H}: ${null===(V=N.target.error)||void 0===V?void 0:V.message}`)}})}class Wt{constructor(H){this._db=H,this.objectStoreNames=this._db.objectStoreNames}transaction(H,K){return new qe(this._db.transaction.call(this._db,H,K))}createObjectStore(H,K){return new Te(this._db.createObjectStore(H,K))}close(){this._db.close()}}class qe{constructor(H){this._transaction=H,this.complete=new Promise((K,fe)=>{this._transaction.oncomplete=function(){K()},this._transaction.onerror=()=>{fe(this._transaction.error)},this._transaction.onabort=()=>{fe(this._transaction.error)}})}objectStore(H){return new Te(this._transaction.objectStore(H))}}class Te{constructor(H){this._store=H}index(H){return new et(this._store.index(H))}createIndex(H,K,fe){return new et(this._store.createIndex(H,K,fe))}get(H){return Un(this._store.get(H),"Error reading from IndexedDB")}put(H,K){return Un(this._store.put(H,K),"Error writing to IndexedDB")}delete(H){return Un(this._store.delete(H),"Error deleting from IndexedDB")}clear(){return Un(this._store.clear(),"Error clearing IndexedDB object store")}}class et{constructor(H){this._index=H}get(H){return Un(this._index.get(H),"Error reading from IndexedDB")}}function pt(W,H,K){return new Promise((fe,N)=>{try{const V=indexedDB.open(W,H);V.onsuccess=j=>{fe(new Wt(j.target.result))},V.onerror=j=>{var le;N(`Error opening indexedDB: ${null===(le=j.target.error)||void 0===le?void 0:le.message}`)},V.onupgradeneeded=j=>{K(new Wt(V.result),j.oldVersion,j.newVersion,new qe(V.transaction))}}catch(V){N(`Error opening indexedDB: ${V.message}`)}})}function Vt(W){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,l.Z)(function*(W){return new Promise((H,K)=>{try{const fe=indexedDB.deleteDatabase(W);fe.onsuccess=()=>{H()},fe.onerror=N=>{var V;K(`Error deleting indexedDB database "${W}": ${null===(V=N.target.error)||void 0===V?void 0:V.message}`)}}catch(fe){K(`Error deleting indexedDB database "${W}": ${fe.message}`)}})})).apply(this,arguments)}},9090:(ut,Se,P)=>{var l=P(5e3);let G=null;function k(){return G}const te=new l.OlP("DocumentToken");let ue=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function be(){return(0,l.LFG)(z)}()},providedIn:"platform"}),n})();const Z=new l.OlP("Location Initialized");let z=(()=>{class n extends ue{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){ne()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){ne()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(te))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ge(){return new z((0,l.LFG)(te))}()},providedIn:"platform"}),n})();function ne(){return!!window.history.pushState}function ke(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ne(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Le(n){return n&&"?"!==n[0]?"?"+n:n}let _e=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function De(n){const e=(0,l.LFG)(te).location;return new je((0,l.LFG)(ue),e&&e.origin||"")}()},providedIn:"root"}),n})();const Je=new l.OlP("appBaseHref");let je=(()=>{class n extends _e{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ke(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Le(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const u=this.prepareExternalUrl(i+Le(a));this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,a){const u=this.prepareExternalUrl(i+Le(a));this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ue),l.LFG(Je,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Re=(()=>{class n extends _e{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ke(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let u=this.prepareExternalUrl(i+Le(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,a){let u=this.prepareExternalUrl(i+Le(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ue),l.LFG(Je,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ie=(()=>{class n{constructor(t,r){this._subject=new l.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Ne(re(i)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Le(r))}normalize(t){return n.stripTrailingSlash(function Ye(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,re(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Le(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Le(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Le,n.joinWithSlash=ke,n.stripTrailingSlash=Ne,n.\u0275fac=function(t){return new(t||n)(l.LFG(_e),l.LFG(ue))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ee(){return new Ie((0,l.LFG)(_e),(0,l.LFG)(ue))}()},providedIn:"root"}),n})();function re(n){return n.replace(/\/index.html$/,"")}var he=(()=>((he=he||{})[he.Zero=0]="Zero",he[he.One=1]="One",he[he.Two=2]="Two",he[he.Few=3]="Few",he[he.Many=4]="Many",he[he.Other=5]="Other",he))();const gr=l.kL8;class Dn{}let wo=(()=>{class n extends Dn{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(gr(r||this.locale)(t)){case he.Zero:return"zero";case he.One:return"one";case he.Two:return"two";case he.Few:return"few";case he.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.soG))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),is=(()=>{class n{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class ss{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Xn=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,u)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new ss(i.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,u),Zs(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Zs(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Zs(n,e){n.context.$implicit=e.item}let Jn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new wn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ko("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ko("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class wn{constructor(){this.$implicit=null,this.ngIf=null}}function Ko(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}class vu{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Ur=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),bi=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new vu(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(Ur,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),Pa=(()=>{class n{constructor(t,r,i){i._addDefault(new vu(t,r))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(Ur,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n})(),Va=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[{provide:Dn,useClass:wo}]}),n})();const Bi="browser";function ta(n){return"server"===n}let Du=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new ml((0,l.LFG)(te),window)}),n})();class ml{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Eo(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const u=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ys(this.window.history)||Ys(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Ys(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class To extends class Do extends class ve{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function se(n){G||(G=n)}(new To)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function vc(){return gn=gn||document.querySelector("base"),gn?gn.getAttribute("href"):null}();return null==t?null:function Qs(n){ra=ra||document.createElement("a"),ra.setAttribute("href",n);const e=ra.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){gn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function ul(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let ra,gn=null;const Ir=new l.OlP("TRANSITION_ID"),gl=[{provide:l.ip1,useFactory:function er(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const r=k(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[Ir,te,l.zs3],multi:!0}];class Ci{static init(){(0,l.VLi)(new Ci)}addToWindow(e){l.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const i=l.dqk.getAllAngularTestabilities();let a=i.length,u=!1;const f=function(g){u=u||g,a--,0==a&&r(u)};i.forEach(function(g){g.whenStable(f)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Kr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Es=new l.OlP("EventManagerPlugins");let So=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const u=i[a];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Es),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class ia{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=k().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Ui=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),os=(()=>{class n extends Ui{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,i.push(r.appendChild(u))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Ds),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ds))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(te))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Ds(n){k().remove(n)}const Et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ua=/%COMP%/g;function Ae(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Ae(n,i,t):(i=i.replace(Ua,n),t.push(i))}return t}function jt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Cn=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new _l(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case l.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new bc(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case l.ifc.ShadowDom:return new ja(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Ae(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(So),l.LFG(os),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class _l{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Et[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=Et[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Et[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,r,i&l.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,jt(r)):this.eventManager.addEventListener(e,t,jt(r))}}class bc extends _l{constructor(e,t,r,i){super(e),this.component=r;const a=Ae(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function Jd(n){return"_ngcontent-%COMP%".replace(Ua,n)}(i+"-"+r.id),this.hostAttr=function Ha(n){return"_nghost-%COMP%".replace(Ua,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class ja extends _l{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Ae(i.id,i.styles,[]);for(let u=0;u<a.length;u++){const f=document.createElement("style");f.textContent=a[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let sp=(()=>{class n extends ia{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(te))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const wc=["alt","control","meta","shift"],la={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},as={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ca=(()=>{class n extends ia{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),u=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,a.domEventName,u))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let u="";if(wc.forEach(g=>{const v=r.indexOf(g);v>-1&&(r.splice(v,1),u+=g+".")}),u+=a,0!=r.length||0===a.length)return null;const f={};return f.domEventName=i,f.fullKey=u,f}static getEventFullKey(t){let r="",i=function ua(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&dr.hasOwnProperty(e)&&(e=dr[e]))}return la[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),wc.forEach(a=>{a!=i&&as[a](t)&&(r+=a+".")}),r+=i,r}static eventCallback(t,r,i){return a=>{n.getEventFullKey(a)===t&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(te))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Ga=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:Bi},{provide:l.g9A,useValue:function ui(){To.makeCurrent(),Ci.init()},multi:!0},{provide:te,useFactory:function da(){return(0,l.RDi)(document),document},deps:[]}]),Cc=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function th(){return new l.qLn},deps:[]},{provide:Es,useClass:sp,multi:!0,deps:[te,l.R0b,l.Lbi]},{provide:Es,useClass:ca,multi:!0,deps:[te]},{provide:Cn,useClass:Cn,deps:[So,os,l.AFp]},{provide:l.FYo,useExisting:Cn},{provide:Ui,useExisting:os},{provide:os,useClass:os,deps:[te]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b]},{provide:So,useClass:So,deps:[Es,l.R0b]},{provide:class Tn{},useClass:Kr,deps:[]}];let Js=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:Ir,useExisting:l.AFp},gl]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(n,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:Cc,imports:[Va,l.hGG]}),n})();"undefined"!=typeof window&&window;let Ss=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):l.LFG(ku),r},providedIn:"root"}),n})(),ku=(()=>{class n extends Ss{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case l.q3G.NONE:return r;case l.q3G.HTML:return(0,l.qzn)(r,"HTML")?(0,l.z3N)(r):(0,l.EiD)(this._doc,String(r)).toString();case l.q3G.STYLE:return(0,l.qzn)(r,"Style")?(0,l.z3N)(r):r;case l.q3G.SCRIPT:if((0,l.qzn)(r,"Script"))return(0,l.z3N)(r);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.yhl)(r),(0,l.qzn)(r,"URL")?(0,l.z3N)(r):(0,l.mCW)(String(r));case l.q3G.RESOURCE_URL:if((0,l.qzn)(r,"ResourceURL"))return(0,l.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(te))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Mc(n){return new ku(n.get(te))}(l.LFG(l.zs3)),r},providedIn:"root"}),n})();var _n=P(8996),Ar=P(3269);function it(...n){const e=(0,Ar.yG)(n);return(0,_n.D)(n,e)}var Pt=P(7579);class Hr extends Pt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var un=P(8306);const{isArray:Ou}=Array,{getPrototypeOf:Kn,prototype:no,keys:xc}=Object;function Is(n){if(1===n.length){const e=n[0];if(Ou(e))return{args:e,keys:null};if(function ha(n){return n&&"object"==typeof n&&Kn(n)===no}(e)){const t=xc(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var ls=P(4671),wt=P(4004);const{isArray:Rc}=Array;function fa(n){return(0,wt.U)(e=>function Pu(n,e){return Rc(e)?n(...e):n(e)}(n,e))}function Za(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var yn=P(5403),ro=P(9672);function wl(...n){const e=(0,Ar.yG)(n),t=(0,Ar.jO)(n),{args:r,keys:i}=Is(n);if(0===r.length)return(0,_n.D)([],e);const a=new un.y(function Qr(n,e,t=ls.y){return r=>{xo(e,()=>{const{length:i}=n,a=new Array(i);let u=i,f=i;for(let g=0;g<i;g++)xo(e,()=>{const v=(0,_n.D)(n[g],e);let T=!1;v.subscribe((0,yn.x)(r,I=>{a[g]=I,T||(T=!0,f--),f||r.next(t(a.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,e,i?u=>Za(i,u):ls.y));return t?a.pipe(fa(t)):a}function xo(n,e,t){n?(0,ro.f)(t,n,e):e()}const io=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var so=P(8189);function As(...n){return function El(){return(0,so.J)(1)}()((0,_n.D)(n,(0,Ar.yG)(n)))}var Ms=P(8421);function Nu(n){return new un.y(e=>{(0,Ms.Xf)(n()).subscribe(e)})}var ji=P(515),Mr=P(727),_r=P(4482);function Wa(){return(0,_r.e)((n,e)=>{let t=null;n._refCount++;const r=(0,yn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Dl extends un.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,_r.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Mr.w0;const t=this.getSubject();e.add(this.source.subscribe((0,yn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Mr.w0.EMPTY)}return e}refCount(){return Wa()(this)}}function En(n,e){return(0,_r.e)((t,r)=>{let i=null,a=0,u=!1;const f=()=>u&&!i&&r.complete();t.subscribe((0,yn.x)(r,g=>{null==i||i.unsubscribe();let v=0;const T=a++;(0,Ms.Xf)(n(g,T)).subscribe(i=(0,yn.x)(r,I=>r.next(e?e(g,I,T,v++):I),()=>{i=null,f()}))},()=>{u=!0,f()}))})}var nr=P(5698);function xr(...n){const e=(0,Ar.yG)(n);return(0,_r.e)((t,r)=>{(e?As(n,t,e):As(n,t)).subscribe(r)})}function kc(n,e,t,r,i){return(a,u)=>{let f=t,g=e,v=0;a.subscribe((0,yn.x)(u,T=>{const I=v++;g=f?n(g,T,I):(f=!0,T),r&&u.next(g)},i&&(()=>{f&&u.next(g),u.complete()})))}}function Ei(n,e){return(0,_r.e)(kc(n,e,arguments.length>=2,!0))}function vn(n,e){return(0,_r.e)((t,r)=>{let i=0;t.subscribe((0,yn.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}function Rr(n){return(0,_r.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,yn.x)(t,void 0,void 0,u=>{a=(0,Ms.Xf)(n(u,Rr(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}var yr=P(5577),Xr=P(576);function di(n,e){return(0,Xr.m)(e)?(0,yr.z)(n,e,1):(0,yr.z)(n,1)}function Tl(n){return n<=0?()=>ji.E:(0,_r.e)((e,t)=>{let r=[];e.subscribe((0,yn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function oh(n=Gn){return(0,_r.e)((e,t)=>{let r=!1;e.subscribe((0,yn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Gn(){return new io}function ah(n){return(0,_r.e)((e,t)=>{let r=!1;e.subscribe((0,yn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Ro(n,e){const t=arguments.length>=2;return r=>r.pipe(n?vn((i,a)=>n(i,a,r)):ls.y,(0,nr.q)(1),t?ah(e):oh(()=>new io))}var vr=P(8505);function Sl(n){return(0,_r.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class oo{constructor(e,t){this.id=e,this.url=t}}class Il extends oo{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xs extends oo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Oc extends oo{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class rr extends oo{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ka extends oo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Al extends oo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fu extends oo{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ml extends oo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jr extends oo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gi{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ya{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pa{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hi{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ma{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pc{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xl{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Gt="primary";class Rl{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ko(n){return new Rl(n)}const fi="ngNavigationCancelingError";function kl(n){const e=Error("NavigationCancelingError: "+n);return e[fi]=!0,e}function op(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const u=r[a],f=n[a];if(u.startsWith(":"))i[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function qi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!Ol(n[i],e[i]))return!1;return!0}function Ol(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function Pl(n){return Array.prototype.concat.apply([],n)}function lo(n){return n.length>0?n[n.length-1]:null}function An(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Di(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,_n.D)(Promise.resolve(n)):it(n)}const Fc={exact:function D(n,e,t){if(!bt(n.segments,e.segments)||!Q(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!D(n.children[r],e.children[r],t))return!1;return!0},subset:R},co={exact:function Fl(n,e){return qi(n,e)},subset:function S(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Ol(n[t],e[t]))},ignored:()=>!0};function Nl(n,e,t){return Fc[t.paths](n.root,e.root,t.matrixParams)&&co[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function R(n,e,t){return U(n,e,e.segments,t)}function U(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!bt(i,t)||e.hasChildren()||!Q(i,t,r))}if(n.segments.length===t.length){if(!bt(n.segments,t)||!Q(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!R(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(bt(n.segments,i)&&Q(n.segments,i,r)&&n.children[Gt])&&U(n.children[Gt],e,a,r)}}function Q(n,e,t){return e.every((r,i)=>co[t](n[i].parameters,r.parameters))}class ie{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ko(this.queryParams)),this._queryParamMap}toString(){return sr.serialize(this)}}class ge{constructor(e,t){this.segments=e,this.children=t,this.parent=null,An(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return uo(this)}}class nt{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ko(this.parameters)),this._parameterMap}toString(){return Ll(this)}}function bt(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Mt{}class ir{parse(e){const t=new Vc(e);return new ie(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ks(e.root,!0)}`,r=function ap(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${br(t)}=${br(i)}`).join("&"):`${br(t)}=${br(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function ho(n){return encodeURI(n)}(e.fragment)}`:""}`}}const sr=new ir;function uo(n){return n.segments.map(e=>Ll(e)).join("/")}function ks(n,e){if(!n.hasChildren())return uo(n);if(e){const t=n.children[Gt]?ks(n.children[Gt],!1):"",r=[];return An(n.children,(i,a)=>{a!==Gt&&r.push(`${a}:${ks(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Jt(n,e){let t=[];return An(n.children,(r,i)=>{i===Gt&&(t=t.concat(e(r,i)))}),An(n.children,(r,i)=>{i!==Gt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Gt?[ks(n.children[Gt],!1)]:[`${i}:${ks(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Gt]?`${uo(n)}/${t[0]}`:`${uo(n)}/(${t.join("//")})`}}function cs(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function br(n){return cs(n).replace(/%3B/gi,";")}function us(n){return cs(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Lu(n){return decodeURIComponent(n)}function Vu(n){return Lu(n.replace(/\+/g,"%20"))}function Ll(n){return`${us(n.path)}${function Bu(n){return Object.keys(n).map(e=>`;${us(e)}=${us(n[e])}`).join("")}(n.parameters)}`}const t_=/^[^\/()?;=#]+/;function Vl(n){const e=n.match(t_);return e?e[0]:""}const Bl=/^[^=?&#]+/,lp=/^[^&#]+/;class Vc{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ge([],{}):new ge([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Gt]=new ge(e,t)),r}parseSegment(){const e=Vl(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new nt(Lu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Vl(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Vl(this.remaining);i&&(r=i,this.capture(r))}e[Lu(t)]=Lu(r)}parseQueryParam(e){const t=function Lc(n){const e=n.match(Bl);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const u=function ow(n){const e=n.match(lp);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=Vu(t),a=Vu(r);if(e.hasOwnProperty(i)){let u=e[i];Array.isArray(u)||(u=[u],e[i]=u),u.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Vl(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let a;r.indexOf(":")>-1?(a=r.substr(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Gt);const u=this.parseChildren();t[a]=1===Object.keys(u).length?u[Gt]:new ge([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class cp{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=up(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=up(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=lh(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return lh(e,this._root).map(t=>t.value)}}function up(n,e){if(n===e.value)return e;for(const t of e.children){const r=up(n,t);if(r)return r}return null}function lh(n,e){if(n===e.value)return[e];for(const t of e.children){const r=lh(n,t);if(r.length)return r.unshift(e),r}return[]}class Oo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ul(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Bc extends cp{constructor(e,t){super(e),this.snapshot=t,ju(this,e)}toString(){return this.snapshot.toString()}}function Uu(n,e){const t=function Hl(n,e){const u=new Xa([],{},{},"",{},Gt,e,null,n.root,-1,{});return new Hu("",new Oo(u,[]))}(n,e),r=new Hr([new nt("",{})]),i=new Hr({}),a=new Hr({}),u=new Hr({}),f=new Hr(""),g=new Po(r,i,u,f,a,Gt,e,t.root);return g.snapshot=t.root,new Bc(new Oo(g,[]),t)}class Po{constructor(e,t,r,i,a,u,f,g){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=u,this.component=f,this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,wt.U)(e=>ko(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,wt.U)(e=>ko(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function dp(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function aw(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Xa{constructor(e,t,r,i,a,u,f,g,v,T,I){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=u,this.component=f,this.routeConfig=g,this._urlSegment=v,this._lastPathIndex=T,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ko(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ko(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Hu extends cp{constructor(e,t){super(t),this.url=e,ju(this,t)}toString(){return Gu(this._root)}}function ju(n,e){e.value._routerState=n,e.children.forEach(t=>ju(n,t))}function Gu(n){const e=n.children.length>0?` { ${n.children.map(Gu).join(", ")} } `:"";return`${n.value}${e}`}function qu(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,qi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),qi(e.params,t.params)||n.params.next(t.params),function Rs(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!qi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),qi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function No(n,e){const t=qi(n.params,e.params)&&function at(n,e){return bt(n,e)&&n.every((t,r)=>qi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||No(n.parent,e.parent))}function Uc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function ch(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Uc(n,r,i);return Uc(n,r)})}(n,e,t);return new Oo(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>Uc(n,f)),u}}const r=function r_(n){return new Po(new Hr(n.url),new Hr(n.params),new Hr(n.queryParams),new Hr(n.fragment),new Hr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Uc(n,a));return new Oo(r,i)}}function ds(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Os(n){return"object"==typeof n&&null!=n&&n.outlets}function $u(n,e,t,r,i){let a={};return r&&An(r,(u,f)=>{a[f]=Array.isArray(u)?u.map(g=>`${g}`):`${u}`}),new ie(t.root===n?e:zu(t.root,n,e),a,i)}function zu(n,e,t){const r={};return An(n.children,(i,a)=>{r[a]=i===e?t:zu(i,e,t)}),new ge(n.segments,r)}class hp{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ds(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Os);if(i&&i!==lo(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Zu{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function o_(n,e,t){if(n||(n=new ge([],{})),0===n.segments.length&&n.hasChildren())return b(n,e,t);const r=function m(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const u=n.segments[i],f=t[r];if(Os(f))break;const g=`${f}`,v=r<t.length-1?t[r+1]:null;if(i>0&&void 0===g)break;if(g&&v&&"object"==typeof v&&void 0===v.outlets){if(!F(g,v,u))return a;r+=2}else{if(!F(g,{},u))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new ge(n.segments.slice(0,r.pathIndex),{});return a.children[Gt]=new ge(n.segments.slice(r.pathIndex),n.children),b(a,0,i)}return r.match&&0===i.length?new ge(n.segments,{}):r.match&&!n.hasChildren()?_(n,e,t):r.match?b(n,0,i):_(n,e,t)}function b(n,e,t){if(0===t.length)return new ge(n.segments,{});{const r=function s_(n){return Os(n[0])?n[0].outlets:{[Gt]:n}}(t),i={};return An(r,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[u]=o_(n.children[u],e,a))}),An(n.children,(a,u)=>{void 0===r[u]&&(i[u]=a)}),new ge(n.segments,i)}}function _(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(Os(a)){const g=C(a.outlets);return new ge(r,g)}if(0===i&&ds(t[0])){r.push(new nt(n.segments[e].path,M(t[0]))),i++;continue}const u=Os(a)?a.outlets[Gt]:`${a}`,f=i<t.length-1?t[i+1]:null;u&&f&&ds(f)?(r.push(new nt(u,M(f))),i+=2):(r.push(new nt(u,{})),i++)}return new ge(r,{})}function C(n){const e={};return An(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=_(new ge([],{}),0,t))}),e}function M(n){const e={};return An(n,(t,r)=>e[r]=`${t}`),e}function F(n,e,t){return n==t.path&&qi(e,t.parameters)}class xe{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),qu(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Ul(t);e.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,i[u],r),delete i[u]}),An(i,(a,u)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Ul(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],i);if(r&&r.outlet){const u=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Ul(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Ul(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new Pc(a.value.snapshot))}),e.children.length&&this.forwardEvent(new hi(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(qu(i),i===a)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),qu(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=function lt(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),g=f?f.module.componentFactoryResolver:null;u.attachRef=null,u.route=i,u.resolver=g,u.outlet&&u.outlet.activateWith(i,g),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}}class Ct{constructor(e,t){this.routes=e,this.module=t}}function Ot(n){return"function"==typeof n}function pi(n){return n instanceof ie}const jc=Symbol("INITIAL_VALUE");function Gc(){return En(n=>wl(n.map(e=>e.pipe((0,nr.q)(1),xr(jc)))).pipe(Ei((e,t)=>{let r=!1;return t.reduce((i,a,u)=>i!==jc?i:(a===jc&&(r=!0),r||!1!==a&&u!==t.length-1&&!pi(a)?i:a),e)},jc),vn(e=>e!==jc),(0,wt.U)(e=>pi(e)?e:!0===e),(0,nr.q)(1)))}class Ku{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Gl,this.attachRef=null}}class Gl{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Ku,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Yu=(()=>{class n{constructor(t,r,i,a,u){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=a||Gt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const u=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,g=new dh(t,f,this.location.injector);this.activated=this.location.createComponent(u,this.location.length,g),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Gl),l.Y36(l.s_b),l.Y36(l._Vd),l.$8M("name"),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class dh{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Po?this.route:e===Gl?this.childContexts:this.parent.get(e,t)}}let hh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},directives:[Yu],encapsulation:2}),n})();function fh(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];ql(r,mp(e,r))}}function ql(n,e){n.children&&fh(n.children,e)}function mp(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function ph(n){const e=n.children&&n.children.map(ph),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Gt&&(t.component=hh),t}function fo(n){return n.outlet||Gt}function hr(n,e){const t=n.filter(r=>fo(r)===e);return t.push(...n.filter(r=>fo(r)!==e)),t}const lw={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function gp(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},lw):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const a=(e.matcher||op)(t,n,e);if(!a)return Object.assign({},lw);const u={};An(a.posParams,(g,v)=>{u[v]=g.path});const f=a.consumed.length>0?Object.assign(Object.assign({},u),a.consumed[a.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:a.consumed,lastChild:a.consumed.length,parameters:f,positionalParamSegments:null!==(r=a.posParams)&&void 0!==r?r:{}}}function Qu(n,e,t,r,i="corrected"){if(t.length>0&&function cT(n,e,t){return t.some(r=>_p(n,e,r)&&fo(r)!==Gt)}(n,t,r)){const u=new ge(e,function lT(n,e,t,r){const i={};i[Gt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&fo(a)!==Gt){const u=new ge([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,i[fo(a)]=u}return i}(n,e,r,new ge(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function uT(n,e,t){return t.some(r=>_p(n,e,r))}(n,t,r)){const u=new ge(n.segments,function cw(n,e,t,r,i,a){const u={};for(const f of r)if(_p(n,t,f)&&!i[fo(f)]){const g=new ge([],{});g._sourceSegment=n,g._segmentIndexShift="legacy"===a?n.segments.length:e.length,u[fo(f)]=g}return Object.assign(Object.assign({},i),u)}(n,e,t,r,n.children,i));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const a=new ge(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function _p(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function uw(n,e,t,r){return!!(fo(n)===r||r!==Gt&&_p(e,t,n))&&("**"===n.path||gp(e,n,t).matched)}function dT(n,e,t){return 0===e.length&&!n.children[t]}class yp{constructor(e){this.segmentGroup=e||null}}class Xu{constructor(e){this.urlTree=e}}function Jr(n){return new un.y(e=>e.error(new yp(n)))}function vp(n){return new un.y(e=>e.error(new Xu(n)))}function dw(n){return new un.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class mh{constructor(e,t,r,i,a){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(l.h0i)}apply(){const e=Qu(this.urlTree.root,[],[],this.config).segmentGroup,t=new ge(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Gt).pipe((0,wt.U)(a=>this.createUrlTree(l_(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Rr(a=>{if(a instanceof Xu)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof yp?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Gt).pipe((0,wt.U)(i=>this.createUrlTree(l_(i),e.queryParams,e.fragment))).pipe(Rr(i=>{throw i instanceof yp?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new ge([],{[Gt]:e}):e;return new ie(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,wt.U)(a=>new ge([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,_n.D)(i).pipe(di(a=>{const u=r.children[a],f=hr(t,a);return this.expandSegmentGroup(e,f,u,a).pipe((0,wt.U)(g=>({segment:g,outlet:a})))}),Ei((a,u)=>(a[u.outlet]=u.segment,a),{}),function e_(n,e){const t=arguments.length>=2;return r=>r.pipe(n?vn((i,a)=>n(i,a,r)):ls.y,Tl(1),t?ah(e):oh(()=>new io))}())}expandSegment(e,t,r,i,a,u){return(0,_n.D)(r).pipe(di(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,u).pipe(Rr(v=>{if(v instanceof yp)return it(null);throw v}))),Ro(f=>!!f),Rr((f,g)=>{if(f instanceof io||"EmptyError"===f.name){if(dT(t,i,a))return it(new ge([],{}));throw new yp(t)}throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,u,f){return uw(i,t,a,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u):Jr(t):Jr(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?vp(a):this.lineralizeSegments(r,a).pipe((0,yr.z)(u=>{const f=new ge(u,{});return this.expandSegment(e,f,t,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u){const{matched:f,consumedSegments:g,lastChild:v,positionalParamSegments:T}=gp(t,i,a);if(!f)return Jr(t);const I=this.applyRedirectCommands(g,i.redirectTo,T);return i.redirectTo.startsWith("/")?vp(I):this.lineralizeSegments(i,I).pipe((0,yr.z)(O=>this.expandSegment(e,t,r,O.concat(a.slice(v)),u,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){if("**"===r.path)return r.loadChildren?(r._loadedConfig?it(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,wt.U)(O=>(r._loadedConfig=O,new ge(i,{})))):it(new ge(i,{}));const{matched:u,consumedSegments:f,lastChild:g}=gp(t,r,i);if(!u)return Jr(t);const v=i.slice(g);return this.getChildConfig(e,r,i).pipe((0,yr.z)(I=>{const O=I.module,B=I.routes,{segmentGroup:q,slicedSegments:ee}=Qu(t,f,v,B),de=new ge(q.segments,q.children);if(0===ee.length&&de.hasChildren())return this.expandChildren(O,B,de).pipe((0,wt.U)(Fe=>new ge(f,Fe)));if(0===B.length&&0===ee.length)return it(new ge(f,{}));const We=fo(r)===a;return this.expandSegment(O,de,B,ee,We?Gt:a,!0).pipe((0,wt.U)(Ke=>new ge(f.concat(Ke.segments),Ke.children)))}))}getChildConfig(e,t,r){return t.children?it(new Ct(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?it(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,yr.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,wt.U)(a=>(t._loadedConfig=a,a))):function hw(n){return new un.y(e=>e.error(kl(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):it(new Ct([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?it(i.map(u=>{const f=e.get(u);let g;if(function Ja(n){return n&&Ot(n.canLoad)}(f))g=f.canLoad(t,r);else{if(!Ot(f))throw new Error("Invalid CanLoad guard");g=f(t,r)}return Di(g)})).pipe(Gc(),(0,vr.b)(u=>{if(!pi(u))return;const f=kl(`Redirecting to "${this.urlSerializer.serialize(u)}"`);throw f.url=u,f}),(0,wt.U)(u=>!0===u)):it(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return it(r);if(i.numberOfChildren>1||!i.children[Gt])return dw(e.redirectTo);i=i.children[Gt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new ie(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return An(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let u={};return An(t.children,(f,g)=>{u[g]=this.createSegmentGroup(e,f,r,i)}),new ge(a,u)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function l_(n){const e={};for(const r of Object.keys(n.children)){const a=l_(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function a_(n){if(1===n.numberOfChildren&&n.children[Gt]){const e=n.children[Gt];return new ge(n.segments.concat(e.segments),e.children)}return n}(new ge(n.segments,e))}class c_{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class bp{constructor(e,t){this.component=e,this.route=t}}function fw(n,e,t){const r=n._root;return _h(r,e?e._root:null,t,[r.value])}function gh(n,e,t){const r=function pT(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function _h(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Ul(e);return n.children.forEach(u=>{(function u_(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const g=function mT(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!bt(n.url,e.url);case"pathParamsOrQueryParamsChange":return!bt(n.url,e.url)||!qi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!No(n,e)||!qi(n.queryParams,e.queryParams);default:return!No(n,e)}}(u,a,a.routeConfig.runGuardsAndResolvers);g?i.canActivateChecks.push(new c_(r)):(a.data=u.data,a._resolvedData=u._resolvedData),_h(n,e,a.component?f?f.children:null:t,r,i),g&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new bp(f.outlet.component,u))}else u&&yh(e,f,i),i.canActivateChecks.push(new c_(r)),_h(n,null,a.component?f?f.children:null:t,r,i)})(u,a[u.value.outlet],t,r.concat([u.value]),i),delete a[u.value.outlet]}),An(a,(u,f)=>yh(u,t.getContext(f),i)),i}function yh(n,e,t){const r=Ul(n),i=n.value;An(r,(a,u)=>{yh(a,i.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new bp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class CT{}function h_(n){return new un.y(e=>e.error(n))}class DT{constructor(e,t,r,i,a,u){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=u}recognize(){const e=Qu(this.urlTree.root,[],[],this.config.filter(u=>void 0===u.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Gt);if(null===t)return null;const r=new Xa([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Gt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Oo(r,t),a=new Hu(this.url,i);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(e){const t=e.value,r=dp(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const a of Object.keys(t.children)){const u=t.children[a],f=hr(e,a),g=this.processSegmentGroup(f,u,a);if(null===g)return null;r.push(...g)}const i=mw(r);return function TT(n){n.sort((e,t)=>e.value.outlet===Gt?-1:t.value.outlet===Gt?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const a of e){const u=this.processSegmentAgainstRoute(a,t,r,i);if(null!==u)return u}return dT(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!uw(e,t,r,i))return null;let a,u=[],f=[];if("**"===e.path){const B=r.length>0?lo(r).parameters:{};a=new Xa(r,B,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Fo(e),fo(e),e.component,e,gw(t),qc(t)+r.length,IT(e))}else{const B=gp(t,e,r);if(!B.matched)return null;u=B.consumedSegments,f=r.slice(B.lastChild),a=new Xa(u,B.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Fo(e),fo(e),e.component,e,gw(t),qc(t)+u.length,IT(e))}const g=function ST(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:v,slicedSegments:T}=Qu(t,u,f,g.filter(B=>void 0===B.redirectTo),this.relativeLinkResolution);if(0===T.length&&v.hasChildren()){const B=this.processChildren(g,v);return null===B?null:[new Oo(a,B)]}if(0===g.length&&0===T.length)return[new Oo(a,[])];const I=fo(e)===i,O=this.processSegment(g,v,T,I?Gt:i);return null===O?null:[new Oo(a,O)]}}function pw(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function mw(n){const e=[],t=new Set;for(const r of n){if(!pw(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=mw(r.children);e.push(new Oo(r.value,i))}return e.filter(r=>!t.has(r))}function gw(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function qc(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Fo(n){return n.data||{}}function IT(n){return n.resolve||{}}function wp(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function p_(n){return En(e=>{const t=n(e);return t?(0,_n.D)(t).pipe((0,wt.U)(()=>e)):it(e)})}class vw extends class bh{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Cp=new l.OlP("ROUTES");class Ep{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,wt.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t);const u=a.create(e);return new Ct(Pl(u.injector.get(Cp,void 0,l.XFs.Self|l.XFs.Optional)).map(ph),u)}),Rr(a=>{throw t._loader$=void 0,a}));return t._loader$=new Dl(i,()=>new Pt.x).pipe(Wa()),t._loader$}loadModuleFactory(e){return Di(e()).pipe((0,yr.z)(t=>t instanceof l.YKP?it(t):(0,_n.D)(this.compiler.compileModuleAsync(t))))}}class bw{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Bk(n){throw n}function Ju(n,e,t){return e.parse("/")}function Dp(n,e){return it(null)}const ww={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},AT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let wr=(()=>{class n{constructor(t,r,i,a,u,f,g){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=g,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Pt.x,this.errorHandler=Bk,this.malformedUriErrorHandler=Ju,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Dp,afterPreactivation:Dp},this.urlHandlingStrategy=new bw,this.routeReuseStrategy=new vw,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=u.get(l.h0i),this.console=u.get(l.c2e);const I=u.get(l.R0b);this.isNgZoneEnabled=I instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(g),this.currentUrlTree=function Qa(){return new ie(new ge([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ep(u,f,O=>this.triggerEvent(new Gi(O)),O=>this.triggerEvent(new Ya(O))),this.routerState=Uu(this.currentUrlTree,this.rootComponentType),this.transitions=new Hr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(vn(i=>0!==i.id),(0,wt.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),En(i=>{let a=!1,u=!1;return it(i).pipe((0,vr.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),En(f=>{const g=this.browserUrlTree.toString(),v=!this.navigated||f.extractedUrl.toString()!==g||g!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return Tp(f.source)&&(this.browserUrlTree=f.extractedUrl),it(f).pipe(En(I=>{const O=this.transitions.getValue();return r.next(new Il(I.id,this.serializeUrl(I.extractedUrl),I.source,I.restoredState)),O!==this.transitions.getValue()?ji.E:Promise.resolve(I)}),function hT(n,e,t,r){return En(i=>function Ti(n,e,t,r,i){return new mh(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,wt.U)(a=>Object.assign(Object.assign({},i),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,vr.b)(I=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:I.urlAfterRedirects})}),function Lk(n,e,t,r,i){return(0,yr.z)(a=>function ET(n,e,t,r,i="emptyOnly",a="legacy"){try{const u=new DT(n,e,t,r,i,a).recognize();return null===u?h_(new CT):it(u)}catch(u){return h_(u)}}(n,e,a.urlAfterRedirects,t(a.urlAfterRedirects),r,i).pipe((0,wt.U)(u=>Object.assign(Object.assign({},a),{targetSnapshot:u}))))}(this.rootComponentType,this.config,I=>this.serializeUrl(I),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,vr.b)(I=>{if("eager"===this.urlUpdateStrategy){if(!I.extras.skipLocationChange){const B=this.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);this.setBrowserUrl(B,I)}this.browserUrlTree=I.urlAfterRedirects}const O=new Ka(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);r.next(O)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:O,extractedUrl:B,source:q,restoredState:ee,extras:de}=f,We=new Il(O,this.serializeUrl(B),q,ee);r.next(We);const He=Uu(B,this.rootComponentType).snapshot;return it(Object.assign(Object.assign({},f),{targetSnapshot:He,urlAfterRedirects:B,extras:Object.assign(Object.assign({},de),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),ji.E}),p_(f=>{const{targetSnapshot:g,id:v,extractedUrl:T,rawUrl:I,extras:{skipLocationChange:O,replaceUrl:B}}=f;return this.hooks.beforePreactivation(g,{navigationId:v,appliedUrlTree:T,rawUrlTree:I,skipLocationChange:!!O,replaceUrl:!!B})}),(0,vr.b)(f=>{const g=new Al(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(g)}),(0,wt.U)(f=>Object.assign(Object.assign({},f),{guards:fw(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function d_(n,e){return(0,yr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:u}}=t;return 0===u.length&&0===a.length?it(Object.assign(Object.assign({},t),{guardsResult:!0})):function gT(n,e,t,r){return(0,_n.D)(n).pipe((0,yr.z)(i=>function wT(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?it(a.map(f=>{const g=gh(f,e,i);let v;if(function Hc(n){return n&&Ot(n.canDeactivate)}(g))v=Di(g.canDeactivate(n,e,t,r));else{if(!Ot(g))throw new Error("Invalid CanDeactivate guard");v=Di(g(n,e,t,r))}return v.pipe(Ro())})).pipe(Gc()):it(!0)}(i.component,i.route,t,e,r)),Ro(i=>!0!==i,!0))}(u,r,i,n).pipe((0,yr.z)(f=>f&&function qn(n){return"boolean"==typeof n}(f)?function _T(n,e,t,r){return(0,_n.D)(e).pipe(di(i=>As(function yT(n,e){return null!==n&&e&&e(new pa(n)),it(!0)}(i.route.parent,r),function vh(n,e){return null!==n&&e&&e(new ma(n)),it(!0)}(i.route,r),function bT(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(u=>function fT(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>Nu(()=>it(u.guards.map(g=>{const v=gh(g,u.node,t);let T;if(function Wu(n){return n&&Ot(n.canActivateChild)}(v))T=Di(v.canActivateChild(r,n));else{if(!Ot(v))throw new Error("Invalid CanActivateChild guard");T=Di(v(r,n))}return T.pipe(Ro())})).pipe(Gc())));return it(a).pipe(Gc())}(n,i.path,t),function vT(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return it(!0);const i=r.map(a=>Nu(()=>{const u=gh(a,e,t);let f;if(function jl(n){return n&&Ot(n.canActivate)}(u))f=Di(u.canActivate(e,n));else{if(!Ot(u))throw new Error("Invalid CanActivate guard");f=Di(u(e,n))}return f.pipe(Ro())}));return it(i).pipe(Gc())}(n,i.route,t))),Ro(i=>!0!==i,!0))}(r,a,n,e):it(f)),(0,wt.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,vr.b)(f=>{if(pi(f.guardsResult)){const v=kl(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw v.url=f.guardsResult,v}const g=new Fu(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(g)}),vn(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),p_(f=>{if(f.guards.canActivateChecks.length)return it(f).pipe((0,vr.b)(g=>{const v=new Ml(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}),En(g=>{let v=!1;return it(g).pipe(function _w(n,e){return(0,yr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return it(t);let a=0;return(0,_n.D)(i).pipe(di(u=>function Vk(n,e,t,r){return function ga(n,e,t,r){const i=wp(n);if(0===i.length)return it({});const a={};return(0,_n.D)(i).pipe((0,yr.z)(u=>function f_(n,e,t,r){const i=gh(n,e,r);return Di(i.resolve?i.resolve(e,t):i(e,t))}(n[u],e,t,r).pipe((0,vr.b)(f=>{a[u]=f}))),Tl(1),(0,yr.z)(()=>wp(a).length===i.length?it(a):ji.E))}(n._resolve,n,e,r).pipe((0,wt.U)(a=>(n._resolvedData=a,n.data=Object.assign(Object.assign({},n.data),dp(n,t).resolve),null)))}(u.route,r,n,e)),(0,vr.b)(()=>a++),Tl(1),(0,yr.z)(u=>a===i.length?it(t):ji.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,vr.b)({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(g),this.cancelNavigationTransition(g,"At least one route resolver didn't emit any value."))}}))}),(0,vr.b)(g=>{const v=new jr(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}))}),p_(f=>{const{targetSnapshot:g,id:v,extractedUrl:T,rawUrl:I,extras:{skipLocationChange:O,replaceUrl:B}}=f;return this.hooks.afterPreactivation(g,{navigationId:v,appliedUrlTree:T,rawUrlTree:I,skipLocationChange:!!O,replaceUrl:!!B})}),(0,wt.U)(f=>{const g=function n_(n,e,t){const r=Uc(n,e._root,t?t._root:void 0);return new Bc(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:g})}),(0,vr.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,wt.U)(r=>(new xe(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,vr.b)({next(){a=!0},complete(){a=!0}}),Sl(()=>{var f;a||u||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===i.id&&(this.currentNavigation=null)}),Rr(f=>{if(u=!0,function ao(n){return n&&n[fi]}(f)){const g=pi(f.url);g||(this.navigated=!0,this.restoreHistory(i,!0));const v=new Oc(i.id,this.serializeUrl(i.extractedUrl),f.message);r.next(v),g?setTimeout(()=>{const T=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),I={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Tp(i.source)};this.scheduleNavigation(T,"imperative",null,I,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const g=new rr(i.id,this.serializeUrl(i.extractedUrl),f);r.next(g);try{i.resolve(this.errorHandler(f))}catch(v){i.reject(v)}}return ji.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const a={replaceUrl:!0},u=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(u){const g=Object.assign({},u);delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(a.state=g)}const f=this.parseUrl(t.url);this.scheduleNavigation(f,r,u,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){fh(t),this.config=t.map(ph),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:u,queryParamsHandling:f,preserveFragment:g}=r,v=i||this.routerState.root,T=g?this.currentUrlTree.fragment:u;let I=null;switch(f){case"merge":I=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=a||null}return null!==I&&(I=this.removeEmptyProps(I)),function uh(n,e,t,r,i){if(0===t.length)return $u(e.root,e.root,e,r,i);const a=function fp(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new hp(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return An(a.outlets,(g,v)=>{f[v]="string"==typeof g?g.split("/"):g}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===u?(a.split("/").forEach((f,g)=>{0==g&&"."===f||(0==g&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new hp(t,e,r)}(t);if(a.toRoot())return $u(e.root,new ge([],{}),e,r,i);const u=function i_(n,e,t){if(n.isAbsolute)return new Zu(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const a=t.snapshot._urlSegment;return new Zu(a,a===e.root,0)}const r=ds(n.commands[0])?0:1;return function pp(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Zu(r,!1,i-a)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(a,e,n),f=u.processChildren?b(u.segmentGroup,u.index,a.commands):o_(u.segmentGroup,u.index,a.commands);return $u(u.segmentGroup,f,e,r,i)}(v,this.currentUrlTree,t,I,null!=T?T:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=pi(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function MT(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},ww):!1===r?Object.assign({},AT):r,pi(t))return Nl(this.currentUrlTree,t,i);const a=this.parseUrl(t);return Nl(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new xs(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,u){var f,g,v;if(this.disposed)return Promise.resolve(!1);const T=this.transitions.value,I=Tp(r)&&T&&!Tp(T.source),O=T.rawUrl.toString()===t.toString(),B=T.id===(null===(f=this.currentNavigation)||void 0===f?void 0:f.id);if(I&&O&&B)return Promise.resolve(!0);let ee,de,We;u?(ee=u.resolve,de=u.reject,We=u.promise):We=new Promise((Fe,It)=>{ee=Fe,de=It});const He=++this.navigationId;let Ke;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),Ke=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(g=this.browserPageId)&&void 0!==g?g:0:(null!==(v=this.browserPageId)&&void 0!==v?v:0)+1):Ke=0,this.setTransition({id:He,targetPageId:Ke,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:ee,reject:de,promise:We,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),We.catch(Fe=>Promise.reject(Fe))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){var i,a;if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===u?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(u)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new Oc(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Tp(n){return"imperative"!==n}let Sp=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new Pt.x,this.subscription=t.events.subscribe(a=>{a instanceof xs&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,a,u){if(0!==t||r||i||a||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const f={skipLocationChange:ed(this.skipLocationChange),replaceUrl:ed(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ed(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(wr),l.Y36(Po),l.Y36(_e))},n.\u0275dir=l.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&l.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&l.uIk("target",r.target)("href",r.href,l.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[l.TTD]}),n})();function ed(n){return""===n||!!n}class Ip{}class Ap{preload(e,t){return it(null)}}let Dw=(()=>{class n{constructor(t,r,i,a){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=new Ep(i,r,g=>t.triggerEvent(new Gi(g)),g=>t.triggerEvent(new Ya(g)))}setUpPreloading(){this.subscription=this.router.events.pipe(vn(t=>t instanceof xs),di(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(l.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const u=a._loadedConfig;i.push(this.processRoutes(u.module,u.routes))}else a.loadChildren&&!a.canLoad?i.push(this.preloadConfig(t,a)):a.children&&i.push(this.processRoutes(t,a.children));return(0,_n.D)(i).pipe((0,so.J)(),(0,wt.U)(a=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?it(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,yr.z)(a=>(r._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(wr),l.LFG(l.Sil),l.LFG(l.zs3),l.LFG(Ip))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),__=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Il?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof xs&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof xl&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new xl(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const $l=new l.OlP("ROUTER_CONFIGURATION"),zl=new l.OlP("ROUTER_FORROOT_GUARD"),Tw=[Ie,{provide:Mt,useClass:ir},{provide:wr,useFactory:function Mw(n,e,t,r,i,a,u={},f,g){const v=new wr(null,n,e,t,r,i,Pl(a));return f&&(v.urlHandlingStrategy=f),g&&(v.routeReuseStrategy=g),function v_(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,v),u.enableTracing&&v.events.subscribe(T=>{var I,O;null===(I=console.group)||void 0===I||I.call(console,`Router Event: ${T.constructor.name}`),console.log(T.toString()),console.log(T),null===(O=console.groupEnd)||void 0===O||O.call(console)}),v},deps:[Mt,Gl,Ie,l.zs3,l.Sil,Cp,$l,[class m_{},new l.FiY],[class yw{},new l.FiY]]},Gl,{provide:Po,useFactory:function xw(n){return n.routerState.root},deps:[wr]},Dw,Ap,class Ew{preload(e,t){return t().pipe(Rr(()=>it(null)))}},{provide:$l,useValue:{enableTracing:!1}}];function Sw(){return new l.PXZ("Router",wr)}let Iw=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[Tw,y_(t),{provide:zl,useFactory:Aw,deps:[[wr,new l.FiY,new l.tp0]]},{provide:$l,useValue:r||{}},{provide:_e,useFactory:kT,deps:[ue,[new l.tBr(Je),new l.FiY],$l]},{provide:__,useFactory:Mp,deps:[wr,Du,$l]},{provide:Ip,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Ap},{provide:l.PXZ,multi:!0,useFactory:Sw},[td,{provide:l.ip1,multi:!0,useFactory:xp,deps:[td]},{provide:Rp,useFactory:Rw,deps:[td]},{provide:l.tb,multi:!0,useExisting:Rp}]]}}static forChild(t){return{ngModule:n,providers:[y_(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(zl,8),l.LFG(wr,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function Mp(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new __(n,e,t)}function kT(n,e,t={}){return t.useHash?new Re(n,e):new je(n,e)}function Aw(n){return"guarded"}function y_(n){return[{provide:l.deG,multi:!0,useValue:n},{provide:Cp,multi:!0,useValue:n}]}let td=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Pt.x}appInitializer(){return this.injector.get(Z,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(f=>r=f),a=this.injector.get(wr),u=this.injector.get($l);return"disabled"===u.initialNavigation?(a.setUpLocationChangeListener(),r(!0)):"enabled"===u.initialNavigation||"enabledBlocking"===u.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?it(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),a.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get($l),i=this.injector.get(Dw),a=this.injector.get(__),u=this.injector.get(wr),f=this.injector.get(l.z2F);t===f.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&u.initialNavigation(),i.setUpPreloading(),a.init(),u.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function xp(n){return n.appInitializer.bind(n)}function Rw(n){return n.bootstrapListener.bind(n)}const Rp=new l.OlP("Router Initializer");function nd(...n){const e=(0,Ar.jO)(n),{args:t,keys:r}=Is(n),i=new un.y(a=>{const{length:u}=t;if(!u)return void a.complete();const f=new Array(u);let g=u,v=u;for(let T=0;T<u;T++){let I=!1;(0,Ms.Xf)(t[T]).subscribe((0,yn.x)(a,O=>{I||(I=!0,v--),f[T]=O},()=>g--,void 0,()=>{(!g||!I)&&(v||a.next(r?Za(r,f):f),a.complete())}))}});return e?i.pipe(fa(e)):i}let Pw=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),Zl=(()=>{class n extends Pw{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const _a=new l.OlP("NgValueAccessor"),w_={provide:_a,useExisting:(0,l.Gpc)(()=>Wl),multi:!0},Uk=new l.OlP("CompositionEventMode");let Wl=(()=>{class n extends Pw{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Nw(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Uk,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[l._Bn([w_]),l.qOj]}),n})();function Kl(n){return null==n||0===n.length}function C_(n){return null!=n&&"number"==typeof n.length}const Si=new l.OlP("NgValidators"),Yl=new l.OlP("NgAsyncValidators"),Lo=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class en{static min(e){return function E_(n){return e=>{if(Kl(e.value)||Kl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Fw(n){return e=>{if(Kl(e.value)||Kl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return Lw(e)}static requiredTrue(e){return function Vw(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Bw(n){return Kl(n.value)||Lo.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function D_(n){return e=>Kl(e.value)||!C_(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return Uw(e)}static pattern(e){return function Hw(n){if(!n)return kp;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Kl(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return A_(e)}static composeAsync(e){return Pp(e)}}function Lw(n){return Kl(n.value)?{required:!0}:null}function Uw(n){return e=>C_(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function kp(n){return null}function Ut(n){return null!=n}function T_(n){const e=(0,l.QGY)(n)?(0,_n.D)(n):n;return(0,l.CqO)(e),e}function S_(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function I_(n,e){return e.map(t=>t(n))}function po(n){return n.map(e=>function Op(n){return!n.validate}(e)?e:t=>e.validate(t))}function A_(n){if(!n)return null;const e=n.filter(Ut);return 0==e.length?null:function(t){return S_(I_(t,e))}}function M_(n){return null!=n?A_(po(n)):null}function Pp(n){if(!n)return null;const e=n.filter(Ut);return 0==e.length?null:function(t){return nd(I_(t,e).map(T_)).pipe((0,wt.U)(S_))}}function Vo(n){return null!=n?Pp(po(n)):null}function Np(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function x_(n){return n._rawValidators}function Fp(n){return n._rawAsyncValidators}function jw(n){return n?Array.isArray(n)?n:[n]:[]}function wh(n,e){return Array.isArray(n)?n.includes(e):n===e}function PT(n,e){const t=jw(e);return jw(n).forEach(i=>{wh(t,i)||t.push(i)}),t}function Ch(n,e){return jw(e).filter(t=>!wh(n,t))}class Eh{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=M_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Vo(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class mo extends Eh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class mi extends Eh{get formDirective(){return null}get path(){return null}}class Lp{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let Dh=(()=>{class n extends Lp{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(mo,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[l.qOj]}),n})(),Th=(()=>{class n extends Lp{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(mi,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[l.qOj]}),n})();function Vp(n,e){F_(n,e),e.valueAccessor.writeValue(n.value),function L_(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Bp(n,e)})}(n,e),function VT(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function qw(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Bp(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function N_(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function P_(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Ih(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Bo(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function F_(n,e){const t=x_(n);null!==e.validator?n.setValidators(Np(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Fp(n);null!==e.asyncValidator?n.setAsyncValidators(Np(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Bo(e._rawValidators,i),Bo(e._rawAsyncValidators,i)}function Ih(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=x_(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(u=>u!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=Fp(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(u=>u!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return Bo(e._rawValidators,r),Bo(e._rawAsyncValidators,r),t}function Bp(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function el(n,e){F_(n,e)}function Zw(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function $c(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const ya="VALID",Ql="INVALID",Uo="PENDING",xh="DISABLED";function Up(n){return(zc(n)?n.validators:n)||null}function Hp(n){return Array.isArray(n)?M_(n):n||null}function Rh(n,e){return(zc(e)?e.asyncValidators:n)||null}function H_(n){return Array.isArray(n)?Vo(n):n||null}function zc(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const j_=n=>n instanceof $_,kh=n=>n instanceof Gp,BT=n=>n instanceof hs;function G_(n){return j_(n)?n.value:n.getRawValue()}function q_(n,e){const t=kh(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new l.vHH(1e3,"");if(!r[e])throw new l.vHH(1001,"")}function Kw(n,e){kh(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new l.vHH(1002,"")})}class jp{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Hp(this._rawValidators),this._composedAsyncValidatorFn=H_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ya}get invalid(){return this.status===Ql}get pending(){return this.status==Uo}get disabled(){return this.status===xh}get enabled(){return this.status!==xh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Hp(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=H_(e)}addValidators(e){this.setValidators(PT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(PT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Ch(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Ch(e,this._rawAsyncValidators))}hasValidator(e){return wh(this._rawValidators,e)}hasAsyncValidator(e){return wh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Uo,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=xh,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ya,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ya||this.status===Uo)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xh:ya}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Uo,this._hasOwnPendingAsyncValidator=!0;const t=T_(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function Ww(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=kh(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:BT(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?xh:this.errors?Ql:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Uo)?Uo:this._anyControlsHaveStatus(Ql)?Ql:ya}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){zc(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class $_ extends jp{constructor(e=null,t,r){super(Up(t),Rh(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zc(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){$c(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){$c(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Gp extends jp{constructor(e,t,r){super(Up(t),Rh(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Kw(this,e),Object.keys(e).forEach(r=>{q_(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=G_(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class hs extends jp{constructor(e,t,r){super(Up(t),Rh(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Kw(this,e),e.forEach((r,i)=>{q_(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>G_(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const UT={provide:mi,useExisting:(0,l.Gpc)(()=>qp)},Oh=(()=>Promise.resolve(null))();let qp=(()=>{class n extends mi{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new Gp({},M_(t),Vo(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Oh.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Vp(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Oh.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Oh.then(()=>{const r=this._findContainer(t.path),i=new Gp({});el(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Oh.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Oh.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Zw(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Si,10),l.Y36(Yl,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([UT]),l.qOj]}),n})(),Ph=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Z_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const K_=new l.OlP("NgModelWithFormControlWarning"),ZT={provide:mi,useExisting:(0,l.Gpc)(()=>tl)};let tl=(()=>{class n extends mi{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ih(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Vp(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){P_(t.control||null,t,!1),$c(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,Zw(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(P_(r||null,t),j_(i)&&(Vp(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);el(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function $w(n,e){return Ih(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){F_(this.form,this),this._oldForm&&Ih(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Si,10),l.Y36(Yl,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([ZT]),l.qOj,l.TTD]}),n})();const X_={provide:mo,useExisting:(0,l.Gpc)(()=>rd)};let rd=(()=>{class n extends mo{constructor(t,r,i,a,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function U_(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===Wl?t=a:function zw(n){return Object.getPrototypeOf(n.constructor)===Zl}(a)?r=a:i=a}),i||r||t||null}(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function B_(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function O_(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(mi,13),l.Y36(Si,10),l.Y36(Yl,10),l.Y36(_a,10),l.Y36(K_,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([X_]),l.qOj,l.TTD]}),n})();let ba=(()=>{class n{constructor(){this._validator=kp}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):kp,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const l0={provide:Si,useExisting:(0,l.Gpc)(()=>jo),multi:!0};let jo=(()=>{class n extends ba{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function o0(n){return null!=n&&!1!==n&&"false"!=`${n}`}(t),this.createValidator=t=>Lw}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&l.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([l0]),l.qOj]}),n})();const tS={provide:Si,useExisting:(0,l.Gpc)(()=>id),multi:!0};let id=(()=>{class n extends ba{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function ny(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>Uw(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&l.uIk("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[l._Bn([tS]),l.qOj]}),n})(),h0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Z_]]}),n})(),sS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[h0]}),n})(),Zc=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:K_,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[h0]}),n})(),Wp=(()=>{class n{group(t,r=null){const i=this._reduceControls(t);let f,a=null,u=null;return null!=r&&(function oS(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(a=null!=r.validators?r.validators:null,u=null!=r.asyncValidators?r.asyncValidators:null,f=null!=r.updateOn?r.updateOn:void 0):(a=null!=r.validator?r.validator:null,u=null!=r.asyncValidator?r.asyncValidator:null)),new Gp(i,{asyncValidators:u,updateOn:f,validators:a})}control(t,r,i){return new $_(t,r,i)}array(t,r,i){const a=t.map(u=>this._createControl(u));return new hs(a,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return j_(t)||kh(t)||BT(t)?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:Zc}),n})();var Kp=P(424),yt=P(2090),Ps=P(9681),nl=P(1877),Wc=P(4859),Kc=P(6451),Vh=P(5363),aS=P(6063);class lS extends Pt.x{constructor(e=1/0,t=1/0,r=aS.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:u}=this;t||(r.push(e),!i&&r.push(a.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let u=0;u<a.length&&!e.closed;u+=r?1:2)e.next(a[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const u=t.now();let f=0;for(let g=1;g<r.length&&r[g]<=u;g+=2)f=g;f&&r.splice(0,f+1)}}}var f0=P(3099);function p0(n,e,t){var r,i;let a,u=!1;return n&&"object"==typeof n?(a=null!==(r=n.bufferSize)&&void 0!==r?r:1/0,e=null!==(i=n.windowTime)&&void 0!==i?i:1/0,u=!!n.refCount,t=n.scheduler):a=null!=n?n:1/0,(0,f0.B)({connector:()=>new lS(a,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}function ay(n,e){return(0,Xr.m)(e)?En(()=>n,e):En(()=>n)}var m0=P(9468),$n=P(5813),$i=P(2011);P(5867);var we=P(5861);const Qp=new Map,mS={activated:!1,tokenObservers:[]},gS={initialized:!1,enabled:!1};function ei(n){return Qp.get(n)||mS}function qo(n,e){Qp.set(n,e)}function Xp(){return gS}class vS{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,we.Z)(function*(){t.stop();try{t.pending=new yt.BH,yield function uy(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new yt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Gr=new yt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Xl(n){if(!ei(n).activated)throw Gr.create("use-before-activation",{appName:n.name})}function Jl(n,e){return ec.apply(this,arguments)}function ec(){return(ec=(0,we.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const I=yield i.getHeartbeatsHeader();I&&(r["X-Firebase-Client"]=I)}const a={method:"POST",body:JSON.stringify(e),headers:r};let u,f;try{u=yield fetch(n,a)}catch(I){throw Gr.create("fetch-network-error",{originalErrorMessage:I.message})}if(200!==u.status)throw Gr.create("fetch-status-error",{httpStatus:u.status});try{f=yield u.json()}catch(I){throw Gr.create("fetch-parse-error",{originalErrorMessage:I.message})}const g=f.ttl.match(/^([\d.]+)(s)$/);if(!g||!g[2]||isNaN(Number(g[1])))throw Gr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const v=1e3*Number(g[1]),T=Date.now();return{token:f.attestationToken,expireTimeMillis:T+v,issuedAtTimeMillis:T}})).apply(this,arguments)}function ud(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Ca="firebase-app-check-store";let Bh=null;function dy(){return Bh||(Bh=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Gr.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ca,{keyPath:"compositeKey"})}}catch(t){e(Gr.create("storage-open",{originalErrorMessage:t.message}))}}),Bh)}function tm(){return(tm=(0,we.Z)(function*(n,e){const r=(yield dy()).transaction(Ca,"readwrite"),a=r.objectStore(Ca).put({compositeKey:n,value:e});return new Promise((u,f)=>{a.onsuccess=g=>{u()},r.onerror=g=>{var v;f(Gr.create("storage-set",{originalErrorMessage:null===(v=g.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const Uh=new nl.Yd("@firebase/app-check");function D0(n,e){return(0,yt.hl)()?function b0(n,e){return function hy(n,e){return tm.apply(this,arguments)}(function my(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Uh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function T0(){return Xp().enabled}function gy(){return _y.apply(this,arguments)}function _y(){return(_y=(0,we.Z)(function*(){const n=Xp();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const rO={error:"UNKNOWN_ERROR"};function CS(n){return yt.US.encodeString(JSON.stringify(n),!1)}function fd(n){return Hh.apply(this,arguments)}function Hh(){return(Hh=(0,we.Z)(function*(n,e=!1){const t=n.app;Xl(t);const r=ei(t);let a,i=r.token;if(!i){const g=yield r.cachedTokenPromise;g&&jh(g)&&(i=g)}if(!e&&i&&jh(i))return{token:i.token};let f,u=!1;if(T0()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Jl(ud(t,yield gy()),n.heartbeatServiceProvider).then(v=>(r.exchangeTokenPromise=void 0,v)),u=!0);const g=yield r.exchangeTokenPromise;return yield D0(t,g),qo(t,Object.assign(Object.assign({},r),{token:g})),{token:g.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(g=>(r.exchangeTokenPromise=void 0,g)),u=!0),i=yield r.exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?Uh.warn(g.message):Uh.error(g),a=g}return i?(f={token:i.token},qo(t,Object.assign(Object.assign({},r),{token:i})),yield D0(t,i)):f=sO(a),u&&I0(t,f),f})).apply(this,arguments)}function S0(n,e){const t=ei(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),qo(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function ES(n){const{app:e}=n,t=ei(e);let r=t.tokenRefresher;r||(r=function iO(n){const{app:e}=n;return new vS((0,we.Z)(function*(){let r;if(r=ei(e).token?yield fd(n,!0):yield fd(n),r.error)throw r.error}),()=>!0,()=>{const t=ei(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),qo(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function I0(n,e){const t=ei(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function jh(n){return n.expireTimeMillis-Date.now()>0}function sO(n){return{token:CS(rO),error:n}}class DS{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ei(this.app);for(const t of e)S0(this.app,t.next);return Promise.resolve()}}const qh="app-check-internal";!function cm(){(0,Ps._registerComponent)(new Wc.wA("app-check",n=>function pd(n,e){return new DS(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(qh).initialize()})),(0,Ps._registerComponent)(new Wc.wA(qh,n=>function TS(n){return{getToken:e=>fd(n,e),addTokenListener:e=>function yy(n,e,t,r){const{app:i}=n,a=ei(i),u={next:t,error:r,type:e};if(qo(i,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,u]})),a.token&&jh(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),ES(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>ES(n))}(n,"INTERNAL",e),removeTokenListener:e=>S0(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ps.registerVersion)("@firebase/app-check","0.5.5")}();class dm{constructor(){return(0,$n.vb)("app-check")}}"undefined"!=typeof window&&window;var hm=P(127);const fm=new l.OlP("angularfire2.auth.use-emulator"),pm=new l.OlP("angularfire2.auth.settings"),Ey=new l.OlP("angularfire2.auth.tenant-id"),Dy=new l.OlP("angularfire2.auth.langugage-code"),Ty=new l.OlP("angularfire2.auth.use-device-language"),Sy=new l.OlP("angularfire.auth.persistence"),Iy=(n,e,t,r,i,a,u,f)=>(0,$i.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=e.runOutsideAngular(()=>n.auth());if(t&&g.useEmulator(...t),r&&(g.tenantId=r),g.languageCode=i,a&&g.useDeviceLanguage(),u)for(const[v,T]of Object.entries(u))g.settings[v]=T;return f&&g.setPersistence(f),g},[t,r,i,a,u,f]);let $h=(()=>{class n{constructor(t,r,i,a,u,f,g,v,T,I,O,B){const q=new Pt.x,ee=it(void 0).pipe((0,Vh.Q)(u.outsideAngular),En(()=>a.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,5881)))),(0,wt.U)(()=>(0,$i.on)(t,a,r)),(0,wt.U)(de=>Iy(de,a,f,v,T,I,g,O)),p0({bufferSize:1,refCount:!1}));if(ta(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=it(null);else{ee.pipe(Ro()).subscribe();const We=ee.pipe(En(Fe=>Fe.getRedirectResult().then(It=>It,()=>null)),$n.iC,p0({bufferSize:1,refCount:!1})),He=ee.pipe(En(Fe=>new un.y(It=>({unsubscribe:a.runOutsideAngular(()=>Fe.onAuthStateChanged(Tt=>It.next(Tt),Tt=>It.error(Tt),()=>It.complete()))})))),Ke=ee.pipe(En(Fe=>new un.y(It=>({unsubscribe:a.runOutsideAngular(()=>Fe.onIdTokenChanged(Tt=>It.next(Tt),Tt=>It.error(Tt),()=>It.complete()))}))));this.authState=We.pipe(ay(He),(0,m0.R)(u.outsideAngular),(0,Vh.Q)(u.insideAngular)),this.user=We.pipe(ay(Ke),(0,m0.R)(u.outsideAngular),(0,Vh.Q)(u.insideAngular)),this.idToken=this.user.pipe(En(Fe=>Fe?(0,_n.D)(Fe.getIdToken()):it(null))),this.idTokenResult=this.user.pipe(En(Fe=>Fe?(0,_n.D)(Fe.getIdTokenResult()):it(null))),this.credential=(0,Kc.T)(We,q,this.authState.pipe(vn(Fe=>!Fe))).pipe((0,wt.U)(Fe=>(null==Fe?void 0:Fe.user)?Fe:null),(0,m0.R)(u.outsideAngular),(0,Vh.Q)(u.insideAngular))}return(0,$i.pX)(this,ee,a,{spy:{apply:(de,We,He)=>{(de.startsWith("signIn")||de.startsWith("createUser"))&&He.then(Ke=>q.next(Ke))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG($i.Dh),l.LFG($i.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG($n.HU),l.LFG(fm,8),l.LFG(pm,8),l.LFG(Ey,8),l.LFG(Dy,8),l.LFG(Ty,8),l.LFG(Sy,8),l.LFG(dm,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),$0=(()=>{class n{constructor(){hm.Z.registerVersion("angularfire",$n.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[$h]}),n})(),gd=(()=>{class n{constructor(t){this.authService=t,this.storage=window.localStorage}loginComEmailSenha(t,r){return this.authService.signInWithEmailAndPassword(t,r).then(()=>{this.storage.setItem("condicao","autenticado")})}cadastrarComEmailSenha(t,r){return this.authService.createUserWithEmailAndPassword(t,r)}loginComFacebook(){return this.authLoginProvider(new Kp.M).then(()=>{this.storage.setItem("condicao","autenticado")})}loginComTwitter(){return this.authLoginProvider(new Kp.V).then(()=>{this.storage.setItem("condicao","autenticado")})}loginComGoogleCount(){return this.authLoginProvider(new Kp.N).then(()=>{this.storage.setItem("condicao","autenticado")})}loginComGithub(){return this.authLoginProvider(new Kp.Q).then(()=>{this.storage.setItem("condicao","autenticado")})}authLoginProvider(t){return this.authService.signInWithPopup(t)}logout(){return this.storage.setItem("condicao","deslogado"),this.authService.signOut()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG($h))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cO=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function LS(){return(0,l.f3M)(te)}}),VS=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ay,Qc=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new l.vpe,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function z0(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?VS.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(cO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_d=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();try{Ay="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Ay=!1}let Xc,ni=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Rn(n){return n===Bi}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Ay)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const My=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Jc(){if(Xc)return Xc;if("object"!=typeof document||!document)return Xc=new Set(My),Xc;let n=document.createElement("input");return Xc=new Set(My.filter(e=>(n.setAttribute("type",e),n.type===e))),Xc}let zh,tc,Wh;function Zh(n){return function BS(){if(null==zh&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>zh=!0}))}finally{zh=zh||!1}return zh}()?n:!!n.capture}function dO(){if(null==tc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return tc=!1,tc;if("scrollBehavior"in document.documentElement.style)tc=!0;else{const n=Element.prototype.scrollTo;tc=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return tc}function xy(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Ii(n){return n.composedPath?n.composedPath()[0]:n.target}function Ns(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function bd(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var Dm=P(4986);function Tm(n,e=Dm.z){return(0,_r.e)((t,r)=>{let i=null,a=null,u=null;const f=()=>{if(i){i.unsubscribe(),i=null;const v=a;a=null,r.next(v)}};function g(){const v=u+n,T=e.now();if(T<v)return i=this.schedule(void 0,v-T),void r.add(i);f()}t.subscribe((0,yn.x)(r,v=>{a=v,u=e.now(),i||(i=e.schedule(g,n),r.add(i))},()=>{f(),r.complete()},void 0,()=>{a=i=null}))})}function rC(n){return vn((e,t)=>n<=t)}function Sm(n,e=ls.y){return n=null!=n?n:SI,(0,_r.e)((t,r)=>{let i,a=!0;t.subscribe((0,yn.x)(r,u=>{const f=e(u);(a||!n(i,f))&&(a=!1,i=f,r.next(u))}))})}function SI(n,e){return n===e}var II=P(5032);function zn(n){return(0,_r.e)((e,t)=>{(0,Ms.Xf)(n).subscribe((0,yn.x)(t,()=>t.complete(),II.Z)),!t.closed&&e.subscribe(t)})}function Er(n){return null!=n&&"false"!=`${n}`}function Im(n,e=0){return function AI(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function Yh(n){return Array.isArray(n)?n:[n]}function kr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Ta(n){return n instanceof l.SBq?n.nativeElement:n}class OI extends class kI{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Pt.x,this._typeaheadSubscription=Mr.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Pt.x,this.change=new Pt.x,e instanceof l.n_E&&e.changes.subscribe(t=>{if(this._activeItem){const i=t.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,vr.b)(t=>this._pressedLetters.push(t)),Tm(e),vn(()=>this._pressedLetters.length>0),(0,wt.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const a=(this._activeItemIndex+i)%r.length,u=r[a];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(a);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!e[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;default:return void((i||bd(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),r="number"==typeof e?e:t.indexOf(e),i=t[r];this._activeItem=null==i?null:i,this._activeItemIndex=r}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let r=1;r<=t.length;r++){const i=(this._activeItemIndex+e*r+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(!r[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof l.n_E?this._items.toArray():this._items}}{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}let iC=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function NI(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const r=function PI(n){try{return n.frameElement}catch(e){return null}}(function qy(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(r&&(-1===cC(r)||!this.isVisible(r)))return!1;let i=t.nodeName.toLowerCase(),a=cC(t);return t.hasAttribute("contenteditable")?-1!==a:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function VI(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===i?!!t.hasAttribute("controls")&&-1!==a:"video"===i?-1!==a&&(null!==a||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,r){return function Gy(n){return!function oC(n){return function LI(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function sC(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function FI(n){return function aC(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||lC(n))}(t)&&!this.isDisabled(t)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ni))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lC(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function cC(n){if(!lC(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class uC{constructor(e,t,r,i,a=!1){this._element=e,this._checker=t,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const r=this._getFirstTabbableElement(t);return null==r||r.focus(e),!!r}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=0;r<t.length;r++){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[r]):null;if(i)return i}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let r=t.length-1;r>=0;r--){const i=t[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[r]):null;if(i)return i}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,nr.q)(1)).subscribe(e)}}let $y=(()=>{class n{constructor(t,r,i){this._checker=t,this._ngZone=r,this._document=i}create(t,r=!1){return new uC(t,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(iC),l.LFG(l.R0b),l.LFG(te))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zy(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function hC(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const fC=new l.OlP("cdk-input-modality-detector-options"),h1={ignoreKeys:[18,17,224,91,16]},Sa=Zh({passive:!0,capture:!0});let UI=(()=>{class n{constructor(t,r,i,a){this._platform=t,this._mostRecentTarget=null,this._modality=new Hr(null),this._lastTouchMs=0,this._onKeydown=u=>{var f,g;(null===(g=null===(f=this._options)||void 0===f?void 0:f.ignoreKeys)||void 0===g?void 0:g.some(v=>v===u.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Ii(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(zy(u)?"keyboard":"mouse"),this._mostRecentTarget=Ii(u))},this._onTouchstart=u=>{hC(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ii(u))},this._options=Object.assign(Object.assign({},h1),a),this.modalityDetected=this._modality.pipe(rC(1)),this.modalityChanged=this.modalityDetected.pipe(Sm()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Sa),i.addEventListener("mousedown",this._onMousedown,Sa),i.addEventListener("touchstart",this._onTouchstart,Sa)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Sa),document.removeEventListener("mousedown",this._onMousedown,Sa),document.removeEventListener("touchstart",this._onTouchstart,Sa))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ni),l.LFG(l.R0b),l.LFG(te),l.LFG(fC,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wd=new l.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Qh(){return null}}),HI=new l.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let mC=(()=>{class n{constructor(t,r,i,a){this._ngZone=r,this._defaultOptions=a,this._document=i,this._liveElement=t||this._createLiveElement()}announce(t,...r){const i=this._defaultOptions;let a,u;return 1===r.length&&"number"==typeof r[0]?u=r[0]:[a,u]=r,this.clear(),clearTimeout(this._previousTimeout),a||(a=i&&i.politeness?i.politeness:"polite"),null==u&&i&&(u=i.duration),this._liveElement.setAttribute("aria-live",a),this._ngZone.runOutsideAngular(()=>new Promise(f=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,f(),"number"==typeof u&&(this._previousTimeout=setTimeout(()=>this.clear(),u))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var t;clearTimeout(this._previousTimeout),null===(t=this._liveElement)||void 0===t||t.remove(),this._liveElement=null}_createLiveElement(){const t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let a=0;a<r.length;a++)r[a].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),this._document.body.appendChild(i),i}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(wd,8),l.LFG(l.R0b),l.LFG(te),l.LFG(HI,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const GI=new l.OlP("cdk-focus-monitor-default-options"),Mm=Zh({passive:!0,capture:!0});let gC=(()=>{class n{constructor(t,r,i,a,u){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Pt.x,this._rootNodeFocusAndBlurListener=f=>{const g=Ii(f),v="focus"===f.type?this._onFocus:this._onBlur;for(let T=g;T;T=T.parentElement)v.call(this,f,T)},this._document=a,this._detectionMode=(null==u?void 0:u.detectionMode)||0}monitor(t,r=!1){const i=Ta(t);if(!this._platform.isBrowser||1!==i.nodeType)return it(null);const a=function US(n){if(function Ea(){if(null==Wh){const n="undefined"!=typeof document?document.head:null;Wh=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Wh}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),u=this._elementInfo.get(i);if(u)return r&&(u.checkChildren=!0),u.subject;const f={checkChildren:r,subject:new Pt.x,rootNode:a};return this._elementInfo.set(i,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const r=Ta(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const a=Ta(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,g])=>this._originChanged(f,r,g)):(this._setOrigin(r),"function"==typeof a.focus&&a.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),a=Ii(t);!i||!i.checkChildren&&r!==a||this._originChanged(r,this._getFocusOrigin(a),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Mm),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Mm)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(zn(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Mm),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Mm),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,a)=>{(a===t||i.checkChildren&&a.contains(t))&&r.push([a,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(ni),l.LFG(UI),l.LFG(te,8),l.LFG(GI,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Zy="cdk-high-contrast-black-on-white",Wy="cdk-high-contrast-white-on-black",Xh="cdk-high-contrast-active";let xm=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,a=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Xh),t.remove(Zy),t.remove(Wy),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(Xh),t.add(Zy)):2===r&&(t.add(Xh),t.add(Wy))}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ni),l.LFG(te))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class _C{}const Ia="*";function Jh(n,e){return{type:7,name:n,definitions:e,options:{}}}function eu(n,e=null){return{type:4,styles:e,timings:n}}function km(n,e=null){return{type:2,steps:n,options:e}}function zi(n){return{type:6,styles:n,offset:null}}function tu(n,e,t){return{type:0,name:n,styles:e,options:t}}function nc(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function vC(n=null){return{type:9,options:n}}function g1(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function bC(n){Promise.resolve(null).then(n)}class Om{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){bC(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Ky{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?bC(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==a&&this._onFinish()}),u.onDestroy(()=>{++r==a&&this._onDestroy()}),u.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const Qt=!1;function CC(n){return new l.vHH(3e3,Qt)}function fA(){return"undefined"!=typeof window&&void 0!==window.document}function Fm(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function rl(n){switch(n.length){case 0:return new Om;case 1:return n[0];default:return new Ky(n)}}function Lm(n,e,t,r,i={},a={}){const u=[],f=[];let g=-1,v=null;if(r.forEach(T=>{const I=T.offset,O=I==g,B=O&&v||{};Object.keys(T).forEach(q=>{let ee=q,de=T[q];if("offset"!==q)switch(ee=e.normalizePropertyName(ee,u),de){case"!":de=i[q];break;case Ia:de=a[q];break;default:de=e.normalizeStyleValue(q,ee,de,u)}B[ee]=de}),O||f.push(B),v=B,g=I}),u.length)throw function aA(n){return new l.vHH(3502,Qt)}();return f}function Vm(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Xy(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Xy(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Xy(t,"destroy",n)))}}function Xy(n,e,t){const r=t.totalTime,a=Jy(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),u=n._data;return null!=u&&(a._data=u),a}function Jy(n,e,t,r,i="",a=0,u){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!u}}function go(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function Bm(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let af=(n,e)=>!1,ev=(n,e,t)=>[];(Fm()||"undefined"!=typeof Element)&&(af=fA()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),ev=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let nu=null,MC=!1;function xC(n){nu||(nu=function pA(){return"undefined"!=typeof document?document.body:null}()||{},MC=!!nu.style&&"WebkitAppearance"in nu.style);let e=!0;return nu.style&&!function tv(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in nu.style,!e&&MC&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in nu.style)),e}const nv=af,Um=ev;let rv=(()=>{class n{validateStyleProperty(t){return xC(t)}matchesElement(t,r){return!1}containsElement(t,r){return nv(t,r)}query(t,r,i){return Um(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,u,f=[],g){return new Om(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Hm=(()=>{class n{}return n.NOOP=new rv,n})();const jm="ng-enter",Gm="ng-leave",lf="ng-trigger",qm=".ng-trigger",Ai="ng-animating",rc=".ng-animating";function ru(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:iv(parseFloat(e[1]),e[2])}function iv(n,e){return"s"===e?1e3*n:n}function sv(n,e,t){return n.hasOwnProperty("duration")?n:function cf(n,e,t){let i,a=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(CC()),{duration:0,delay:0,easing:""};i=iv(parseFloat(f[1]),f[2]);const g=f[3];null!=g&&(a=iv(parseFloat(g),f[4]));const v=f[5];v&&(u=v)}else i=n;if(!t){let f=!1,g=e.length;i<0&&(e.push(function $I(){return new l.vHH(3100,Qt)}()),f=!0),a<0&&(e.push(function zI(){return new l.vHH(3101,Qt)}()),f=!0),f&&e.splice(g,0,CC())}return{duration:i,delay:a,easing:u}}(n,e,t)}function Ed(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function ic(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Ed(n,t);return t}function ov(n,e,t){return t?e+":"+t+";":""}function PC(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=ov(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=ov(0,Wm(t),n.style[t]));n.setAttribute("style",e)}function Ma(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=Zm(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),Fm()&&PC(n))}function il(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=Zm(t);n.style[r]=""}),Fm()&&PC(n))}function Dd(n){return Array.isArray(n)?1==n.length?n[0]:km(n):n}const Td=new RegExp("{{\\s*(.+?)\\s*}}","g");function zm(n){let e=[];if("string"==typeof n){let t;for(;t=Td.exec(n);)e.push(t[1]);Td.lastIndex=0}return e}function av(n,e,t){const r=n.toString(),i=r.replace(Td,(a,u)=>{let f=e[u];return e.hasOwnProperty(u)||(t.push(function WI(n){return new l.vHH(3003,Qt)}()),f=""),f.toString()});return i==r?n:i}function uf(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const gA=/-+([a-z0-9])/g;function Zm(n){return n.replace(gA,(...e)=>e[1].toUpperCase())}function Wm(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Zi(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function KI(n){return new l.vHH(3004,Qt)}()}}function Km(n,e){return window.getComputedStyle(n)[e]}function yA(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function vA(n,e,t){if(":"==n[0]){const g=function LC(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function iA(n){return new l.vHH(3016,Qt)}()),"* => *"}}(n,t);if("function"==typeof g)return void e.push(g);n=g}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function rA(n){return new l.vHH(3015,Qt)}()),e;const i=r[1],a=r[2],u=r[3];e.push(cv(i,u));"<"==a[0]&&!("*"==i&&"*"==u)&&e.push(cv(u,i))}(r,t,e)):t.push(n),t}const df=new Set(["true","1"]),Ym=new Set(["false","0"]);function cv(n,e){const t=df.has(n)||Ym.has(n),r=df.has(e)||Ym.has(e);return(i,a)=>{let u="*"==n||n==i,f="*"==e||e==a;return!u&&t&&"boolean"==typeof i&&(u=i?df.has(n):Ym.has(n)),!f&&r&&"boolean"==typeof a&&(f=a?df.has(e):Ym.has(e)),u&&f}}const bA=new RegExp("s*:selfs*,?","g");function dv(n,e,t){return new wA(n).build(e,t)}class wA{constructor(e){this._driver=e}build(e,t){const r=new UC(t);return this._resetContextStyleTimingState(r),Zi(this,Dd(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function QI(){return new l.vHH(3006,Qt)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const g=f,v=g.name;v.toString().split(/\s*,\s*/).forEach(T=>{g.name=T,a.push(this.visitState(g,t))}),g.name=v}else if(1==f.type){const g=this.visitTransition(f,t);r+=g.queryCount,i+=g.depCount,u.push(g)}else t.errors.push(function XI(){return new l.vHH(3007,Qt)}())}),{type:7,name:e.name,states:a,transitions:u,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,u=i||{};r.styles.forEach(f=>{if(Qm(f)){const g=f;Object.keys(g).forEach(v=>{zm(g[v]).forEach(T=>{u.hasOwnProperty(T)||a.add(T)})})}}),a.size&&(uf(a.values()),t.errors.push(function JI(n,e){return new l.vHH(3008,Qt)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Zi(this,Dd(e.animation),t);return{type:1,matchers:yA(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Sd(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Zi(this,r,t)),options:Sd(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(u=>{t.currentTime=r;const f=Zi(this,u,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:a,options:Sd(e.options)}}visitAnimate(e,t){const r=function CA(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return Xm(sv(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=Xm(0,0,"");return a.dynamic=!0,a.strValue=r,a}return t=t||sv(r,e),Xm(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:zi({});if(5==a.type)i=this.visitKeyframes(a,t);else{let u=e.styles,f=!1;if(!u){f=!0;const v={};r.easing&&(v.easing=r.easing),u=zi(v)}t.currentTime+=r.duration+r.delay;const g=this.visitStyle(u,t);g.isEmptyStep=f,i=g}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(u=>{"string"==typeof u?u==Ia?r.push(u):t.errors.push(function nf(n){return new l.vHH(3002,Qt)}()):r.push(u)}):r.push(e.styles);let i=!1,a=null;return r.forEach(u=>{if(Qm(u)){const f=u,g=f.easing;if(g&&(a=g,delete f.easing),!i)for(let v in f)if(f[v].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:a,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(u=>{"string"!=typeof u&&Object.keys(u).forEach(f=>{if(!this._driver.validateStyleProperty(f))return void t.errors.push(function EC(n){return new l.vHH(3009,Qt)}());const g=t.collectedStyles[t.currentQuerySelector],v=g[f];let T=!0;v&&(a!=i&&a>=v.startTime&&i<=v.endTime&&(t.errors.push(function DC(n,e,t,r,i){return new l.vHH(3010,Qt)}()),T=!1),a=v.startTime),T&&(g[f]={startTime:a,endTime:i}),t.options&&function NC(n,e,t){const r=e.params||{},i=zm(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function ZI(n){return new l.vHH(3001,Qt)}())})}(u[f],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function TC(){return new l.vHH(3011,Qt)}()),r;let a=0;const u=[];let f=!1,g=!1,v=0;const T=e.steps.map(We=>{const He=this._makeStyleAst(We,t);let Ke=null!=He.offset?He.offset:function HC(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Qm(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(Qm(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(He.styles),Fe=0;return null!=Ke&&(a++,Fe=He.offset=Ke),g=g||Fe<0||Fe>1,f=f||Fe<v,v=Fe,u.push(Fe),He});g&&t.errors.push(function SC(){return new l.vHH(3012,Qt)}()),f&&t.errors.push(function IC(){return new l.vHH(3200,Qt)}());const I=e.steps.length;let O=0;a>0&&a<I?t.errors.push(function eA(){return new l.vHH(3202,Qt)}()):0==a&&(O=1/(I-1));const B=I-1,q=t.currentTime,ee=t.currentAnimateTimings,de=ee.duration;return T.forEach((We,He)=>{const Ke=O>0?He==B?1:O*He:u[He],Fe=Ke*de;t.currentTime=q+ee.delay+Fe,ee.duration=Fe,this._validateStyleAst(We,t),We.offset=Ke,r.styles.push(We)}),r}visitReference(e,t){return{type:8,animation:Zi(this,Dd(e.animation),t),options:Sd(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Sd(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Sd(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,u]=function VC(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(bA,"")),n=n.replace(/@\*/g,qm).replace(/@\w+/g,t=>qm+"-"+t.substr(1)).replace(/:animating/g,rc),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,go(t.collectedStyles,t.currentQuerySelector,{});const f=Zi(this,Dd(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:u,animation:f,originalSelector:e.selector,options:Sd(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function tA(){return new l.vHH(3013,Qt)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:sv(e.timings,t.errors,!0);return{type:12,animation:Zi(this,Dd(e.animation),t),timings:r,options:null}}}class UC{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Qm(n){return!Array.isArray(n)&&"object"==typeof n}function Sd(n){return n?(n=Ed(n)).params&&(n.params=function BC(n){return n?Ed(n):null}(n.params)):n={},n}function Xm(n,e,t){return{duration:n,delay:e,easing:t}}function jC(n,e,t,r,i,a,u=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:u,subTimeline:f}}class fv{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const v1=new RegExp(":enter","g"),w1=new RegExp(":leave","g");function GC(n,e,t,r,i,a={},u={},f,g,v=[]){return(new Jm).buildKeyframes(n,e,t,r,i,a,u,f,g,v)}class Jm{buildKeyframes(e,t,r,i,a,u,f,g,v,T=[]){v=v||new fv;const I=new hf(e,t,v,i,a,T,[]);I.options=g,I.currentTimeline.setStyles([u],null,I.errors,g),Zi(this,r,I);const O=I.timelines.filter(B=>B.containsAnimation());if(Object.keys(f).length){let B;for(let q=O.length-1;q>=0;q--){const ee=O[q];if(ee.element===t){B=ee;break}}B&&!B.allowOnlyTimelineStyles()&&B.setStyles([f],null,I.errors,g)}return O.length?O.map(B=>B.buildKeyframes()):[jC(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,u=this._visitSubInstructions(r,i,i.options);a!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const u=null!=r.duration?ru(r.duration):null,f=null!=r.delay?ru(r.delay):null;return 0!==u&&e.forEach(g=>{const v=t.appendInstructionToTimeline(g,u,f);a=Math.max(a,v.duration+v.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Zi(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=pv);const u=ru(a.delay);i.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>Zi(this,u,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?ru(e.options.delay):0;e.steps.forEach(u=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),Zi(this,u,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return sv(t.params?av(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(g=>{f.forwardTime((g.offset||0)*a),f.setStyles(g.styles,g.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?ru(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=pv);let u=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let g=null;f.forEach((v,T)=>{t.currentQueryIndex=T;const I=t.createSubContext(e.options,v);a&&I.delayNextStep(a),v===t.element&&(g=I.currentTimeline),Zi(this,e.animation,I),I.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,I.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),g&&(t.currentTimeline.mergeTimelineCollectedStyles(g),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,u=Math.abs(a.duration),f=u*(t.currentQueryTotal-1);let g=u*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":g=f-g;break;case"full":g=r.currentStaggerTime}const T=t.currentTimeline;g&&T.delayNextStep(g);const I=T.currentTime;Zi(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-I+(i.startTime-r.currentTimeline.startTime)}}const pv={};class hf{constructor(e,t,r,i,a,u,f,g){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=pv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new sl(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=ru(r.duration)),null!=r.delay&&(i.delay=ru(r.delay));const a=r.params;if(a){let u=i.params;u||(u=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!u.hasOwnProperty(f))&&(u[f]=av(a[f],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new hf(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=pv,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},a=new qC(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,u){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(v1,"."+this._enterClassName)).replace(w1,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=r);0!==r&&(v=r<0?v.slice(v.length+r,v.length):v.slice(0,r)),f.push(...v)}return!a&&0==f.length&&u.push(function nA(n){return new l.vHH(3014,Qt)}()),f}}class sl{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new sl(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Ia,this._currentKeyframe[t]=Ia}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const a=i&&i.params||{},u=function EA(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(a=>{t[a]=Ia})):ic(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(u).forEach(f=>{const g=av(u[f],a,r);this._pendingStyles[f]=g,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:Ia),this._updateStyle(f,g)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,g)=>{const v=ic(f,!0);Object.keys(v).forEach(T=>{const I=v[T];"!"==I?e.add(T):I==Ia&&t.add(T)}),r||(v.offset=g/this.duration),i.push(v)});const a=e.size?uf(e.values()):[],u=t.size?uf(t.values()):[];if(r){const f=i[0],g=Ed(f);f.offset=0,g.offset=1,i=[f,g]}return jC(this.element,i,a,u,this.duration,this.startTime,this.easing,!1)}}class qC extends sl{constructor(e,t,r,i,a,u,f=!1){super(e,t,u.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],u=r+t,f=t/u,g=ic(e[0],!1);g.offset=0,a.push(g);const v=ic(e[0],!1);v.offset=$C(f),a.push(v);const T=e.length-1;for(let I=1;I<=T;I++){let O=ic(e[I],!1);O.offset=$C((t+O.offset*r)/u),a.push(O)}r=u,t=0,i="",e=a}return jC(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function $C(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class eg{}class ZC extends eg{normalizePropertyName(e,t){return Zm(e)}normalizeStyleValue(e,t,r,i){let a="";const u=r.toString().trim();if(C1[t]&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function YI(n,e){return new l.vHH(3005,Qt)}())}return u+a}}const C1=(()=>function WC(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function ff(n,e,t,r,i,a,u,f,g,v,T,I,O){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:u,timelines:f,queriedElements:g,preStyleProps:v,postStyleProps:T,totalTime:I,errors:O}}const tg={};class TA{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function E1(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],a=this._stateStyles[e],u=i?i.buildStyles(t,r):{};return a?a.buildStyles(t,r):u}build(e,t,r,i,a,u,f,g,v,T){const I=[],O=this.ast.options&&this.ast.options.params||tg,q=this.buildStyles(r,f&&f.params||tg,I),ee=g&&g.params||tg,de=this.buildStyles(i,ee,I),We=new Set,He=new Map,Ke=new Map,Fe="void"===i,It={params:Object.assign(Object.assign({},O),ee)},Tt=T?[]:GC(e,t,this.ast.animation,a,u,q,de,It,v,I);let xn=0;if(Tt.forEach(Zr=>{xn=Math.max(Zr.duration+Zr.delay,xn)}),I.length)return ff(t,this._triggerName,r,i,Fe,q,de,[],[],He,Ke,xn,I);Tt.forEach(Zr=>{const On=Zr.element,Yn=go(He,On,{});Zr.preStyleProps.forEach(Kf=>Yn[Kf]=!0);const Oa=go(Ke,On,{});Zr.postStyleProps.forEach(Kf=>Oa[Kf]=!0),On!==t&&We.add(On)});const kn=uf(We.values());return ff(t,this._triggerName,r,i,Fe,q,de,Tt,kn,He,Ke,xn)}}class D1{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=Ed(this.defaultParams);return Object.keys(e).forEach(a=>{const u=e[a];null!=u&&(i[a]=u)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const u=a;Object.keys(u).forEach(f=>{let g=u[f];g.length>1&&(g=av(g,i,t));const v=this.normalizer.normalizePropertyName(f,t);g=this.normalizer.normalizeStyleValue(f,v,g,t),r[v]=g})}}),r}}class mv{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new D1(i.style,i.options&&i.options.params||{},r)}),AA(this.states,"true","1"),AA(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new TA(e,i,this.states))}),this.fallbackTransition=function IA(n,e,t){return new TA(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(u=>u.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function AA(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const MA=new fv;class gv{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],i=dv(this._driver,t,r);if(r.length)throw function Yy(n){return new l.vHH(3503,Qt)}();this._animations[e]=i}_buildPlayer(e,t,r){const i=e.element,a=Lm(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations[e];let u;const f=new Map;if(a?(u=GC(this._driver,t,a,jm,Gm,{},{},r,MA,i),u.forEach(T=>{const I=go(f,T.element,{});T.postStyleProps.forEach(O=>I[O]=null)})):(i.push(function Aa(){return new l.vHH(3300,Qt)}()),u=[]),i.length)throw function lA(n){return new l.vHH(3504,Qt)}();f.forEach((T,I)=>{Object.keys(T).forEach(O=>{T[O]=this._driver.computeStyle(I,O,Ia)})});const v=rl(u.map(T=>{const I=f.get(T.element);return this._buildPlayer(T,{},I)}));return this._playersById[e]=v,v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function Pm(n){return new l.vHH(3301,Qt)}();return t}listen(e,t,r,i){const a=Jy(t,"","","");return Vm(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const KC="ng-animate-queued",_v="ng-animate-disabled",vv=[],bv={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},YC={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},_o="__ng_removed";class ng{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function T1(n){return null!=n?n:null}(r?e.value:e),r){const a=Ed(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Id="void",wv=new ng(Id);class kA{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,yo(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function sf(n,e){return new l.vHH(3302,Qt)}();if(null==r||0==r.length)throw function cA(n){return new l.vHH(3303,Qt)}();if(!function QC(n){return"start"==n||"done"==n}(r))throw function uA(n,e){return new l.vHH(3400,Qt)}();const a=go(this._elementListeners,e,[]),u={name:t,phase:r,callback:i};a.push(u);const f=go(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(yo(e,lf),yo(e,lf+"-"+t),f[t]=wv),()=>{this._engine.afterFlush(()=>{const g=a.indexOf(u);g>=0&&a.splice(g,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function dA(n){return new l.vHH(3401,Qt)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),u=new Ls(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(yo(e,lf),yo(e,lf+"-"+t),this._engine.statesByElement.set(e,f={}));let g=f[t];const v=new ng(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&g&&v.absorbOptions(g.options),f[t]=v,g||(g=wv),v.value!==Id&&g.value===v.value){if(!function PA(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(g.params,v.params)){const ee=[],de=a.matchStyles(g.value,g.params,ee),We=a.matchStyles(v.value,v.params,ee);ee.length?this._engine.reportError(ee):this._engine.afterFlush(()=>{il(e,de),Ma(e,We)})}return}const O=go(this._engine.playersByElement,e,[]);O.forEach(ee=>{ee.namespaceId==this.id&&ee.triggerName==t&&ee.queued&&ee.destroy()});let B=a.matchTransition(g.value,v.value,e,v.params),q=!1;if(!B){if(!i)return;B=a.fallbackTransition,q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:B,fromState:g,toState:v,player:u,isFallbackTransition:q}),q||(yo(e,KC),u.onStart(()=>{pf(e,KC)})),u.onDone(()=>{let ee=this.players.indexOf(u);ee>=0&&this.players.splice(ee,1);const de=this._engine.playersByElement.get(e);if(de){let We=de.indexOf(u);We>=0&&de.splice(We,1)}}),this.players.push(u),O.push(u),u}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,qm,!0);r.forEach(i=>{if(i[_o])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(u=>u.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),u=new Map;if(a){const f=[];if(Object.keys(a).forEach(g=>{if(u.set(g,a[g].value),this._triggers[g]){const v=this.trigger(e,g,Id,i);v&&f.push(v)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),r&&rl(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const u=a.name;if(i.has(u))return;i.add(u);const g=this._triggers[u].fallbackTransition,v=r[u]||wv,T=new ng(Id),I=new Ls(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:g,fromState:v,toState:T,player:I,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let u=e;for(;u=u.parentNode;)if(r.statesByElement.get(u)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[_o];(!a||a===bv)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){yo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,u=this._elementListeners.get(a);u&&u.forEach(f=>{if(f.name==r.triggerName){const g=Jy(a,r.triggerName,r.fromState.value,r.toState.value);g._data=e,Vm(r.player,f.phase,g,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,u=i.transition.ast.depCount;return 0==a||0==u?a-u:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Cv{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new kA(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let i=!1;for(let a=r;a>=0;a--)if(this.driver.containsElement(this._namespaceList[a].hostElement,t)){this._namespaceList.splice(a+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let a=0;a<i.length;a++){const u=r[i[a]].namespaceId;if(u){const f=this._fetchNamespace(u);f&&t.add(f)}}}return t}trigger(e,t,r,i){if(rg(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!rg(t))return;const a=t[_o];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),yo(e,_v)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),pf(e,_v))}removeNode(e,t,r,i){if(rg(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[_o]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return rg(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,qm,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,rc,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return rl(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[_o];if(r&&r.setForRemoval){if(e[_o]=bv,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(_v))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)yo(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?rl(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Nm(n){return new l.vHH(3402,Qt)}()}_flushAnimations(e,t){const r=new fv,i=[],a=new Map,u=[],f=new Map,g=new Map,v=new Map,T=new Set;this.disabledNodes.forEach(gt=>{T.add(gt);const Rt=this.driver.query(gt,".ng-animate-queued",!0);for(let Lt=0;Lt<Rt.length;Lt++)T.add(Rt[Lt])});const I=this.bodyNode,O=Array.from(this.statesByElement.keys()),B=Ev(O,this.collectedEnterElements),q=new Map;let ee=0;B.forEach((gt,Rt)=>{const Lt=jm+ee++;q.set(Rt,Lt),gt.forEach(bn=>yo(bn,Lt))});const de=[],We=new Set,He=new Set;for(let gt=0;gt<this.collectedLeaveElements.length;gt++){const Rt=this.collectedLeaveElements[gt],Lt=Rt[_o];Lt&&Lt.setForRemoval&&(de.push(Rt),We.add(Rt),Lt.hasAnimation?this.driver.query(Rt,".ng-star-inserted",!0).forEach(bn=>We.add(bn)):He.add(Rt))}const Ke=new Map,Fe=Ev(O,Array.from(We));Fe.forEach((gt,Rt)=>{const Lt=Gm+ee++;Ke.set(Rt,Lt),gt.forEach(bn=>yo(bn,Lt))}),e.push(()=>{B.forEach((gt,Rt)=>{const Lt=q.get(Rt);gt.forEach(bn=>pf(bn,Lt))}),Fe.forEach((gt,Rt)=>{const Lt=Ke.get(Rt);gt.forEach(bn=>pf(bn,Lt))}),de.forEach(gt=>{this.processLeaveNode(gt)})});const It=[],Tt=[];for(let gt=this._namespaceList.length-1;gt>=0;gt--)this._namespaceList[gt].drainQueuedTransitions(t).forEach(Lt=>{const bn=Lt.player,Fi=Lt.element;if(It.push(bn),this.collectedEnterElements.length){const zs=Fi[_o];if(zs&&zs.setForMove){if(zs.previousTriggersValues&&zs.previousTriggersValues.has(Lt.triggerName)){const Yf=zs.previousTriggersValues.get(Lt.triggerName),Yd=this.statesByElement.get(Lt.element);Yd&&Yd[Lt.triggerName]&&(Yd[Lt.triggerName].value=Yf)}return void bn.destroy()}}const pc=!I||!this.driver.containsElement(I,Fi),Wo=Ke.get(Fi),Kd=q.get(Fi),Dr=this._buildInstruction(Lt,r,Kd,Wo,pc);if(Dr.errors&&Dr.errors.length)return void Tt.push(Dr);if(pc)return bn.onStart(()=>il(Fi,Dr.fromStyles)),bn.onDestroy(()=>Ma(Fi,Dr.toStyles)),void i.push(bn);if(Lt.isFallbackTransition)return bn.onStart(()=>il(Fi,Dr.fromStyles)),bn.onDestroy(()=>Ma(Fi,Dr.toStyles)),void i.push(bn);const S2=[];Dr.timelines.forEach(zs=>{zs.stretchStartingKeyframe=!0,this.disabledNodes.has(zs.element)||S2.push(zs)}),Dr.timelines=S2,r.append(Fi,Dr.timelines),u.push({instruction:Dr,player:bn,element:Fi}),Dr.queriedElements.forEach(zs=>go(f,zs,[]).push(bn)),Dr.preStyleProps.forEach((zs,Yf)=>{const Yd=Object.keys(zs);if(Yd.length){let Qf=g.get(Yf);Qf||g.set(Yf,Qf=new Set),Yd.forEach(Nk=>Qf.add(Nk))}}),Dr.postStyleProps.forEach((zs,Yf)=>{const Yd=Object.keys(zs);let Qf=v.get(Yf);Qf||v.set(Yf,Qf=new Set),Yd.forEach(Nk=>Qf.add(Nk))})});if(Tt.length){const gt=[];Tt.forEach(Rt=>{gt.push(function hA(n,e){return new l.vHH(3505,Qt)}())}),It.forEach(Rt=>Rt.destroy()),this.reportError(gt)}const xn=new Map,kn=new Map;u.forEach(gt=>{const Rt=gt.element;r.has(Rt)&&(kn.set(Rt,Rt),this._beforeAnimationBuild(gt.player.namespaceId,gt.instruction,xn))}),i.forEach(gt=>{const Rt=gt.element;this._getPreviousPlayers(Rt,!1,gt.namespaceId,gt.triggerName,null).forEach(bn=>{go(xn,Rt,[]).push(bn),bn.destroy()})});const Zr=de.filter(gt=>Dv(gt,g,v)),On=new Map;JC(On,this.driver,He,v,Ia).forEach(gt=>{Dv(gt,g,v)&&Zr.push(gt)});const Oa=new Map;B.forEach((gt,Rt)=>{JC(Oa,this.driver,new Set(gt),g,"!")}),Zr.forEach(gt=>{const Rt=On.get(gt),Lt=Oa.get(gt);On.set(gt,Object.assign(Object.assign({},Rt),Lt))});const Kf=[],D2=[],T2={};u.forEach(gt=>{const{element:Rt,player:Lt,instruction:bn}=gt;if(r.has(Rt)){if(T.has(Rt))return Lt.onDestroy(()=>Ma(Rt,bn.toStyles)),Lt.disabled=!0,Lt.overrideTotalTime(bn.totalTime),void i.push(Lt);let Fi=T2;if(kn.size>1){let Wo=Rt;const Kd=[];for(;Wo=Wo.parentNode;){const Dr=kn.get(Wo);if(Dr){Fi=Dr;break}Kd.push(Wo)}Kd.forEach(Dr=>kn.set(Dr,Fi))}const pc=this._buildAnimation(Lt.namespaceId,bn,xn,a,Oa,On);if(Lt.setRealPlayer(pc),Fi===T2)Kf.push(Lt);else{const Wo=this.playersByElement.get(Fi);Wo&&Wo.length&&(Lt.parentPlayer=rl(Wo)),i.push(Lt)}}else il(Rt,bn.fromStyles),Lt.onDestroy(()=>Ma(Rt,bn.toStyles)),D2.push(Lt),T.has(Rt)&&i.push(Lt)}),D2.forEach(gt=>{const Rt=a.get(gt.element);if(Rt&&Rt.length){const Lt=rl(Rt);gt.setRealPlayer(Lt)}}),i.forEach(gt=>{gt.parentPlayer?gt.syncPlayerEvents(gt.parentPlayer):gt.destroy()});for(let gt=0;gt<de.length;gt++){const Rt=de[gt],Lt=Rt[_o];if(pf(Rt,Gm),Lt&&Lt.hasAnimation)continue;let bn=[];if(f.size){let pc=f.get(Rt);pc&&pc.length&&bn.push(...pc);let Wo=this.driver.query(Rt,rc,!0);for(let Kd=0;Kd<Wo.length;Kd++){let Dr=f.get(Wo[Kd]);Dr&&Dr.length&&bn.push(...Dr)}}const Fi=bn.filter(pc=>!pc.destroyed);Fi.length?eE(this,Rt,Fi):this.processLeaveNode(Rt)}return de.length=0,Kf.forEach(gt=>{this.players.push(gt),gt.onDone(()=>{gt.destroy();const Rt=this.players.indexOf(gt);this.players.splice(Rt,1)}),gt.play()}),Kf}elementContainsData(e,t){let r=!1;const i=t[_o];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let u=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(u=f)}else{const f=this.playersByElement.get(e);if(f){const g=!a||a==Id;f.forEach(v=>{v.queued||!g&&v.triggerName!=i||u.push(v)})}}return(r||i)&&(u=u.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),u}_beforeAnimationBuild(e,t,r){const a=t.element,u=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const g of t.timelines){const v=g.element,T=v!==a,I=go(r,v,[]);this._getPreviousPlayers(v,T,u,f,t.toState).forEach(B=>{const q=B.getRealPlayer();q.beforeDestroy&&q.beforeDestroy(),B.destroy(),I.push(B)})}il(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,u){const f=t.triggerName,g=t.element,v=[],T=new Set,I=new Set,O=t.timelines.map(q=>{const ee=q.element;T.add(ee);const de=ee[_o];if(de&&de.removedBeforeQueried)return new Om(q.duration,q.delay);const We=ee!==g,He=function tE(n){const e=[];return nE(n,e),e}((r.get(ee)||vv).map(xn=>xn.getRealPlayer())).filter(xn=>!!xn.element&&xn.element===ee),Ke=a.get(ee),Fe=u.get(ee),It=Lm(0,this._normalizer,0,q.keyframes,Ke,Fe),Tt=this._buildPlayer(q,It,He);if(q.subTimeline&&i&&I.add(ee),We){const xn=new Ls(e,f,ee);xn.setRealPlayer(Tt),v.push(xn)}return Tt});v.forEach(q=>{go(this.playersByQueriedElement,q.element,[]).push(q),q.onDone(()=>function OA(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,q.element,q))}),T.forEach(q=>yo(q,Ai));const B=rl(O);return B.onDestroy(()=>{T.forEach(q=>pf(q,Ai)),Ma(g,t.toStyles)}),I.forEach(q=>{go(i,q,[]).push(B)}),B}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Om(e.duration,e.delay)}}class Ls{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Om,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>Vm(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){go(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function rg(n){return n&&1===n.nodeType}function XC(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function JC(n,e,t,r,i){const a=[];t.forEach(g=>a.push(XC(g)));const u=[];r.forEach((g,v)=>{const T={};g.forEach(I=>{const O=T[I]=e.computeStyle(v,I,i);(!O||0==O.length)&&(v[_o]=YC,u.push(v))}),n.set(v,T)});let f=0;return t.forEach(g=>XC(g,a[f++])),u}function Ev(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),a=new Map;function u(f){if(!f)return 1;let g=a.get(f);if(g)return g;const v=f.parentNode;return g=t.has(v)?v:i.has(v)?1:u(v),a.set(f,g),g}return e.forEach(f=>{const g=u(f);1!==g&&t.get(g).push(f)}),t}function yo(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function pf(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function eE(n,e,t){rl(t).onDone(()=>n.processLeaveNode(e))}function nE(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Ky?nE(r.players,e):e.push(r)}}function Dv(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class sc{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new Cv(e,t,r),this._timelineEngine=new gv(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const u=e+"-"+i;let f=this._triggerCache[u];if(!f){const g=[],v=dv(this._driver,a,g);if(g.length)throw function rf(n,e){return new l.vHH(3404,Qt)}();f=function SA(n,e,t){return new mv(n,e,t)}(i,v,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,u]=Bm(r);this._timelineEngine.command(a,t,u,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[u,f]=Bm(r);return this._timelineEngine.listen(u,t,f,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let rE=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Ma(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ma(this._element,this._initialStyles),this._endStyles&&(Ma(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(il(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(il(this._element,this._endStyles),this._endStyles=null),Ma(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Sv(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];iE(i)&&(e=e||{},e[i]=n[i])}return e}function iE(n){return"display"===n||"position"===n}class Iv{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:Km(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class NA{validateStyleProperty(e){return xC(e)}matchesElement(e,t){return!1}containsElement(e,t){return nv(e,t)}query(e,t,r){return Um(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,u=[]){const g={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(g.easing=a);const v={},T=u.filter(O=>O instanceof Iv);(function FC(n,e){return 0===n||0===e})(r,i)&&T.forEach(O=>{let B=O.currentSnapshot;Object.keys(B).forEach(q=>v[q]=B[q])}),t=function _A(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let a=e[0],u=[];if(r.forEach(f=>{a.hasOwnProperty(f)||u.push(f),a[f]=t[f]}),u.length)for(var i=1;i<e.length;i++){let f=e[i];u.forEach(function(g){f[g]=Km(n,g)})}}return e}(e,t=t.map(O=>ic(O,!1)),v);const I=function Tv(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Sv(e[0]),e.length>1&&(r=Sv(e[e.length-1]))):e&&(t=Sv(e)),t||r?new rE(n,t,r):null}(e,t);return new Iv(e,t,g,I)}}let FA=(()=>{class n extends _C{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?km(t):t;return Av(this._renderer,null,r,"register",[i]),new S1(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(te))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class S1 extends class yC{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new I1(this._id,e,t||{},this._renderer)}}class I1{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Av(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function Av(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const sE="@.disabled";let LA=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,u)=>{const f=null==u?void 0:u.parentNode(a);f&&u.removeChild(f,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let T=this._rendererCache.get(a);return T||(T=new VA("",a,this.engine),this._rendererCache.set(a,T)),T}const u=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const g=T=>{Array.isArray(T)?T.forEach(g):this.engine.registerTrigger(u,f,t,T.name,T)};return r.data.animation.forEach(g),new A1(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[u,f]=a;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(sc),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class VA{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==sE?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class A1 extends VA{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==sE?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function M1(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.substr(1),u="";return"@"!=a.charAt(0)&&([a,u]=function x1(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let R1=(()=>{class n extends sc{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(te),l.LFG(Hm),l.LFG(eg))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const iu=new l.OlP("AnimationModuleType"),oE=[{provide:_C,useClass:FA},{provide:eg,useFactory:function BA(){return new ZC}},{provide:sc,useClass:R1},{provide:l.FYo,useFactory:function sg(n,e,t){return new LA(n,e,t)},deps:[Cn,sc,l.R0b]}],Mv=[{provide:Hm,useFactory:()=>new NA},{provide:iu,useValue:"BrowserAnimations"},...oE],su=[{provide:Hm,useClass:rv},{provide:iu,useValue:"NoopAnimations"},...oE];let aE=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?su:Mv}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:Mv,imports:[Js]}),n})();function xv(n,e){if(1&n&&l._UZ(0,"mat-pseudo-checkbox",4),2&n){const t=l.oxw();l.Q6J("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function Rv(n,e){if(1&n&&(l.TgZ(0,"span",5),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.hij("(",t.group.label,")")}}const og=["*"],uE=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function O1(){return!0}});let Zn=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!Ns()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(xm),l.LFG(uE,8),l.LFG(te))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[_d],_d]}),n})();function kv(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Er(e)}}}function mf(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function Ov(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Er(e)}}}function HA(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?Im(t):this.defaultTabIndex}}}function dE(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new Pt.x,this.errorState=!1}updateErrorState(){const e=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==e&&(this.errorState=a,this.stateChanges.next())}}}let Fv=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class qA{constructor(e,t,r){this._renderer=e,this.element=t,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const $A={enterDuration:225,exitDuration:150},hE=Zh({passive:!0}),zA=["mousedown","touchstart"],ZA=["mouseup","mouseleave","touchend","touchcancel"];class WA{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Ta(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=Object.assign(Object.assign({},$A),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const u=r.radius||function K1(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),f=e-i.left,g=t-i.top,v=a.enterDuration,T=document.createElement("div");T.classList.add("mat-ripple-element"),T.style.left=f-u+"px",T.style.top=g-u+"px",T.style.height=2*u+"px",T.style.width=2*u+"px",null!=r.color&&(T.style.backgroundColor=r.color),T.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(T),function W1(n){window.getComputedStyle(n).getPropertyValue("opacity")}(T),T.style.transform="scale(1)";const I=new qA(this,T,r);return I.state=0,this._activeRipples.add(I),r.persistent||(this._mostRecentTransientRipple=I),this._runTimeoutOutsideZone(()=>{const O=I===this._mostRecentTransientRipple;I.state=1,!r.persistent&&(!O||!this._isPointerDown)&&I.fadeOut()},v),I}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const r=e.element,i=Object.assign(Object.assign({},$A),e.config.animation);r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,r.remove()},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Ta(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(zA))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(ZA),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=zy(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!hC(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,hE)})})}_removeTriggerEvents(){this._triggerElement&&(zA.forEach(e=>{this._triggerElement.removeEventListener(e,this,hE)}),this._pointerUpEventsRegistered&&ZA.forEach(e=>{this._triggerElement.removeEventListener(e,this,hE)}))}}const Y1=new l.OlP("mat-ripple-global-options");let fE=(()=>{class n{constructor(t,r,i,a,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new WA(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,Object.assign(Object.assign({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(ni),l.Y36(Y1,8),l.Y36(iu,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),s=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Zn],Zn]}),n})(),o=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(iu,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,r){2&t&&l.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,r){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),c=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Zn]]}),n})();const d=new l.OlP("MAT_OPTION_PARENT_COMPONENT"),w=new l.OlP("MatOptgroup");let A=0;class x{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let L=(()=>{class n{constructor(t,r,i,a){this._element=t,this._changeDetectorRef=r,this._parent=i,this.group=a,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+A++,this.onSelectionChange=new l.vpe,this._stateChanges=new Pt.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=Er(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,r){const i=this._getHostElement();"function"==typeof i.focus&&i.focus(r)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!bd(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new x(this,t))}}return n.\u0275fac=function(t){l.$Z()},n.\u0275dir=l.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),$=(()=>{class n extends L{constructor(t,r,i,a){super(t,r,i,a)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(d,8),l.Y36(w,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,r){1&t&&l.NdJ("click",function(){return r._selectViaInteraction()})("keydown",function(a){return r._handleKeydown(a)}),2&t&&(l.Ikx("id",r.id),l.uIk("tabindex",r._getTabIndex())("aria-selected",r._getAriaSelected())("aria-disabled",r.disabled.toString()),l.ekj("mat-selected",r.selected)("mat-option-multiple",r.multiple)("mat-active",r.active)("mat-option-disabled",r.disabled))},exportAs:["matOption"],features:[l.qOj],ngContentSelectors:og,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,r){1&t&&(l.F$t(),l.YNc(0,xv,1,2,"mat-pseudo-checkbox",0),l.TgZ(1,"span",1),l.Hsn(2),l.qZA(),l.YNc(3,Rv,2,1,"span",2),l._UZ(4,"div",3)),2&t&&(l.Q6J("ngIf",r.multiple),l.xp6(3),l.Q6J("ngIf",r.group&&r.group._inert),l.xp6(1),l.Q6J("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},directives:[o,Jn,fE],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function X(n,e,t){if(t.length){let r=e.toArray(),i=t.toArray(),a=0;for(let u=0;u<n+1;u++)r[u].group&&r[u].group===i[a]&&a++;return a}return 0}let Ve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[s,Va,Zn,c]]}),n})();const $e=["*",[["mat-toolbar-row"]]],ot=["*","mat-toolbar-row"],Me=mf(class{constructor(n){this._elementRef=n}});let Dt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),Kt=(()=>{class n extends Me{constructor(t,r,i){super(t),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(ni),l.Y36(te))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,Dt,5),2&t){let a;l.iGM(a=l.CRH())&&(r._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,r){2&t&&l.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[l.qOj],ngContentSelectors:ot,decls:2,vars:0,template:function(t,r){1&t&&(l.F$t($e),l.Hsn(0),l.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),Vs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Zn],Zn]}),n})(),oc=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lv=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=Ta(t);return new un.y(i=>{const u=this._observeElement(r).subscribe(i);return()=>{u.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new Pt.x,i=this._mutationObserverFactory.create(a=>r.next(a));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(oc))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vv=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Er(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Im(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Tm(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Lv),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),Bv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[oc]}),n})();var Uv=P(1144);const Hv=["addListener","removeListener"],jv=["addEventListener","removeEventListener"],Gv=["on","off"];function Ad(n,e,t,r){if((0,Xr.m)(t)&&(r=t,t=void 0),r)return Ad(n,e,t).pipe(fa(r));const[i,a]=function z2(n){return(0,Xr.m)(n.addEventListener)&&(0,Xr.m)(n.removeEventListener)}(n)?jv.map(u=>f=>n[u](e,f,t)):function q2(n){return(0,Xr.m)(n.addListener)&&(0,Xr.m)(n.removeListener)}(n)?Hv.map(ag(n,e)):function $2(n){return(0,Xr.m)(n.on)&&(0,Xr.m)(n.off)}(n)?Gv.map(ag(n,e)):[];if(!i&&(0,Uv.z)(n))return(0,yr.z)(u=>Ad(u,e,t))((0,Ms.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new un.y(u=>{const f=(...g)=>u.next(1<g.length?g:g[0]);return i(f),()=>a(f)})}function ag(n,e){return t=>r=>n[t](e,r)}const Z2=["connectionContainer"],W2=["inputContainer"],K2=["label"];function Y2(n,e){1&n&&(l.ynx(0),l.TgZ(1,"div",14),l._UZ(2,"div",15)(3,"div",16)(4,"div",17),l.qZA(),l.TgZ(5,"div",18),l._UZ(6,"div",15)(7,"div",16)(8,"div",17),l.qZA(),l.BQk())}function Q2(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",19),l.NdJ("cdkObserveContent",function(){return l.CHM(t),l.oxw().updateOutlineGap()}),l.Hsn(1,1),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function X2(n,e){if(1&n&&(l.ynx(0),l.Hsn(1,2),l.TgZ(2,"span"),l._uU(3),l.qZA(),l.BQk()),2&n){const t=l.oxw(2);l.xp6(3),l.Oqu(t._control.placeholder)}}function J2(n,e){1&n&&l.Hsn(0,3,["*ngSwitchCase","true"])}function eU(n,e){1&n&&(l.TgZ(0,"span",23),l._uU(1," *"),l.qZA())}function tU(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"label",20,21),l.NdJ("cdkObserveContent",function(){return l.CHM(t),l.oxw().updateOutlineGap()}),l.YNc(2,X2,4,1,"ng-container",12),l.YNc(3,J2,1,0,"ng-content",12),l.YNc(4,eU,2,0,"span",22),l.qZA()}if(2&n){const t=l.oxw();l.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),l.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),l.uIk("for",t._control.id)("aria-owns",t._control.id),l.xp6(2),l.Q6J("ngSwitchCase",!1),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function nU(n,e){1&n&&(l.TgZ(0,"div",24),l.Hsn(1,4),l.qZA())}function rU(n,e){if(1&n&&(l.TgZ(0,"div",25),l._UZ(1,"span",26),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function iU(n,e){if(1&n&&(l.TgZ(0,"div"),l.Hsn(1,5),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState)}}function sU(n,e){if(1&n&&(l.TgZ(0,"div",30),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.Q6J("id",t._hintLabelId),l.xp6(1),l.Oqu(t.hintLabel)}}function oU(n,e){if(1&n&&(l.TgZ(0,"div",27),l.YNc(1,sU,2,2,"div",28),l.Hsn(2,6),l._UZ(3,"div",29),l.Hsn(4,7),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState),l.xp6(1),l.Q6J("ngIf",t.hintLabel)}}const aU=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],lU=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],cU=new l.OlP("MatError"),uU={transitionMessages:Jh("transitionMessages",[tu("enter",zi({opacity:1,transform:"translateY(0%)"})),nc("void => enter",[zi({opacity:0,transform:"translateY(-5px)"}),eu("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let pE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n}),n})();const dU=new l.OlP("MatHint");let mE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-label"]]}),n})(),hU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const fU=new l.OlP("MatPrefix"),pU=new l.OlP("MatSuffix");let Q1=0;const gU=mf(class{constructor(n){this._elementRef=n}},"primary"),_U=new l.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),KA=new l.OlP("MatFormField");let gE=(()=>{class n extends gU{constructor(t,r,i,a,u,f,g){super(t),this._changeDetectorRef=r,this._dir=i,this._defaults=a,this._platform=u,this._ngZone=f,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Pt.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Q1++,this._labelId="mat-form-field-label-"+Q1++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==g,this.appearance=a&&a.appearance?a.appearance:"legacy",this._hideRequiredMarker=!(!a||null==a.hideRequiredMarker)&&a.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Er(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(xr(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(zn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(zn(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Kc.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(xr(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(xr(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(zn(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Ad(this._label.nativeElement,"transitionend").pipe((0,nr.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,i=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,i=".mat-form-field-outline-start",a=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const T=r.querySelectorAll(`${i}, ${a}`);for(let I=0;I<T.length;I++)T[I].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,f=0;const g=r.querySelectorAll(i),v=r.querySelectorAll(a);if(this._label&&this._label.nativeElement.children.length){const T=r.getBoundingClientRect();if(0===T.width&&0===T.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const I=this._getStartEnd(T),O=t.children,B=this._getStartEnd(O[0].getBoundingClientRect());let q=0;for(let ee=0;ee<O.length;ee++)q+=O[ee].offsetWidth;u=Math.abs(B-I)-5,f=q>0?.75*q+10:0}for(let T=0;T<g.length;T++)g[T].style.width=`${u}px`;for(let T=0;T<v.length;T++)v[T].style.width=`${f}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(Qc,8),l.Y36(_U,8),l.Y36(ni),l.Y36(l.R0b),l.Y36(iu,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(l.Suo(i,pE,5),l.Suo(i,pE,7),l.Suo(i,mE,5),l.Suo(i,mE,7),l.Suo(i,hU,5),l.Suo(i,cU,5),l.Suo(i,dU,5),l.Suo(i,fU,5),l.Suo(i,pU,5)),2&t){let a;l.iGM(a=l.CRH())&&(r._controlNonStatic=a.first),l.iGM(a=l.CRH())&&(r._controlStatic=a.first),l.iGM(a=l.CRH())&&(r._labelChildNonStatic=a.first),l.iGM(a=l.CRH())&&(r._labelChildStatic=a.first),l.iGM(a=l.CRH())&&(r._placeholderChild=a.first),l.iGM(a=l.CRH())&&(r._errorChildren=a),l.iGM(a=l.CRH())&&(r._hintChildren=a),l.iGM(a=l.CRH())&&(r._prefixChildren=a),l.iGM(a=l.CRH())&&(r._suffixChildren=a)}},viewQuery:function(t,r){if(1&t&&(l.Gf(Z2,7),l.Gf(W2,5),l.Gf(K2,5)),2&t){let i;l.iGM(i=l.CRH())&&(r._connectionContainerRef=i.first),l.iGM(i=l.CRH())&&(r._inputContainerRef=i.first),l.iGM(i=l.CRH())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&l.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[l._Bn([{provide:KA,useExisting:n}]),l.qOj],ngContentSelectors:lU,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(l.F$t(aU),l.TgZ(0,"div",0)(1,"div",1,2),l.NdJ("click",function(a){return r._control.onContainerClick&&r._control.onContainerClick(a)}),l.YNc(3,Y2,9,0,"ng-container",3),l.YNc(4,Q2,2,1,"div",4),l.TgZ(5,"div",5,6),l.Hsn(7),l.TgZ(8,"span",7),l.YNc(9,tU,5,16,"label",8),l.qZA()(),l.YNc(10,nU,2,0,"div",9),l.qZA(),l.YNc(11,rU,2,4,"div",10),l.TgZ(12,"div",11),l.YNc(13,iU,2,1,"div",12),l.YNc(14,oU,5,2,"div",13),l.qZA()()),2&t&&(l.xp6(3),l.Q6J("ngIf","outline"==r.appearance),l.xp6(1),l.Q6J("ngIf",r._prefixChildren.length),l.xp6(5),l.Q6J("ngIf",r._hasFloatingLabel()),l.xp6(1),l.Q6J("ngIf",r._suffixChildren.length),l.xp6(1),l.Q6J("ngIf","outline"!=r.appearance),l.xp6(1),l.Q6J("ngSwitch",r._getDisplayedMessages()),l.xp6(1),l.Q6J("ngSwitchCase","error"),l.xp6(1),l.Q6J("ngSwitchCase","hint"))},directives:[Jn,Vv,Ur,bi],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[uU.transitionMessages]},changeDetection:0}),n})(),_E=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Va,Zn,Bv],Zn]}),n})();const yU=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],vU=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let J1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),eP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:vU,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,r){1&t&&(l.F$t(yU),l.Hsn(0),l.TgZ(1,"div",0),l.Hsn(2,1),l.qZA(),l.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),bU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Zn],Zn]}),n})();const tP=Zh({passive:!0});let wU=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return ji.E;const r=Ta(t),i=this._monitoredElements.get(r);if(i)return i.subject;const a=new Pt.x,u="cdk-text-field-autofilled",f=g=>{"cdk-text-field-autofill-start"!==g.animationName||r.classList.contains(u)?"cdk-text-field-autofill-end"===g.animationName&&r.classList.contains(u)&&(r.classList.remove(u),this._ngZone.run(()=>a.next({target:g.target,isAutofilled:!1}))):(r.classList.add(u),this._ngZone.run(()=>a.next({target:g.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",f,tP),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:a,unlisten:()=>{r.removeEventListener("animationstart",f,tP)}}),a}stopMonitoring(t){const r=Ta(t),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ni),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const CU=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),EU=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let DU=0;const TU=dE(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r}});let yE=(()=>{class n extends TU{constructor(t,r,i,a,u,f,g,v,T,I){super(f,a,u,i),this._elementRef=t,this._platform=r,this._autofillMonitor=v,this._formField=I,this._uid="mat-input-"+DU++,this.focused=!1,this.stateChanges=new Pt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(q=>Jc().has(q));const O=this._elementRef.nativeElement,B=O.nodeName.toLowerCase();this._inputValueAccessor=g||O,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&T.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",q=>{const ee=q.target;!ee.value&&0===ee.selectionStart&&0===ee.selectionEnd&&(ee.setSelectionRange(1,1),ee.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===B,this._isTextarea="textarea"===B,this._isInFormField=!!I,this._isNativeSelect&&(this.controlType=O.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Er(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,r,i,a;return null!==(a=null!==(t=this._required)&&void 0!==t?t:null===(i=null===(r=this.ngControl)||void 0===r?void 0:r.control)||void 0===i?void 0:i.hasValidator(en.required))&&void 0!==a&&a}set required(t){this._required=Er(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Jc().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Er(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,r;const i=(null===(r=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===r?void 0:r.call(t))?null:this.placeholder;if(i!==this._previousPlaceholder){const a=this._elementRef.nativeElement;this._previousPlaceholder=i,i?a.setAttribute("placeholder",i):a.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){EU.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(ni),l.Y36(mo,10),l.Y36(qp,8),l.Y36(tl,8),l.Y36(Fv),l.Y36(CU,10),l.Y36(wU),l.Y36(l.R0b),l.Y36(KA,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,r){1&t&&l.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(l.Ikx("disabled",r.disabled)("required",r.required),l.uIk("id",r.id)("data-placeholder",r.placeholder)("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),l.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l._Bn([{provide:pE,useExisting:n}]),l.qOj,l.TTD]}),n})(),SU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Fv],imports:[[nP,_E,Zn],nP,_E]}),n})();function IU(n,e){1&n&&(l.TgZ(0,"small",10),l._uU(1,"O email \xe9 obrigat\xf3rio! "),l.qZA())}function AU(n,e){1&n&&(l.TgZ(0,"small",10),l._uU(1,"Email inv\xe1lido!"),l.qZA())}function MU(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,IU,2,0,"small",9),l.YNc(2,AU,2,0,"small",9),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.formCadastrar.controls.email.hasError("required")),l.xp6(1),l.Q6J("ngIf",t.formCadastrar.controls.email.hasError("email"))}}function xU(n,e){1&n&&(l.TgZ(0,"small",10),l._uU(1,"Confirme sua senha!"),l.qZA())}function RU(n,e){1&n&&(l.TgZ(0,"small",10),l._uU(1,"Senha pequena demais!"),l.qZA())}function kU(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,xU,2,0,"small",9),l.YNc(2,RU,2,0,"small",9),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.formCadastrar.controls.password.hasError("required")),l.xp6(1),l.Q6J("ngIf",t.formCadastrar.controls.password.hasError("minLength"))}}function OU(n,e){1&n&&(l.TgZ(0,"small",10),l._uU(1,"A senha \xe9 obirgat\xf3ria!"),l.qZA())}function PU(n,e){1&n&&(l.TgZ(0,"small",10),l._uU(1,"Senha pequena demais!"),l.qZA())}function NU(n,e){1&n&&(l.TgZ(0,"small",10),l._uU(1,"Senhas n\xe3o s\xe3o iguais!"),l.qZA())}function FU(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,OU,2,0,"small",9),l.YNc(2,PU,2,0,"small",9),l.YNc(3,NU,2,0,"small",9),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.formCadastrar.controls.confirmPassword.hasError("required")),l.xp6(1),l.Q6J("ngIf",t.formCadastrar.controls.confirmPassword.hasError("minLength")),l.xp6(1),l.Q6J("ngIf",t.formCadastrar.controls.confirmPassword.value!=t.formCadastrar.controls.password.value)}}let LU=(()=>{class n{constructor(t,r,i){this._router=t,this._usuarioService=r,this._formBuilder=i,this.formCadastrar=this._formBuilder.group({email:["",[en.required,en.email]],password:["",[en.required,en.minLength(6)]],confirmPassword:["",[en.required,en.minLength(6)]]})}ngOnInit(){}validarFormulario(){for(let t in this.formCadastrar.controls)this.formCadastrar.controls[t].markAsTouched()}submitForm(){this.validarFormulario(),this.formCadastrar.valid&&this.cadastrar()}cadastrar(){this.formCadastrar.controls.password.value==this.formCadastrar.controls.confirmPassword.value?this._usuarioService.cadastrarComEmailSenha(this.formCadastrar.controls.email.value,this.formCadastrar.controls.password.value).then(()=>{alert("Cadastro efetuado com sucesso!"),this._router.navigate(["/listaDePersonagens"])}).catch(t=>{alert("Deu ruim"),console.log(t)}):alert("Senhas diferentes!")}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(wr),l.Y36(gd),l.Y36(Wp))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-cadastro"]],decls:32,vars:4,consts:[["color","primary"],[1,"aux"],[3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","text","text","formControlName","email","required",""],[4,"ngIf"],["matInput","","type","password","formControlName","password","required",""],["matInput","","type","password","formControlName","confirmPassword","required",""],["type","submit"],["style","color: pink",4,"ngIf"],[2,"color","pink"]],template:function(t,r){1&t&&(l.TgZ(0,"body")(1,"div")(2,"mat-toolbar",0),l._uU(3,"Cadastrar"),l.qZA()(),l.TgZ(4,"div",1)(5,"form",2),l.NdJ("ngSubmit",function(){return r.submitForm()}),l.TgZ(6,"mat-form-field",3)(7,"mat-card-header")(8,"mat-card-title"),l._uU(9,"Email"),l.qZA()(),l._UZ(10,"input",4)(11,"br"),l.YNc(12,MU,3,2,"div",5),l.qZA(),l._UZ(13,"br"),l.TgZ(14,"mat-form-field",3)(15,"mat-card-header")(16,"mat-card-title"),l._uU(17,"Senha"),l.qZA()(),l._UZ(18,"input",6)(19,"br"),l.YNc(20,kU,3,2,"div",5),l.qZA(),l._UZ(21,"br"),l.TgZ(22,"mat-form-field",3)(23,"mat-card-header")(24,"mat-card-title"),l._uU(25,"Confirmar senha"),l.qZA()(),l._UZ(26,"input",7)(27,"br"),l.YNc(28,FU,4,3,"div",5),l.qZA(),l._UZ(29,"br"),l.TgZ(30,"button",8),l._uU(31,"Cadastrar"),l.qZA()()()()),2&t&&(l.xp6(5),l.Q6J("formGroup",r.formCadastrar),l.xp6(7),l.Q6J("ngIf",r.formCadastrar.controls.email.touched),l.xp6(8),l.Q6J("ngIf",r.formCadastrar.controls.password.touched),l.xp6(8),l.Q6J("ngIf",r.formCadastrar.controls.confirmPassword.touched))},directives:[Kt,Ph,Th,tl,gE,eP,J1,yE,Wl,Dh,rd,jo,Jn],styles:["body[_ngcontent-%COMP%]{background-color:#00008b}body[_ngcontent-%COMP%]{background-color:#db7093}button[_ngcontent-%COMP%]{align-items:center;text-align:center;border-radius:25px;background:#72ab21;padding:15px;width:200px;height:15px;margin:7px}.aux[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}"]}),n})();function YA(){return(0,_r.e)((n,e)=>{let t,r=!1;n.subscribe((0,yn.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}P(5881);var ct,rP=P(3942),VU="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ou={},QA=QA||{},qt=VU||self;function vE(){}function XA(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function qv(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var JA="closure_uid_"+(1e9*Math.random()>>>0),UU=0;function HU(n,e,t){return n.call.apply(n.bind,arguments)}function jU(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Wi(n,e,t){return(Wi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?HU:jU).apply(null,arguments)}function bE(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ki(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,a){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[i].apply(r,u)}}function Md(){this.s=this.s,this.o=this.o}var qU={};Md.prototype.s=!1,Md.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function BU(n){return Object.prototype.hasOwnProperty.call(n,JA)&&n[JA]||(n[JA]=++UU)}(this);delete qU[n]}},Md.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const iP=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},sP=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let a=0;a<r;a++)a in i&&e.call(t,i[a],a,n)};function oP(n){return Array.prototype.concat.apply([],arguments)}function eM(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function wE(n){return/^[\s\xa0]*$/.test(n)}var Us,aP=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Bs(n,e){return-1!=n.indexOf(e)}function tM(n,e){return n<e?-1:n>e?1:0}e:{var lP=qt.navigator;if(lP){var cP=lP.userAgent;if(cP){Us=cP;break e}}Us=""}function nM(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function uP(n){const e={};for(const t in n)e[t]=n[t];return e}var dP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hP(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<dP.length;a++)t=dP[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function rM(n){return rM[" "](n),n}rM[" "]=vE;var CE,n,ZU=Bs(Us,"Opera"),lg=Bs(Us,"Trident")||Bs(Us,"MSIE"),fP=Bs(Us,"Edge"),iM=fP||lg,pP=Bs(Us,"Gecko")&&!(Bs(Us.toLowerCase(),"webkit")&&!Bs(Us,"Edge"))&&!(Bs(Us,"Trident")||Bs(Us,"MSIE"))&&!Bs(Us,"Edge"),WU=Bs(Us.toLowerCase(),"webkit")&&!Bs(Us,"Edge");function mP(){var n=qt.document;return n?n.documentMode:void 0}e:{var sM="",oM=(n=Us,pP?/rv:([^\);]+)(\)|;)/.exec(n):fP?/Edge\/([\d\.]+)/.exec(n):lg?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):WU?/WebKit\/(\S+)/.exec(n):ZU?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(oM&&(sM=oM?oM[1]:""),lg){var aM=mP();if(null!=aM&&aM>parseFloat(sM)){CE=String(aM);break e}}CE=sM}var KU={};var QU=qt.document&&lg&&(mP()||parseInt(CE,10))||void 0,XU=function(){if(!qt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{qt.addEventListener("test",vE,e),qt.removeEventListener("test",vE,e)}catch(t){}return n}();function ps(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function $v(n,e){if(ps.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(pP){e:{try{rM(e.nodeName);var i=!0;break e}catch(a){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:JU[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&$v.Z.h.call(this)}}ps.prototype.h=function(){this.defaultPrevented=!0},Ki($v,ps);var JU={2:"touch",3:"pen",4:"mouse"};$v.prototype.h=function(){$v.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var zv="closure_listenable_"+(1e6*Math.random()|0),eH=0;function tH(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++eH,this.ca=this.fa=!1}function EE(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function DE(n){this.src=n,this.g={},this.h=0}function cM(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=iP(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(EE(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function uM(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ca&&a.listener==e&&a.capture==!!t&&a.ia==r)return i}return-1}DE.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=uM(n,e,r,i);return-1<u?(e=n[u],t||(e.fa=!1)):((e=new tH(e,this.src,a,!!r,i)).fa=t,n.push(e)),e};var dM="closure_lm_"+(1e6*Math.random()|0),hM={};function _P(n,e,t,r,i){if(r&&r.once)return vP(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)_P(n,e[a],t,r,i);return null}return t=gM(t),n&&n[zv]?n.N(e,t,qv(r)?!!r.capture:!!r,i):yP(n,e,t,!1,r,i)}function yP(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var u=qv(i)?!!i.capture:!!i,f=pM(n);if(f||(n[dM]=f=new DE(n)),(t=f.add(e,t,r,u,a)).proxy)return t;if(r=function nH(){var e=rH;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)XU||(i=u),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(wP(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function vP(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)vP(n,e[a],t,r,i);return null}return t=gM(t),n&&n[zv]?n.O(e,t,qv(r)?!!r.capture:!!r,i):yP(n,e,t,!0,r,i)}function bP(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)bP(n,e[a],t,r,i);else r=qv(r)?!!r.capture:!!r,t=gM(t),n&&n[zv]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=uM(a=n.g[e],t,r,i))&&(EE(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=pM(n))&&(e=n.g[e.toString()],n=-1,e&&(n=uM(e,t,r,i)),(t=-1<n?e[n]:null)&&fM(t))}function fM(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[zv])cM(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(wP(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=pM(e))?(cM(t,n),0==t.h&&(t.src=null,e[dM]=null)):EE(n)}}}function wP(n){return n in hM?hM[n]:hM[n]="on"+n}function rH(n,e){if(n.ca)n=!0;else{e=new $v(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&fM(n),n=t.call(r,e)}return n}function pM(n){return(n=n[dM])instanceof DE?n:null}var mM="__closure_events_fn_"+(1e9*Math.random()>>>0);function gM(n){return"function"==typeof n?n:(n[mM]||(n[mM]=function(e){return n.handleEvent(e)}),n[mM])}function Mi(){Md.call(this),this.i=new DE(this),this.P=this,this.I=null}function Yi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new ps(e,n);else if(e instanceof ps)e.target=e.target||n;else{var i=e;hP(e=new ps(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var u=e.g=t[a];i=TE(u,r,!0,e)&&i}if(i=TE(u=e.g=n,r,!0,e)&&i,i=TE(u,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=TE(u=e.g=t[a],r,!1,e)&&i}function TE(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.ca&&u.capture==t){var f=u.listener,g=u.ia||u.src;u.fa&&cM(n.i,u),i=!1!==f.call(g,r)&&i}}return i&&!r.defaultPrevented}Ki(Mi,Md),Mi.prototype[zv]=!0,Mi.prototype.removeEventListener=function(n,e,t,r){bP(this,n,e,t,r)},Mi.prototype.M=function(){if(Mi.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)EE(t[r]);delete n.g[e],n.h--}}this.I=null},Mi.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Mi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var _M=qt.JSON.stringify;function iH(){var n=EP;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var vM,CP=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new oH,n=>n.reset());class oH{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function aH(n){qt.setTimeout(()=>{throw n},0)}function yM(n,e){vM||function lH(){var n=qt.Promise.resolve(void 0);vM=function(){n.then(cH)}}(),bM||(vM(),bM=!0),EP.add(n,e)}var bM=!1,EP=new class sH{constructor(){this.h=this.g=null}add(e,t){const r=CP.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function cH(){for(var n;n=iH();){try{n.h.call(n.g)}catch(t){aH(t)}var e=CP;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}bM=!1}function SE(n,e){Mi.call(this),this.h=n||1,this.g=e||qt,this.j=Wi(this.kb,this),this.l=Date.now()}function wM(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function CM(n,e,t){if("function"==typeof n)t&&(n=Wi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Wi(n.handleEvent,n)}return 2147483647<Number(e)?-1:qt.setTimeout(n,e||0)}function DP(n){n.g=CM(()=>{n.g=null,n.i&&(n.i=!1,DP(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ki(SE,Mi),(ct=SE.prototype).da=!1,ct.S=null,ct.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Yi(this,"tick"),this.da&&(wM(this),this.start()))}},ct.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ct.M=function(){SE.Z.M.call(this),wM(this),delete this.g};class uH extends Md{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:DP(this)}M(){super.M(),this.g&&(qt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zv(n){Md.call(this),this.h=n,this.g={}}Ki(Zv,Md);var TP=[];function SP(n,e,t,r){Array.isArray(t)||(t&&(TP[0]=t.toString()),t=TP);for(var i=0;i<t.length;i++){var a=_P(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function IP(n){nM(n.g,function(e,t){this.g.hasOwnProperty(t)&&fM(e)},n),n.g={}}function IE(){this.g=!0}function cg(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function pH(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<i.length;u++)i[u]=""}}}return _M(t)}catch(f){return e}}(n,t)+(r?" "+r:"")})}Zv.prototype.M=function(){Zv.Z.M.call(this),IP(this)},Zv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},IE.prototype.Aa=function(){this.g=!1},IE.prototype.info=function(){};var _f={},AP=null;function AE(){return AP=AP||new Mi}function MP(n){ps.call(this,_f.Ma,n)}function Wv(n){const e=AE();Yi(e,new MP(e,n))}function xP(n,e){ps.call(this,_f.STAT_EVENT,n),this.stat=e}function Hs(n){const e=AE();Yi(e,new xP(e,n))}function RP(n,e){ps.call(this,_f.Na,n),this.size=e}function Kv(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return qt.setTimeout(function(){n()},e)}_f.Ma="serverreachability",Ki(MP,ps),_f.STAT_EVENT="statevent",Ki(xP,ps),_f.Na="timingevent",Ki(RP,ps);var ME={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},kP={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function EM(){}function PP(){}EM.prototype.h=null;var SM,Yv={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function DM(){ps.call(this,"d")}function TM(){ps.call(this,"c")}function xE(){}function Qv(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Zv(this),this.P=mH,this.W=new SE(n=iM?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new NP}function NP(){this.i=null,this.g="",this.h=!1}Ki(DM,ps),Ki(TM,ps),Ki(xE,EM),xE.prototype.g=function(){return new XMLHttpRequest},xE.prototype.i=function(){return{}},SM=new xE;var mH=45e3,IM={},RE={};function AM(n,e,t){n.K=1,n.v=FE(au(e)),n.s=t,n.U=!0,FP(n,null)}function FP(n,e){n.F=Date.now(),Xv(n),n.A=au(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),$P(t.h,"t",r),n.C=0,t=n.l.H,n.h=new NP,n.g=pN(n.l,t?e:null,!n.s),0<n.O&&(n.L=new uH(Wi(n.Ia,n,n.g),n.O)),SP(n.V,n.g,"readystatechange",n.gb),e=n.H?uP(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Wv(1),function dH(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var u="",f=a.split("&"),g=0;g<f.length;g++){var v=f[g].split("=");if(1<v.length){var T=v[0];v=v[1];var I=T.split("_");u=2<=I.length&&"type"==I[1]?u+(T+"=")+v+"&":u+(T+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function LP(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function VP(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=gH(n,t),i==RE){4==e&&(n.o=4,Hs(14),r=!1),cg(n.j,n.m,null,"[Incomplete Response]");break}if(i==IM){n.o=4,Hs(15),cg(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}cg(n.j,n.m,i,null),MM(n,i)}LP(n)&&i!=RE&&i!=IM&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Hs(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),UM(e),e.L=!0,Hs(11))):(cg(n.j,n.m,t,"[Invalid Chunked Response]"),yf(n),Jv(n))}function gH(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?RE:(t=Number(e.substring(t,r)),isNaN(t)?IM:(r+=1)+t>e.length?RE:(e=e.substr(r,t),n.C=r+t,e))}function Xv(n){n.Y=Date.now()+n.P,BP(n,n.P)}function BP(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Kv(Wi(n.eb,n),e)}function kE(n){n.B&&(qt.clearTimeout(n.B),n.B=null)}function Jv(n){0==n.l.G||n.I||uN(n.l,n)}function yf(n){kE(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,wM(n.W),IP(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function MM(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||kM(t.i,n)))if(t.I=n.N,!n.J&&kM(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(v){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Kv(Wi(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;jE(t),UE(t)}BM(t),Hs(18)}if(1>=WP(t.i)&&t.ka){try{t.ka()}catch(v){}t.ka=void 0}}else wf(t,11)}else if((n.J||t.g==n)&&jE(t),!wE(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let v=i[e];if(t.U=v[0],v=v[1],2==t.G)if("c"==v[0]){t.J=v[1],t.la=v[2];const T=v[3];null!=T&&(t.ma=T,t.h.info("VER="+t.ma));const I=v[4];null!=I&&(t.za=I,t.h.info("SVER="+t.za));const O=v[5];null!=O&&"number"==typeof O&&0<O&&(t.K=r=1.5*O,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const B=n.g;if(B){const q=B.g?B.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(q){var a=r.i;!a.g&&(Bs(q,"spdy")||Bs(q,"quic")||Bs(q,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(OM(a,a.h),a.h=null))}if(r.D){const ee=B.g?B.g.getResponseHeader("X-HTTP-Session-Id"):null;ee&&(r.sa=ee,fr(r.F,r.D,ee))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var u=n;if((r=t).oa=fN(r,r.H?r.la:null,r.W),u.J){KP(r.i,u);var f=u,g=r.K;g&&f.setTimeout(g),f.B&&(kE(f),Xv(f)),r.g=u}else lN(r);0<t.l.length&&HE(t)}else"stop"!=v[0]&&"close"!=v[0]||wf(t,7);else 3==t.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?wf(t,7):LM(t):"noop"!=v[0]&&t.j&&t.j.wa(v),t.A=0)}Wv(4)}catch(v){}}function xM(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(XA(n)||"string"==typeof n)sP(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(XA(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function _H(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(XA(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}}function ug(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof ug)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function RM(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];vf(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)vf(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function vf(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(ct=Qv.prototype).setTimeout=function(n){this.P=n},ct.gb=function(n){n=n.target;const e=this.L;e&&3==lu(n)?e.l():this.Ia(n)},ct.Ia=function(n){try{if(n==this.g)e:{const T=lu(this.g);var e=this.g.Da();const I=this.g.ba();if(!(3>T)&&(3!=T||iM||this.g&&(this.h.h||this.g.ga()||rN(this.g)))){this.I||4!=T||7==e||Wv(8==e||0>=I?3:2),kE(this);var t=this.g.ba();this.N=t;t:if(LP(this)){var r=rN(this.g);n="";var i=r.length,a=4==lu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){yf(this),Jv(this);var u="";break t}this.h.i=new qt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==t,function hH(n,e,t,r,i,a,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.X,T,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,g=this.g;if((f=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wE(f)){var v=f;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,Hs(12),yf(this),Jv(this);break e}cg(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,MM(this,t)}this.U?(VP(this,T,u),iM&&this.i&&3==T&&(SP(this.V,this.W,"tick",this.fb),this.W.start())):(cg(this.j,this.m,u,null),MM(this,u)),4==T&&yf(this),this.i&&!this.I&&(4==T?uN(this.l,this):(this.i=!1,Xv(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Hs(12)):(this.o=0,Hs(13)),yf(this),Jv(this)}}}catch(T){}},ct.fb=function(){if(this.g){var n=lu(this.g),e=this.g.ga();this.C<e.length&&(kE(this),VP(this,n,e),this.i&&4!=n&&Xv(this))}},ct.cancel=function(){this.I=!0,yf(this)},ct.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function fH(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Wv(3),Hs(17)),yf(this),this.o=2,Jv(this)):BP(this,this.Y-n)},(ct=ug.prototype).R=function(){RM(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},ct.T=function(){return RM(this),this.g.concat()},ct.get=function(n,e){return vf(this.h,n)?this.h[n]:e},ct.set=function(n,e){vf(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},ct.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],a=this.get(i);n.call(e,a,i,this)}};var UP=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function bf(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof bf){this.g=void 0!==e?e:n.g,OE(this,n.j),this.s=n.s,PE(this,n.i),NE(this,n.m),this.l=n.l,e=n.h;var t=new nb;t.i=e.i,e.g&&(t.g=new ug(e.g),t.h=e.h),HP(this,t),this.o=n.o}else n&&(t=String(n).match(UP))?(this.g=!!e,OE(this,t[1]||"",!0),this.s=eb(t[2]||""),PE(this,t[3]||"",!0),NE(this,t[4]),this.l=eb(t[5]||"",!0),HP(this,t[6]||"",!0),this.o=eb(t[7]||"")):(this.g=!!e,this.h=new nb(null,this.g))}function au(n){return new bf(n)}function OE(n,e,t){n.j=t?eb(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function PE(n,e,t){n.i=t?eb(e,!0):e}function NE(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function HP(n,e,t){e instanceof nb?(n.h=e,function SH(n,e){e&&!n.j&&(xd(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(GP(this,r),$P(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=tb(e,DH)),n.h=new nb(e,n.g))}function fr(n,e,t){n.h.set(e,t)}function FE(n){return fr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function eb(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function tb(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,wH),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function wH(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}bf.prototype.toString=function(){var n=[],e=this.j;e&&n.push(tb(e,jP,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(tb(e,jP,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(tb(t,"/"==t.charAt(0)?EH:CH,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",tb(t,TH)),n.join("")};var jP=/[#\/\?@]/g,CH=/[#\?:]/g,EH=/[#\?]/g,DH=/[#\?@]/g,TH=/#/g;function nb(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function xd(n){n.g||(n.g=new ug,n.h=0,n.i&&function yH(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function GP(n,e){xd(n),e=dg(n,e),vf(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,vf((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&RM(n)))}function qP(n,e){return xd(n),e=dg(n,e),vf(n.g.h,e)}function $P(n,e,t){GP(n,e),0<t.length&&(n.i=null,n.g.set(dg(n,e),eM(t)),n.h+=t.length)}function dg(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function zP(n){this.l=n||AH,n=qt.PerformanceNavigationTiming?0<(n=qt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(qt.g&&qt.g.Ea&&qt.g.Ea()&&qt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ct=nb.prototype).add=function(n,e){xd(this),this.i=null,n=dg(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ct.forEach=function(n,e){xd(this),this.g.forEach(function(t,r){sP(t,function(i){n.call(e,i,r,this)},this)},this)},ct.T=function(){xd(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],a=0;a<i.length;a++)t.push(e[r]);return t},ct.R=function(n){xd(this);var e=[];if("string"==typeof n)qP(this,n)&&(e=oP(e,this.g.get(dg(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=oP(e,n[t])}return e},ct.set=function(n,e){return xd(this),this.i=null,qP(this,n=dg(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ct.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},ct.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var u=i;""!==r[a]&&(u+="="+encodeURIComponent(String(r[a]))),n.push(u)}}return this.i=n.join("&")};var AH=10;function ZP(n){return!!n.h||!!n.g&&n.g.size>=n.j}function WP(n){return n.h?1:n.g?n.g.size:0}function kM(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function OM(n,e){n.g?n.g.add(e):n.h=e}function KP(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function YP(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return eM(n.i)}function PM(){}function MH(){this.g=new PM}function xH(n,e,t){const r=t||"";try{xM(n,function(i,a){let u=i;qv(i)&&(u=_M(i)),e.push(r+a+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function LE(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(a){}}function rb(n){this.l=n.$b||null,this.j=n.ib||!1}function VE(n,e){Mi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=NM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}zP.prototype.cancel=function(){if(this.i=YP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},PM.prototype.stringify=function(n){return qt.JSON.stringify(n,void 0)},PM.prototype.parse=function(n){return qt.JSON.parse(n,void 0)},Ki(rb,EM),rb.prototype.g=function(){return new VE(this.l,this.j)},rb.prototype.i=function(n){return function(){return n}}({}),Ki(VE,Mi);var NM=0;function QP(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function ib(n){n.readyState=4,n.l=null,n.j=null,n.A=null,sb(n)}function sb(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ct=VE.prototype).open=function(n,e){if(this.readyState!=NM)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,sb(this)},ct.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||qt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ct.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ib(this)),this.readyState=NM},ct.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,sb(this)),this.g&&(this.readyState=3,sb(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==qt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;QP(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ct.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ib(this):sb(this),3==this.readyState&&QP(this)}},ct.Ua=function(n){this.g&&(this.response=this.responseText=n,ib(this))},ct.Ta=function(n){this.g&&(this.response=n,ib(this))},ct.ha=function(){this.g&&ib(this)},ct.setRequestHeader=function(n,e){this.v.append(n,e)},ct.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ct.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(VE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var kH=qt.JSON.parse;function ri(n){Mi.call(this),this.headers=new ug,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=XP,this.K=this.L=!1}Ki(ri,Mi);var XP="",OH=/^https?$/i,PH=["POST","PUT"];function FH(n){return"content-type"==n.toLowerCase()}function JP(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,eN(n),BE(n)}function eN(n){n.D||(n.D=!0,Yi(n,"complete"),Yi(n,"error"))}function tN(n){if(n.h&&void 0!==QA&&(!n.C[1]||4!=lu(n)||2!=n.ba()))if(n.v&&4==lu(n))CM(n.Fa,0,n);else if(Yi(n,"readystatechange"),4==lu(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(UP)[1]||null;if(!i&&qt.self&&qt.self.location){var a=qt.self.location.protocol;i=a.substr(0,a.length-1)}r=!OH.test(i?i.toLowerCase():"")}t=r}if(t)Yi(n,"complete"),Yi(n,"success");else{n.m=6;try{var u=2<lu(n)?n.g.statusText:""}catch(g){u=""}n.j=u+" ["+n.ba()+"]",eN(n)}}finally{BE(n)}}}function BE(n,e){if(n.g){nN(n);const t=n.g,r=n.C[0]?vE:null;n.g=null,n.C=null,e||Yi(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function nN(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(qt.clearTimeout(n.A),n.A=null)}function lu(n){return n.g?n.g.readyState:0}function rN(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case XP:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function FM(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function LH(n){let e="";return nM(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):fr(n,e,t))}function ob(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function iN(n){this.za=0,this.l=[],this.h=new IE,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ob("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ob("baseRetryDelayMs",5e3,n),this.$a=ob("retryDelaySeedMs",1e4,n),this.Ya=ob("forwardChannelMaxRetries",2,n),this.ra=ob("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new zP(n&&n.concurrentRequestLimit),this.Ca=new MH,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function LM(n){if(sN(n),3==n.G){var e=n.V++,t=au(n.F);fr(t,"SID",n.J),fr(t,"RID",e),fr(t,"TYPE","terminate"),ab(n,t),(e=new Qv(n,n.h,e,void 0)).K=2,e.v=FE(au(t)),t=!1,qt.navigator&&qt.navigator.sendBeacon&&(t=qt.navigator.sendBeacon(e.v.toString(),"")),!t&&qt.Image&&((new Image).src=e.v,t=!0),t||(e.g=pN(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Xv(e)}hN(n)}function UE(n){n.g&&(UM(n),n.g.cancel(),n.g=null)}function sN(n){UE(n),n.u&&(qt.clearTimeout(n.u),n.u=null),jE(n),n.i.cancel(),n.m&&("number"==typeof n.m&&qt.clearTimeout(n.m),n.m=null)}function VM(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&HE(n)}function HE(n){ZP(n.i)||n.m||(n.m=!0,yM(n.Ha,n),n.C=0)}function oN(n,e){var t;t=e?e.m:n.V++;const r=au(n.F);fr(r,"SID",n.J),fr(r,"RID",t),fr(r,"AID",n.U),ab(n,r),n.o&&n.s&&FM(r,n.o,n.s),t=new Qv(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=aN(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),OM(n.i,t),AM(t,r,e)}function ab(n,e){n.j&&xM({},function(t,r){fr(e,r,t)})}function aN(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Wi(n.j.Oa,n.j,n):null;e:{var i=n.l;let a=-1;for(;;){const u=["count="+t];-1==a?0<t?(a=i[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let f=!0;for(let g=0;g<t;g++){let v=i[g].h;const T=i[g].g;if(v-=a,0>v)a=Math.max(0,i[g].h-100),f=!1;else try{xH(T,u,"req"+v+"_")}catch(I){r&&r(T)}}if(f){r=u.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function lN(n){n.g||n.u||(n.Y=1,yM(n.Ga,n),n.A=0)}function BM(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Kv(Wi(n.Ga,n),dN(n,n.A)),n.A++,0))}function UM(n){null!=n.B&&(qt.clearTimeout(n.B),n.B=null)}function cN(n){n.g=new Qv(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=au(n.oa);fr(e,"RID","rpc"),fr(e,"SID",n.J),fr(e,"CI",n.N?"0":"1"),fr(e,"AID",n.U),ab(n,e),fr(e,"TYPE","xmlhttp"),n.o&&n.s&&FM(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=FE(au(e)),t.s=null,t.U=!0,FP(t,n)}function jE(n){null!=n.v&&(qt.clearTimeout(n.v),n.v=null)}function uN(n,e){var t=null;if(n.g==e){jE(n),UM(n),n.g=null;var r=2}else{if(!kM(n.i,e))return;t=e.D,KP(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Yi(r=AE(),new RP(r,t,e,i)),HE(n)}else lN(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function VH(n,e){return!(WP(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Kv(Wi(n.Ha,n,e),dN(n,n.C)),n.C++,0)))}(n,e)||2==r&&BM(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:wf(n,5);break;case 4:wf(n,10);break;case 3:wf(n,6);break;default:wf(n,2)}}function dN(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function wf(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Wi(n.jb,n);t||(t=new bf("//www.google.com/images/cleardot.gif"),qt.location&&"http"==qt.location.protocol||OE(t,"https"),FE(t)),function RH(n,e){const t=new IE;if(qt.Image){const r=new Image;r.onload=bE(LE,t,r,"TestLoadImage: loaded",!0,e),r.onerror=bE(LE,t,r,"TestLoadImage: error",!1,e),r.onabort=bE(LE,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=bE(LE,t,r,"TestLoadImage: timeout",!1,e),qt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Hs(2);n.G=0,n.j&&n.j.va(e),hN(n),sN(n)}function hN(n){n.G=0,n.I=-1,n.j&&((0!=YP(n.i).length||0!=n.l.length)&&(n.i.i.length=0,eM(n.l),n.l.length=0),n.j.ua())}function fN(n,e,t){let r=function vH(n){return n instanceof bf?au(n):new bf(n,void 0)}(t);if(""!=r.i)e&&PE(r,e+"."+r.i),NE(r,r.m);else{const i=qt.location;r=function bH(n,e,t,r){var i=new bf(null,void 0);return n&&OE(i,n),e&&PE(i,e),t&&NE(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&nM(n.aa,function(i,a){fr(r,a,i)}),t=n.sa,(e=n.D)&&t&&fr(r,e,t),fr(r,"VER",n.ma),ab(n,r),r}function pN(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ri(t&&n.Ba&&!n.qa?new rb({ib:!0}):n.qa)).L=n.H,e}function mN(){}function GE(){if(lg&&!(10<=Number(QU)))throw Error("Environmental error: no available transport.")}function $o(n,e){Mi.call(this),this.g=new iN(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!wE(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!wE(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new hg(this)}function gN(n){DM.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function _N(){TM.call(this),this.status=1}function hg(n){this.g=n}(ct=ri.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():SM.g(),this.C=function OP(n){return n.h||(n.h=n.i())}(this.u?this.u:SM),this.g.onreadystatechange=Wi(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void JP(this,a)}n=t||"";const i=new ug(this.headers);r&&xM(r,function(a,u){i.set(u,a)}),r=function $U(n){e:{var e=FH;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=qt.FormData&&n instanceof qt.FormData,!(0<=iP(PH,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(a,u){this.g.setRequestHeader(u,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{nN(this),0<this.B&&((this.K=function NH(n){return lg&&function YU(){return function zU(n){var e=KU;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=aP(String(CE)).split("."),t=aP("9").split("."),r=Math.max(e.length,t.length);for(let u=0;0==n&&u<r;u++){var i=e[u]||"",a=t[u]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=tM(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||tM(0==i[2].length,0==a[2].length)||tM(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wi(this.pa,this)):this.A=CM(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){JP(this,a)}},ct.pa=function(){void 0!==QA&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yi(this,"timeout"),this.abort(8))},ct.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Yi(this,"complete"),Yi(this,"abort"),BE(this))},ct.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),BE(this,!0)),ri.Z.M.call(this)},ct.Fa=function(){this.s||(this.F||this.v||this.l?tN(this):this.cb())},ct.cb=function(){tN(this)},ct.ba=function(){try{return 2<lu(this)?this.g.status:-1}catch(n){return-1}},ct.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ct.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),kH(e)}},ct.Da=function(){return this.m},ct.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ct=iN.prototype).ma=8,ct.G=1,ct.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},ct.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Qv(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=uP(a),hP(a,this.P)):a=this.P),null===this.o&&(i.H=a),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=aN(this,i,e),fr(t=au(this.F),"RID",n),fr(t,"CVER",22),this.D&&fr(t,"X-HTTP-Session-Id",this.D),ab(this,t),this.o&&a&&FM(t,this.o,a),OM(this.i,i),this.Ra&&fr(t,"TYPE","init"),this.ja?(fr(t,"$req",e),fr(t,"SID","null"),i.$=!0,AM(i,t,null)):AM(i,t,e),this.G=2}}else 3==this.G&&(n?oN(this,n):0==this.l.length||ZP(this.i)||oN(this))},ct.Ga=function(){if(this.u=null,cN(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Kv(Wi(this.bb,this),n)}},ct.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Hs(10),UE(this),cN(this))},ct.ab=function(){null!=this.v&&(this.v=null,UE(this),BM(this),Hs(19))},ct.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Hs(2)):(this.h.info("Failed to ping google.com"),Hs(1))},(ct=mN.prototype).xa=function(){},ct.wa=function(){},ct.va=function(){},ct.ua=function(){},ct.Oa=function(){},GE.prototype.g=function(n,e){return new $o(n,e)},Ki($o,Mi),$o.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),yM(Wi(n.hb,n,e))),Hs(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=fN(n,null,n.W),HE(n)},$o.prototype.close=function(){LM(this.g)},$o.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,VM(this.g,e)}else this.v?((e={}).__data__=_M(n),VM(this.g,e)):VM(this.g,n)},$o.prototype.M=function(){this.g.j=null,delete this.j,LM(this.g),delete this.g,$o.Z.M.call(this)},Ki(gN,DM),Ki(_N,TM),Ki(hg,mN),hg.prototype.xa=function(){Yi(this.g,"a")},hg.prototype.wa=function(n){Yi(this.g,new gN(n))},hg.prototype.va=function(n){Yi(this.g,new _N(n))},hg.prototype.ua=function(){Yi(this.g,"b")},GE.prototype.createWebChannel=GE.prototype.g,$o.prototype.send=$o.prototype.u,$o.prototype.open=$o.prototype.m,$o.prototype.close=$o.prototype.close,ME.NO_ERROR=0,ME.TIMEOUT=8,ME.HTTP_ERROR=6,kP.COMPLETE="complete",PP.EventType=Yv,Yv.OPEN="a",Yv.CLOSE="b",Yv.ERROR="c",Yv.MESSAGE="d",Mi.prototype.listen=Mi.prototype.N,ri.prototype.listenOnce=ri.prototype.O,ri.prototype.getLastError=ri.prototype.La,ri.prototype.getLastErrorCode=ri.prototype.Da,ri.prototype.getStatus=ri.prototype.ba,ri.prototype.getResponseJson=ri.prototype.Qa,ri.prototype.getResponseText=ri.prototype.ga,ri.prototype.send=ri.prototype.ea;var BH=ou.createWebChannelTransport=function(){return new GE},UH=ou.getStatEventTarget=function(){return AE()},HM=ou.ErrorCode=ME,HH=ou.EventType=kP,jH=ou.Event=_f,yN=ou.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},GH=ou.FetchXmlHttpFactory=rb,qE=ou.WebChannel=PP,qH=ou.XhrIo=ri;const vN="@firebase/firestore";class Qi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qi.UNAUTHENTICATED=new Qi(null),Qi.GOOGLE_CREDENTIALS=new Qi("google-credentials-uid"),Qi.FIRST_PARTY=new Qi("first-party-uid"),Qi.MOCK_USER=new Qi("mock-user");let fg="9.6.10";const Rd=new nl.Yd("@firebase/firestore");function jM(){return Rd.logLevel}function Ue(n,...e){if(Rd.logLevel<=nl.in.DEBUG){const t=e.map(GM);Rd.debug(`Firestore (${fg}): ${n}`,...t)}}function ii(n,...e){if(Rd.logLevel<=nl.in.ERROR){const t=e.map(GM);Rd.error(`Firestore (${fg}): ${n}`,...t)}}function lb(n,...e){if(Rd.logLevel<=nl.in.WARN){const t=e.map(GM);Rd.warn(`Firestore (${fg}): ${n}`,...t)}}function GM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function dt(n="Unexpected state"){const e=`FIRESTORE (${fg}) INTERNAL ASSERTION FAILED: `+n;throw ii(e),new Error(e)}function Ht(n,e){n||dt()}function tt(n,e){return n}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends yt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class bN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Qi.UNAUTHENTICATED))}shutdown(){}}class WH{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class KH{constructor(e){this.t=e,this.currentUser=Qi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=v=>this.i!==i?(i=this.i,t(v)):Promise.resolve();let u=new xi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new xi,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const v=u;e.enqueueRetryable((0,we.Z)(function*(){yield v.promise,yield a(r.currentUser)}))},g=v=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new xi)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ht("string"==typeof r.accessToken),new bN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ht(null===e||"string"==typeof e),new Qi(e)}}class YH{constructor(e,t,r){this.type="FirstParty",this.user=Qi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class QH{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new YH(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Qi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XH{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=a=>{null!=a.error&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.p;return this.p=a.token,Ue("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?i(a):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ht("string"==typeof t.token),this.p=t.token,new wN(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class zo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function JH(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}zo.A=-1;class CN{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=JH(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function tn(n,e){return n<e?-1:n>e?1:0}function pg(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function EN(n){return n+"\0"}class $r{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oe(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oe(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Oe(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $r.fromMillis(Date.now())}static fromDate(e){return $r.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new $r(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?tn(this.nanoseconds,e.nanoseconds):tn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Nt(e)}static min(){return new Nt(new $r(0,0))}static max(){return new Nt(new $r(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function DN(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Cf(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function TN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class cb{constructor(e,t,r){void 0===t?t=0:t>e.length&&dt(),void 0===r?r=e.length-t:r>e.length-t&&dt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===cb.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof cb?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),u=t.get(i);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class dn extends cb{construct(e,t,r){return new dn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Oe(pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new dn(t)}static emptyPath(){return new dn([])}}const ej=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ri extends cb{construct(e,t,r){return new Ri(e,t,r)}static isValidIdentifier(e){return ej.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ri.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ri(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Oe(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Oe(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[i+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new Oe(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,i+=2}else"`"===f?(u=!u,i++):"."!==f||u?(r+=f,i++):(a(),i++)}if(a(),u)throw new Oe(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ri(t)}static emptyPath(){return new Ri([])}}class mg{constructor(e){this.fields=e,e.sort(Ri.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return pg(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class gi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new gi(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new gi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gi.EMPTY_BYTE_STRING=new gi("");const nj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kd(n){if(Ht(!!n),"string"==typeof n){let e=0;const t=nj.exec(n);if(Ht(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Or(n.seconds),nanos:Or(n.nanos)}}function Or(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ef(n){return"string"==typeof n?gi.fromBase64String(n):gi.fromUint8Array(n)}function qM(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function SN(n){const e=n.mapValue.fields.__previous_value__;return qM(e)?SN(e):e}function ub(n){const e=kd(n.mapValue.fields.__local_write_time__.timestampValue);return new $r(e.seconds,e.nanos)}class rj{constructor(e,t,r,i,a,u,f,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=g}}class cu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new cu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof cu&&e.projectId===this.projectId&&e.database===this.database}}function Df(n){return null==n}function db(n){return 0===n&&1/n==-1/0}function IN(n){return"number"==typeof n&&Number.isInteger(n)&&!db(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ze{constructor(e){this.path=e}static fromPath(e){return new Ze(dn.fromString(e))}static fromName(e){return new Ze(dn.fromString(e).popFirst(5))}static empty(){return new Ze(dn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===dn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return dn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ze(new dn(e.slice()))}}const AN={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},MN={nullValue:"NULL_VALUE"};function Tf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?qM(n)?4:ON(n)?9:10:dt()}function ac(n,e){if(n===e)return!0;const t=Tf(n);if(t!==Tf(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ub(n).isEqual(ub(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=kd(r.timestampValue),u=kd(i.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Ef(n.bytesValue).isEqual(Ef(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Or(r.geoPointValue.latitude)===Or(i.geoPointValue.latitude)&&Or(r.geoPointValue.longitude)===Or(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Or(r.integerValue)===Or(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Or(r.doubleValue),u=Or(i.doubleValue);return a===u?db(a)===db(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return pg(n.arrayValue.values||[],e.arrayValue.values||[],ac);case 10:return function(r,i){const a=r.mapValue.fields||{},u=i.mapValue.fields||{};if(DN(a)!==DN(u))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===u[f]||!ac(a[f],u[f])))return!1;return!0}(n,e);default:return dt()}var i}function hb(n,e){return void 0!==(n.values||[]).find(t=>ac(t,e))}function Od(n,e){if(n===e)return 0;const t=Tf(n),r=Tf(e);if(t!==r)return tn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return tn(n.booleanValue,e.booleanValue);case 2:return function(i,a){const u=Or(i.integerValue||i.doubleValue),f=Or(a.integerValue||a.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return xN(n.timestampValue,e.timestampValue);case 4:return xN(ub(n),ub(e));case 5:return tn(n.stringValue,e.stringValue);case 6:return function(i,a){const u=Ef(i),f=Ef(a);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const u=i.split("/"),f=a.split("/");for(let g=0;g<u.length&&g<f.length;g++){const v=tn(u[g],f[g]);if(0!==v)return v}return tn(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const u=tn(Or(i.latitude),Or(a.latitude));return 0!==u?u:tn(Or(i.longitude),Or(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const u=i.values||[],f=a.values||[];for(let g=0;g<u.length&&g<f.length;++g){const v=Od(u[g],f[g]);if(v)return v}return tn(u.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){const u=i.fields||{},f=Object.keys(u),g=a.fields||{},v=Object.keys(g);f.sort(),v.sort();for(let T=0;T<f.length&&T<v.length;++T){const I=tn(f[T],v[T]);if(0!==I)return I;const O=Od(u[f[T]],g[v[T]]);if(0!==O)return O}return tn(f.length,v.length)}(n.mapValue,e.mapValue);default:throw dt()}}function xN(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return tn(n,e);const t=kd(n),r=kd(e),i=tn(t.seconds,r.seconds);return 0!==i?i:tn(t.nanos,r.nanos)}function gg(n){return $M(n)}function $M(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=kd(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ef(n.bytesValue).toBase64():"referenceValue"in n?Ze.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const u of r.values||[])a?a=!1:i+=",",i+=$M(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",u=!0;for(const f of i)u?u=!1:a+=",",a+=`${f}:${$M(r.fields[f])}`;return a+"}"}(n.mapValue):dt();var e}function _g(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function zM(n){return!!n&&"integerValue"in n}function fb(n){return!!n&&"arrayValue"in n}function RN(n){return!!n&&"nullValue"in n}function kN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $E(n){return!!n&&"mapValue"in n}function pb(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Cf(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=pb(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=pb(n.arrayValue.values[t]);return e}return Object.assign({},n)}function ON(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function PN(n,e){return void 0===n?e:void 0===e||Od(n,e)>0?n:e}function NN(n,e){return void 0===n?e:void 0===e||Od(n,e)<0?n:e}class ms{constructor(e){this.value=e}static empty(){return new ms({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!$E(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pb(t)}setAll(e){let t=Ri.emptyPath(),r={},i=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,r,i),r={},i=[],t=f.popLast()}u?r[f.lastSegment()]=pb(u):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());$E(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ac(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];$E(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Cf(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new ms(pb(this.value))}}function FN(n){const e=[];return Cf(n.fields,(t,r)=>{const i=new Ri([t]);if($E(r)){const a=FN(r.mapValue).fields;if(0===a.length)e.push(i);else for(const u of a)e.push(i.child(u))}else e.push(i)}),new mg(e)}class or{constructor(e,t,r,i,a,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=a,this.documentState=u}static newInvalidDocument(e){return new or(e,0,Nt.min(),Nt.min(),ms.empty(),0)}static newFoundDocument(e,t,r){return new or(e,1,t,Nt.min(),r,0)}static newNoDocument(e,t){return new or(e,2,t,Nt.min(),ms.empty(),0)}static newUnknownDocument(e,t){return new or(e,3,t,Nt.min(),ms.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ms.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ms.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof or&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new or(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zE{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function ZM(n){return n.fields.find(e=>2===e.kind)}function yg(n){return n.fields.filter(e=>2!==e.kind)}zE.UNKNOWN_ID=-1;class ZE{constructor(e,t){this.fieldPath=e,this.kind=t}}class mb{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new mb(0,uu.min())}}function LN(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Nt.fromTimestamp(1e9===r?new $r(t+1,0):new $r(t,r));return new uu(i,Ze.empty(),e)}function ij(n){return new uu(n.readTime,n.key,-1)}class uu{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new uu(Nt.min(),Ze.empty(),-1)}static max(){return new uu(Nt.max(),Ze.empty(),-1)}}function sj(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ze.comparator(n.documentKey,e.documentKey),0!==t?t:tn(n.largestBatchId,e.largestBatchId))}class oj{constructor(e,t=null,r=[],i=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=u,this.endAt=f,this.P=null}}function VN(n,e=null,t=[],r=[],i=null,a=null,u=null){return new oj(n,e,t,r,i,a,u)}function Sf(n){const e=tt(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+gg(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Df(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>gg(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>gg(r)).join(",")),e.P=t}return e.P}function gb(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!mj(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!ac(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!HN(n.startAt,e.startAt)&&HN(n.endAt,e.endAt)}function WE(n){return Ze.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function KE(n,e){return n.filters.filter(t=>t instanceof Xi&&t.field.isEqual(e))}class Xi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new lj(e,t,r):"array-contains"===t?new dj(e,r):"in"===t?new hj(e,r):"not-in"===t?new fj(e,r):"array-contains-any"===t?new pj(e,r):new Xi(e,t,r)}static V(e,t,r){return"in"===t?new cj(e,r):new uj(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Od(t,this.value)):null!==t&&Tf(this.value)===Tf(t)&&this.v(Od(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return dt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class lj extends Xi{constructor(e,t,r){super(e,t,r),this.key=Ze.fromName(r.referenceValue)}matches(e){const t=Ze.comparator(e.key,this.key);return this.v(t)}}class cj extends Xi{constructor(e,t){super(e,"in",t),this.keys=BN(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class uj extends Xi{constructor(e,t){super(e,"not-in",t),this.keys=BN(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function BN(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ze.fromName(r.referenceValue))}class dj extends Xi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return fb(t)&&hb(t.arrayValue,this.value)}}class hj extends Xi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&hb(this.value.arrayValue,t)}}class fj extends Xi{constructor(e,t){super(e,"not-in",t)}matches(e){if(hb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!hb(this.value.arrayValue,t)}}class pj extends Xi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!fb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>hb(this.value.arrayValue,r))}}class Pd{constructor(e,t){this.position=e,this.inclusive=t}}class vg{constructor(e,t="asc"){this.field=e,this.dir=t}}function mj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function UN(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],u=n.position[i];if(r=a.field.isKeyField()?Ze.comparator(Ze.fromName(u.referenceValue),t.key):Od(u,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function HN(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ac(n.position[t],e.position[t]))return!1;return!0}class du{constructor(e,t=null,r=[],i=[],a=null,u="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=g,this.D=null,this.C=null}}function jN(n,e,t,r,i,a,u,f){return new du(n,e,t,r,i,a,u,f)}function bg(n){return new du(n)}function YE(n){return!Df(n.limit)&&"F"===n.limitType}function QE(n){return!Df(n.limit)&&"L"===n.limitType}function WM(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function KM(n){for(const e of n.filters)if(e.S())return e.field;return null}function YM(n){return null!==n.collectionGroup}function wg(n){const e=tt(n);if(null===e.D){e.D=[];const t=KM(e),r=WM(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new vg(t)),e.D.push(new vg(Ri.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.D.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new vg(Ri.keyField(),a))}}}return e.D}function xa(n){const e=tt(n);if(!e.C)if("F"===e.limitType)e.C=VN(e.path,e.collectionGroup,wg(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of wg(e))t.push(new vg(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new Pd(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new Pd(e.startAt.position,!e.startAt.inclusive):null;e.C=VN(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function GN(n,e,t){return new du(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function _b(n,e){return gb(xa(n),xa(e))&&n.limitType===e.limitType}function qN(n){return`${Sf(xa(n))}|lt:${n.limitType}`}function QM(n){return`Query(target=${function aj(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${gg(r.value)}`;var r}).join(", ")}]`),Df(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>gg(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>gg(t)).join(",")),`Target(${e})`}(xa(n))}; limitType=${n.limitType})`}function XM(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ze.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,u){const f=UN(i,a,u);return i.inclusive?f<=0:f<0}(t.startAt,wg(t),r)||t.endAt&&!function(i,a,u){const f=UN(i,a,u);return i.inclusive?f>=0:f>0}(t.endAt,wg(t),r)));var t,r}function $N(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function zN(n){return(e,t)=>{let r=!1;for(const i of wg(n)){const a=gj(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function gj(n,e,t){const r=n.field.isKeyField()?Ze.comparator(e.key,t.key):function(i,a,u){const f=a.data.field(i),g=u.data.field(i);return null!==f&&null!==g?Od(f,g):dt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return dt()}}function ZN(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:db(e)?"-0":e}}function WN(n){return{integerValue:""+n}}function KN(n,e){return IN(e)?WN(e):ZN(n,e)}class XE{constructor(){this._=void 0}}function _j(n,e,t){return n instanceof Cg?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof If?QN(n,e):n instanceof Af?XN(n,e):function(r,i){const a=YN(r,i),u=JN(a)+JN(r.k);return zM(a)&&zM(r.k)?WN(u):ZN(r.M,u)}(n,e)}function yj(n,e,t){return n instanceof If?QN(n,e):n instanceof Af?XN(n,e):t}function YN(n,e){return n instanceof Eg?zM(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Cg extends XE{}class If extends XE{constructor(e){super(),this.elements=e}}function QN(n,e){const t=eF(e);for(const r of n.elements)t.some(i=>ac(i,r))||t.push(r);return{arrayValue:{values:t}}}class Af extends XE{constructor(e){super(),this.elements=e}}function XN(n,e){let t=eF(e);for(const r of n.elements)t=t.filter(i=>!ac(i,r));return{arrayValue:{values:t}}}class Eg extends XE{constructor(e,t){super(),this.M=e,this.k=t}}function JN(n){return Or(n.integerValue||n.doubleValue)}function eF(n){return fb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class yb{constructor(e,t){this.field=e,this.transform=t}}class bj{constructor(e,t){this.version=e,this.transformResults=t}}class si{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new si}static exists(e){return new si(void 0,e)}static updateTime(e){return new si(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function JE(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class eD{}function wj(n,e,t){n instanceof vb?function(r,i,a){const u=r.value.clone(),f=iF(r.fieldTransforms,i,a.transformResults);u.setAll(f),i.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Mf?function(r,i,a){if(!JE(r.precondition,i))return void i.convertToUnknownDocument(a.version);const u=iF(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(rF(r)),f.setAll(u),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function JM(n,e,t){var i;n instanceof vb?function(r,i,a){if(!JE(r.precondition,i))return;const u=r.value.clone(),f=sF(r.fieldTransforms,a,i);u.setAll(f),i.convertToFoundDocument(nF(i),u).setHasLocalMutations()}(n,e,t):n instanceof Mf?function(r,i,a){if(!JE(r.precondition,i))return;const u=sF(r.fieldTransforms,a,i),f=i.data;f.setAll(rF(r)),f.setAll(u),i.convertToFoundDocument(nF(i),f).setHasLocalMutations()}(n,e,t):JE(n.precondition,i=e)&&i.convertToNoDocument(Nt.min())}function Cj(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=YN(r.transform,i||null);null!=a&&(null==t&&(t=ms.empty()),t.set(r.field,a))}return t||null}function tF(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&pg(t,r,(i,a)=>function vj(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof If&&r instanceof If||t instanceof Af&&r instanceof Af?pg(t.elements,r.elements,ac):t instanceof Eg&&r instanceof Eg?ac(t.k,r.k):t instanceof Cg&&r instanceof Cg);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function nF(n){return n.isFoundDocument()?n.version:Nt.min()}class vb extends eD{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Mf extends eD{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}}function rF(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function iF(n,e,t){const r=new Map;Ht(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],u=a.transform,f=e.data.field(a.field);r.set(a.field,yj(u,f,t[i]))}return r}function sF(n,e,t){const r=new Map;for(const i of n){const a=i.transform,u=t.data.field(i.field);r.set(i.field,_j(a,u,e))}return r}class bb extends eD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class ex extends eD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Ej{constructor(e){this.count=e}}var oi,hn;function oF(n){switch(n){default:return dt();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function aF(n){if(void 0===n)return ii("GRPC error has no .code"),pe.UNKNOWN;switch(n){case oi.OK:return pe.OK;case oi.CANCELLED:return pe.CANCELLED;case oi.UNKNOWN:return pe.UNKNOWN;case oi.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case oi.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case oi.INTERNAL:return pe.INTERNAL;case oi.UNAVAILABLE:return pe.UNAVAILABLE;case oi.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case oi.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case oi.NOT_FOUND:return pe.NOT_FOUND;case oi.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case oi.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case oi.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case oi.ABORTED:return pe.ABORTED;case oi.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case oi.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case oi.DATA_LOSS:return pe.DATA_LOSS;default:return dt()}}(hn=oi||(oi={}))[hn.OK=0]="OK",hn[hn.CANCELLED=1]="CANCELLED",hn[hn.UNKNOWN=2]="UNKNOWN",hn[hn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hn[hn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hn[hn.NOT_FOUND=5]="NOT_FOUND",hn[hn.ALREADY_EXISTS=6]="ALREADY_EXISTS",hn[hn.PERMISSION_DENIED=7]="PERMISSION_DENIED",hn[hn.UNAUTHENTICATED=16]="UNAUTHENTICATED",hn[hn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hn[hn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hn[hn.ABORTED=10]="ABORTED",hn[hn.OUT_OF_RANGE=11]="OUT_OF_RANGE",hn[hn.UNIMPLEMENTED=12]="UNIMPLEMENTED",hn[hn.INTERNAL=13]="INTERNAL",hn[hn.UNAVAILABLE=14]="UNAVAILABLE",hn[hn.DATA_LOSS=15]="DATA_LOSS";class Nd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Cf(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return TN(this.inner)}size(){return this.innerSize}}class zr{constructor(e,t){this.comparator=e,this.root=t||Ji.EMPTY}insert(e,t){return new zr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ji.BLACK,null,null))}remove(e){return new zr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ji.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tD(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tD(this.root,e,this.comparator,!1)}getReverseIterator(){return new tD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tD(this.root,e,this.comparator,!0)}}class tD{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ji{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=null!=r?r:Ji.RED,this.left=null!=i?i:Ji.EMPTY,this.right=null!=a?a:Ji.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Ji(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ji.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Ji.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ji.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ji.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();const e=this.left.check();if(e!==this.right.check())throw dt();return e+(this.isRed()?0:1)}}Ji.EMPTY=null,Ji.RED=!0,Ji.BLACK=!1,Ji.EMPTY=new class{constructor(){this.size=0}get key(){throw dt()}get value(){throw dt()}get color(){throw dt()}get left(){throw dt()}get right(){throw dt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Ji(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ar{constructor(e){this.comparator=e,this.data=new zr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new lF(this.data.getIterator())}getIteratorFrom(e){return new lF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ar)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ar(this.comparator);return t.data=e,t}}class lF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Dg(n){return n.hasNext()?n.getNext():void 0}const Dj=new zr(Ze.comparator);function Ra(){return Dj}const Tj=new zr(Ze.comparator);function tx(){return Tj}function wb(){return new Nd(n=>n.toString(),(n,e)=>n.isEqual(e))}const Sj=new zr(Ze.comparator),Ij=new ar(Ze.comparator);function Mn(...n){let e=Ij;for(const t of n)e=e.add(t);return e}const Aj=new ar(tn);function nD(){return Aj}class Cb{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Eb.createSynthesizedTargetChangeForCurrentChange(e,t)),new Cb(Nt.min(),r,nD(),Ra(),Mn())}}class Eb{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Eb(gi.EMPTY_BYTE_STRING,t,Mn(),Mn(),Mn())}}class rD{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class cF{constructor(e,t){this.targetId=e,this.$=t}}class uF{constructor(e,t,r=gi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class dF{constructor(){this.B=0,this.L=fF(),this.U=gi.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=Mn(),t=Mn(),r=Mn();return this.L.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:dt()}}),new Eb(this.U,this.q,e,t,r)}J(){this.G=!1,this.L=fF()}Y(e,t){this.G=!0,this.L=this.L.insert(e,t)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class Mj{constructor(e){this.nt=e,this.st=new Map,this.it=Ra(),this.rt=hF(),this.ot=new ar(tn)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:dt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const a=i.target;if(WE(a))if(0===r){const u=new Ze(a.path);this.ct(t,u,or.newNoDocument(u,Nt.min()))}else Ht(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((a,u)=>{const f=this.wt(u);if(f){if(a.current&&WE(f.target)){const g=new Ze(f.target.path);null!==this.it.get(g)||this.It(u,g)||this.ct(u,g,or.newNoDocument(g,e))}a.j&&(t.set(u,a.H()),a.J())}});let r=Mn();this.rt.forEach((a,u)=>{let f=!0;u.forEachWhile(g=>{const v=this.wt(g);return!v||2===v.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.it.forEach((a,u)=>u.setReadTime(e));const i=new Cb(e,t,this.ot,this.it,r);return this.it=Ra(),this.rt=hF(),this.ot=new ar(tn),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new dF,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new ar(tn),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Ue("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new dF),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function hF(){return new zr(Ze.comparator)}function fF(){return new zr(Ze.comparator)}const xj={asc:"ASCENDING",desc:"DESCENDING"},Rj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class kj{constructor(e,t){this.databaseId=e,this.N=t}}function Db(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pF(n,e){return n.N?e.toBase64():e.toUint8Array()}function Oj(n,e){return Db(n,e.toTimestamp())}function ki(n){return Ht(!!n),Nt.fromTimestamp(function(e){const t=kd(e);return new $r(t.seconds,t.nanos)}(n))}function nx(n,e){return(t=n,new dn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function mF(n){const e=dn.fromString(n);return Ht(DF(e)),e}function Tb(n,e){return nx(n.databaseId,e.path)}function lc(n,e){const t=mF(e);if(t.get(1)!==n.databaseId.projectId)throw new Oe(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Oe(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ze(_F(t))}function rx(n,e){return nx(n.databaseId,e)}function gF(n){const e=mF(n);return 4===e.length?dn.emptyPath():_F(e)}function Sb(n){return new dn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function _F(n){return Ht(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function yF(n,e,t){return{name:Tb(n,e),fields:t.value.mapValue.fields}}function vF(n,e,t){const r=lc(n,e.name),i=ki(e.updateTime),a=new ms({mapValue:{fields:e.fields}}),u=or.newFoundDocument(r,i,a);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function Ib(n,e){let t;if(e instanceof vb)t={update:yF(n,e.key,e.value)};else if(e instanceof bb)t={delete:Tb(n,e.key)};else if(e instanceof Mf)t={update:yF(n,e.key,e.data),updateMask:jj(e.fieldMask)};else{if(!(e instanceof ex))return dt();t={verify:Tb(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const u=a.transform;if(u instanceof Cg)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof If)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Af)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Eg)return{fieldPath:a.field.canonicalString(),increment:u.k};throw dt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Oj(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:dt()),t;var i}function ix(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?si.updateTime(ki(i.updateTime)):void 0!==i.exists?si.exists(i.exists):si.none():si.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,u){let f=null;"setToServerValue"in u?(Ht("REQUEST_TIME"===u.setToServerValue),f=new Cg):"appendMissingElements"in u?f=new If(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new Af(u.removeAllFromArray.values||[]):"increment"in u?f=new Eg(a,u.increment):dt();const g=Ri.fromServerFormat(u.fieldPath);return new yb(g,f)}(n,i)):[];var i;if(e.update){const i=lc(n,e.update.name),a=new ms({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new mg((e.updateMask.fieldPaths||[]).map(v=>Ri.fromServerFormat(v)));return new Mf(i,a,u,t,r)}return new vb(i,a,t,r)}if(e.delete){const i=lc(n,e.delete);return new bb(i,t)}if(e.verify){const i=lc(n,e.verify);return new ex(i,t)}return dt()}function bF(n,e){return{documents:[rx(n,e.path)]}}function wF(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=rx(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=rx(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(g){if(0===g.length)return;const v=g.map(T=>function(I){if("=="===I.op){if(kN(I.value))return{unaryFilter:{field:Tg(I.field),op:"IS_NAN"}};if(RN(I.value))return{unaryFilter:{field:Tg(I.field),op:"IS_NULL"}}}else if("!="===I.op){if(kN(I.value))return{unaryFilter:{field:Tg(I.field),op:"IS_NOT_NAN"}};if(RN(I.value))return{unaryFilter:{field:Tg(I.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tg(I.field),op:Bj(I.op),value:I.value}}}(T));return 1===v.length?v[0]:{compositeFilter:{op:"AND",filters:v}}}(e.filters);i&&(t.structuredQuery.where=i);const a=function(g){if(0!==g.length)return g.map(v=>{return{field:Tg((T=v).field),direction:Vj(T.dir)};var T})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=(v=e.limit,n.N||Df(v)?v:{value:v});var v,f,g;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(g=e.endAt).inclusive,values:g.position}),t}function CF(n){let e=gF(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ht(1===r);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let a=[];t.where&&(a=EF(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(T=>{return new vg(Sg((I=T).field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let f=null;t.limit&&(f=function(T){let I;return I="object"==typeof T?T.value:T,Df(I)?null:I}(t.limit));let g=null;var T;t.startAt&&(g=new Pd((T=t.startAt).values||[],!!T.before));let v=null;return t.endAt&&(v=function(T){return new Pd(T.values||[],!T.before)}(t.endAt)),jN(e,i,u,a,f,"F",g,v)}function EF(n){return n?void 0!==n.unaryFilter?[Hj(n)]:void 0!==n.fieldFilter?[Uj(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>EF(e)).reduce((e,t)=>e.concat(t)):dt():[]}function Vj(n){return xj[n]}function Bj(n){return Rj[n]}function Tg(n){return{fieldPath:n.canonicalString()}}function Sg(n){return Ri.fromServerFormat(n.fieldPath)}function Uj(n){return Xi.create(Sg(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dt()}}(n.fieldFilter.op),n.fieldFilter.value)}function Hj(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Sg(n.unaryFilter.field);return Xi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Sg(n.unaryFilter.field);return Xi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Sg(n.unaryFilter.field);return Xi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Sg(n.unaryFilter.field);return Xi.create(i,"!=",{nullValue:"NULL_VALUE"});default:return dt()}}function jj(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function DF(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Oi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=TF(e)),e=Gj(n.get(t),e);return TF(e)}function Gj(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function TF(n){return n+"\x01\x01"}function ol(n){const e=n.length;if(Ht(e>=2),2===e)return Ht("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),dn.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const u=n.indexOf("\x01",a);switch((u<0||u>t)&&dt(),n.charAt(u+1)){case"\x01":const f=n.substring(a,u);let g;0===i.length?g=f:(i+=f,g=i,i=""),r.push(g);break;case"\x10":i+=n.substring(a,u),i+="\0";break;case"\x11":i+=n.substring(a,u+1);break;default:dt()}a=u+2}return new dn(r)}const SF=["userId","batchId"];function iD(n,e){return[n,Oi(e)]}function IF(n,e,t){return[n,Oi(e),t]}const qj={},$j=["prefixPath","collectionGroup","readTime","documentId"],zj=["prefixPath","collectionGroup","documentId"],Zj=["collectionGroup","readTime","prefixPath","documentId"],Wj=["canonicalId","targetId"],Kj=["targetId","path"],Yj=["path","targetId"],Qj=["collectionId","parent"],Xj=["indexId","uid"],Jj=["uid","sequenceNumber"],e3=["indexId","uid","arrayValue","directionalValue","documentKey"],t3=["indexId","uid","documentKey"],n3=["userId","collectionPath","documentId"],r3=["userId","collectionPath","largestBatchId"],i3=["userId","collectionGroup","largestBatchId"],AF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],s3=[...AF,"documentOverlays"],MF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],o3=[...MF,"indexConfiguration","indexState","indexEntries"],xF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ye((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ye?t:ye.resolve(t)}catch(t){return ye.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ye.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ye.reject(t)}static resolve(e){return new ye((t,r)=>{t(e)})}static reject(e){return new ye((t,r)=>{r(e)})}static waitFor(e){return new ye((t,r)=>{let i=0,a=0,u=!1;e.forEach(f=>{++i,f.next(()=>{++a,u&&a===i&&t()},g=>r(g))}),u=!0,a===i&&t()})}static or(e){let t=ye.resolve(!1);for(const r of e)t=t.next(i=>i?ye.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}}class sD{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new xi,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Ab(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=sx(r.target.error);this.At.reject(new Ab(e,i))}}static open(e,t,r,i){try{return new sD(t,e.transaction(i,r))}catch(a){throw new Ab(t,a)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Ue("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new l3(t)}}class al{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===al.Vt((0,yt.z$)())&&ii("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ue("SimpleDb","Removing database:",e),Rf(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,yt.hl)())return!1;if(al.St())return!0;const e=(0,yt.z$)(),t=al.Vt(e),r=0<t&&t<10,i=al.Dt(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,we.Z)(function*(){return t.db||(Ue("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=u=>{r(u.target.result)},a.onblocked=()=>{i(new Ab(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const f=u.target.error;i("VersionError"===f.name?new Oe(pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Oe(pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new Ab(e,f))},a.onupgradeneeded=u=>{Ue("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.Pt.kt(u.target.result,a.transaction,u.oldVersion,t.version).next(()=>{Ue("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,we.Z)(function*(){const u="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.Nt(e);const g=sD.open(a.db,e,u?"readonly":"readwrite",r),v=i(g).next(T=>(g.bt(),T)).catch(T=>(g.abort(T),ye.reject(T))).toPromise();return v.catch(()=>{}),yield g.Rt,v}catch(g){const v="FirebaseError"!==g.name&&f<3;if(Ue("SimpleDb","Transaction failed with error:",g.message,"Retrying:",v),a.close(),!v)return Promise.reject(g)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class a3{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Rf(this.Ft.delete())}}class Ab extends Oe{constructor(e,t){super(pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function xf(n){return"IndexedDbTransactionError"===n.name}class l3{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ue("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ue("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Rf(r)}add(e){return Ue("SimpleDb","ADD",this.store.name,e,e),Rf(this.store.add(e))}get(e){return Rf(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ue("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ue("SimpleDb","DELETE",this.store.name,e),Rf(this.store.delete(e))}count(){return Ue("SimpleDb","COUNT",this.store.name),Rf(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.Gt(i,(u,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new ye((a,u)=>{i.onerror=f=>{u(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}Kt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ye((i,a)=>{r.onerror=u=>{a(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}Qt(e,t){Ue("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Gt(i,(a,u,f)=>f.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Gt(i,t)}zt(e){const t=this.cursor({});return new ye((r,i)=>{t.onerror=a=>{const u=sx(a.target.error);i(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(f=>{f?u.continue():r()}):r()}})}Gt(e,t){const r=[];return new ye((i,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const f=u.target.result;if(!f)return void i();const g=new a3(f),v=t(f.primaryKey,f.value,g);if(v instanceof ye){const T=v.catch(I=>(g.done(),ye.reject(I)));r.push(T)}g.isDone?i():null===g.Lt?f.continue():f.continue(g.Lt)}}).next(()=>ye.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Rf(n){return new ye((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=sx(r.target.error);t(i)}})}let kF=!1;function sx(n){const e=al.Vt((0,yt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return kF||(kF=!0,setTimeout(()=>{throw r},0)),r}}return n}class OF extends RF{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Pi(n,e){const t=tt(n);return al.xt(t.Ht,e)}class ox{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&wj(a,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&JM(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&JM(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Nt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Mn())}isEqual(e){return this.batchId===e.batchId&&pg(this.mutations,e.mutations,(t,r)=>tF(t,r))&&pg(this.baseMutations,e.baseMutations,(t,r)=>tF(t,r))}}class ax{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ht(e.mutations.length===r.length);let i=Sj;const a=e.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,r[u].version);return new ax(e,t,r,i)}}class lx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Fd{constructor(e,t,r,i,a=Nt.min(),u=Nt.min(),f=gi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f}withSequenceNumber(e){return new Fd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Fd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Fd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class PF{constructor(e){this.Jt=e}}function NF(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:oD(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Tb(i=n.Jt,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:Db(i,a.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:kf(e.version)};else{if(!e.isUnknownDocument())return dt();r.unknownDocument={path:t.path.toArray(),version:kf(e.version)}}var i,a;return r}function oD(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function kf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Of(n){const e=new $r(n.seconds,n.nanoseconds);return Nt.fromTimestamp(e)}function Ig(n,e){const t=(e.baseMutations||[]).map(a=>ix(n.Jt,a));for(let a=0;a<e.mutations.length-1;++a){const u=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(u.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>ix(n.Jt,a)),i=$r.fromMillis(e.localWriteTimeMs);return new ox(e.batchId,i,t,r)}function Mb(n){const e=Of(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Of(n.lastLimboFreeSnapshotVersion):Nt.min();let r;var i;return void 0!==n.query.documents?(Ht(1===(i=n.query).documents.length),r=xa(bg(gF(i.documents[0])))):r=xa(CF(n.query)),new Fd(r,n.targetId,0,n.lastListenSequenceNumber,e,t,gi.fromBase64String(n.resumeToken))}function FF(n,e){const t=kf(e.snapshotVersion),r=kf(e.lastLimboFreeSnapshotVersion);let i;i=WE(e.target)?bF(n.Jt,e.target):wF(n.Jt,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Sf(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function cx(n){const e=CF({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?GN(e,e.limit,"L"):e}function ux(n,e){return new lx(e.largestBatchId,ix(n.Jt,e.overlayMutation))}function LF(n,e){const t=e.path.lastSegment();return[n,Oi(e.path.popLast()),t]}class u3{getBundleMetadata(e,t){return VF(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Of(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return VF(e).put({bundleId:(r=t).id,createTime:kf(ki(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return BF(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:cx(i.bundledQuery),readTime:Of(i.readTime)};var i})}saveNamedQuery(e,t){return BF(e).put({name:(r=t).name,readTime:kf(ki(r.readTime)),bundledQuery:r.bundledQuery});var r}}function VF(n){return Pi(n,"bundles")}function BF(n){return Pi(n,"namedQueries")}class dx{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new dx(e,t.uid||"")}getOverlay(e,t){return xb(e).get(LF(this.userId,t)).next(r=>r?ux(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((a,u)=>{const f=new lx(t,u);i.push(this.Xt(e,f))}),ye.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(Oi(u.getCollectionPath())));const a=[];return i.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);a.push(xb(e).Qt("collectionPathOverlayIndex",f))}),ye.waitFor(a)}getOverlaysForCollection(e,t,r){const i=wb(),a=Oi(t),u=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return xb(e).qt("collectionPathOverlayIndex",u).next(f=>{for(const g of f){const v=ux(this.M,g);i.set(v.getKey(),v)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=wb();let u;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return xb(e).Wt({index:"collectionGroupOverlayIndex",range:f},(g,v,T)=>{const I=ux(this.M,v);a.size()<i||I.largestBatchId===u?(a.set(I.getKey(),I),u=I.largestBatchId):T.done()}).next(()=>a)}Xt(e,t){return xb(e).put(function(r,i,a){const[u,f,g]=LF(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:g,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Ib(r.Jt,a.mutation)}}(this.M,this.userId,t))}}function xb(n){return Pi(n,"documentOverlays")}class Ag{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Or(e.integerValue));else if("doubleValue"in e){const r=Or(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),db(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Ef(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?ON(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):dt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),Ze.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function d3(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function UF(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=d3(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}Ag.fe=new Ag;class h3{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=UF(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=UF(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class f3{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class p3{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class aD{constructor(){this.De=new h3,this.Ce=new f3(this.De),this.xe=new p3(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Ld{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ld(this.indexId,this.documentKey,this.arrayValue,r)}}function Pf(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=HF(n.arrayValue,e.arrayValue),0!==t?t:(t=HF(n.directionalValue,e.directionalValue),0!==t?t:Ze.comparator(n.documentKey,e.documentKey)))}function HF(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class m3{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=ZM(e);if(void 0!==t&&!this.Be(t))return!1;const r=yg(e);let i=0,a=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const u=r[i];if(!this.Le(this.Fe,u)||!this.Ue(this.Me[a++],u))return!1;++i}for(;i<r.length;++i){const u=r[i];if(a>=this.Me.length||!this.Ue(this.Me[a++],u))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class g3{constructor(){this.qe=new hx}addToCollectionParentIndex(e,t){return this.qe.add(t),ye.resolve()}getCollectionParents(e,t){return ye.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return ye.resolve()}deleteFieldIndex(e,t){return ye.resolve()}getDocumentsMatchingTarget(e,t){return ye.resolve(null)}getFieldIndex(e,t){return ye.resolve(null)}getFieldIndexes(e,t){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}updateCollectionGroup(e,t,r){return ye.resolve()}updateIndexEntries(e,t){return ye.resolve()}}class hx{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ar(dn.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ar(dn.comparator)).toArray()}}const lD=new Uint8Array(0);class _3{constructor(e){this.user=e,this.Ge=new hx,this.Ke=new Nd(t=>Sf(t),(t,r)=>gb(t,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ge.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ge.add(t)});const a={collectionId:r,parent:Oi(i)};return jF(e).put(a)}return ye.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[EN(t),""],!1,!0);return jF(e).qt(i).next(a=>{for(const u of a){if(u.collectionId!==t)break;r.push(ol(u.parent))}return r})}addFieldIndex(e,t){const r=cD(e),i={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var a;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=cD(e),i=uD(e),a=Rb(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Rb(e);let i=!0;const a=new Map;return ye.forEach(this.Qe(t),u=>this.getFieldIndex(e,u).next(f=>{i&&(i=!!f),a.set(u,f)})).next(()=>{if(i){let u=Mn();return ye.forEach(a,(f,g)=>{var v;Ue("IndexedDbIndexManager",`Using index ${v=f,`id=${v.indexId}|cg=${v.collectionGroup}|f=${v.fields.map(He=>`${He.fieldPath}:${He.kind}`).join(",")}`} to execute ${Sf(t)}`);const T=function(He,Ke){const Fe=ZM(Ke);if(void 0===Fe)return null;for(const It of KE(He,Fe.fieldPath))switch(It.op){case"array-contains-any":return It.value.arrayValue.values||[];case"array-contains":return[It.value]}return null}(g,f),I=function(He,Ke){const Fe=new Map;for(const It of yg(Ke))for(const Tt of KE(He,It.fieldPath))switch(Tt.op){case"==":case"in":Fe.set(It.fieldPath.canonicalString(),Tt.value);break;case"not-in":case"!=":return Fe.set(It.fieldPath.canonicalString(),Tt.value),Array.from(Fe.values())}return null}(g,f),O=function(He,Ke){const Fe=[];let It=!0;for(const xn of yg(Ke)){let kn,Zr=!0;for(const On of KE(He,xn.fieldPath)){let Yn,Oa=!0;switch(On.op){case"<":case"<=":Yn="nullValue"in(Tt=On.value)?MN:"booleanValue"in Tt?{booleanValue:!1}:"integerValue"in Tt||"doubleValue"in Tt?{doubleValue:NaN}:"timestampValue"in Tt?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in Tt?{stringValue:""}:"bytesValue"in Tt?{bytesValue:""}:"referenceValue"in Tt?_g(cu.empty(),Ze.empty()):"geoPointValue"in Tt?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in Tt?{arrayValue:{}}:"mapValue"in Tt?{mapValue:{}}:dt();break;case"==":case"in":case">=":Yn=On.value;break;case">":Yn=On.value,Oa=!1;break;case"!=":case"not-in":Yn=MN}PN(kn,Yn)===Yn&&(kn=Yn,Zr=Oa)}if(null!==He.startAt)for(let On=0;On<He.orderBy.length;++On)if(He.orderBy[On].field.isEqual(xn.fieldPath)){const Yn=He.startAt.position[On];PN(kn,Yn)===Yn&&(kn=Yn,Zr=He.startAt.inclusive);break}if(void 0===kn)return null;Fe.push(kn),It&&(It=Zr)}var Tt;return new Pd(Fe,It)}(g,f),B=function(He,Ke){const Fe=[];let It=!0;for(const xn of yg(Ke)){let kn,Zr=!0;for(const On of KE(He,xn.fieldPath)){let Yn,Oa=!0;switch(On.op){case">=":case">":Yn="nullValue"in(Tt=On.value)?{booleanValue:!1}:"booleanValue"in Tt?{doubleValue:NaN}:"integerValue"in Tt||"doubleValue"in Tt?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in Tt?{stringValue:""}:"stringValue"in Tt?{bytesValue:""}:"bytesValue"in Tt?_g(cu.empty(),Ze.empty()):"referenceValue"in Tt?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in Tt?{arrayValue:{}}:"arrayValue"in Tt?{mapValue:{}}:"mapValue"in Tt?AN:dt(),Oa=!1;break;case"==":case"in":case"<=":Yn=On.value;break;case"<":Yn=On.value,Oa=!1;break;case"!=":case"not-in":Yn=AN}NN(kn,Yn)===Yn&&(kn=Yn,Zr=Oa)}if(null!==He.endAt)for(let On=0;On<He.orderBy.length;++On)if(He.orderBy[On].field.isEqual(xn.fieldPath)){const Yn=He.endAt.position[On];NN(kn,Yn)===Yn&&(kn=Yn,Zr=He.endAt.inclusive);break}if(void 0===kn)return null;Fe.push(kn),It&&(It=Zr)}var Tt;return new Pd(Fe,It)}(g,f),q=this.je(f,g,O),ee=this.je(f,g,B),de=this.We(f,g,I),We=this.ze(f.indexId,T,q,!!O&&O.inclusive,ee,!!B&&B.inclusive,de);return ye.forEach(We,He=>r.Kt(He,t.limit).next(Ke=>{Ke.forEach(Fe=>{u=u.add(new Ze(ol(Fe.documentKey)))})}))}).next(()=>u)}return ye.resolve(null)})}Qe(e){let t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}ze(e,t,r,i,a,u,f){const g=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=a?a.length:1),v=g/(null!=t?t.length:1),T=[];for(let I=0;I<g;++I){const O=t?this.He(t[I/v]):lD,B=r?this.Je(e,O,r[I%v],i):this.Ye(e),q=a?this.Xe(e,O,a[I%v],u):this.Ye(e+1);T.push(...this.createRange(B,q,f.map(ee=>this.Je(e,O,ee,!0))))}return T}Je(e,t,r,i){const a=new Ld(e,Ze.empty(),t,r);return i?a:a.ke()}Xe(e,t,r,i){const a=new Ld(e,Ze.empty(),t,r);return i?a.ke():a}Ye(e){return new Ld(e,Ze.empty(),lD,lD)}getFieldIndex(e,t){const r=new m3(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{const u=a.filter(f=>r.$e(f));return u.sort((f,g)=>g.fields.length-f.fields.length),u.length>0?u[0]:null})}Ze(e,t){const r=new aD;for(const i of yg(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const u=r.Ne(i.kind);Ag.fe.Zt(a,u)}return r.Se()}He(e){const t=new aD;return Ag.fe.Zt(e,t.Ne(0)),t.Se()}We(e,t,r){if(null===r)return[];let i=[];i.push(new aD);let a=0;for(const u of yg(e)){const f=r[a++];for(const g of i)if(this.tn(t,u.fieldPath)&&fb(f))i=this.en(i,u,f);else{const v=g.Ne(u.kind);Ag.fe.Zt(f,v)}}return this.nn(i)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}nn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}en(e,t,r){const i=[...e],a=[];for(const u of r.arrayValue.values||[])for(const f of i){const g=new aD;g.seed(f.Se()),Ag.fe.Zt(u,g.Ne(t.kind)),a.push(g)}return a}tn(e,t){return!!e.filters.find(r=>r instanceof Xi&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=cD(e),i=uD(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(a=>{const u=[];return ye.forEach(a,f=>i.get([f.indexId,this.uid]).next(g=>{u.push(function(v,T){const I=T?new mb(T.sequenceNumber,new uu(Of(T.readTime),new Ze(ol(T.documentKey)),T.largestBatchId)):mb.empty(),O=v.fields.map(([B,q])=>new ZE(Ri.fromServerFormat(B),q));return new zE(v.indexId,v.collectionGroup,O,I)}(f,g))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:tn(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=cD(e),a=uD(e);return this.sn(e).next(u=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ye.forEach(f,g=>{return a.put({indexId:g.indexId,uid:this.user.uid||"",sequenceNumber:u,readTime:kf((O=r).readTime),documentKey:Oi(O.documentKey.path),largestBatchId:O.largestBatchId});var O})))}updateIndexEntries(e,t){const r=new Map;return ye.forEach(t,(i,a)=>{const u=r.get(i.collectionGroup);return(u?ye.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),ye.forEach(f,g=>this.rn(e,i,g).next(v=>{const T=this.on(a,g);return v.isEqual(T)?ye.resolve():this.un(e,a,v,T)}))))})}an(e,t,r){return Rb(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,documentKey:Oi(t.key.path)})}cn(e,t,r){return Rb(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,Oi(t.key.path)])}rn(e,t,r){const i=Rb(e);let a=new ar(Pf);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,Oi(t.path)])},(u,f)=>{a=a.add(new Ld(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}on(e,t){let r=new ar(Pf);const i=this.Ze(t,e);if(null==i)return r;const a=ZM(t);if(null!=a){const u=e.data.field(a.fieldPath);if(fb(u))for(const f of u.arrayValue.values||[])r=r.add(new Ld(t.indexId,e.key,this.He(f),i))}else r=r.add(new Ld(t.indexId,e.key,lD,i));return r}un(e,t,r,i){Ue("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const a=[];return function(u,f,g,v,T){const I=u.getIterator(),O=f.getIterator();let B=Dg(I),q=Dg(O);for(;B||q;){let ee=!1,de=!1;if(B&&q){const We=g(B,q);We<0?de=!0:We>0&&(ee=!0)}else null!=B?de=!0:ee=!0;ee?(v(q),q=Dg(O)):de?(T(B),B=Dg(I)):(B=Dg(I),q=Dg(O))}}(r,i,Pf,u=>{a.push(this.an(e,t,u))},u=>{a.push(this.cn(e,t,u))}),ye.waitFor(a)}sn(e){let t=1;return uD(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,f)=>Pf(u,f)).filter((u,f,g)=>!f||0!==Pf(u,g[f-1]));const i=[];i.push(e);for(const u of r){const f=Pf(u,e),g=Pf(u,t);if(0===f)i[0]=e.ke();else if(f>0&&g<0)i.push(u),i.push(u.ke());else if(g>0)break}i.push(t);const a=[];for(let u=0;u<i.length;u+=2)a.push(IDBKeyRange.bound([i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,""],[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,""]));return a}}function jF(n){return Pi(n,"collectionParents")}function Rb(n){return Pi(n,"indexEntries")}function cD(n){return Pi(n,"indexConfiguration")}function uD(n){return Pi(n,"indexState")}const GF={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class vo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new vo(e,vo.DEFAULT_COLLECTION_PERCENTILE,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function qF(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],u=IDBKeyRange.only(t.batchId);let f=0;const g=r.Wt({range:u},(T,I,O)=>(f++,O.delete()));a.push(g.next(()=>{Ht(1===f)}));const v=[];for(const T of t.mutations){const I=IF(e,T.key.path,t.batchId);a.push(i.delete(I)),v.push(T.key)}return ye.waitFor(a).next(()=>v)}function dD(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw dt();e=n.noDocument}return JSON.stringify(e).length}vo.DEFAULT_COLLECTION_PERCENTILE=10,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vo.DEFAULT=new vo(41943040,vo.DEFAULT_COLLECTION_PERCENTILE,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vo.DISABLED=new vo(-1,0,0);class fx{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.hn={}}static Yt(e,t,r,i){Ht(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new fx(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vd(e).Wt({index:"userMutationsIndex",range:r},(i,a,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=Mg(e),u=Vd(e);return u.add({}).next(f=>{Ht("number"==typeof f);const g=new ox(f,t,r,i),v=function(O,B,q){const ee=q.baseMutations.map(We=>Ib(O.Jt,We)),de=q.mutations.map(We=>Ib(O.Jt,We));return{userId:B,batchId:q.batchId,localWriteTimeMs:q.localWriteTime.toMillis(),baseMutations:ee,mutations:de}}(this.M,this.userId,g),T=[];let I=new ar((O,B)=>tn(O.canonicalString(),B.canonicalString()));for(const O of i){const B=IF(this.userId,O.key.path,f);I=I.add(O.key.path.popLast()),T.push(u.put(v)),T.push(a.put(B,qj))}return I.forEach(O=>{T.push(this.indexManager.addToCollectionParentIndex(e,O))}),e.addOnCommittedListener(()=>{this.hn[f]=g.keys()}),ye.waitFor(T).next(()=>g)})}lookupMutationBatch(e,t){return Vd(e).get(t).next(r=>r?(Ht(r.userId===this.userId),Ig(this.M,r)):null)}ln(e,t){return this.hn[t]?ye.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.hn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Vd(e).Wt({index:"userMutationsIndex",range:i},(u,f,g)=>{f.userId===this.userId&&(Ht(f.batchId>=r),a=Ig(this.M,f)),g.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Vd(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,a,u)=>{r=a.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vd(e).qt("userMutationsIndex",t).next(r=>r.map(i=>Ig(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=iD(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Mg(e).Wt({range:i},(u,f,g)=>{const[v,T,I]=u,O=ol(T);if(v===this.userId&&t.path.isEqual(O))return Vd(e).get(I).next(B=>{if(!B)throw dt();Ht(B.userId===this.userId),a.push(Ig(this.M,B))});g.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ar(tn);const i=[];return t.forEach(a=>{const u=iD(this.userId,a.path),f=IDBKeyRange.lowerBound(u),g=Mg(e).Wt({range:f},(v,T,I)=>{const[O,B,q]=v,ee=ol(B);O===this.userId&&a.path.isEqual(ee)?r=r.add(q):I.done()});i.push(g)}),ye.waitFor(i).next(()=>this.fn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=iD(this.userId,r),u=IDBKeyRange.lowerBound(a);let f=new ar(tn);return Mg(e).Wt({range:u},(g,v,T)=>{const[I,O,B]=g,q=ol(O);I===this.userId&&r.isPrefixOf(q)?q.length===i&&(f=f.add(B)):T.done()}).next(()=>this.fn(e,f))}fn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(Vd(e).get(a).next(u=>{if(null===u)throw dt();Ht(u.userId===this.userId),r.push(Ig(this.M,u))}))}),ye.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return qF(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.dn(t.batchId)}),ye.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}dn(e){delete this.hn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ye.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Mg(e).Wt({range:r},(a,u,f)=>{if(a[0]===this.userId){const g=ol(a[1]);i.push(g)}else f.done()}).next(()=>{Ht(0===i.length)})})}containsKey(e,t){return $F(e,this.userId,t)}_n(e){return zF(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function $F(n,e,t){const r=iD(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let u=!1;return Mg(n).Wt({range:a,jt:!0},(f,g,v)=>{const[T,I,O]=f;T===e&&I===i&&(u=!0),v.done()}).next(()=>u)}function Vd(n){return Pi(n,"mutations")}function Mg(n){return Pi(n,"documentMutations")}function zF(n){return Pi(n,"mutationQueues")}class Nf{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new Nf(0)}static gn(){return new Nf(-1)}}class y3{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.yn(e).next(t=>{const r=new Nf(t.highestTargetId);return t.highestTargetId=r.next(),this.pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.yn(e).next(t=>Nt.fromTimestamp(new $r(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.yn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.yn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.pn(e,i)))}addTargetData(e,t){return this.In(e,t).next(()=>this.yn(e).next(r=>(r.targetCount+=1,this.Tn(t,r),this.pn(e,r))))}updateTargetData(e,t){return this.In(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>xg(e).delete(t.targetId)).next(()=>this.yn(e)).next(r=>(Ht(r.targetCount>0),r.targetCount-=1,this.pn(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return xg(e).Wt((u,f)=>{const g=Mb(f);g.sequenceNumber<=t&&null===r.get(g.targetId)&&(i++,a.push(this.removeTargetData(e,g)))}).next(()=>ye.waitFor(a)).next(()=>i)}forEachTarget(e,t){return xg(e).Wt((r,i)=>{const a=Mb(i);t(a)})}yn(e){return ZF(e).get("targetGlobalKey").next(t=>(Ht(null!==t),t))}pn(e,t){return ZF(e).put("targetGlobalKey",t)}In(e,t){return xg(e).put(FF(this.M,t))}Tn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.yn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Sf(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return xg(e).Wt({range:i,index:"queryTargetsIndex"},(u,f,g)=>{const v=Mb(f);gb(t,v.target)&&(a=v,g.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=Bd(e);return t.forEach(u=>{const f=Oi(u.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,u))}),ye.waitFor(i)}removeMatchingKeys(e,t,r){const i=Bd(e);return ye.forEach(t,a=>{const u=Oi(a.path);return ye.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Bd(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Bd(e);let a=Mn();return i.Wt({range:r,jt:!0},(u,f,g)=>{const v=ol(u[1]),T=new Ze(v);a=a.add(T)}).next(()=>a)}containsKey(e,t){const r=Oi(t.path),i=IDBKeyRange.bound([r],[EN(r)],!1,!0);let a=0;return Bd(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([u,f],g,v)=>{0!==u&&(a++,v.done())}).next(()=>a>0)}Et(e,t){return xg(e).get(t).next(r=>r?Mb(r):null)}}function xg(n){return Pi(n,"targets")}function ZF(n){return Pi(n,"targetGlobal")}function Bd(n){return Pi(n,"targetDocuments")}function Ff(n){return px.apply(this,arguments)}function px(){return px=(0,we.Z)(function*(n){if(n.code!==pe.FAILED_PRECONDITION||n.message!==xF)throw n;Ue("LocalStore","Unexpectedly lost primary lease")}),px.apply(this,arguments)}function WF([n,e],[t,r]){const i=tn(n,t);return 0===i?tn(e,r):i}class v3{constructor(e){this.En=e,this.buffer=new ar(WF),this.An=0}Rn(){return++this.An}bn(e){const t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();WF(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class b3{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Pn=!1,this.Vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(e){var t=this;const r=this.Pn?3e5:6e4;Ue("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,we.Z)(function*(){t.Vn=null,t.Pn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){xf(i)?Ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Ff(i)}yield t.vn(e)}))}}class w3{constructor(e,t){this.Sn=e,this.params=t}calculateTargetCount(e,t){return this.Sn.Dn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ye.resolve(zo.A);const r=new v3(t);return this.Sn.forEachTarget(e,i=>r.bn(i.sequenceNumber)).next(()=>this.Sn.Cn(e,i=>r.bn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Sn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Sn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(GF)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),GF):this.xn(e,t))}getCacheSize(e){return this.Sn.getCacheSize(e)}xn(e,t){let r,i,a,u,f,g,v;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(Ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),i=this.params.maximumSequenceNumbersToCollect):i=I,u=Date.now(),this.nthSequenceNumber(e,i))).next(I=>(r=I,f=Date.now(),this.removeTargets(e,r,t))).next(I=>(a=I,g=Date.now(),this.removeOrphanedDocuments(e,r))).next(I=>(v=Date.now(),jM()<=nl.in.DEBUG&&Ue("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-T}ms\n\tDetermined least recently used ${i} in `+(f-u)+`ms\n\tRemoved ${a} targets in `+(g-f)+`ms\n\tRemoved ${I} documents in `+(v-g)+`ms\nTotal Duration: ${v-T}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:I})))}}class C3{constructor(e,t){this.db=e,this.garbageCollector=new w3(this,t)}Dn(e){const t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Nn(e){let t=0;return this.Cn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Cn(e,t){return this.kn(e,(r,i)=>t(i))}addReference(e,t,r){return hD(e,r)}removeReference(e,t,r){return hD(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return hD(e,t)}Mn(e,t){return function(r,i){let a=!1;return zF(r).zt(u=>$F(r,u,i).next(f=>(f&&(a=!0),ye.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.kn(e,(u,f)=>{if(f<=t){const g=this.Mn(e,u).next(v=>{if(!v)return a++,r.getEntry(e,u).next(()=>(r.removeEntry(u,Nt.min()),Bd(e).delete([0,Oi(u.path)])))});i.push(g)}}).next(()=>ye.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return hD(e,t)}kn(e,t){const r=Bd(e);let i,a=zo.A;return r.Wt({index:"documentTargetsIndex"},([u,f],{path:g,sequenceNumber:v})=>{0===u?(a!==zo.A&&t(new Ze(ol(i)),a),a=v,i=g):a=zo.A}).next(()=>{a!==zo.A&&t(new Ze(ol(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function hD(n,e){return Bd(n).put((r=n.currentSequenceNumber,{targetId:0,path:Oi(e.path),sequenceNumber:r}));var r}class KF{constructor(){this.changes=new Nd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,or.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ye.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class E3{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Lf(e).put(r)}removeEntry(e,t,r){return Lf(e).delete(function(i,a){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],oD(a),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.On(e,r)))}getEntry(e,t){let r=or.newInvalidDocument(t);return Lf(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(kb(t))},(i,a)=>{r=this.Fn(t,a)}).next(()=>r)}$n(e,t){let r={size:0,document:or.newInvalidDocument(t)};return Lf(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(kb(t))},(i,a)=>{r={document:this.Fn(t,a),size:dD(a)}}).next(()=>r)}getEntries(e,t){let r=Ra();return this.Bn(e,t,(i,a)=>{const u=this.Fn(i,a);r=r.insert(i,u)}).next(()=>r)}Ln(e,t){let r=Ra(),i=new zr(Ze.comparator);return this.Bn(e,t,(a,u)=>{const f=this.Fn(a,u);r=r.insert(a,f),i=i.insert(a,dD(u))}).next(()=>({documents:r,Un:i}))}Bn(e,t,r){if(t.isEmpty())return ye.resolve();let i=new ar(XF);t.forEach(g=>i=i.add(g));const a=IDBKeyRange.bound(kb(i.first()),kb(i.last())),u=i.getIterator();let f=u.getNext();return Lf(e).Wt({index:"documentKeyIndex",range:a},(g,v,T)=>{const I=Ze.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;f&&XF(f,I)<0;)r(f,null),f=u.getNext();f&&f.isEqual(I)&&(r(f,v),f=u.hasNext()?u.getNext():null),f?T.Ut(kb(f)):T.done()}).next(()=>{for(;f;)r(f,null),f=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),oD(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Lf(e).qt(IDBKeyRange.bound(i,a,!0)).next(u=>{let f=Ra();for(const g of u){const v=this.Fn(Ze.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);f=f.insert(v.key,v)}return f})}getAllFromCollectionGroup(e,t,r,i){let a=Ra();const u=QF(t,r),f=QF(t,uu.max());return Lf(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(g,v,T)=>{const I=this.Fn(Ze.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);a=a.insert(I.key,I),a.size===i&&T.done()}).next(()=>a)}newChangeBuffer(e){return new D3(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return YF(e).get("remoteDocumentGlobalKey").next(t=>(Ht(!!t),t))}On(e,t){return YF(e).put("remoteDocumentGlobalKey",t)}Fn(e,t){if(t){const r=function c3(n,e){let t;if(e.document)t=vF(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ze.fromSegments(e.noDocument.path),i=Of(e.noDocument.readTime);t=or.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return dt();{const r=Ze.fromSegments(e.unknownDocument.path),i=Of(e.unknownDocument.version);t=or.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new $r(r[0],r[1]);return Nt.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(Nt.min()))return r}return or.newInvalidDocument(e)}}class D3 extends KF{constructor(e,t){super(),this.qn=e,this.trackRemovals=t,this.Gn=new Nd(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new ar((a,u)=>tn(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const f=this.Gn.get(a);if(t.push(this.qn.removeEntry(e,a,f.readTime)),u.isValidDocument()){const g=NF(this.qn.M,u);i=i.add(a.path.popLast()),r+=dD(g)-f.size,t.push(this.qn.addEntry(e,a,g))}else if(r-=f.size,this.trackRemovals){const g=NF(this.qn.M,u.convertToNoDocument(Nt.min()));t.push(this.qn.addEntry(e,a,g))}}),i.forEach(a=>{t.push(this.qn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.qn.updateMetadata(e,r)),ye.waitFor(t)}getFromCache(e,t){return this.qn.$n(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.qn.Ln(e,t).next(({documents:r,Un:i})=>(i.forEach((a,u)=>{this.Gn.set(a,{size:u,readTime:r.get(a).readTime})}),r))}}function YF(n){return Pi(n,"remoteDocumentGlobal")}function Lf(n){return Pi(n,"remoteDocumentsV14")}function kb(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function QF(n,e){const t=e.documentKey.path.toArray();return[n,oD(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function XF(n,e){const t=n.path.length-e.path.length;return 0!==t?t:Ze.comparator(n,e)}class T3{constructor(e){this.M=e}kt(e,t,r,i){const a=new sD("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",SF,{unique:!0}),f.createObjectStore("documentMutations"),JF(e),function(f){f.createObjectStore("remoteDocuments")}(e));let u=ye.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),JF(e)),u=u.next(()=>function(f){const g=f.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Nt.min().toTimestamp(),targetCount:0};return g.put("targetGlobalKey",v)}(a))),r<4&&i>=4&&(0!==r&&(u=u.next(()=>function(f,g){return g.store("mutations").qt().next(v=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",SF,{unique:!0});const T=g.store("mutations"),I=v.map(O=>T.put(O));return ye.waitFor(I)})}(e,a))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(u=u.next(()=>this.Kn(a))),r<6&&i>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Qn(a)))),r<7&&i>=7&&(u=u.next(()=>this.jn(a))),r<8&&i>=8&&(u=u.next(()=>this.Wn(e,a))),r<9&&i>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(u=u.next(()=>this.zn(a))),r<11&&i>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(u=u.next(()=>{!function(f){const g=f.createObjectStore("documentOverlays",{keyPath:n3});g.createIndex("collectionPathOverlayIndex",r3,{unique:!1}),g.createIndex("collectionGroupOverlayIndex",i3,{unique:!1})}(e)})),r<13&&i>=13&&(u=u.next(()=>function(f){const g=f.createObjectStore("remoteDocumentsV14",{keyPath:$j});g.createIndex("documentKeyIndex",zj),g.createIndex("collectionGroupIndex",Zj)}(e)).next(()=>this.Hn(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(u=u.next(()=>{!function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:Xj}).createIndex("sequenceNumberIndex",Jj,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:e3}).createIndex("documentKeyIndex",t3,{unique:!1})}(e)})),u}Qn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=dD(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Kn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>ye.forEach(i,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",u).next(f=>ye.forEach(f,g=>{Ht(g.userId===a.userId);const v=Ig(this.M,g);return qF(e,a.userId,v).next(()=>{})}))}))}jn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.Wt((u,f)=>{const g=new dn(u),v=[0,Oi(g)];a.push(t.get(v).next(T=>T?ye.resolve():t.put({targetId:0,path:Oi(g),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ye.waitFor(a))})}Wn(e,t){e.createObjectStore("collectionParents",{keyPath:Qj});const r=t.store("collectionParents"),i=new hx,a=u=>{if(i.add(u)){const f=u.lastSegment(),g=u.popLast();return r.put({collectionId:f,parent:Oi(g)})}};return t.store("remoteDocuments").Wt({jt:!0},(u,f)=>{const g=new dn(u);return a(g.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([u,f,g],v)=>{const T=ol(f);return a(T.popLast())}))}zn(e){const t=e.store("targets");return t.Wt((r,i)=>{const a=Mb(i),u=FF(this.M,a);return t.put(u)})}Hn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((a,u)=>{const f=t.store("remoteDocumentsV14"),g=(v=u,v.document?new Ze(dn.fromString(v.document.name).popFirst(5)):v.noDocument?Ze.fromSegments(v.noDocument.path):v.unknownDocument?Ze.fromSegments(v.unknownDocument.path):dt()).path.toArray();var v;const T={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(f.put(T))}).next(()=>ye.waitFor(i))}}function JF(n){n.createObjectStore("targetDocuments",{keyPath:Kj}).createIndex("documentTargetsIndex",Yj,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Wj,{unique:!0}),n.createObjectStore("targetGlobal")}const mx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class gx{constructor(e,t,r,i,a,u,f,g,v,T,I=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Jn=a,this.window=u,this.document=f,this.Yn=v,this.Xn=T,this.Zn=I,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=O=>Promise.resolve(),!gx.vt())throw new Oe(pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new C3(this,i),this.cs=t+"main",this.M=new PF(g),this.hs=new al(this.cs,this.Zn,new T3(this.M)),this.ls=new y3(this.referenceDelegate,this.M),this.fs=new E3(this.M),this.ds=new u3,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===T&&ii("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(pe.FAILED_PRECONDITION,mx);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ls.getHighestSequenceNumber(e))}).then(e=>{this.ts=new zo(e,this.Yn)}).then(()=>{this.es=!0}).catch(e=>(this.hs&&this.hs.close(),Promise.reject(e)))}Is(e){var t=this;return this.us=function(){var r=(0,we.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.hs.Ot(function(){var t=(0,we.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget((0,we.Z)(function*(){t.started&&(yield t.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>fD(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(e).next(t=>{t||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(e)).next(t=>this.isPrimary&&!t?this.As(e).next(()=>!1):!!t&&this.Rs(e).next(()=>!0))).catch(e=>{if(xf(e))return Ue("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ue("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Jn.enqueueRetryable(()=>this.us(e)),this.isPrimary=e})}Ts(e){return Ob(e).get("owner").next(t=>ye.resolve(this.bs(t)))}Ps(e){return fD(e).delete(this.clientId)}Vs(){var e=this;return(0,we.Z)(function*(){if(e.isPrimary&&!e.vs(e.os,18e5)){e.os=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Pi(r,"clientMetadata");return i.qt().next(a=>{const u=e.Ss(a,18e5),f=a.filter(g=>-1===u.indexOf(g));return ye.forEach(f,g=>i.delete(g.clientId)).next(()=>f)})}).catch(()=>[]);if(e._s)for(const r of t)e._s.removeItem(e.Ds(r.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(e){return!!e&&e.ownerId===this.clientId}Es(e){return this.Xn?ye.resolve(!0):Ob(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Oe(pe.FAILED_PRECONDITION,mx);return!1}}return!(!this.networkEnabled||!this.inForeground)||fD(e).qt().next(r=>void 0===this.Ss(r,5e3).find(i=>{if(this.clientId!==i.clientId){const u=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||u&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ue("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,we.Z)(function*(){e.es=!1,e.xs(),e.rs&&(e.rs.cancel(),e.rs=null),e.Ns(),e.ks(),yield e.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new OF(t,zo.A);return e.As(r).next(()=>e.Ps(r))}),e.hs.close(),e.Ms()})()}Ss(e,t){return e.filter(r=>this.vs(r.updateTimeMs,t)&&!this.Cs(r.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",e=>fD(e).qt().next(t=>this.Ss(t,18e5).map(r=>r.clientId)))}get started(){return this.es}getMutationQueue(e,t){return fx.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(e){return new _3(e)}getDocumentOverlayCache(e){return dx.Yt(this.M,e)}getBundleCache(){return this.ds}runTransaction(e,t,r){Ue("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=14===(u=this.Zn)?o3:13===u?MF:12===u?s3:11===u?AF:void dt();var u;let f;return this.hs.runTransaction(e,i,a,g=>(f=new OF(g,this.ts?this.ts.next():zo.A),"readwrite-primary"===t?this.Ts(f).next(v=>!!v||this.Es(f)).next(v=>{if(!v)throw ii(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new Oe(pe.FAILED_PRECONDITION,xF);return r(f)}).next(v=>this.Rs(f).next(()=>v)):this.Fs(f).next(()=>r(f)))).then(g=>(f.raiseOnCommittedEvent(),g))}Fs(e){return Ob(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)&&!this.bs(t)&&!(this.Xn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Oe(pe.FAILED_PRECONDITION,mx)})}Rs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ob(e).put("owner",t)}static vt(){return al.vt()}As(e){const t=Ob(e);return t.get("owner").next(r=>this.bs(r)?(Ue("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ye.resolve())}vs(e,t){const r=Date.now();return!(e<r-t||e>r&&(ii(`Detected an update time that is in the future: ${e} > ${r}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=()=>{this.xs(),(0,yt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(e){var t;try{const r=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return Ue("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ii("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(e){ii("Failed to set zombie client id.",e)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(e){}}Ds(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ob(n){return Pi(n,"owner")}function fD(n){return Pi(n,"clientMetadata")}function _x(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class S3{constructor(e,t,r){this.fs=e,this.$s=t,this.indexManager=r}Bs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Ls(e,t,r))}Ls(e,t,r){return this.fs.getEntry(e,t).next(i=>{for(const a of r)a.applyToLocalView(i);return i})}Us(e,t){e.forEach((r,i)=>{for(const a of t)a.applyToLocalView(i)})}qs(e,t){return this.fs.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Us(t,r))}Ks(e,t,r){return Ze.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.Qs(e,t.path):YM(t)?this.js(e,t,r):this.Ws(e,t,r);var i}Qs(e,t){return this.Bs(e,new Ze(t)).next(r=>{let i=tx();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}js(e,t,r){const i=t.collectionGroup;let a=tx();return this.indexManager.getCollectionParents(e,i).next(u=>ye.forEach(u,f=>{const g=(v=t,T=f.child(i),new du(T,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,T;return this.Ws(e,g,r).next(v=>{v.forEach((T,I)=>{a=a.insert(T,I)})})}).next(()=>a))}Ws(e,t,r){let i;return this.fs.getAllFromCollection(e,t.path,r).next(a=>(i=a,this.$s.getAllMutationBatchesAffectingQuery(e,t))).next(a=>{for(const u of a)for(const f of u.mutations){const g=f.key;let v=i.get(g);null==v&&(v=or.newInvalidDocument(g),i=i.insert(g,v)),JM(f,v,u.localWriteTime),v.isFoundDocument()||(i=i.remove(g))}}).next(()=>(i.forEach((a,u)=>{XM(t,u)||(i=i.remove(a))}),i))}}class yx{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.zs=r,this.Hs=i}static Js(e,t){let r=Mn(),i=Mn();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new yx(e,t.fromCache,r,i)}}class eL{Ys(e){this.Xs=e}Ks(e,t,r,i){return 0===(a=t).filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())||r.isEqual(Nt.min())?this.Zs(e,t):this.Xs.qs(e,i).next(a=>{const u=this.ti(t,a);return(YE(t)||QE(t))&&this.ei(t.limitType,u,i,r)?this.Zs(e,t):(jM()<=nl.in.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),QM(t)),this.Xs.Ks(e,t,LN(r,-1)).next(f=>(u.forEach(g=>{f=f.insert(g.key,g)}),f)))});var a}ti(e,t){let r=new ar(zN(e));return t.forEach((i,a)=>{XM(e,a)&&(r=r.add(a))}),r}ei(e,t,r,i){if(r.size!==t.size)return!0;const a="F"===e?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Zs(e,t){return jM()<=nl.in.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",QM(t)),this.Xs.Ks(e,t,uu.min())}}class I3{constructor(e,t,r,i){this.persistence=e,this.ni=t,this.M=i,this.si=new zr(tn),this.ii=new Nd(a=>Sf(a),gb),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(r)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new S3(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.si))}}function tL(n,e,t,r){return new I3(n,e,t,r)}function nL(n,e){return vx.apply(this,arguments)}function vx(){return vx=(0,we.Z)(function*(n,e){const t=tt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.$s.getAllMutationBatches(r).next(a=>(i=a,t.ui(e),t.$s.getAllMutationBatches(r))).next(a=>{const u=[],f=[];let g=Mn();for(const v of i){u.push(v.batchId);for(const T of v.mutations)g=g.add(T.key)}for(const v of a){f.push(v.batchId);for(const T of v.mutations)g=g.add(T.key)}return t.ai.qs(r,g).next(v=>({ci:v,removedBatchIds:u,addedBatchIds:f}))})})}),vx.apply(this,arguments)}function A3(n,e){const t=tt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.oi.newChangeBuffer({trackRemovals:!0});return function(u,f,g,v){const T=g.batch,I=T.keys();let O=ye.resolve();return I.forEach(B=>{O=O.next(()=>v.getEntry(f,B)).next(q=>{const ee=g.docVersions.get(B);Ht(null!==ee),q.version.compareTo(ee)<0&&(T.applyToRemoteDocument(q,g),q.isValidDocument()&&(q.setReadTime(g.commitVersion),v.addEntry(q)))})}),O.next(()=>u.$s.removeMutationBatch(f,T))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.$s.performConsistencyCheck(r)).next(()=>t.ai.qs(r,i))})}function rL(n){const e=tt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ls.getLastRemoteSnapshotVersion(t))}function M3(n,e){const t=tt(n),r=e.snapshotVersion;let i=t.si;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.oi.newChangeBuffer({trackRemovals:!0});i=t.si;const f=[];e.targetChanges.forEach((v,T)=>{const I=i.get(T);if(!I)return;f.push(t.ls.removeMatchingKeys(a,v.removedDocuments,T).next(()=>t.ls.addMatchingKeys(a,v.addedDocuments,T)));let O=I.withSequenceNumber(a.currentSequenceNumber);var B,q,ee;e.targetMismatches.has(T)?O=O.withResumeToken(gi.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):v.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(v.resumeToken,r)),i=i.insert(T,O),q=O,ee=v,(0===(B=I).resumeToken.approximateByteSize()||q.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0)&&f.push(t.ls.updateTargetData(a,O))});let g=Ra();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))}),f.push(iL(a,u,e.documentUpdates).next(v=>{g=v})),!r.isEqual(Nt.min())){const v=t.ls.getLastRemoteSnapshotVersion(a).next(T=>t.ls.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(v)}return ye.waitFor(f).next(()=>u.apply(a)).next(()=>t.ai.Gs(a,g)).next(()=>g)}).then(a=>(t.si=i,a))}function iL(n,e,t){let r=Mn();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let a=Ra();return t.forEach((u,f)=>{const g=i.get(u);f.isNoDocument()&&f.version.isEqual(Nt.min())?(e.removeEntry(u,f.readTime),a=a.insert(u,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||0===f.version.compareTo(g.version)&&g.hasPendingWrites?(e.addEntry(f),a=a.insert(u,f)):Ue("LocalStore","Ignoring outdated watch update for ",u,". Current version:",g.version," Watch version:",f.version)}),a})}function x3(n,e){const t=tt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.$s.getNextMutationBatchAfterBatchId(r,e)))}function Rg(n,e){const t=tt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.ls.getTargetData(r,e).next(a=>a?(i=a,ye.resolve(i)):t.ls.allocateTargetId(r).next(u=>(i=new Fd(e,u,0,r.currentSequenceNumber),t.ls.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.si.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.si=t.si.insert(r.targetId,r),t.ii.set(e,r.targetId)),r})}function kg(n,e,t){return bx.apply(this,arguments)}function bx(){return bx=(0,we.Z)(function*(n,e,t){const r=tt(n),i=r.si.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!xf(u))throw u;Ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.si=r.si.remove(e),r.ii.delete(i.target)}),bx.apply(this,arguments)}function pD(n,e,t){const r=tt(n);let i=Nt.min(),a=Mn();return r.persistence.runTransaction("Execute query","readonly",u=>function(f,g,v){const T=tt(f),I=T.ii.get(v);return void 0!==I?ye.resolve(T.si.get(I)):T.ls.getTargetData(g,v)}(r,u,xa(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(u,f.targetId).next(g=>{a=g})}).next(()=>r.ni.Ks(u,e,t?i:Nt.min(),t?a:Mn())).next(f=>(aL(r,$N(e),f),{documents:f,hi:a})))}function sL(n,e){const t=tt(n),r=tt(t.ls),i=t.si.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.Et(a,e).next(u=>u?u.target:null))}function oL(n,e){const t=tt(n),r=t.ri.get(e)||Nt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.oi.getAllFromCollectionGroup(i,e,LN(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(aL(t,e,i),i))}function aL(n,e,t){let r=Nt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.ri.set(e,r)}function wx(){return wx=(0,we.Z)(function*(n,e,t,r){const i=tt(n);let a=Mn(),u=Ra();for(const v of t){const T=e.li(v.metadata.name);v.document&&(a=a.add(T));const I=e.fi(v);I.setReadTime(e.di(v.metadata.readTime)),u=u.insert(T,I)}const f=i.oi.newChangeBuffer({trackRemovals:!0}),g=yield Rg(i,(v=r,xa(bg(dn.fromString(`__bundle__/docs/${v}`)))));var v;return i.persistence.runTransaction("Apply bundle documents","readwrite",v=>iL(v,f,u).next(T=>(f.apply(v),T)).next(T=>i.ls.removeMatchingKeysForTargetId(v,g.targetId).next(()=>i.ls.addMatchingKeys(v,a,g.targetId)).next(()=>i.ai.Gs(v,T)).next(()=>T)))}),wx.apply(this,arguments)}function k3(n,e){return Cx.apply(this,arguments)}function Cx(){return Cx=(0,we.Z)(function*(n,e,t=Mn()){const r=yield Rg(n,xa(cx(e.bundledQuery))),i=tt(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const u=ki(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.ds.saveNamedQuery(a,e);const f=r.withResumeToken(gi.EMPTY_BYTE_STRING,u);return i.si=i.si.insert(f.targetId,f),i.ls.updateTargetData(a,f).next(()=>i.ls.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.ls.addMatchingKeys(a,t,r.targetId)).next(()=>i.ds.saveNamedQuery(a,e))})}),Cx.apply(this,arguments)}class O3{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return ye.resolve(this._i.get(t))}saveBundleMetadata(e,t){var r;return this._i.set(t.id,{id:(r=t).id,version:r.version,createTime:ki(r.createTime)}),ye.resolve()}getNamedQuery(e,t){return ye.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(r=t).name,query:cx(r.bundledQuery),readTime:ki(r.readTime)}),ye.resolve();var r}}class P3{constructor(){this.overlays=new zr(Ze.comparator),this.mi=new Map}getOverlay(e,t){return ye.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.Xt(e,t,a)}),ye.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.mi.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.mi.delete(r)),ye.resolve()}getOverlaysForCollection(e,t,r){const i=wb(),a=t.length+1,u=new Ze(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const g=f.getNext().value,v=g.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===a&&g.largestBatchId>r&&i.set(g.getKey(),g)}return ye.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new zr((v,T)=>v-T);const u=this.overlays.getIterator();for(;u.hasNext();){const v=u.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>r){let T=a.get(v.largestBatchId);null===T&&(T=wb(),a=a.insert(v.largestBatchId,T)),T.set(v.getKey(),v)}}const f=wb(),g=a.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,T)=>f.set(v,T)),!(f.size()>=i)););return ye.resolve(f)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const u=this.mi.get(i.largestBatchId).delete(r.key);this.mi.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new lx(t,r));let a=this.mi.get(t);void 0===a&&(a=Mn(),this.mi.set(t,a)),this.mi.set(t,a.add(r.key))}}class Ex{constructor(){this.gi=new ar(Ni.yi),this.pi=new ar(Ni.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const r=new Ni(e,t);this.gi=this.gi.add(r),this.pi=this.pi.add(r)}Ti(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ei(new Ni(e,t))}Ai(e,t){e.forEach(r=>this.removeReference(r,t))}Ri(e){const t=new Ze(new dn([])),r=new Ni(t,e),i=new Ni(t,e+1),a=[];return this.pi.forEachInRange([r,i],u=>{this.Ei(u),a.push(u.key)}),a}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new Ze(new dn([])),r=new Ni(t,e),i=new Ni(t,e+1);let a=Mn();return this.pi.forEachInRange([r,i],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Ni(e,0),r=this.gi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ni{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return Ze.comparator(e.key,t.key)||tn(e.Vi,t.Vi)}static Ii(e,t){return tn(e.Vi,t.Vi)||Ze.comparator(e.key,t.key)}}class N3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.$s=[],this.vi=1,this.Si=new ar(Ni.yi)}checkEmpty(e){return ye.resolve(0===this.$s.length)}addMutationBatch(e,t,r,i){const a=this.vi;this.vi++;const u=new ox(a,t,r,i);this.$s.push(u);for(const f of i)this.Si=this.Si.add(new Ni(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ye.resolve(u)}lookupMutationBatch(e,t){return ye.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Ci(t+1),a=i<0?0:i;return ye.resolve(this.$s.length>a?this.$s[a]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return ye.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ni(t,0),i=new Ni(t,Number.POSITIVE_INFINITY),a=[];return this.Si.forEachInRange([r,i],u=>{const f=this.Di(u.Vi);a.push(f)}),ye.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ar(tn);return t.forEach(i=>{const a=new Ni(i,0),u=new Ni(i,Number.POSITIVE_INFINITY);this.Si.forEachInRange([a,u],f=>{r=r.add(f.Vi)})}),ye.resolve(this.xi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Ze.isDocumentKey(a)||(a=a.child(""));const u=new Ni(new Ze(a),0);let f=new ar(tn);return this.Si.forEachWhile(g=>{const v=g.key.path;return!!r.isPrefixOf(v)&&(v.length===i&&(f=f.add(g.Vi)),!0)},u),ye.resolve(this.xi(f))}xi(e){const t=[];return e.forEach(r=>{const i=this.Di(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Ht(0===this.Ni(t.batchId,"removed")),this.$s.shift();let r=this.Si;return ye.forEach(t.mutations,i=>{const a=new Ni(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Si=r})}dn(e){}containsKey(e,t){const r=new Ni(t,0),i=this.Si.firstAfterOrEqual(r);return ye.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ye.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}class F3{constructor(e){this.ki=e,this.docs=new zr(Ze.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,u=this.ki(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ye.resolve(r?r.document.mutableCopy():or.newInvalidDocument(t))}getEntries(e,t){let r=Ra();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():or.newInvalidDocument(i))}),ye.resolve(r)}getAllFromCollection(e,t,r){let i=Ra();const a=new Ze(t.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:f,value:{document:g}}=u.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||sj(ij(g),r)<=0||(i=i.insert(g.key,g.mutableCopy()))}return ye.resolve(i)}getAllFromCollectionGroup(e,t,r,i){dt()}Mi(e,t){return ye.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new L3(this)}getSize(e){return ye.resolve(this.size)}}class L3 extends KF{constructor(e){super(),this.qn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.qn.addEntry(e,i)):this.qn.removeEntry(r)}),ye.waitFor(t)}getFromCache(e,t){return this.qn.getEntry(e,t)}getAllFromCache(e,t){return this.qn.getEntries(e,t)}}class V3{constructor(e){this.persistence=e,this.Oi=new Nd(t=>Sf(t),gb),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.Fi=0,this.$i=new Ex,this.targetCount=0,this.Bi=Nf.mn()}forEachTarget(e,t){return this.Oi.forEach((r,i)=>t(i)),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Fi&&(this.Fi=t),ye.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new Nf(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,ye.resolve()}updateTargetData(e,t){return this.In(t),ye.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Oi.forEach((u,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Oi.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),ye.waitFor(a).next(()=>i)}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,t){const r=this.Oi.get(t)||null;return ye.resolve(r)}addMatchingKeys(e,t,r){return this.$i.Ti(t,r),ye.resolve()}removeMatchingKeys(e,t,r){this.$i.Ai(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(u=>{a.push(i.markPotentiallyOrphaned(e,u))}),ye.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.$i.Ri(t),ye.resolve()}getMatchingKeysForTargetId(e,t){const r=this.$i.Pi(t);return ye.resolve(r)}containsKey(e,t){return ye.resolve(this.$i.containsKey(t))}}class B3{constructor(e,t){this.Li={},this.overlays={},this.ts=new zo(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new V3(this),this.indexManager=new g3,this.fs=new F3(r=>this.referenceDelegate.Ui(r)),this.M=new PF(t),this.ds=new O3(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new P3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Li[e.toKey()];return r||(r=new N3(t,this.referenceDelegate),this.Li[e.toKey()]=r),r}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,t,r){Ue("MemoryPersistence","Starting transaction:",e);const i=new U3(this.ts.next());return this.referenceDelegate.qi(),r(i).next(a=>this.referenceDelegate.Gi(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ki(e,t){return ye.or(Object.values(this.Li).map(r=>()=>r.containsKey(e,t)))}}class U3 extends RF{constructor(e){super(),this.currentSequenceNumber=e}}class Dx{constructor(e){this.persistence=e,this.Qi=new Ex,this.ji=null}static Wi(e){return new Dx(e)}get zi(){if(this.ji)return this.ji;throw dt()}addReference(e,t,r){return this.Qi.addReference(r,t),this.zi.delete(r.toString()),ye.resolve()}removeReference(e,t,r){return this.Qi.removeReference(r,t),this.zi.add(r.toString()),ye.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),ye.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(i=>this.zi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.zi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}qi(){this.ji=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.zi,r=>{const i=Ze.fromPath(r);return this.Hi(e,i).next(a=>{a||t.removeEntry(i,Nt.min())})}).next(()=>(this.ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hi(e,t).next(r=>{r?this.zi.delete(t.toString()):this.zi.add(t.toString())})}Ui(e){return 0}Hi(e,t){return ye.or([()=>ye.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ki(e,t)])}}function lL(n,e){return`firestore_clients_${n}_${e}`}function cL(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Tx(n,e){return`firestore_targets_${n}_${e}`}class mD{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ji(e,t,r){const i=JSON.parse(r);let a,u="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(a=new Oe(i.error.code,i.error.message))),u?new mD(e,t,i.state,a):(ii("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Pb{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Oe(r.error.code,r.error.message))),a?new Pb(e,r.state,i):(ii("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class gD{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=nD();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=IN(r.activeTargetIds[u]),a=a.add(r.activeTargetIds[u]);return i?new gD(e,a):(ii("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Sx{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Sx(t.clientId,t.onlineState):(ii("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Ix{constructor(){this.activeTargetIds=nD()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ax{constructor(e,t,r,i,a){this.window=e,this.Jn=t,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new zr(tn),this.started=!1,this.ir=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=lL(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new Ix),this.ar=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,we.Z)(function*(){const t=yield e.syncEngine.Os();for(const i of t){if(i===e.tr)continue;const a=e.getItem(lL(e.persistenceKey,i));if(a){const u=gD.Ji(i,a);u&&(e.sr=e.sr.insert(u.clientId,u))}}e._r();const r=e.storage.getItem(e.lr);if(r){const i=e.wr(r);i&&e.mr(i)}for(const i of e.ir)e.nr(i);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Tx(this.persistenceKey,e));if(r){const i=Pb.Ji(e,r);i&&(t=i.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Tx(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.pr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ue("SharedClientState","READ",e,t),t}setItem(e,t){Ue("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ue("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ue("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void ii("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,we.Z)(function*(){if(t.started){if(null!==r.key)if(t.ar.test(r.key)){if(null==r.newValue){const i=t.Rr(r.key);return t.br(i,null)}{const i=t.Pr(r.key,r.newValue);if(i)return t.br(i.clientId,i)}}else if(t.cr.test(r.key)){if(null!==r.newValue){const i=t.Vr(r.key,r.newValue);if(i)return t.vr(i)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const i=t.Sr(r.key,r.newValue);if(i)return t.Dr(i)}}else if(r.key===t.lr){if(null!==r.newValue){const i=t.wr(r.newValue);if(i)return t.mr(i)}}else if(r.key===t.ur){const i=function(a){let u=zo.A;if(null!=a)try{const f=JSON.parse(a);Ht("number"==typeof f),u=f}catch(f){ii("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(r.newValue);i!==zo.A&&t.sequenceNumberHandler(i)}else if(r.key===t.dr){const i=t.Cr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Nr(a)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const i=new mD(this.currentUser,e,t,r),a=cL(this.persistenceKey,this.currentUser,e);this.setItem(a,i.Yi())}pr(e){const t=cL(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const i=Tx(this.persistenceKey,e),a=new Pb(e,t,r);this.setItem(i,a.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.ar.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return gD.Ji(r,t)}Vr(e,t){const r=this.cr.exec(e),i=Number(r[1]);return mD.Ji(new Qi(void 0!==r[2]?r[2]:null),i,t)}Sr(e,t){const r=this.hr.exec(e),i=Number(r[1]);return Pb.Ji(i,t)}wr(e){return Sx.Ji(e)}Cr(e){return JSON.parse(e)}vr(e){var t=this;return(0,we.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Ue("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),u=[],f=[];return a.forEach(g=>{i.has(g)||u.push(g)}),i.forEach(g=>{a.has(g)||f.push(g)}),this.syncEngine.Or(u,f).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=nD();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class uL{constructor(){this.Fr=new Ix,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new Ix,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class H3{Br(e){}shutdown(){}}class dL{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const j3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class G3{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class q3 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,i,a){const u=this.oo(e,t);Ue("RestConnection","Sending: ",u,r);const f={};return this.uo(f,i,a),this.ao(e,u,f,r).then(g=>(Ue("RestConnection","Received: ",g),g),g=>{throw lb("RestConnection",`${e} failed with error: `,g,"url: ",u,"request:",r),g})}co(e,t,r,i,a){return this.ro(e,t,r,i,a)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+fg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}oo(e,t){return`${this.so}/v1/${t}:${j3[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,t,r,i){return new Promise((a,u)=>{const f=new qH;f.listenOnce(HH.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case HM.NO_ERROR:const v=f.getResponseJson();Ue("Connection","XHR received:",JSON.stringify(v)),a(v);break;case HM.TIMEOUT:Ue("Connection",'RPC "'+e+'" timed out'),u(new Oe(pe.DEADLINE_EXCEEDED,"Request time out"));break;case HM.HTTP_ERROR:const T=f.getStatus();if(Ue("Connection",'RPC "'+e+'" failed with status:',T,"response text:",f.getResponseText()),T>0){const I=f.getResponseJson().error;if(I&&I.status&&I.message){const O=function(B){const q=B.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(q)>=0?q:pe.UNKNOWN}(I.status);u(new Oe(O,I.message))}else u(new Oe(pe.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new Oe(pe.UNAVAILABLE,"Connection failed."));break;default:dt()}}finally{Ue("Connection",'RPC "'+e+'" completed.')}});const g=JSON.stringify(i);f.send(t,"POST",g,r,15)})}ho(e,t,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=BH(),u=UH(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new GH({})),this.uo(f.initMessageHeaders,t,r),(0,yt.uI)()||(0,yt.b$)()||(0,yt.d)()||(0,yt.w1)()||(0,yt.Mn)()||(0,yt.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const g=i.join("");Ue("Connection","Creating WebChannel: "+g,f);const v=a.createWebChannel(g,f);let T=!1,I=!1;const O=new G3({jr:q=>{I?Ue("Connection","Not sending because WebChannel is closed:",q):(T||(Ue("Connection","Opening WebChannel transport."),v.open(),T=!0),Ue("Connection","WebChannel sending:",q),v.send(q))},Wr:()=>v.close()}),B=(q,ee,de)=>{q.listen(ee,We=>{try{de(We)}catch(He){setTimeout(()=>{throw He},0)}})};return B(v,qE.EventType.OPEN,()=>{I||Ue("Connection","WebChannel transport opened.")}),B(v,qE.EventType.CLOSE,()=>{I||(I=!0,Ue("Connection","WebChannel transport closed"),O.eo())}),B(v,qE.EventType.ERROR,q=>{I||(I=!0,lb("Connection","WebChannel transport errored:",q),O.eo(new Oe(pe.UNAVAILABLE,"The operation could not be completed")))}),B(v,qE.EventType.MESSAGE,q=>{var ee;if(!I){const de=q.data[0];Ht(!!de);const We=de,He=We.error||(null===(ee=We[0])||void 0===ee?void 0:ee.error);if(He){Ue("Connection","WebChannel received error:",He);const Ke=He.status;let Fe=function(Tt){const xn=oi[Tt];if(void 0!==xn)return aF(xn)}(Ke),It=He.message;void 0===Fe&&(Fe=pe.INTERNAL,It="Unknown error status: "+Ke+" with message "+He.message),I=!0,O.eo(new Oe(Fe,It)),v.close()}else Ue("Connection","WebChannel received:",de),O.no(de)}}),B(u,jH.STAT_EVENT,q=>{q.stat===yN.PROXY?Ue("Connection","Detected buffering proxy"):q.stat===yN.NOPROXY&&Ue("Connection","Detected no buffering proxy")}),setTimeout(()=>{O.Zr()},0),O}}function hL(){return"undefined"!=typeof window?window:null}function _D(){return"undefined"!=typeof document?document:null}function Nb(n){return new kj(n,!0)}class Mx{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Jn=e,this.timerId=t,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,t-r);i>0&&Ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class fL{constructor(e,t,r,i,a,u,f,g){this.Jn=e,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new Mx(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,we.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,we.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,t){var r=this;return(0,we.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===pe.RESOURCE_EXHAUSTED?(ii(t.toString()),ii("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===pe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===t&&this.Uo(r,i)},r=>{e(()=>{const i=new Oe(pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){var e=this;this.state=5,this.So.Io((0,we.Z)(function*(){e.state=0,e.start()}))}qo(e){return Ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.Jn.enqueueAndForget(()=>this.Po===e?t():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $3 extends fL{constructor(e,t,r,i,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.M=a}Go(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function Nj(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(g=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:dt(),i=e.targetChange.targetIds||[],a=function(g,v){return g.N?(Ht(void 0===v||"string"==typeof v),gi.fromBase64String(v||"")):(Ht(void 0===v||v instanceof Uint8Array),gi.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(g){const v=void 0===g.code?pe.UNKNOWN:aF(g.code);return new Oe(v,g.message||"")}(u);t=new uF(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=lc(n,r.document.name),a=ki(r.document.updateTime),u=new ms({mapValue:{fields:r.document.fields}}),f=or.newFoundDocument(i,a,u);t=new rD(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=lc(n,r.document),a=r.readTime?ki(r.readTime):Nt.min(),u=or.newNoDocument(i,a);t=new rD([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,i=lc(n,r.document);t=new rD([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return dt();{const r=e.filter,a=new Ej(r.count||0);t=new cF(r.targetId,a)}}var g;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return Nt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Nt.min():a.readTime?ki(a.readTime):Nt.min()}(e);return this.listener.Ko(t,r)}Qo(e){const t={};t.database=Sb(this.M),t.addTarget=function(i,a){let u;const f=a.target;return u=WE(f)?{documents:bF(i,f)}:{query:wF(i,f)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=pF(i,a.resumeToken):a.snapshotVersion.compareTo(Nt.min())>0&&(u.readTime=Db(i,a.snapshotVersion.toTimestamp())),u}(this.M,e);const r=function Lj(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return dt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Oo(t)}jo(e){const t={};t.database=Sb(this.M),t.removeTarget=e,this.Oo(t)}}class z3 extends fL{constructor(e,t,r,i,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.M=a,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Ht(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function Fj(n,e){return n&&n.length>0?(Ht(void 0!==e),n.map(t=>function(r,i){let a=ki(r.updateTime?r.updateTime:i);return a.isEqual(Nt.min())&&(a=ki(i)),new bj(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ki(e.commitTime);return this.listener.Jo(r,t)}return Ht(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=Sb(this.M),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Ib(this.M,r))};this.Oo(t)}}class Z3 extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=i,this.Zo=!1}tu(){if(this.Zo)throw new Oe(pe.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.bo.ro(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Oe(pe.UNKNOWN,i.toString())})}co(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.bo.co(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Oe(pe.UNKNOWN,i.toString())})}terminate(){this.Zo=!0}}class W3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(ii(t),this.su=!1):Ue("OnlineStateTracker",t)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class K3{constructor(e,t,r,i,a){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br(f=>{r.enqueueAndForget((0,we.Z)(function*(){var g;Ud(u)&&(Ue("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,we.Z)(function*(v){const T=tt(v);T.lu.add(4),yield Og(T),T._u.set("Unknown"),T.lu.delete(4),yield Fb(T)}),function(v){return g.apply(this,arguments)})(u))}))}),this._u=new W3(r,i)}}function Fb(n){return xx.apply(this,arguments)}function xx(){return xx=(0,we.Z)(function*(n){if(Ud(n))for(const e of n.fu)yield e(!0)}),xx.apply(this,arguments)}function Og(n){return Rx.apply(this,arguments)}function Rx(){return Rx=(0,we.Z)(function*(n){for(const e of n.fu)yield e(!1)}),Rx.apply(this,arguments)}function yD(n,e){const t=tt(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),Px(t)?Ox(t):Ng(t).Co()&&kx(t,e))}function Lb(n,e){const t=tt(n),r=Ng(t);t.hu.delete(e),r.Co()&&pL(t,e),0===t.hu.size&&(r.Co()?r.ko():Ud(t)&&t._u.set("Unknown"))}function kx(n,e){n.wu.Z(e.targetId),Ng(n).Qo(e)}function pL(n,e){n.wu.Z(e),Ng(n).jo(e)}function Ox(n){n.wu=new Mj({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.hu.get(e)||null}),Ng(n).start(),n._u.iu()}function Px(n){return Ud(n)&&!Ng(n).Do()&&n.hu.size>0}function Ud(n){return 0===tt(n).lu.size}function mL(n){n.wu=void 0}function Y3(n){return Nx.apply(this,arguments)}function Nx(){return Nx=(0,we.Z)(function*(n){n.hu.forEach((e,t)=>{kx(n,e)})}),Nx.apply(this,arguments)}function Q3(n,e){return Fx.apply(this,arguments)}function Fx(){return Fx=(0,we.Z)(function*(n,e){mL(n),Px(n)?(n._u.uu(e),Ox(n)):n._u.set("Unknown")}),Fx.apply(this,arguments)}function X3(n,e,t){return Lx.apply(this,arguments)}function Lx(){return Lx=(0,we.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof uF&&2===e.state&&e.cause)try{yield(r=(0,we.Z)(function*(i,a){const u=a.cause;for(const f of a.targetIds)i.hu.has(f)&&(yield i.remoteSyncer.rejectListen(f,u),i.hu.delete(f),i.wu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield vD(n,r)}else if(e instanceof rD?n.wu.ut(e):e instanceof cF?n.wu._t(e):n.wu.ht(e),!t.isEqual(Nt.min()))try{const r=yield rL(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const u=i.wu.yt(a);return u.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const v=i.hu.get(g);v&&i.hu.set(g,v.withResumeToken(f.resumeToken,a))}}),u.targetMismatches.forEach(f=>{const g=i.hu.get(f);if(!g)return;i.hu.set(f,g.withResumeToken(gi.EMPTY_BYTE_STRING,g.snapshotVersion)),pL(i,f);const v=new Fd(g.target,f,1,g.sequenceNumber);kx(i,v)}),i.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(r){Ue("RemoteStore","Failed to raise snapshot:",r),yield vD(n,r)}var r}),Lx.apply(this,arguments)}function vD(n,e,t){return Vx.apply(this,arguments)}function Vx(){return Vx=(0,we.Z)(function*(n,e,t){if(!xf(e))throw e;n.lu.add(1),yield Og(n),n._u.set("Offline"),t||(t=()=>rL(n.localStore)),n.asyncQueue.enqueueRetryable((0,we.Z)(function*(){Ue("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield Fb(n)}))}),Vx.apply(this,arguments)}function gL(n,e){return e().catch(t=>vD(n,t,e))}function Pg(n){return Bx.apply(this,arguments)}function Bx(){return Bx=(0,we.Z)(function*(n){const e=tt(n),t=Hd(e);let r=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;J3(e);)try{const i=yield x3(e.localStore,r);if(null===i){0===e.cu.length&&t.ko();break}r=i.batchId,eG(e,i)}catch(i){yield vD(e,i)}_L(e)&&yL(e)}),Bx.apply(this,arguments)}function J3(n){return Ud(n)&&n.cu.length<10}function eG(n,e){n.cu.push(e);const t=Hd(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function _L(n){return Ud(n)&&!Hd(n).Do()&&n.cu.length>0}function yL(n){Hd(n).start()}function tG(n){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,we.Z)(function*(n){Hd(n).Xo()}),Ux.apply(this,arguments)}function nG(n){return Hx.apply(this,arguments)}function Hx(){return Hx=(0,we.Z)(function*(n){const e=Hd(n);for(const t of n.cu)e.Ho(t.mutations)}),Hx.apply(this,arguments)}function rG(n,e,t){return jx.apply(this,arguments)}function jx(){return jx=(0,we.Z)(function*(n,e,t){const r=n.cu.shift(),i=ax.from(r,e,t);yield gL(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Pg(n)}),jx.apply(this,arguments)}function iG(n,e){return Gx.apply(this,arguments)}function Gx(){return Gx=(0,we.Z)(function*(n,e){var t;e&&Hd(n).zo&&(yield(t=(0,we.Z)(function*(r,i){if(oF(a=i.code)&&a!==pe.ABORTED){const u=r.cu.shift();Hd(r).No(),yield gL(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,i)),yield Pg(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),_L(n)&&yL(n)}),Gx.apply(this,arguments)}function vL(n,e){return qx.apply(this,arguments)}function qx(){return qx=(0,we.Z)(function*(n,e){const t=tt(n);t.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const r=Ud(t);t.lu.add(3),yield Og(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield Fb(t)}),qx.apply(this,arguments)}function $x(n,e){return zx.apply(this,arguments)}function zx(){return zx=(0,we.Z)(function*(n,e){const t=tt(n);e?(t.lu.delete(2),yield Fb(t)):e||(t.lu.add(2),yield Og(t),t._u.set("Unknown"))}),zx.apply(this,arguments)}function Ng(n){return n.mu||(n.mu=function(e,t,r){const i=tt(e);return i.tu(),new $3(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{zr:Y3.bind(null,n),Jr:Q3.bind(null,n),Ko:X3.bind(null,n)}),n.fu.push(function(){var e=(0,we.Z)(function*(t){t?(n.mu.No(),Px(n)?Ox(n):n._u.set("Unknown")):(yield n.mu.stop(),mL(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function Hd(n){return n.gu||(n.gu=function(e,t,r){const i=tt(e);return i.tu(),new z3(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{zr:tG.bind(null,n),Jr:iG.bind(null,n),Yo:nG.bind(null,n),Jo:rG.bind(null,n)}),n.fu.push(function(){var e=(0,we.Z)(function*(t){t?(n.gu.No(),yield Pg(n)):(yield n.gu.stop(),n.cu.length>0&&(Ue("RemoteStore",`Stopping write stream with ${n.cu.length} pending writes`),n.cu=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class Zx{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,r,i,a){const u=Date.now()+r,f=new Zx(e,t,u,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fg(n,e){if(ii("AsyncQueue",`${e}: ${n}`),xf(n))return new Oe(pe.UNAVAILABLE,`${e}: ${n}`);throw n}class Lg{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ze.comparator(t.key,r.key):(t,r)=>Ze.comparator(t.key,r.key),this.keyedMap=tx(),this.sortedSet=new zr(this.comparator)}static emptySet(e){return new Lg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Lg)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Lg;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class bL{constructor(){this.yu=new zr(Ze.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):dt():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Vg{constructor(e,t,r,i,a,u,f,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=g}static fromInitialDocuments(e,t,r,i){const a=[];return t.forEach(u=>{a.push({type:0,doc:u})}),new Vg(e,t,Lg.emptySet(t),a,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_b(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class sG{constructor(){this.Iu=void 0,this.listeners=[]}}class oG{constructor(){this.queries=new Nd(e=>qN(e),_b),this.onlineState="Unknown",this.Tu=new Set}}function Wx(n,e){return Kx.apply(this,arguments)}function Kx(){return Kx=(0,we.Z)(function*(n,e){const t=tt(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new sG),i)try{a.Iu=yield t.onListen(r)}catch(u){const f=Fg(u,`Initialization of query '${QM(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.Eu(t.onlineState),a.Iu&&e.Au(a.Iu)&&Xx(t)}),Kx.apply(this,arguments)}function Yx(n,e){return Qx.apply(this,arguments)}function Qx(){return Qx=(0,we.Z)(function*(n,e){const t=tt(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),Qx.apply(this,arguments)}function aG(n,e){const t=tt(n);let r=!1;for(const i of e){const u=t.queries.get(i.query);if(u){for(const f of u.listeners)f.Au(i)&&(r=!0);u.Iu=i}}r&&Xx(t)}function lG(n,e,t){const r=tt(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function Xx(n){n.Tu.forEach(e=>{e.next()})}class Jx{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Vg(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),t=!0):this.vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Vg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class cG{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class wL{constructor(e){this.M=e}li(e){return lc(this.M,e)}fi(e){return e.metadata.exists?vF(this.M,e.document,!1):or.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}di(e){return ki(e)}}class uG{constructor(e,t,r){this.xu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=CL(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=dn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new wL(this.M);for(const i of e)if(i.metadata.queries){const a=r.li(i.metadata.name);for(const u of i.metadata.queries){const f=(t.get(u)||Mn()).add(a);t.set(u,f)}}return t}complete(){var e=this;return(0,we.Z)(function*(){const t=yield function R3(n,e,t,r){return wx.apply(this,arguments)}(e.localStore,new wL(e.M),e.documents,e.xu.id),r=e.ku(e.documents);for(const i of e.queries)yield k3(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function CL(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class EL{constructor(e){this.key=e}}class DL{constructor(e){this.key=e}}class TL{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=Mn(),this.mutatedKeys=Mn(),this.Lu=zN(e),this.Uu=new Lg(this.Lu)}get qu(){return this.Fu}Gu(e,t){const r=t?t.Ku:new bL,i=t?t.Uu:this.Uu;let a=t?t.mutatedKeys:this.mutatedKeys,u=i,f=!1;const g=YE(this.query)&&i.size===this.query.limit?i.last():null,v=QE(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,I)=>{const O=i.get(T),B=XM(this.query,I)?I:null,q=!!O&&this.mutatedKeys.has(O.key),ee=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let de=!1;O&&B?O.data.isEqual(B.data)?q!==ee&&(r.track({type:3,doc:B}),de=!0):this.Qu(O,B)||(r.track({type:2,doc:B}),de=!0,(g&&this.Lu(B,g)>0||v&&this.Lu(B,v)<0)&&(f=!0)):!O&&B?(r.track({type:0,doc:B}),de=!0):O&&!B&&(r.track({type:1,doc:O}),de=!0,(g||v)&&(f=!0)),de&&(B?(u=u.add(B),a=ee?a.add(T):a.delete(T)):(u=u.delete(T),a=a.delete(T)))}),YE(this.query)||QE(this.query))for(;u.size>this.query.limit;){const T=YE(this.query)?u.last():u.first();u=u.delete(T.key),a=a.delete(T.key),r.track({type:1,doc:T})}return{Uu:u,Ku:r,ei:f,mutatedKeys:a}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const a=e.Ku.pu();a.sort((v,T)=>function(I,O){const B=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt()}};return B(I)-B(O)}(v.type,T.type)||this.Lu(v.doc,T.doc)),this.ju(r);const u=t?this.Wu():[],f=0===this.Bu.size&&this.current?1:0,g=f!==this.$u;return this.$u=f,0!==a.length||g?{snapshot:new Vg(this.query,e.Uu,i,a,e.mutatedKeys,0===f,g,!1),zu:u}:{zu:u}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new bL,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Mn(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new DL(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new EL(r))}),t}Ju(e){this.Fu=e.hi,this.Bu=Mn();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Yu(){return Vg.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class dG{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class hG{constructor(e){this.key=e,this.Xu=!1}}class fG{constructor(e,t,r,i,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Zu={},this.ta=new Nd(f=>qN(f),_b),this.ea=new Map,this.na=new Set,this.sa=new zr(Ze.comparator),this.ia=new Map,this.ra=new Ex,this.oa={},this.ua=new Map,this.aa=Nf.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function pG(n,e){return eR.apply(this,arguments)}function eR(){return eR=(0,we.Z)(function*(n,e){const t=ER(n);let r,i;const a=t.ta.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.Yu();else{const u=yield Rg(t.localStore,xa(e));t.isPrimaryClient&&yD(t.remoteStore,u);const f=t.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,i=yield tR(t,e,r,"current"===f)}return i}),eR.apply(this,arguments)}function tR(n,e,t,r){return nR.apply(this,arguments)}function nR(){return nR=(0,we.Z)(function*(n,e,t,r){n.ha=(T,I,O)=>{return(B=(0,we.Z)(function*(q,ee,de,We){let He=ee.view.Gu(de);He.ei&&(He=yield pD(q.localStore,ee.query,!1).then(({documents:It})=>ee.view.Gu(It,He)));const Ke=We&&We.targetChanges.get(ee.targetId),Fe=ee.view.applyChanges(He,q.isPrimaryClient,Ke);return hR(q,ee.targetId,Fe.zu),Fe.snapshot}),function(q,ee,de,We){return B.apply(this,arguments)})(n,T,I,O);var B};const i=yield pD(n.localStore,e,!0),a=new TL(e,i.hi),u=a.Gu(i.documents),f=Eb.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),g=a.applyChanges(u,n.isPrimaryClient,f);hR(n,t,g.zu);const v=new dG(e,t,a);return n.ta.set(e,v),n.ea.has(t)?n.ea.get(t).push(e):n.ea.set(t,[e]),g.snapshot}),nR.apply(this,arguments)}function mG(n,e){return rR.apply(this,arguments)}function rR(){return rR=(0,we.Z)(function*(n,e){const t=tt(n),r=t.ta.get(e),i=t.ea.get(r.targetId);if(i.length>1)return t.ea.set(r.targetId,i.filter(a=>!_b(a,e))),void t.ta.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield kg(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Lb(t.remoteStore,r.targetId),Bg(t,r.targetId)}).catch(Ff))):(Bg(t,r.targetId),yield kg(t.localStore,r.targetId,!0))}),rR.apply(this,arguments)}function iR(){return iR=(0,we.Z)(function*(n,e,t){const r=DR(n);try{const i=yield function(a,u){const f=tt(a),g=$r.now(),v=u.reduce((I,O)=>I.add(O.key),Mn());let T;return f.persistence.runTransaction("Locally write mutations","readwrite",I=>f.ai.qs(I,v).next(O=>{T=O;const B=[];for(const q of u){const ee=Cj(q,T.get(q.key));null!=ee&&B.push(new Mf(q.key,ee,FN(ee.value.mapValue),si.exists(!0)))}return f.$s.addMutationBatch(I,g,B,u)})).then(I=>(I.applyToLocalDocumentSet(T),{batchId:I.batchId,changes:T}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,u,f){let g=a.oa[a.currentUser.toKey()];g||(g=new zr(tn)),g=g.insert(u,f),a.oa[a.currentUser.toKey()]=g}(r,i.batchId,t),yield hu(r,i.changes),yield Pg(r.remoteStore)}catch(i){const a=Fg(i,"Failed to persist write");t.reject(a)}}),iR.apply(this,arguments)}function SL(n,e){return sR.apply(this,arguments)}function sR(){return sR=(0,we.Z)(function*(n,e){const t=tt(n);try{const r=yield M3(t.localStore,e);e.targetChanges.forEach((i,a)=>{const u=t.ia.get(a);u&&(Ht(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.Xu=!0:i.modifiedDocuments.size>0?Ht(u.Xu):i.removedDocuments.size>0&&(Ht(u.Xu),u.Xu=!1))}),yield hu(t,r,e)}catch(r){yield Ff(r)}}),sR.apply(this,arguments)}function IL(n,e,t){const r=tt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ta.forEach((a,u)=>{const f=u.view.Eu(e);f.snapshot&&i.push(f.snapshot)}),function(a,u){const f=tt(a);f.onlineState=u;let g=!1;f.queries.forEach((v,T)=>{for(const I of T.listeners)I.Eu(u)&&(g=!0)}),g&&Xx(f)}(r.eventManager,e),i.length&&r.Zu.Ko(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function _G(n,e,t){return oR.apply(this,arguments)}function oR(){return oR=(0,we.Z)(function*(n,e,t){const r=tt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ia.get(e),a=i&&i.key;if(a){let u=new zr(Ze.comparator);u=u.insert(a,or.newNoDocument(a,Nt.min()));const f=Mn().add(a),g=new Cb(Nt.min(),new Map,new ar(tn),u,f);yield SL(r,g),r.sa=r.sa.remove(a),r.ia.delete(e),fR(r)}else yield kg(r.localStore,e,!1).then(()=>Bg(r,e,t)).catch(Ff)}),oR.apply(this,arguments)}function yG(n,e){return aR.apply(this,arguments)}function aR(){return aR=(0,we.Z)(function*(n,e){const t=tt(n),r=e.batch.batchId;try{const i=yield A3(t.localStore,e);dR(t,r,null),uR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield hu(t,i)}catch(i){yield Ff(i)}}),aR.apply(this,arguments)}function vG(n,e,t){return lR.apply(this,arguments)}function lR(){return lR=(0,we.Z)(function*(n,e,t){const r=tt(n);try{const i=yield function(a,u){const f=tt(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return f.$s.lookupMutationBatch(g,u).next(T=>(Ht(null!==T),v=T.keys(),f.$s.removeMutationBatch(g,T))).next(()=>f.$s.performConsistencyCheck(g)).next(()=>f.ai.qs(g,v))})}(r.localStore,e);dR(r,e,t),uR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield hu(r,i)}catch(i){yield Ff(i)}}),lR.apply(this,arguments)}function cR(){return cR=(0,we.Z)(function*(n,e){const t=tt(n);Ud(t.remoteStore)||Ue("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const u=tt(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.$s.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.ua.get(r)||[];i.push(e),t.ua.set(r,i)}catch(r){const i=Fg(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),cR.apply(this,arguments)}function uR(n,e){(n.ua.get(e)||[]).forEach(t=>{t.resolve()}),n.ua.delete(e)}function dR(n,e,t){const r=tt(n);let i=r.oa[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.oa[r.currentUser.toKey()]=i}}function Bg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ea.get(e))n.ta.delete(r),t&&n.Zu.la(r,t);n.ea.delete(e),n.isPrimaryClient&&n.ra.Ri(e).forEach(r=>{n.ra.containsKey(r)||AL(n,r)})}function AL(n,e){n.na.delete(e.path.canonicalString());const t=n.sa.get(e);null!==t&&(Lb(n.remoteStore,t),n.sa=n.sa.remove(e),n.ia.delete(t),fR(n))}function hR(n,e,t){for(const r of t)r instanceof EL?(n.ra.addReference(r.key,e),wG(n,r)):r instanceof DL?(Ue("SyncEngine","Document no longer in limbo: "+r.key),n.ra.removeReference(r.key,e),n.ra.containsKey(r.key)||AL(n,r.key)):dt()}function wG(n,e){const t=e.key,r=t.path.canonicalString();n.sa.get(t)||n.na.has(r)||(Ue("SyncEngine","New document in limbo: "+t),n.na.add(r),fR(n))}function fR(n){for(;n.na.size>0&&n.sa.size<n.maxConcurrentLimboResolutions;){const e=n.na.values().next().value;n.na.delete(e);const t=new Ze(dn.fromString(e)),r=n.aa.next();n.ia.set(r,new hG(t)),n.sa=n.sa.insert(t,r),yD(n.remoteStore,new Fd(xa(bg(t.path)),r,2,zo.A))}}function hu(n,e,t){return pR.apply(this,arguments)}function pR(){return pR=(0,we.Z)(function*(n,e,t){const r=tt(n),i=[],a=[],u=[];var f;r.ta.isEmpty()||(r.ta.forEach((f,g)=>{u.push(r.ha(g,e,t).then(v=>{if(v){r.isPrimaryClient&&r.sharedClientState.updateQueryState(g.targetId,v.fromCache?"not-current":"current"),i.push(v);const T=yx.Js(g.targetId,v);a.push(T)}}))}),yield Promise.all(u),r.Zu.Ko(i),yield(f=(0,we.Z)(function*(g,v){const T=tt(g);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>ye.forEach(v,O=>ye.forEach(O.zs,B=>T.persistence.referenceDelegate.addReference(I,O.targetId,B)).next(()=>ye.forEach(O.Hs,B=>T.persistence.referenceDelegate.removeReference(I,O.targetId,B)))))}catch(I){if(!xf(I))throw I;Ue("LocalStore","Failed to update sequence numbers: "+I)}for(const I of v){const O=I.targetId;if(!I.fromCache){const B=T.si.get(O),ee=B.withLastLimboFreeSnapshotVersion(B.snapshotVersion);T.si=T.si.insert(O,ee)}}}),function(g,v){return f.apply(this,arguments)})(r.localStore,a))}),pR.apply(this,arguments)}function CG(n,e){return mR.apply(this,arguments)}function mR(){return mR=(0,we.Z)(function*(n,e){const t=tt(n);if(!t.currentUser.isEqual(e)){Ue("SyncEngine","User change. New user:",e.toKey());const r=yield nL(t.localStore,e);t.currentUser=e,(i=t).ua.forEach(u=>{u.forEach(f=>{f.reject(new Oe(pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.ua.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield hu(t,r.ci)}var i}),mR.apply(this,arguments)}function EG(n,e){const t=tt(n),r=t.ia.get(e);if(r&&r.Xu)return Mn().add(r.key);{let i=Mn();const a=t.ea.get(e);if(!a)return i;for(const u of a){const f=t.ta.get(u);i=i.unionWith(f.view.qu)}return i}}function DG(n,e){return gR.apply(this,arguments)}function gR(){return gR=(0,we.Z)(function*(n,e){const t=tt(n),r=yield pD(t.localStore,e.query,!0),i=e.view.Ju(r);return t.isPrimaryClient&&hR(t,e.targetId,i.zu),i}),gR.apply(this,arguments)}function TG(n,e){return _R.apply(this,arguments)}function _R(){return _R=(0,we.Z)(function*(n,e){const t=tt(n);return oL(t.localStore,e).then(r=>hu(t,r))}),_R.apply(this,arguments)}function SG(n,e,t,r){return yR.apply(this,arguments)}function yR(){return yR=(0,we.Z)(function*(n,e,t,r){const i=tt(n),a=yield function(u,f){const g=tt(u),v=tt(g.$s);return g.persistence.runTransaction("Lookup mutation documents","readonly",T=>v.ln(T,f).next(I=>I?g.ai.qs(T,I):ye.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===t?yield Pg(i.remoteStore):"acknowledged"===t||"rejected"===t?(dR(i,e,r||null),uR(i,e),f=e,tt(tt(i.localStore).$s).dn(f)):dt(),yield hu(i,a)):Ue("SyncEngine","Cannot apply mutation batch with id: "+e)}),yR.apply(this,arguments)}function vR(){return vR=(0,we.Z)(function*(n,e){const t=tt(n);if(ER(t),DR(t),!0===e&&!0!==t.ca){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield ML(t,r.toArray());t.ca=!0,yield $x(t.remoteStore,!0);for(const a of i)yD(t.remoteStore,a)}else if(!1===e&&!1!==t.ca){const r=[];let i=Promise.resolve();t.ea.forEach((a,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(Bg(t,u),kg(t.localStore,u,!0))),Lb(t.remoteStore,u)}),yield i,yield ML(t,r),function(a){const u=tt(a);u.ia.forEach((f,g)=>{Lb(u.remoteStore,g)}),u.ra.bi(),u.ia=new Map,u.sa=new zr(Ze.comparator)}(t),t.ca=!1,yield $x(t.remoteStore,!1)}}),vR.apply(this,arguments)}function ML(n,e,t){return bR.apply(this,arguments)}function bR(){return bR=(0,we.Z)(function*(n,e,t){const r=tt(n),i=[],a=[];for(const u of e){let f;const g=r.ea.get(u);if(g&&0!==g.length){f=yield Rg(r.localStore,xa(g[0]));for(const v of g){const T=r.ta.get(v),I=yield DG(r,T);I.snapshot&&a.push(I.snapshot)}}else{const v=yield sL(r.localStore,u);f=yield Rg(r.localStore,v),yield tR(r,xL(v),u,!1)}i.push(f)}return r.Zu.Ko(a),i}),bR.apply(this,arguments)}function xL(n){return jN(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function AG(n){const e=tt(n);return tt(tt(e.localStore).persistence).Os()}function MG(n,e,t,r){return wR.apply(this,arguments)}function wR(){return wR=(0,we.Z)(function*(n,e,t,r){const i=tt(n);if(i.ca)return void Ue("SyncEngine","Ignoring unexpected query state notification.");const a=i.ea.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const u=yield oL(i.localStore,$N(a[0])),f=Cb.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield hu(i,u,f);break}case"rejected":yield kg(i.localStore,e,!0),Bg(i,e,r);break;default:dt()}}),wR.apply(this,arguments)}function xG(n,e,t){return CR.apply(this,arguments)}function CR(){return CR=(0,we.Z)(function*(n,e,t){const r=ER(n);if(r.ca){for(const i of e){if(r.ea.has(i)){Ue("SyncEngine","Adding an already active target "+i);continue}const a=yield sL(r.localStore,i),u=yield Rg(r.localStore,a);yield tR(r,xL(a),u.targetId,!1),yD(r.remoteStore,u)}for(const i of t)r.ea.has(i)&&(yield kg(r.localStore,i,!1).then(()=>{Lb(r.remoteStore,i),Bg(r,i)}).catch(Ff))}}),CR.apply(this,arguments)}function ER(n){const e=tt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=SL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_G.bind(null,e),e.Zu.Ko=aG.bind(null,e.eventManager),e.Zu.la=lG.bind(null,e.eventManager),e}function DR(n){const e=tt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vG.bind(null,e),e}class RL{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,we.Z)(function*(){t.M=Nb(e.databaseInfo.databaseId),t.sharedClientState=t.da(e),t.persistence=t._a(e),yield t.persistence.start(),t.gcScheduler=t.wa(e),t.localStore=t.ma(e)})()}wa(e){return null}ma(e){return tL(this.persistence,new eL,e.initialUser,this.M)}_a(e){return new B3(Dx.Wi,this.M)}da(e){return new uL}terminate(){var e=this;return(0,we.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class kL extends RL{constructor(e,t,r){super(),this.ga=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,we.Z)(function*(){yield t().call(r,e),yield r.ga.initialize(r,e),yield DR(r.ga.syncEngine),yield Pg(r.ga.remoteStore),yield r.persistence.Is(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ma(e){return tL(this.persistence,new eL,e.initialUser,this.M)}wa(e){return new b3(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}_a(e){const t=_x(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?vo.withCacheSize(this.cacheSizeBytes):vo.DEFAULT;return new gx(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,hL(),_D(),this.M,this.sharedClientState,!!this.forceOwnership)}da(e){return new uL}}class kG extends kL{constructor(e,t){super(e,t,!1),this.ga=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,we.Z)(function*(){yield t().call(r,e);const i=r.ga.syncEngine;r.sharedClientState instanceof Ax&&(r.sharedClientState.syncEngine={kr:SG.bind(null,i),Mr:MG.bind(null,i),Or:xG.bind(null,i),Os:AG.bind(null,i),Nr:TG.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Is(function(){var a=(0,we.Z)(function*(u){yield function IG(n,e){return vR.apply(this,arguments)}(r.ga.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):u||r.gcScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}da(e){const t=hL();if(!Ax.vt(t))throw new Oe(pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=_x(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ax(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class TR{initialize(e,t){var r=this;return(0,we.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>IL(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=CG.bind(null,r.syncEngine),yield $x(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new oG}createDatastore(e){const t=Nb(e.databaseInfo.databaseId),r=new q3(e.databaseInfo);return new Z3(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>IL(this.syncEngine,f,0),u=dL.vt()?new dL:new H3,new K3(t,r,i,a,u);var t,r,i,a,u}createSyncEngine(e,t){return function(r,i,a,u,f,g,v){const T=new fG(r,i,a,u,f,g);return v&&(T.ca=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,we.Z)(function*(t){const r=tt(t);Ue("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield Og(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function OL(n,e=10240){let t=0;return{read:()=>(0,we.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,we.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class bD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class OG{constructor(e,t){this.Ia=e,this.M=t,this.metadata=new xi,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ia.cancel()}getMetadata(){var e=this;return(0,we.Z)(function*(){return e.metadata.promise})()}fa(){var e=this;return(0,we.Z)(function*(){return yield e.getMetadata(),e.Ea()})()}Ea(){var e=this;return(0,we.Z)(function*(){const t=yield e.Aa();if(null===t)return null;const r=e.Ta.decode(t),i=Number(r);isNaN(i)&&e.Ra(`length string (${r}) is not valid number`);const a=yield e.ba(i);return new cG(JSON.parse(a),t.length+i)})()}Pa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Aa(){var e=this;return(0,we.Z)(function*(){for(;e.Pa()<0&&!(yield e.Va()););if(0===e.buffer.length)return null;const t=e.Pa();t<0&&e.Ra("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,we.Z)(function*(){for(;t.buffer.length<e;)(yield t.Va())&&t.Ra("Reached the end of bundle when more is expected.");const r=t.Ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Ra(e){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${e}`)}Va(){var e=this;return(0,we.Z)(function*(){const t=yield e.Ia.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class PG{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,we.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Oe(pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,we.Z)(function*(a,u){const f=tt(a),g=Sb(f.M)+"/documents",v={documents:u.map(B=>Tb(f.M,B))},T=yield f.co("BatchGetDocuments",g,v),I=new Map;T.forEach(B=>{const q=function Pj(n,e){return"found"in e?function(t,r){Ht(!!r.found);const i=lc(t,r.found.name),a=ki(r.found.updateTime),u=new ms({mapValue:{fields:r.found.fields}});return or.newFoundDocument(i,a,u)}(n,e):"missing"in e?function(t,r){Ht(!!r.missing),Ht(!!r.readTime);const i=lc(t,r.missing),a=ki(r.readTime);return or.newNoDocument(i,a)}(n,e):dt()}(f.M,B);I.set(q.key.toString(),q)});const O=[];return u.forEach(B=>{const q=I.get(B.toString());Ht(!!q),O.push(q)}),O}),function(a,u){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new bb(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,we.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=Ze.fromPath(i);e.mutations.push(new ex(a,e.precondition(a)))}),yield(r=(0,we.Z)(function*(i,a){const u=tt(i),f=Sb(u.M)+"/documents",g={writes:a.map(v=>Ib(u.M,v))};yield u.ro("Commit",f,g)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw dt();t=Nt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Oe(pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?si.updateTime(t):si.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Nt.min()))throw new Oe(pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return si.updateTime(t)}return si.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class NG{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.va=5,this.So=new Mx(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var e=this;this.So.Io((0,we.Z)(function*(){const t=new PG(e.datastore),r=e.Da(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Ca(a)}))}).catch(i=>{e.Ca(i)})}))}Da(e){try{const t=this.updateFunction(e);return!Df(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ca(e){this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(e)}xa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!oF(t)}return!1}}class FG{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Qi.UNAUTHENTICATED,this.clientId=CN.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,we.Z)(function*(f){Ue("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(Ue("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,we.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Fg(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function PL(n,e){return SR.apply(this,arguments)}function SR(){return SR=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,we.Z)(function*(a){r.isEqual(a)||(yield nL(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),SR.apply(this,arguments)}function NL(n,e){return IR.apply(this,arguments)}function IR(){return IR=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield AR(n);Ue("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>vL(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>vL(e.remoteStore,a)),n.onlineComponents=e}),IR.apply(this,arguments)}function AR(n){return MR.apply(this,arguments)}function MR(){return MR=(0,we.Z)(function*(n){return n.offlineComponents||(Ue("FirestoreClient","Using default OfflineComponentProvider"),yield PL(n,new RL)),n.offlineComponents}),MR.apply(this,arguments)}function wD(n){return xR.apply(this,arguments)}function xR(){return xR=(0,we.Z)(function*(n){return n.onlineComponents||(Ue("FirestoreClient","Using default OnlineComponentProvider"),yield NL(n,new TR)),n.onlineComponents}),xR.apply(this,arguments)}function FL(n){return AR(n).then(e=>e.persistence)}function RR(n){return AR(n).then(e=>e.localStore)}function LL(n){return wD(n).then(e=>e.remoteStore)}function kR(n){return wD(n).then(e=>e.syncEngine)}function Ug(n){return OR.apply(this,arguments)}function OR(){return OR=(0,we.Z)(function*(n){const e=yield wD(n),t=e.eventManager;return t.onListen=pG.bind(null,e.syncEngine),t.onUnlisten=mG.bind(null,e.syncEngine),t}),OR.apply(this,arguments)}function VL(n,e,t={}){const r=new xi;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(i,a,u,f,g){const v=new bD({next:I=>{a.enqueueAndForget(()=>Yx(i,T));const O=I.docs.has(u);!O&&I.fromCache?g.reject(new Oe(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&I.fromCache&&f&&"server"===f.source?g.reject(new Oe(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(I)},error:I=>g.reject(I)}),T=new Jx(bg(u.path),v,{includeMetadataChanges:!0,Du:!0});return Wx(i,T)}(yield Ug(n),n.asyncQueue,e,t,r)})),r.promise}function BL(n,e,t={}){const r=new xi;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(i,a,u,f,g){const v=new bD({next:I=>{a.enqueueAndForget(()=>Yx(i,T)),I.fromCache&&"server"===f.source?g.reject(new Oe(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(I)},error:I=>g.reject(I)}),T=new Jx(u,v,{includeMetadataChanges:!0,Du:!0});return Wx(i,T)}(yield Ug(n),n.asyncQueue,e,t,r)})),r.promise}const UL=new Map;function PR(n,e,t){if(!t)throw new Oe(pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function HL(n,e,t,r){if(!0===e&&!0===r)throw new Oe(pe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function jL(n){if(!Ze.isDocumentKey(n))throw new Oe(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function GL(n){if(Ze.isDocumentKey(n))throw new Oe(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function CD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":dt()}function ln(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Oe(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=CD(n);throw new Oe(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function qL(n,e){if(e<=0)throw new Oe(pe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class $L{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Oe(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oe(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,HL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vb{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $L({}),this._settingsFrozen=!1,e instanceof cu?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Oe(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cu(i.options.projectId)}(e))}get app(){if(!this._app)throw new Oe(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Oe(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $L(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new ZH;switch(t.type){case"gapi":const r=t.client;return Ht(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new QH(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Oe(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=UL.get(e);t&&(Ue("ComponentProvider","Removing Datastore"),UL.delete(e),t.terminate())}(this),Promise.resolve()}}class lr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lr(this.firestore,e,this._key)}}class gs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new gs(this.firestore,e,this._query)}}class cc extends gs{constructor(e,t,r){super(e,t,bg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lr(this.firestore,null,new Ze(e))}withConverter(e){return new cc(this.firestore,e,this._path)}}function zL(n,e,...t){if(n=(0,yt.m9)(n),PR("collection","path",e),n instanceof Vb){const r=dn.fromString(e,...t);return GL(r),new cc(n,null,r)}{if(!(n instanceof lr||n instanceof cc))throw new Oe(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dn.fromString(e,...t));return GL(r),new cc(n.firestore,null,r)}}function ED(n,e,...t){if(n=(0,yt.m9)(n),1===arguments.length&&(e=CN.R()),PR("doc","path",e),n instanceof Vb){const r=dn.fromString(e,...t);return jL(r),new lr(n,null,new Ze(r))}{if(!(n instanceof lr||n instanceof cc))throw new Oe(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dn.fromString(e,...t));return jL(r),new lr(n.firestore,n instanceof cc?n.converter:null,new Ze(r))}}function ZL(n,e){return n=(0,yt.m9)(n),e=(0,yt.m9)(e),(n instanceof lr||n instanceof cc)&&(e instanceof lr||e instanceof cc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function WL(n,e){return n=(0,yt.m9)(n),e=(0,yt.m9)(e),n instanceof gs&&e instanceof gs&&n.firestore===e.firestore&&_b(n._query,e._query)&&n.converter===e.converter}class ZG{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new Mx(this,"async_queue_retry"),this.Ua=()=>{const t=_D();t&&Ue("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=_D();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const t=_D();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const t=new xi;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return(0,we.Z)(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(t){if(!xf(t))throw t;Ue("AsyncQueue","Operation failed with retryable error: "+t)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const t=this.Na.then(()=>(this.$a=!0,e().catch(r=>{throw this.Fa=r,this.$a=!1,ii("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(r)),r}).then(r=>(this.$a=!1,r))));return this.Na=t,t}enqueueAfterDelay(e,t,r){this.qa(),this.La.indexOf(e)>-1&&(t=0);const i=Zx.createAndSchedule(this,e,t,r,a=>this.Qa(a));return this.Oa.push(i),i}qa(){this.Fa&&dt()}verifyOperationInProgress(){}ja(){var e=this;return(0,we.Z)(function*(){let t;do{t=e.Na,yield t}while(t!==e.Na)})()}Wa(e){for(const t of this.Oa)if(t.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Oa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}function NR(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class WG{constructor(){this._progressObserver={},this._taskCompletionResolver=new xi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class pr extends Vb{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new ZG,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||KL(this),this._firestoreClient.terminate()}}function ai(n){return n._firestoreClient||KL(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function KL(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new rj(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new FG(n._authCredentials,n._appCheckCredentials,n._queue,r)}function YL(n,e,t){const r=new xi;return n.asyncQueue.enqueue((0,we.Z)(function*(){try{yield PL(n,t),yield NL(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(a=i).name?a.code===pe.FAILED_PRECONDITION||a.code===pe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var a})).then(()=>r.promise)}function QL(n){if(n._initialized||n._terminated)throw new Oe(pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class fu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Oe(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ri(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class uc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uc(gi.fromBase64String(e))}catch(t){throw new Oe(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new uc(gi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Vf{constructor(e){this._methodName=e}}class DD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oe(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oe(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tn(this._lat,e._lat)||tn(this._long,e._long)}}const iq=/^__.*__$/;class sq{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Mf(e,this.data,this.fieldMask,t,this.fieldTransforms):new vb(e,this.data,t,this.fieldTransforms)}}class XL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Mf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function JL(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt()}}class TD{constructor(e,t,r,i,a,u){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ja(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new TD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Xa({path:r,tc:!1});return i.ec(e),i}nc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Xa({path:r,tc:!1});return i.Ja(),i}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return AD(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(JL(this.Ya)&&iq.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class oq{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||Nb(e)}uc(e,t,r,i=!1){return new TD({Ya:e,methodName:t,oc:r,path:Ri.emptyPath(),tc:!1,rc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Bf(n){const e=n._freezeSettings(),t=Nb(n._databaseId);return new oq(n._databaseId,!!e.ignoreUndefinedProperties,t)}function SD(n,e,t,r,i,a={}){const u=n.uc(a.merge||a.mergeFields?2:0,e,t,i);BR("Data must be an object, but it was:",u,r);const f=nV(r,u);let g,v;if(a.merge)g=new mg(u.fieldMask),v=u.fieldTransforms;else if(a.mergeFields){const T=[];for(const I of a.mergeFields){const O=UR(e,I,t);if(!u.contains(O))throw new Oe(pe.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);iV(T,O)||T.push(O)}g=new mg(T),v=u.fieldTransforms.filter(I=>g.covers(I.field))}else g=null,v=u.fieldTransforms;return new sq(new ms(f),g,v)}class Bb extends Vf{_toFieldTransform(e){if(2!==e.Ya)throw e.ic(1===e.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bb}}function eV(n,e,t){return new TD({Ya:3,oc:e.settings.oc,methodName:n._methodName,tc:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class FR extends Vf{_toFieldTransform(e){return new yb(e.path,new Cg)}isEqual(e){return e instanceof FR}}class aq extends Vf{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=eV(this,e,!0),r=this.ac.map(a=>Uf(a,t)),i=new If(r);return new yb(e.path,i)}isEqual(e){return this===e}}class lq extends Vf{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=eV(this,e,!0),r=this.ac.map(a=>Uf(a,t)),i=new Af(r);return new yb(e.path,i)}isEqual(e){return this===e}}class cq extends Vf{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=new Eg(e.M,KN(e.M,this.cc));return new yb(e.path,t)}isEqual(e){return this===e}}function LR(n,e,t,r){const i=n.uc(1,e,t);BR("Data must be an object, but it was:",i,r);const a=[],u=ms.empty();Cf(r,(g,v)=>{const T=ID(e,g,t);v=(0,yt.m9)(v);const I=i.nc(T);if(v instanceof Bb)a.push(T);else{const O=Uf(v,I);null!=O&&(a.push(T),u.set(T,O))}});const f=new mg(a);return new XL(u,f,i.fieldTransforms)}function VR(n,e,t,r,i,a){const u=n.uc(1,e,t),f=[UR(e,r,t)],g=[i];if(a.length%2!=0)throw new Oe(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<a.length;O+=2)f.push(UR(e,a[O])),g.push(a[O+1]);const v=[],T=ms.empty();for(let O=f.length-1;O>=0;--O)if(!iV(v,f[O])){const B=f[O];let q=g[O];q=(0,yt.m9)(q);const ee=u.nc(B);if(q instanceof Bb)v.push(B);else{const de=Uf(q,ee);null!=de&&(v.push(B),T.set(B,de))}}const I=new mg(v);return new XL(T,I,u.fieldTransforms)}function tV(n,e,t,r=!1){return Uf(t,n.uc(r?4:3,e))}function Uf(n,e){if(rV(n=(0,yt.m9)(n)))return BR("Unsupported field value:",e,n),nV(n,e);if(n instanceof Vf)return function(t,r){if(!JL(r.Ya))throw r.ic(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ic(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const u of t){let f=Uf(u,r.sc(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,yt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return KN(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=$r.fromDate(t);return{timestampValue:Db(r.M,i)}}if(t instanceof $r){const i=new $r(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Db(r.M,i)}}if(t instanceof DD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof uc)return{bytesValue:pF(r.M,t._byteString)};if(t instanceof lr){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.ic(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:nx(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ic(`Unsupported field value: ${CD(t)}`)}(n,e)}function nV(n,e){const t={};return TN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cf(n,(r,i)=>{const a=Uf(i,e.Za(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function rV(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof $r||n instanceof DD||n instanceof uc||n instanceof lr||n instanceof Vf)}function BR(n,e,t){if(!rV(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=CD(t);throw e.ic("an object"===r?n+" a custom object":n+" "+r)}var r}function UR(n,e,t){if((e=(0,yt.m9)(e))instanceof fu)return e._internalPath;if("string"==typeof e)return ID(n,e);throw AD("Field path arguments must be of type string or ",n,!1,void 0,t)}const uq=new RegExp("[~\\*/\\[\\]]");function ID(n,e,t){if(e.search(uq)>=0)throw AD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new fu(...e.split("."))._internalPath}catch(r){throw AD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function AD(n,e,t,r,i){const a=r&&!r.isEmpty(),u=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(a||u)&&(g+=" (found",a&&(g+=` in field ${r}`),u&&(g+=` in document ${i}`),g+=")"),new Oe(pe.INVALID_ARGUMENT,f+n+g)}function iV(n,e){return n.some(t=>t.isEqual(e))}class Ub{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new lr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new dq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(MD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class dq extends Ub{data(){return super.data()}}function MD(n,e){return"string"==typeof e?ID(n,e):e instanceof fu?e._internalPath:e._delegate._internalPath}class Hf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pu extends Ub{constructor(e,t,r,i,a,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Hb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(MD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Hb extends pu{data(e={}){return super.data(e)}}class jd{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Hf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Hb(this._firestore,this._userDataWriter,r.key,r,new Hf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oe(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new Hb(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Hf(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>i||3!==u.type).map(u=>{const f=new Hb(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Hf(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let g=-1,v=-1;return 0!==u.type&&(g=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),v=a.indexOf(u.doc.key)),{type:hq(u.type),doc:f,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function hq(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt()}}function sV(n,e){return n instanceof pu&&e instanceof pu?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof jd&&e instanceof jd&&n._firestore===e._firestore&&WL(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function oV(n){if(QE(n)&&0===n.explicitOrderBy.length)throw new Oe(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jb{}function Gd(n,...e){for(const t of e)n=t._apply(n);return n}class fq extends jb{constructor(e,t,r){super(),this.hc=e,this.lc=t,this.fc=r,this.type="where"}_apply(e){const t=Bf(e.firestore),r=function(i,a,u,f,g,v,T){let I;if(g.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Oe(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){hV(T,v);const B=[];for(const q of T)B.push(dV(f,i,q));I={arrayValue:{values:B}}}else I=dV(f,i,T)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||hV(T,v),I=tV(u,"where",T,"in"===v||"not-in"===v);const O=Xi.create(g,v,I);return function(B,q){if(q.S()){const de=KM(B);if(null!==de&&!de.isEqual(q.field))throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${de.toString()}' and '${q.field.toString()}'`);const We=WM(B);null!==We&&fV(0,q.field,We)}const ee=function(de,We){for(const He of de.filters)if(We.indexOf(He.op)>=0)return He.op;return null}(B,function(de){switch(de){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(q.op));if(null!==ee)throw new Oe(pe.INVALID_ARGUMENT,ee===q.op?`Invalid query. You cannot use more than one '${q.op.toString()}' filter.`:`Invalid query. You cannot use '${q.op.toString()}' filters with '${ee.toString()}' filters.`)}(i,O),O}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new gs(e.firestore,e.converter,function(i,a){const u=i.filters.concat([a]);return new du(i.path,i.collectionGroup,i.explicitOrderBy.slice(),u,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class mq extends jb{constructor(e,t){super(),this.hc=e,this.dc=t,this.type="orderBy"}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Oe(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Oe(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new vg(i,a);return function(f,g){if(null===WM(f)){const v=KM(f);null!==v&&fV(0,v,g.field)}}(r,u),u}(e._query,this.hc,this.dc);return new gs(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new du(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class aV extends jb{constructor(e,t,r){super(),this.type=e,this._c=t,this.wc=r}_apply(e){return new gs(e.firestore,e.converter,GN(e._query,this._c,this.wc))}}class lV extends jb{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=uV(e,this.type,this.mc,this.gc);return new gs(e.firestore,e.converter,(i=t,new du((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class cV extends jb{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=uV(e,this.type,this.mc,this.gc);return new gs(e.firestore,e.converter,(i=t,new du((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function uV(n,e,t,r){if(t[0]=(0,yt.m9)(t[0]),t[0]instanceof Ub)return function(i,a,u,f,g){if(!f)throw new Oe(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const v=[];for(const T of wg(i))if(T.field.isKeyField())v.push(_g(a,f.key));else{const I=f.data.field(T.field);if(qM(I))throw new Oe(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const O=T.field.canonicalString();throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}v.push(I)}return new Pd(v,g)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Bf(n.firestore);return function(a,u,f,g,v,T){const I=a.explicitOrderBy;if(v.length>I.length)throw new Oe(pe.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let B=0;B<v.length;B++){const q=v[B];if(I[B].field.isKeyField()){if("string"!=typeof q)throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof q}`);if(!YM(a)&&-1!==q.indexOf("/"))throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${q}' contains a slash.`);const ee=a.path.child(dn.fromString(q));if(!Ze.isDocumentKey(ee))throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${ee}' is not because it contains an odd number of segments.`);const de=new Ze(ee);O.push(_g(u,de))}else{const ee=tV(f,g,q);O.push(ee)}}return new Pd(O,T)}(n._query,n.firestore._databaseId,i,e,t,r)}}function dV(n,e,t){if("string"==typeof(t=(0,yt.m9)(t))){if(""===t)throw new Oe(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YM(e)&&-1!==t.indexOf("/"))throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(dn.fromString(t));if(!Ze.isDocumentKey(r))throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _g(n,new Ze(r))}if(t instanceof lr)return _g(n,t._key);throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${CD(t)}.`)}function hV(n,e){if(!Array.isArray(n)||0===n.length)throw new Oe(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Oe(pe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function fV(n,e,t){if(!t.isEqual(e))throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class HR{convertValue(e,t="none"){switch(Tf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Or(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ef(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw dt()}}convertObject(e,t){const r={};return Cf(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new DD(Or(e.latitude),Or(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=SN(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ub(e));default:return null}}convertTimestamp(e){const t=kd(e);return new $r(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=dn.fromString(e);Ht(DF(r));const i=new cu(r.get(1),r.get(3)),a=new Ze(r.popFirst(5));return i.isEqual(t)||ii(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function xD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Eq extends HR{constructor(e){super(),this.firestore=e}convertBytes(e){return new uc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new lr(this.firestore,null,t)}}class pV{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Bf(e)}set(e,t,r){this._verifyNotCommitted();const i=qd(e,this._firestore),a=xD(i.converter,t,r),u=SD(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(u.toMutation(i._key,si.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=qd(e,this._firestore);let u;return u="string"==typeof(t=(0,yt.m9)(t))||t instanceof fu?VR(this._dataReader,"WriteBatch.update",a._key,t,r,i):LR(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,si.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=qd(e,this._firestore);return this._mutations=this._mutations.concat(new bb(t._key,si.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function qd(n,e){if((n=(0,yt.m9)(n)).firestore!==e)throw new Oe(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class jf extends HR{constructor(e){super(),this.firestore=e}convertBytes(e){return new uc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new lr(this.firestore,null,t)}}function mV(n,e,t){n=ln(n,lr);const r=ln(n.firestore,pr),i=xD(n.converter,e,t);return Hg(r,[SD(Bf(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,si.none())])}function gV(n,e,t,...r){n=ln(n,lr);const i=ln(n.firestore,pr),a=Bf(i);let u;return u="string"==typeof(e=(0,yt.m9)(e))||e instanceof fu?VR(a,"updateDoc",n._key,e,t,r):LR(a,"updateDoc",n._key,e),Hg(i,[u.toMutation(n._key,si.exists(!0))])}function _V(n,...e){var t,r,i;n=(0,yt.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||NR(e[u])||(a=e[u],u++);const f={includeMetadataChanges:a.includeMetadataChanges};if(NR(e[u])){const I=e[u];e[u]=null===(t=I.next)||void 0===t?void 0:t.bind(I),e[u+1]=null===(r=I.error)||void 0===r?void 0:r.bind(I),e[u+2]=null===(i=I.complete)||void 0===i?void 0:i.bind(I)}let g,v,T;if(n instanceof lr)v=ln(n.firestore,pr),T=bg(n._key.path),g={next:I=>{e[u]&&e[u](jR(v,n,I))},error:e[u+1],complete:e[u+2]};else{const I=ln(n,gs);v=ln(I.firestore,pr),T=I._query;const O=new jf(v);g={next:B=>{e[u]&&e[u](new jd(v,O,I,B))},error:e[u+1],complete:e[u+2]},oV(n._query)}return function(I,O,B,q){const ee=new bD(q),de=new Jx(O,ee,B);return I.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return Wx(yield Ug(I),de)})),()=>{ee.pa(),I.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return Yx(yield Ug(I),de)}))}}(ai(v),T,f,g)}function Hg(n,e){return function(t,r){const i=new xi;return t.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function gG(n,e,t){return iR.apply(this,arguments)}(yield kR(t),r,i)})),i.promise}(ai(n),e)}function jR(n,e,t){const r=t.docs.get(e._key),i=new jf(n);return new pu(n,i,e._key,r,new Hf(t.hasPendingWrites,t.fromCache),e.converter)}class Oq extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Bf(e)}get(e){const t=qd(e,this._firestore),r=new Eq(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return dt();const a=i[0];if(a.isFoundDocument())return new Ub(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new Ub(this._firestore,r,t._key,null,t.converter);throw dt()})}set(e,t,r){const i=qd(e,this._firestore),a=xD(i.converter,t,r),u=SD(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const a=qd(e,this._firestore);let u;return u="string"==typeof(t=(0,yt.m9)(t))||t instanceof fu?VR(this._dataReader,"Transaction.update",a._key,t,r,i):LR(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,u),this}delete(e){const t=qd(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=qd(e,this._firestore),r=new jf(this._firestore);return super.get(e).then(i=>new pu(this._firestore,r,t._key,i._document,new Hf(!1,!1),t.converter))}}function GR(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function vV(){if("undefined"==typeof Uint8Array)throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function bV(){if(!function tj(){return"undefined"!=typeof atob}())throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){fg=Ps.SDK_VERSION,(0,Ps._registerComponent)(new Wc.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),a=new pr(i,new KH(t.getProvider("auth-internal")),new XH(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),a._setSettings(r),a},"PUBLIC")),(0,Ps.registerVersion)(vN,"3.4.7",n),(0,Ps.registerVersion)(vN,"3.4.7","esm2017")}();class Gb{constructor(e){this._delegate=e}static fromBase64String(e){return bV(),new Gb(uc.fromBase64String(e))}static fromUint8Array(e){return vV(),new Gb(uc.fromUint8Array(e))}toBase64(){return bV(),this._delegate.toBase64()}toUint8Array(){return vV(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function qR(n){return function jq(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class Gq{enableIndexedDbPersistence(e,t){return function YG(n,e){QL(n=ln(n,pr));const t=ai(n),r=n._freezeSettings(),i=new TR;return YL(t,i,new kL(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function QG(n){QL(n=ln(n,pr));const e=ai(n),t=n._freezeSettings(),r=new TR;return YL(e,r,new kG(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function XG(n){if(n._initialized&&!n._terminated)throw new Oe(pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new xi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{yield(t=(0,we.Z)(function*(r){if(!al.vt())return Promise.resolve();const i=r+"main";yield al.delete(i)}),function(r){return t.apply(this,arguments)})(_x(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class wV{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof cu||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&lb("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function $G(n,e,t,r={}){var i;const a=(n=ln(n,Vb))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&lb("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let u,f;if("string"==typeof r.mockUserToken)u=r.mockUserToken,f=Qi.MOCK_USER;else{u=(0,yt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Oe(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Qi(g)}n._authCredentials=new WH(new bN(u,f))}}(this._delegate,e,t,r)}enableNetwork(){return function eq(n){return function LG(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield FL(n),t=yield LL(n);return e.setNetworkEnabled(!0),function(r){const i=tt(r);return i.lu.delete(0),Fb(i)}(t)}))}(ai(n=ln(n,pr)))}(this._delegate)}disableNetwork(){return function tq(n){return function VG(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield FL(n),t=yield LL(n);return e.setNetworkEnabled(!1),(r=(0,we.Z)(function*(i){const a=tt(i);a.lu.add(0),yield Og(a),a._u.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(ai(n=ln(n,pr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,HL("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function JG(n){return function(e){const t=new xi;return e.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function bG(n,e){return cR.apply(this,arguments)}(yield kR(e),t)})),t.promise}(ai(n=ln(n,pr)))}(this._delegate)}onSnapshotsInSync(e){return function kq(n,e){return function HG(n,e){const t=new bD(e);return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return r=yield Ug(n),i=t,tt(r).Tu.add(i),void i.next();var r,i})),()=>{t.pa(),n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return r=yield Ug(n),i=t,void tt(r).Tu.delete(i);var r,i}))}}(ai(n=ln(n,pr)),NR(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new jg(this,zL(this._delegate,e))}catch(t){throw js(t,"collection()","Firestore.collection()")}}doc(e){try{return new ka(this,ED(this._delegate,e))}catch(t){throw js(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Gs(this,function zG(n,e){if(n=ln(n,Vb),PR("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Oe(pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new gs(n,null,(t=e,new du(dn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw js(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Pq(n,e){return function jG(n,e){const t=new xi;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){const r=yield(i=n,wD(i).then(a=>a.datastore));var i;new NG(n.asyncQueue,r,e,t).run()})),t.promise}(ai(n=ln(n,pr)),t=>e(new Oq(n,t)))}(this._delegate,t=>e(new CV(this,t)))}batch(){return ai(this._delegate),new EV(new pV(this._delegate,e=>Hg(this._delegate,e)))}loadBundle(e){return function nq(n,e){const t=ai(n=ln(n,pr)),r=new WG;return function GG(n,e,t,r){const i=function(a,u){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,g=function(g,v){if(g instanceof Uint8Array)return OL(g,v);if(g instanceof ArrayBuffer)return OL(new Uint8Array(g),v);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new OG(g,u);var g}(t,Nb(e));n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){!function RG(n,e,t){const r=tt(n);var i;(i=(0,we.Z)(function*(a,u,f){try{const g=yield u.getMetadata();if(yield function(O,B){const q=tt(O),ee=ki(B.createTime);return q.persistence.runTransaction("hasNewerBundle","readonly",de=>q.ds.getBundleMetadata(de,B.id)).then(de=>!!de&&de.createTime.compareTo(ee)>=0)}(a.localStore,g))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(O=g).totalDocuments,bytesLoaded:O.totalBytes,totalDocuments:O.totalDocuments,totalBytes:O.totalBytes}),Promise.resolve(new Set);f._updateProgress(CL(g));const v=new uG(g,a.localStore,u.M);let T=yield u.fa();for(;T;){const O=yield v.Nu(T);O&&f._updateProgress(O),T=yield u.fa()}const I=yield v.complete();return yield hu(a,I.Ou,void 0),yield function(O,B){const q=tt(O);return q.persistence.runTransaction("Save bundle","readwrite",ee=>q.ds.saveBundleMetadata(ee,B))}(a.localStore,g),f._completeWith(I.progress),Promise.resolve(I.Mu)}catch(g){return lb("SyncEngine",`Loading bundle failed with ${g}`),f._failWith(g),Promise.resolve(new Set)}var O}),function(a,u,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield kR(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function rq(n,e){return function qG(n,e){return n.asyncQueue.enqueue((0,we.Z)(function*(){return function(t,r){const i=tt(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.ds.getNamedQuery(a,r))}(yield RR(n),e)}))}(ai(n=ln(n,pr)),e).then(t=>t?new gs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Gs(this,t):null)}}class RD extends HR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gb(new uc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ka.forKey(t,this.firestore,null)}}class CV{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new RD(e)}get(e){const t=qf(e);return this._delegate.get(t).then(r=>new qb(this._firestore,new pu(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=qf(e);return r?(GR("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=qf(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=qf(e);return this._delegate.delete(t),this}}class EV{constructor(e){this._delegate=e}set(e,t,r){const i=qf(e);return r?(GR("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=qf(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=qf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Gf{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Hb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new $b(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Gf.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new Gf(e,new RD(e),t),i.set(t,a)),a}}Gf.INSTANCES=new WeakMap;class ka{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new RD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ka(t,new lr(t._delegate,r,new Ze(e)))}static forKey(e,t,r){return new ka(t,new lr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new jg(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new jg(this.firestore,zL(this._delegate,e))}catch(t){throw js(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,yt.m9)(e))instanceof lr&&ZL(this._delegate,e)}set(e,t){t=GR("DocumentReference.set",t);try{return t?mV(this._delegate,e,t):mV(this._delegate,e)}catch(r){throw js(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?gV(this._delegate,e):gV(this._delegate,e,t,...r)}catch(i){throw js(i,"updateDoc()","DocumentReference.update()")}}delete(){return function xq(n){return Hg(ln(n.firestore,pr),[new bb(n._key,si.none())])}(this._delegate)}onSnapshot(...e){const t=DV(e),r=TV(e,i=>new qb(this.firestore,new pu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return _V(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Tq(n){n=ln(n,lr);const e=ln(n.firestore,pr),t=ai(e),r=new jf(e);return function BG(n,e){const t=new xi;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(r=(0,we.Z)(function*(i,a,u){try{const f=yield function(g,v){const T=tt(g);return T.persistence.runTransaction("read document","readonly",I=>T.ai.Bs(I,v))}(i,a);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new Oe(pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const g=Fg(f,`Failed to get document '${a} from cache`);u.reject(g)}}),function(i,a,u){return r.apply(this,arguments)})(yield RR(n),e,t);var r})),t.promise}(t,n._key).then(i=>new pu(e,r,n._key,i,new Hf(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function Sq(n){n=ln(n,lr);const e=ln(n.firestore,pr);return VL(ai(e),n._key,{source:"server"}).then(t=>jR(e,n,t))}(this._delegate):function Dq(n){n=ln(n,lr);const e=ln(n.firestore,pr);return VL(ai(e),n._key).then(t=>jR(e,n,t))}(this._delegate),t.then(r=>new qb(this.firestore,new pu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ka(this.firestore,this._delegate.withConverter(e?Gf.getInstance(this.firestore,e):null))}}function js(n,e,t){return n.message=n.message.replace(e,t),n}function DV(n){for(const e of n)if("object"==typeof e&&!qR(e))return e;return{}}function TV(n,e){var t,r;let i;return i=qR(n[0])?n[0]:qR(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class qb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ka(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return sV(this._delegate,e._delegate)}}class $b extends qb{data(e){const t=this._delegate.data(e);return function zH(n,e){n||dt()}(void 0!==t),t}}class Gs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new RD(e)}where(e,t,r){try{return new Gs(this.firestore,Gd(this._delegate,function pq(n,e,t){const r=e,i=MD("where",n);return new fq(i,r,t)}(e,t,r)))}catch(i){throw js(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Gs(this.firestore,Gd(this._delegate,function gq(n,e="asc"){const t=e,r=MD("orderBy",n);return new mq(r,t)}(e,t)))}catch(r){throw js(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Gs(this.firestore,Gd(this._delegate,function _q(n){return qL("limit",n),new aV("limit",n,"F")}(e)))}catch(t){throw js(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Gs(this.firestore,Gd(this._delegate,function yq(n){return qL("limitToLast",n),new aV("limitToLast",n,"L")}(e)))}catch(t){throw js(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Gs(this.firestore,Gd(this._delegate,function vq(...n){return new lV("startAt",n,!0)}(...e)))}catch(t){throw js(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Gs(this.firestore,Gd(this._delegate,function bq(...n){return new lV("startAfter",n,!1)}(...e)))}catch(t){throw js(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Gs(this.firestore,Gd(this._delegate,function wq(...n){return new cV("endBefore",n,!1)}(...e)))}catch(t){throw js(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Gs(this.firestore,Gd(this._delegate,function Cq(...n){return new cV("endAt",n,!0)}(...e)))}catch(t){throw js(t,"endAt()","Query.endAt()")}}isEqual(e){return WL(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Aq(n){n=ln(n,gs);const e=ln(n.firestore,pr),t=ai(e),r=new jf(e);return function UG(n,e){const t=new xi;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(r=(0,we.Z)(function*(i,a,u){try{const f=yield pD(i,a,!0),g=new TL(a,f.hi),v=g.Gu(f.documents),T=g.applyChanges(v,!1);u.resolve(T.snapshot)}catch(f){const g=Fg(f,`Failed to execute query '${a} against cache`);u.reject(g)}}),function(i,a,u){return r.apply(this,arguments)})(yield RR(n),e,t);var r})),t.promise}(t,n._query).then(i=>new jd(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function Mq(n){n=ln(n,gs);const e=ln(n.firestore,pr),t=ai(e),r=new jf(e);return BL(t,n._query,{source:"server"}).then(i=>new jd(e,r,n,i))}(this._delegate):function Iq(n){n=ln(n,gs);const e=ln(n.firestore,pr),t=ai(e),r=new jf(e);return oV(n._query),BL(t,n._query).then(i=>new jd(e,r,n,i))}(this._delegate),t.then(r=>new $R(this.firestore,new jd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=DV(e),r=TV(e,i=>new $R(this.firestore,new jd(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return _V(this._delegate,t,r)}withConverter(e){return new Gs(this.firestore,this._delegate.withConverter(e?Gf.getInstance(this.firestore,e):null))}}class $q{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new $b(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class $R{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Gs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new $b(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new $q(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new $b(this._firestore,r))})}isEqual(e){return sV(this._delegate,e._delegate)}}class jg extends Gs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ka(this.firestore,e):null}doc(e){try{return new ka(this.firestore,void 0===e?ED(this._delegate):ED(this._delegate,e))}catch(t){throw js(t,"doc()","CollectionReference.doc()")}}add(e){return function Rq(n,e){const t=ln(n.firestore,pr),r=ED(n),i=xD(n.converter,e);return Hg(t,[SD(Bf(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,si.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ka(this.firestore,t))}isEqual(e){return ZL(this._delegate,e._delegate)}withConverter(e){return new jg(this.firestore,this._delegate.withConverter(e?Gf.getInstance(this.firestore,e):null))}}function qf(n){return ln(n,lr)}class zR{constructor(...e){this._delegate=new fu(...e)}static documentId(){return new zR(Ri.keyField().canonicalString())}isEqual(e){return(e=(0,yt.m9)(e))instanceof fu&&this._delegate._internalPath.isEqual(e._internalPath)}}class $f{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Fq(){return new FR("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new $f(e)}static delete(){const e=function Nq(){return new Bb("deleteField")}();return e._methodName="FieldValue.delete",new $f(e)}static arrayUnion(...e){const t=function Lq(...n){return new aq("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new $f(t)}static arrayRemove(...e){const t=function Vq(...n){return new lq("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new $f(t)}static increment(e){const t=function Bq(n){return new cq("increment",n)}(e);return t._methodName="FieldValue.increment",new $f(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const zq={Firestore:wV,GeoPoint:DD,Timestamp:$r,Blob:Gb,Transaction:CV,WriteBatch:EV,DocumentReference:ka,DocumentSnapshot:qb,Query:Gs,QueryDocumentSnapshot:$b,QuerySnapshot:$R,CollectionReference:jg,FieldPath:zR,FieldValue:$f,setLogLevel:function qq(n){!function $H(n){Rd.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function SV(n,e){return function Kq(n,e=Dm.z){return new un.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function ZR(n,e){return SV(n,e).pipe((0,wt.U)(t=>({payload:t,type:"query"})))}function kD(n,e){return ZR(n,e).pipe(xr(void 0),YA(),(0,wt.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((u,f)=>{const g=i.find(T=>T.doc.ref.isEqual(u.ref)),v=null==t?void 0:t.payload.docs.find(T=>T.ref.isEqual(u.ref));g&&JSON.stringify(g.doc.metadata)===JSON.stringify(u.metadata)||!g&&v&&JSON.stringify(v.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),a}))}function IV(n,e,t){return kD(n,t).pipe(Ei((r,i)=>function Qq(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function Xq(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return WR(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return WR(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return WR(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),Sm(),(0,wt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function WR(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function AV(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function Wq(n){(function Zq(n,e){n.INTERNAL.registerComponent(new Wc.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},zq)))})(n,(e,t)=>new wV(e,t,new Gq)),n.registerVersion("@firebase/firestore-compat","0.1.16")}(rP.Z);class MV{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=kD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,wt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(xr(void 0),YA(),vn(([r,i])=>i.length>0||!r),(0,wt.U)(([r,i])=>i),$n.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ei((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=AV(e);return IV(this.query,t,this.afs.schedulers.outsideAngular).pipe($n.iC)}valueChanges(e={}){return ZR(this.query,this.afs.schedulers.outsideAngular).pipe((0,wt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),$n.iC)}get(e){return(0,_n.D)(this.query.get(e)).pipe($n.iC)}add(e){return this.ref.add(e)}doc(e){return new xV(this.ref.doc(e),this.afs)}}class xV{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=OV(r,t);return new MV(i,a,this.afs)}snapshotChanges(){return function Yq(n,e){return SV(n,e).pipe(xr(void 0),YA(),(0,wt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe($n.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,wt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,_n.D)(this.ref.get(e)).pipe($n.iC)}}class Jq{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?kD(this.query,this.afs.schedulers.outsideAngular).pipe((0,wt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),vn(t=>t.length>0),$n.iC):kD(this.query,this.afs.schedulers.outsideAngular).pipe($n.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ei((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=AV(e);return IV(this.query,t,this.afs.schedulers.outsideAngular).pipe($n.iC)}valueChanges(e={}){return ZR(this.query,this.afs.schedulers.outsideAngular).pipe((0,wt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),$n.iC)}get(e){return(0,_n.D)(this.query.get(e)).pipe($n.iC)}}const RV=new l.OlP("angularfire2.enableFirestorePersistence"),kV=new l.OlP("angularfire2.firestore.persistenceSettings"),e$=new l.OlP("angularfire2.firestore.settings"),t$=new l.OlP("angularfire2.firestore.use-emulator");function OV(n,e=(t=>t)){return{query:e(n),ref:n}}let PV=(()=>{class n{constructor(t,r,i,a,u,f,g,v,T,I,O,B,q,ee,de,We,He){this.schedulers=g;const Ke=(0,$i.on)(t,f,r),Fe=T;I&&Iy(Ke,f,O,q,ee,de,B,We),[this.firestore,this.persistenceEnabled$]=(0,$i.cc)(`${Ke.name}.firestore`,"AngularFirestore",Ke.name,()=>{const It=f.runOutsideAngular(()=>Ke.firestore());if(a&&It.settings(a),Fe&&It.useEmulator(...Fe),i&&!ta(u)){const Tt=()=>{try{return(0,_n.D)(It.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(xn){return"undefined"!=typeof console&&console.warn(xn),it(!1)}};return[It,f.runOutsideAngular(Tt)]}return[It,it(!1)]},[a,Fe,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:u}=OV(i,r),f=this.schedulers.ngZone.run(()=>a);return new MV(f,u,this)}collectionGroup(t,r){const i=r||(u=>u),a=this.firestore.collectionGroup(t);return new Jq(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new xV(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG($i.Dh),l.LFG($i.xv,8),l.LFG(RV,8),l.LFG(e$,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG($n.HU),l.LFG(kV,8),l.LFG(t$,8),l.LFG($h,8),l.LFG(fm,8),l.LFG(pm,8),l.LFG(Ey,8),l.LFG(Dy,8),l.LFG(Ty,8),l.LFG(Sy,8),l.LFG(dm,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),n$=(()=>{class n{constructor(){hm.Z.registerVersion("angularfire",$n.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:RV,useValue:!0},{provide:kV,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[PV]}),n})();const NV="firebasestorage.googleapis.com",FV="storageBucket";class Pr extends yt.ZR{constructor(e,t){super(KR(e),`Firebase Storage: ${t} (${KR(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pr.prototype)}_codeEquals(e){return KR(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function KR(n){return"storage/"+n}function YR(){return new Pr("unknown","An unknown error occurred, please check the error payload for server response.")}function LV(){return new Pr("canceled","User canceled the upload/download.")}function VV(){return new Pr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Gg(n){return new Pr("invalid-argument",n)}function BV(){return new Pr("app-deleted","The Firebase app was deleted.")}function UV(n){return new Pr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function zb(n,e){return new Pr("invalid-format","String does not match format '"+n+"': "+e)}function Zb(n){throw new Pr("internal-error","Internal error: "+n)}class _s{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=_s.makeFromUrl(e,t)}catch(i){return new _s(e,"")}if(""===r.path)return r;throw function h$(n){return new Pr("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",f=new RegExp("^gs://"+i+"(/(.*))?$","i");function v(Fe){Fe.path_=decodeURIComponent(Fe.path)}const I=t.replace(/[.]/g,"\\."),Ke=[{regex:f,indices:{bucket:1,path:3},postModify:function a(Fe){"/"===Fe.path.charAt(Fe.path.length-1)&&(Fe.path_=Fe.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${I}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${t===NV?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let Fe=0;Fe<Ke.length;Fe++){const It=Ke[Fe],Tt=It.regex.exec(e);if(Tt){let kn=Tt[It.indices.path];kn||(kn=""),r=new _s(Tt[It.indices.bucket],kn),It.postModify(r);break}}if(null==r)throw function d$(n){return new Pr("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class g${constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function OD(n){return"string"==typeof n||n instanceof String}function HV(n){return QR()&&n instanceof Blob}function QR(){return"undefined"!=typeof Blob}function XR(n,e,t,r){if(r<e)throw Gg(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Gg(`Invalid value for '${n}'. Expected ${t} or less.`)}function mu(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function jV(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var $d=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}($d||($d={})),$d))();class C${constructor(e,t,r,i,a,u,f,g,v,T,I){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=g,this.timeout_=v,this.progressCallback_=T,this.connectionFactory_=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,B)=>{this.resolve_=O,this.reject_=B,this.start_()})}start_(){const t=(r,i)=>{const a=this.resolve_,u=this.reject_,f=i.connection;if(i.wasSuccessCode)try{const g=this.callback_(f,f.getResponse());!function v$(n){return void 0!==n}(g)?a():a(g)}catch(g){u(g)}else if(null!==f){const g=YR();g.serverResponse=f.getErrorText(),u(this.errorCallback_?this.errorCallback_(f,g):g)}else u(i.canceled?this.appDelete_?BV():LV():function u$(){return new Pr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new PD(!1,null,!0)):this.backoffId_=function _$(n,e,t){let r=1,i=null,a=null,u=!1,f=0;function g(){return 2===f}let v=!1;function T(...de){v||(v=!0,e.apply(null,de))}function I(de){i=setTimeout(()=>{i=null,n(B,g())},de)}function O(){a&&clearTimeout(a)}function B(de,...We){if(v)return void O();if(de)return O(),void T.call(null,de,...We);if(g()||u)return O(),void T.call(null,de,...We);let Ke;r<64&&(r*=2),1===f?(f=2,Ke=0):Ke=1e3*(r+Math.random()),I(Ke)}let q=!1;function ee(de){q||(q=!0,O(),!v&&(null!==i?(de||(f=2),clearTimeout(i),I(0)):de||(f=1)))}return I(0),a=setTimeout(()=>{u=!0,ee(!0)},t),ee}((r,i)=>{if(i)return void r(!1,new PD(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const u=f=>{null!==this.progressCallback_&&this.progressCallback_(f.loaded,f.lengthComputable?f.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const f=a.getErrorCode()===$d.NO_ERROR,g=a.getStatus();if(!f||this.isRetryStatusCode_(g)){const T=a.getErrorCode()===$d.ABORT;return void r(!1,new PD(!1,null,T))}const v=-1!==this.successCodes_.indexOf(g);r(!0,new PD(v,a))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function y$(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,i=-1!==[408,429].indexOf(e),a=-1!==this.additionalRetryCodes_.indexOf(e);return t||i||a}}class PD{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function M$(...n){const e=function A$(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(QR())return new Blob(n);throw new Pr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Zo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class JR{constructor(e,t){this.data=e,this.contentType=t||null}}function ek(n,e){switch(n){case Zo.RAW:return new JR(GV(e));case Zo.BASE64:case Zo.BASE64URL:return new JR(qV(n,e));case Zo.DATA_URL:return new JR(function O$(n){const e=new $V(n);return e.base64?qV(Zo.BASE64,e.rest):function k$(n){let e;try{e=decodeURIComponent(n)}catch(t){throw zb(Zo.DATA_URL,"Malformed data URL.")}return GV(e)}(e.rest)}(e),function P$(n){return new $V(n).contentType}(e))}throw YR()}function GV(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function qV(n,e){switch(n){case Zo.BASE64:{const i=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(i||a)throw zb(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Zo.BASE64URL:{const i=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(i||a)throw zb(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function R$(n){return atob(n)}(e)}catch(i){throw zb(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class $V{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw zb(Zo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function N$(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class dc{constructor(e,t){let r=0,i="";HV(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(HV(this.data_)){const i=function x$(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new dc(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new dc(r,!0)}}static getBlob(...e){if(QR()){const t=e.map(r=>r instanceof dc?r.data_:r);return new dc(M$.apply(null,t))}{const t=e.map(u=>OD(u)?ek(Zo.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const i=new Uint8Array(r);let a=0;return t.forEach(u=>{for(let f=0;f<u.length;f++)i[a++]=u[f]}),new dc(i,!0)}}uploadData(){return this.data_}}function tk(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function w$(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function zV(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function V$(n,e){return e}class qs{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||V$}}let ND=null;function Wb(){if(ND)return ND;const n=[];n.push(new qs("bucket")),n.push(new qs("generation")),n.push(new qs("metageneration")),n.push(new qs("name","fullPath",!0));const t=new qs("name");t.xform=function e(a,u){return function B$(n){return!OD(n)||n.length<2?n:zV(n)}(u)},n.push(t);const i=new qs("size");return i.xform=function r(a,u){return void 0!==u?Number(u):u},n.push(i),n.push(new qs("timeCreated")),n.push(new qs("updated")),n.push(new qs("md5Hash",null,!0)),n.push(new qs("cacheControl",null,!0)),n.push(new qs("contentDisposition",null,!0)),n.push(new qs("contentEncoding",null,!0)),n.push(new qs("contentLanguage",null,!0)),n.push(new qs("contentType",null,!0)),n.push(new qs("metadata","customMetadata",!0)),ND=n,ND}function ZV(n,e,t){const r=tk(e);return null===r?null:function H$(n,e,t){const r={type:"file"},i=t.length;for(let a=0;a<i;a++){const u=t[a];r[u.local]=u.xform(r,e[u.server])}return function U$(n,e){Object.defineProperty(n,"ref",{get:function t(){const a=new _s(n.bucket,n.fullPath);return e._makeStorageReference(a)}})}(r,n),r}(n,r,t)}function nk(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}const WV="prefixes";class hc{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function fc(n){if(!n)throw YR()}function FD(n,e){return function t(r,i){const a=ZV(n,i,e);return fc(null!==a),a}}function qg(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function l$(){return new Pr("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function a$(){return new Pr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function o$(n){return new Pr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function c$(n){return new Pr("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.serverResponse=r.serverResponse,i}}function Kb(n){const e=qg(n);return function t(r,i){let a=e(r,i);return 404===r.getStatus()&&(a=function s$(n){return new Pr("object-not-found","Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=i.serverResponse,a}}function YV(n,e,t){const i=mu(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,f=new hc(i,"GET",FD(n,t),u);return f.errorHandler=Kb(e),f}function Z$(n,e,t,r,i){const a={};a.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(a.delimiter=t),r&&(a.pageToken=r),i&&(a.maxResults=i);const f=mu(e.bucketOnlyServerUrl(),n.host,n._protocol),v=n.maxOperationRetryTime,T=new hc(f,"GET",function $$(n,e){return function t(r,i){const a=function q$(n,e,t){const r=tk(t);return null===r?null:function G$(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[WV])for(const i of t[WV]){const a=i.replace(/\/$/,""),u=n._makeStorageReference(new _s(e,a));r.prefixes.push(u)}if(t.items)for(const i of t.items){const a=n._makeStorageReference(new _s(e,i.name));r.items.push(a)}return r}(n,e,r)}(n,e,i);return fc(null!==a),a}}(n,e.bucket),v);return T.urlParams=a,T.errorHandler=qg(e),T}function XV(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function Q$(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class LD{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function rk(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(i){fc(!1)}return fc(!!t&&-1!==(e||["active"]).indexOf(t)),t}const tz={STATE_CHANGED:"state_changed"},$s={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ik(n){switch(n){case"running":case"pausing":case"canceling":return $s.RUNNING;case"paused":return $s.PAUSED;case"success":return $s.SUCCESS;case"canceled":return $s.CANCELED;default:return $s.ERROR}}class nz{constructor(e,t,r){if(function b$(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=r?r:void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function $g(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class iz extends class rz{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$d.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=$d.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=$d.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Zb("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Zb("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Zb("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw Zb("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Zb("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function ll(){return new iz}class nB{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=Wb(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=i,this._transition("error"))},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this._promise=new Promise((i,a)=>{this._resolve=i,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function X$(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),u=XV(e,r,i),f={name:u.fullPath},g=mu(a,n.host,n._protocol),T={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},I=nk(u,t),q=new hc(g,"POST",function B(ee){let de;rk(ee);try{de=ee.getResponseHeader("X-Goog-Upload-URL")}catch(We){fc(!1)}return fc(OD(de)),de},n.maxUploadRetryTime);return q.urlParams=f,q.headers=T,q.body=I,q.errorHandler=qg(e),q}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ll,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function J$(n,e,t,r){const g=new hc(t,"POST",function a(v){const T=rk(v,["active","final"]);let I=null;try{I=v.getResponseHeader("X-Goog-Upload-Size-Received")}catch(B){fc(!1)}I||fc(!1);const O=Number(I);return fc(!isNaN(O)),new LD(O,r.size(),"final"===T)},n.maxUploadRetryTime);return g.headers={"X-Goog-Upload-Command":"query"},g.errorHandler=qg(e),g}(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(i,ll,t,r);this._request=a,a.getPromise().then(u=>{u=u,this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new LD(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,a)=>{let u;try{u=function ez(n,e,t,r,i,a,u,f){const g=new LD(0,0);if(u?(g.current=u.current,g.total=u.total):(g.current=0,g.total=r.size()),r.size()!==g.total)throw function p$(){return new Pr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const v=g.total-g.current;let T=v;i>0&&(T=Math.min(T,i));const I=g.current,q={"X-Goog-Upload-Command":T===v?"upload, finalize":"upload","X-Goog-Upload-Offset":`${g.current}`},ee=r.slice(I,I+T);if(null===ee)throw VV();const Ke=new hc(t,"POST",function de(Fe,It){const Tt=rk(Fe,["active","final"]),xn=g.current+T,kn=r.size();let Zr;return Zr="final"===Tt?FD(e,a)(Fe,It):null,new LD(xn,kn,"final"===Tt,Zr)},e.maxUploadRetryTime);return Ke.headers=q,Ke.body=ee.uploadData(),Ke.progressCallback=f||null,Ke.errorHandler=qg(n),Ke}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(g){return this._error=g,void this._transition("error")}const f=this._ref.storage._makeRequest(u,ll,i,a);this._request=f,f.getPromise().then(g=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(g.current),g.finalized?(this._metadata=g.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=YV(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,ll,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function JV(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},g=function f(){let Ke="";for(let Fe=0;Fe<2;Fe++)Ke+=Math.random().toString().slice(2);return Ke}();u["Content-Type"]="multipart/related; boundary="+g;const v=XV(e,r,i),T=nk(v,t),B=dc.getBlob("--"+g+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+T+"\r\n--"+g+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",r,"\r\n--"+g+"--");if(null===B)throw VV();const q={name:v.fullPath},ee=mu(a,n.host,n._protocol),We=n.maxUploadRetryTime,He=new hc(ee,"POST",FD(n,t),We);return He.urlParams=q,He.headers=u,He.body=B.uploadData(),He.errorHandler=qg(e),He}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ll,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=LV(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=ik(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const a=new nz(t||void 0,r||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(ik(this._state)){case $s.SUCCESS:$g(this._resolve.bind(null,this.snapshot))();break;case $s.CANCELED:case $s.ERROR:$g(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(ik(this._state)){case $s.RUNNING:case $s.PAUSED:e.next&&$g(e.next.bind(e,this.snapshot))();break;case $s.SUCCESS:e.complete&&$g(e.complete.bind(e))();break;default:e.error&&$g(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class zf{constructor(e,t){this._service=e,this._location=t instanceof _s?t:_s.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new zf(e,t)}get root(){const e=new _s(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return zV(this._location.path)}get storage(){return this._service}get parent(){const e=function F$(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new _s(this._location.bucket,e);return new zf(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw UV(e)}}function iB(n,e,t){return sk.apply(this,arguments)}function sk(){return sk=(0,we.Z)(function*(n,e,t){const i=yield sB(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield iB(n,e,i.nextPageToken))}),sk.apply(this,arguments)}function sB(n,e){null!=e&&"number"==typeof e.maxResults&&XR("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=Z$(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,ll)}function gz(n){n._throwIfRoot("getDownloadURL");const e=function W$(n,e,t){const i=mu(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,f=new hc(i,"GET",function z$(n,e){return function t(r,i){const a=ZV(n,i,e);return fc(null!==a),function j$(n,e,t,r){const i=tk(e);if(null===i||!OD(i.downloadTokens))return null;const a=i.downloadTokens;if(0===a.length)return null;const u=encodeURIComponent;return a.split(",").map(v=>{const I=n.fullPath;return mu("/b/"+u(n.bucket)+"/o/"+u(I),t,r)+jV({alt:"media",token:v})})[0]}(a,i,n.host,n._protocol)}}(n,t),u);return f.errorHandler=Kb(e),f}(n.storage,n._location,Wb());return n.storage.makeRequestWithTokens(e,ll).then(t=>{if(null===t)throw function m$(){return new Pr("no-download-url","The given file does not have any download URLs.")}();return t})}function oB(n,e){const t=function L$(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new _s(n._location.bucket,t);return new zf(n.storage,r)}function aB(n,e){if(n instanceof ok){const t=n;if(null==t._bucket)throw function f$(){return new Pr("no-default-bucket","No default bucket found. Did you set the '"+FV+"' property when initializing the app?")}();const r=new zf(t,t._bucket);return null!=e?aB(r,e):r}return void 0!==e?oB(n,e):n}function bz(n,e){if(e&&function yz(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof ok)return function vz(n,e){return new zf(n,e)}(n,e);throw Gg("To use ref(service, url), the first argument must be a Storage instance.")}return aB(n,e)}function lB(n,e){const t=null==e?void 0:e[FV];return null==t?null:_s.makeFromBucketSpec(t,n)}class ok{constructor(e,t,r,i,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=NV,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?_s.makeFromBucketSpec(i,this._host):lB(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?_s.makeFromBucketSpec(this._url,e):lB(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){XR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){XR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,we.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,we.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zf(this,e)}_makeRequest(e,t,r,i){if(this._deleted)return new g$(BV());{const a=function I$(n,e,t,r,i,a){const u=jV(n.urlParams),f=n.url+u,g=Object.assign({},n.headers);return function T$(n,e){e&&(n["X-Firebase-GMPID"]=e)}(g,e),function E$(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(g,t),function D$(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(g,a),function S$(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(g,r),new C$(f,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i)}(e,this._appId,r,i,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(e,t){var r=this;return(0,we.Z)(function*(){const[i,a]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,a).getPromise()})()}}const cB="@firebase/storage";function hB(n,e){return bz(n=(0,yt.m9)(n),e)}function Rz(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new ok(t,r,i,e,Ps.SDK_VERSION)}!function kz(){(0,Ps._registerComponent)(new Wc.wA("storage",Rz,"PUBLIC").setMultipleInstances(!0)),(0,Ps.registerVersion)(cB,"0.9.4",""),(0,Ps.registerVersion)(cB,"0.9.4","esm2017")}();class VD{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class fB{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new VD(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new VD(r,this,this._ref))},t)}on(e,t,r,i){let a;return t&&(a="function"==typeof t?u=>t(new VD(u,this,this._ref)):{next:t.next?u=>t.next(new VD(u,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)}}class pB{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new gu(e,this._service))}get items(){return this._delegate.items.map(e=>new gu(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class gu{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function Mz(n,e){return oB(n,e)}(this._delegate,e);return new gu(t,this.storage)}get root(){return new gu(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new gu(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new fB(function Cz(n,e,t){return function dz(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new nB(n,new dc(e),t)}(n=(0,yt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Zo.RAW,r){this._throwIfRoot("putString");const i=ek(t,e),a=Object.assign({},r);return null==a.contentType&&null!=i.contentType&&(a.contentType=i.contentType),new fB(new nB(this._delegate,new dc(i.data,!0),a),this)}listAll(){return function Sz(n){return function fz(n){const e={prefixes:[],items:[]};return iB(n,e).then(()=>e)}(n=(0,yt.m9)(n))}(this._delegate).then(e=>new pB(e,this.storage))}list(e){return function Tz(n,e){return sB(n=(0,yt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new pB(t,this.storage))}getMetadata(){return function Ez(n){return function pz(n){n._throwIfRoot("getMetadata");const e=YV(n.storage,n._location,Wb());return n.storage.makeRequestWithTokens(e,ll)}(n=(0,yt.m9)(n))}(this._delegate)}updateMetadata(e){return function Dz(n,e){return function mz(n,e){n._throwIfRoot("updateMetadata");const t=function K$(n,e,t,r){const a=mu(e.fullServerUrl(),n.host,n._protocol),f=nk(t,r),v=n.maxOperationRetryTime,T=new hc(a,"PATCH",FD(n,r),v);return T.headers={"Content-Type":"application/json; charset=utf-8"},T.body=f,T.errorHandler=Kb(e),T}(n.storage,n._location,e,Wb());return n.storage.makeRequestWithTokens(t,ll)}(n=(0,yt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function Iz(n){return gz(n=(0,yt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Az(n){return function _z(n){n._throwIfRoot("deleteObject");const e=function Y$(n,e){const r=mu(e.fullServerUrl(),n.host,n._protocol),f=new hc(r,"DELETE",function u(g,v){},n.maxOperationRetryTime);return f.successCodes=[200,204],f.errorHandler=Kb(e),f}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,ll)}(n=(0,yt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw UV(e)}}class mB{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(gB(e))throw Gg("ref() expected a child path but got a URL, use refFromURL instead.");return new gu(hB(this._delegate,e),this)}refFromURL(e){if(!gB(e))throw Gg("refFromURL() expected a full URL but got a child path, use ref() instead.");try{_s.makeFromUrl(e,this._delegate.host)}catch(t){throw Gg("refFromUrl() expected a valid full URL but got an invalid one.")}return new gu(hB(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function xz(n,e,t,r={}){!function wz(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,yt.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function gB(n){return/^[A-Za-z]+:\/\//.test(n)}function Fz(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new mB(t,r)}function _B(n){const e=function Vz(n){return new un.y(e=>{const t=u=>e.next(u);t(n.snapshot);const a=n.on("state_changed",t);return n.then(u=>{t(u),e.complete()},u=>{t(n.snapshot),(u=>{e.error(u)})(u)}),function(){a()}}).pipe(Tm(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,wt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function BD(n){return{getDownloadURL:()=>it(void 0).pipe($n.fc,En(()=>n.getDownloadURL()),$n.iC),getMetadata:()=>it(void 0).pipe($n.fc,En(()=>n.getMetadata()),$n.iC),delete:()=>(0,_n.D)(n.delete()),child:e=>BD(n.child(e)),updateMetadata:e=>(0,_n.D)(n.updateMetadata(e)),put:(e,t)=>_B(n.put(e,t)),putString:(e,t,r)=>_B(n.putString(e,t,r)),list:e=>(0,_n.D)(n.list(e)),listAll:()=>(0,_n.D)(n.listAll())}}!function Lz(n){const e={TaskState:$s,TaskEvent:tz,StringFormat:Zo,Storage:mB,Reference:gu};n.INTERNAL.registerComponent(new Wc.wA("storage-compat",Fz,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.12")}(rP.Z);const Bz=new l.OlP("angularfire2.storageBucket"),Uz=new l.OlP("angularfire2.storage.maxUploadRetryTime"),Hz=new l.OlP("angularfire2.storage.maxOperationRetryTime"),jz=new l.OlP("angularfire2.storage.use-emulator");let yB=(()=>{class n{constructor(t,r,i,a,u,f,g,v,T,I){const O=(0,$i.on)(t,u,r);this.storage=(0,$i.cc)(`${O.name}.storage.${i}`,"AngularFireStorage",O.name,()=>{const B=u.runOutsideAngular(()=>O.storage(i||void 0)),q=T;return q&&B.useEmulator(...q),g&&B.setMaxUploadRetryTime(g),v&&B.setMaxOperationRetryTime(v),B},[g,v])}ref(t){return BD(this.storage.ref(t))}refFromURL(t){return BD(this.storage.refFromURL(t))}upload(t,r,i){return BD(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG($i.Dh),l.LFG($i.xv,8),l.LFG(Bz,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG($n.HU),l.LFG(Uz,8),l.LFG(Hz,8),l.LFG(jz,8),l.LFG(dm,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Gz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),qz=(()=>{class n{constructor(){hm.Z.registerVersion("angularfire",$n.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[yB],imports:[Gz]}),n})(),ak=(()=>{class n{constructor(t,r){this.angularFirestore=t,this.storage=r,this._PATH="Personagens"}uploadStorage(t,r){var i=this;return(0,we.Z)(function*(){if("image"!=t.type.split("/")[0])return void console.log("Tipo N\xe3o Suportado!");i.fileName=t.name;const a=`imagens/${(new Date).getTime()}_${t.name}`,u=i.storage.ref(a);return i.task=i.storage.upload(a,t),i.task.snapshotChanges().pipe(Sl(()=>{i.uploadedFileUrl=u.getDownloadURL(),i.uploadedFileUrl.subscribe(f=>{r.nomeimagem=t.name,r.downloadURL=f,i.criarPersonagem(r)})})).subscribe()})()}updateStorage(t,r,i){var a=this;return(0,we.Z)(function*(){if("image"!=t.type.split("/")[0])return void console.log("Tipo N\xe3o Suportado!");a.fileName=t.name;const u=`imagens/${(new Date).getTime()}_${t.name}`,f=a.storage.ref(u);return a.task=a.storage.upload(u,t),a.task.snapshotChanges().pipe(Sl(()=>{a.uploadedFileUrl=f.getDownloadURL(),a.uploadedFileUrl.subscribe(g=>{r.nomeimagem=t.name,r.downloadURL=g,a.editarPersonagem(r,i)})})).subscribe()})()}getPersonagem(t){return this.angularFirestore.collection(this._PATH).doc(t).valueChanges()}getPersonagems(){return this.angularFirestore.collection(this._PATH).snapshotChanges()}criarPersonagem(t){return this.angularFirestore.collection(this._PATH).add(t)}deletarPersonagem(t){return this.angularFirestore.collection(this._PATH).doc(t.id).delete()}editarPersonagem(t,r){return this.angularFirestore.collection(this._PATH).doc(r).update({nome:t.nome,downloadURL:t.downloadURL,funcao:t.funcao,principal:t.principal,secundaria:t.secundaria,magia:t.magia,orientacao:t.orientacao,orientacao2:t.orientacao2,equipamento:t.equipamento})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(PV),l.LFG(yB))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $z=["mat-button",""],zz=["*"],Wz=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Kz=mf(kv(Ov(class{constructor(n){this._elementRef=n}})));let zg=(()=>{class n extends Kz{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of Wz)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(gC),l.Y36(iu,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&l.Gf(fE,5),2&t){let i;l.iGM(i=l.CRH())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(l.uIk("disabled",r.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:$z,ngContentSelectors:zz,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(l.F$t(),l.TgZ(0,"span",0),l.Hsn(1),l.qZA(),l._UZ(2,"span",1)(3,"span",2)),2&t&&(l.xp6(2),l.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),l.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[fE],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),vB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[s,Zn],Zn]}),n})();class Qz{}class zd{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),a=i.toLowerCase(),u=t.slice(r+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(u):this.headers.set(a,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof zd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new zd;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof zd?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const a=e.value;if(a){let u=this.headers.get(t);if(!u)return;u=u.filter(f=>-1===a.indexOf(f)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Xz{encodeKey(e){return bB(e)}encodeValue(e){return bB(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const e6=/%(\d[a-f0-9])/gi,t6={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function bB(n){return encodeURIComponent(n).replace(e6,(e,t)=>{var r;return null!==(r=t6[t])&&void 0!==r?r:e})}function wB(n){return`${n}`}class Zd{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Xz,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Jz(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[u,f]=-1==a?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,a)),e.decodeValue(i.slice(a+1))],g=t.get(u)||[];g.push(f),t.set(u,g)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(a=>{t.push({param:r,value:a,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Zd({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(wB(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(wB(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class n6{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function CB(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function EB(n){return"undefined"!=typeof Blob&&n instanceof Blob}function DB(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Yb{constructor(e,t,r,i){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function r6(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new zd),this.context||(this.context=new n6),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+u}}else this.params=new Zd,this.urlWithParams=t}serializeBody(){return null===this.body?null:CB(this.body)||EB(this.body)||DB(this.body)||function i6(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Zd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||DB(this.body)?null:EB(this.body)?this.body.type||null:CB(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Zd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,a=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,f=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,g=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let v=e.headers||this.headers,T=e.params||this.params;const I=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(v=Object.keys(e.setHeaders).reduce((O,B)=>O.set(B,e.setHeaders[B]),v)),e.setParams&&(T=Object.keys(e.setParams).reduce((O,B)=>O.set(B,e.setParams[B]),T)),new Yb(r,i,u,{params:T,headers:v,context:I,reportProgress:g,responseType:a,withCredentials:f})}}var es=(()=>((es=es||{})[es.Sent=0]="Sent",es[es.UploadProgress=1]="UploadProgress",es[es.ResponseHeader=2]="ResponseHeader",es[es.DownloadProgress=3]="DownloadProgress",es[es.Response=4]="Response",es[es.User=5]="User",es))();class lk extends class s6{constructor(e,t=200,r="OK"){this.headers=e.headers||new zd,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=es.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new lk({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function ck(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let SB=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let a;if(t instanceof Yb)a=t;else{let g,v;g=i.headers instanceof zd?i.headers:new zd(i.headers),i.params&&(v=i.params instanceof Zd?i.params:new Zd({fromObject:i.params})),a=new Yb(t,r,void 0!==i.body?i.body:null,{headers:g,context:i.context,params:v,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const u=it(a).pipe(di(g=>this.handler.handle(g)));if(t instanceof Yb||"events"===i.observe)return u;const f=u.pipe(vn(g=>g instanceof lk));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,wt.U)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return f.pipe((0,wt.U)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return f.pipe((0,wt.U)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return f.pipe((0,wt.U)(g=>g.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Zd).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,ck(i,r))}post(t,r,i={}){return this.request("POST",t,ck(i,r))}put(t,r,i={}){return this.request("PUT",t,ck(i,r))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Qz))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const a6=["*"];let UD;function Qb(n){var e;return(null===(e=function l6(){if(void 0===UD&&(UD=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(UD=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return UD}())||void 0===e?void 0:e.createHTML(n))||n}function IB(n){return Error(`Unable to find icon with the name "${n}"`)}function AB(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function MB(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Zf{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let HD=(()=>{class n{constructor(t,r,i,a){this._httpClient=t,this._sanitizer=r,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,a){return this._addSvgIconConfig(t,r,new Zf(i,null,a))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,a){const u=this._sanitizer.sanitize(l.q3G.HTML,i);if(!u)throw MB(i);const f=Qb(u);return this._addSvgIconConfig(t,r,new Zf("",f,a))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new Zf(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){const a=this._sanitizer.sanitize(l.q3G.HTML,r);if(!a)throw MB(r);const u=Qb(a);return this._addSvgIconSetConfig(t,new Zf("",u,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,t);if(!r)throw AB(t);const i=this._cachedIconsByUrl.get(r);return i?it(jD(i)):this._loadSvgIconFromConfig(new Zf(t,null)).pipe((0,vr.b)(a=>this._cachedIconsByUrl.set(r,a)),(0,wt.U)(a=>jD(a)))}getNamedSvgIcon(t,r=""){const i=xB(r,t);let a=this._svgIconConfigs.get(i);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(r,t),a)return this._svgIconConfigs.set(i,a),this._getSvgFromConfig(a);const u=this._iconSetConfigs.get(r);return u?this._getSvgFromIconSetConfigs(t,u):function Yz(n,e){const t=(0,Xr.m)(n)?n:()=>n,r=i=>i.error(t());return new un.y(e?i=>e.schedule(r,0,i):r)}(IB(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?it(jD(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,wt.U)(r=>jD(r)))}_getSvgFromIconSetConfigs(t,r){const i=this._extractIconWithNameFromAnySet(t,r);return i?it(i):nd(r.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(Rr(f=>{const v=`Loading icon set URL: ${this._sanitizer.sanitize(l.q3G.RESOURCE_URL,u.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(v)),it(null)})))).pipe((0,wt.U)(()=>{const u=this._extractIconWithNameFromAnySet(t,r);if(!u)throw IB(t);return u}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){const a=r[i];if(a.svgText&&a.svgText.toString().indexOf(t)>-1){const u=this._svgElementFromConfig(a),f=this._extractSvgIconFromSet(u,t,a.options);if(f)return f}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,vr.b)(r=>t.svgText=r),(0,wt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?it(null):this._fetchIcon(t).pipe((0,vr.b)(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){const a=t.querySelector(`[id="${r}"]`);if(!a)return null;const u=a.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,i);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),i);const f=this._svgElementFromString(Qb("<svg></svg>"));return f.appendChild(u),this._setSvgAttributes(f,i)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){const r=this._svgElementFromString(Qb("<svg></svg>")),i=t.attributes;for(let a=0;a<i.length;a++){const{name:u,value:f}=i[a];"id"!==u&&r.setAttribute(u,f)}for(let a=0;a<t.childNodes.length;a++)t.childNodes[a].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[a].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){var r;const{url:i,options:a}=t,u=null!==(r=null==a?void 0:a.withCredentials)&&void 0!==r&&r;if(!this._httpClient)throw function c6(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const f=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,i);if(!f)throw AB(i);const g=this._inProgressUrlFetches.get(f);if(g)return g;const v=this._httpClient.get(f,{responseType:"text",withCredentials:u}).pipe((0,wt.U)(T=>Qb(T)),Sl(()=>this._inProgressUrlFetches.delete(f)),(0,f0.B)());return this._inProgressUrlFetches.set(f,v),v}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(xB(t,r),i),this}_addSvgIconSetConfig(t,r){const i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){const a=this._resolvers[i](r,t);if(a)return d6(a)?new Zf(a.url,null,a.options):new Zf(a,null)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(SB,8),l.LFG(Ss),l.LFG(te,8),l.LFG(l.qLn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jD(n){return n.cloneNode(!0)}function xB(n,e){return n+":"+e}function d6(n){return!(!n.url||!n.options)}const h6=mf(class{constructor(n){this._elementRef=n}}),f6=new l.OlP("mat-icon-location",{providedIn:"root",factory:function p6(){const n=(0,l.f3M)(te),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),RB=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],m6=RB.map(n=>`[${n}]`).join(", "),g6=/^url\(['"]?#(.*?)['"]?\)$/;let uk=(()=>{class n extends h6{constructor(t,r,i,a,u){super(t),this._iconRegistry=r,this._location=a,this._errorHandler=u,this._inline=!1,this._currentIconFetch=Mr.w0.EMPTY,i||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Er(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=t.querySelectorAll("style");for(let a=0;a<r.length;a++)r[a].textContent+=" ";const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=t.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),r&&t.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((i,a)=>{i.forEach(u=>{a.setAttribute(u.name,`url('${t}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(m6),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<r.length;a++)RB.forEach(u=>{const f=r[a],g=f.getAttribute(u),v=g?g.match(g6):null;if(v){let T=i.get(f);T||(T=[],i.set(f,T)),T.push({name:u,value:v[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe((0,nr.q)(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${a.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(HD),l.$8M("aria-hidden"),l.Y36(f6),l.Y36(l.qLn))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,r){2&t&&(l.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),l.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.qOj],ngContentSelectors:a6,decls:1,vars:0,template:function(t,r){1&t&&(l.F$t(),l.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),_6=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Zn],Zn]}),n})();var kB=P(4408);const Xb={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Xb;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(a=>{t=void 0,n(a)});return new Mr.w0(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=Xb;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Xb;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var OB=P(7565);new class v6 extends OB.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class y6 extends kB.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Xb.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(Xb.cancelAnimationFrame(t),e._scheduled=void 0)}});let dk,w6=1;const GD={};function PB(n){return n in GD&&(delete GD[n],!0)}const C6={setImmediate(n){const e=w6++;return GD[e]=!0,dk||(dk=Promise.resolve()),dk.then(()=>PB(e)&&n()),e},clearImmediate(n){PB(n)}},{setImmediate:E6,clearImmediate:D6}=C6,qD={setImmediate(...n){const{delegate:e}=qD;return((null==e?void 0:e.setImmediate)||E6)(...n)},clearImmediate(n){const{delegate:e}=qD;return((null==e?void 0:e.clearImmediate)||D6)(n)},delegate:void 0};new class S6 extends OB.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class T6 extends kB.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=qD.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(qD.clearImmediate(t),e._scheduled=void 0)}});var M6=P(3532);function NB(n,e=Dm.z){return function A6(n){return(0,_r.e)((e,t)=>{let r=!1,i=null,a=null,u=!1;const f=()=>{if(null==a||a.unsubscribe(),a=null,r){r=!1;const v=i;i=null,t.next(v)}u&&t.complete()},g=()=>{a=null,u&&t.complete()};e.subscribe((0,yn.x)(t,v=>{r=!0,i=v,a||(0,Ms.Xf)(n(v)).subscribe(a=(0,yn.x)(t,f,g))},()=>{u=!0,(!r||!a||a.closed)&&t.complete()}))})}(()=>function R6(n=0,e,t=Dm.P){let r=-1;return null!=e&&((0,M6.K)(e)?t=e:r=e),new un.y(i=>{let a=function x6(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let u=0;return t.schedule(function(){i.closed||(i.next(u++),0<=r?this.schedule(void 0,r):i.complete())},a)})}(n,e))}let O6=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new Pt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new un.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(NB(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):it()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(vn(a=>!a||i.indexOf(a)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,a)=>{this._scrollableContainsElement(a,t)&&r.push(a)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=Ta(r),a=t.getElementRef().nativeElement;do{if(i==a)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ad(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(ni),l.LFG(te,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$D=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new Pt.x,this._changeListener=a=>{this._change.next(a)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,a=i.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-a.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(NB(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ni),l.LFG(l.R0b),l.LFG(te,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),fk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[_d,hk],_d,hk]}),n})();class pk{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Jb extends pk{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class zD extends pk{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class N6 extends pk{constructor(e){super(),this.element=e instanceof l.SBq?e.nativeElement:e}}class ZD{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Jb?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof zD?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof N6?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class F6 extends ZD{constructor(e,t,r,i,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=u=>{const f=u.element,g=this._document.createComment("dom-portal");f.parentNode.insertBefore(g,f),this.outletElement.appendChild(f),this._attachedPortal=u,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(f,g)})},this._document=a}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let WD=(()=>{class n extends ZD{constructor(t,r,i){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new l.vpe,this.attachDomPortal=a=>{const u=a.element,f=this._document.createComment("dom-portal");a.setAttachedHost(this),u.parentNode.insertBefore(f,u),this._getRootNode().appendChild(u),this._attachedPortal=a,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(u,f)})},this._document=i}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,a=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),u=r.createComponent(a,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=t,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l._Vd),l.Y36(l.s_b),l.Y36(te))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[l.qOj]}),n})(),mk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const FB=dO();class V6{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=kr(-this._previousScrollPosition.left),e.style.top=kr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,a=r.scrollBehavior||"",u=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),FB&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),FB&&(r.scrollBehavior=a,i.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class B6{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class LB{enable(){}disable(){}attach(){}}function gk(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function VB(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class U6{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();gk(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let H6=(()=>{class n{constructor(t,r,i,a){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new LB,this.close=u=>new B6(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new V6(this._viewportRuler,this._document),this.reposition=u=>new U6(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(O6),l.LFG($D),l.LFG(l.R0b),l.LFG(te))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class KD{constructor(e){if(this.scrollStrategy=new LB,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class j6{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class G6{constructor(e,t,r,i,a,u,f,g,v){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=a,this._keyboardDispatcher=u,this._document=f,this._location=g,this._outsideClickDispatcher=v,this._backdropElement=null,this._backdropClick=new Pt.x,this._attachments=new Pt.x,this._detachments=new Pt.x,this._locationChanges=Mr.w0.EMPTY,this._backdropClickHandler=T=>this._backdropClick.next(T),this._keydownEvents=new Pt.x,this._outsidePointerEvents=new Pt.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,nr.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=kr(this._config.width),e.height=kr(this._config.height),e.minWidth=kr(this._config.minWidth),e.minHeight=kr(this._config.minHeight),e.maxWidth=kr(this._config.maxWidth),e.maxHeight=kr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const r=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",r),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",r)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(r,500))}_toggleClasses(e,t,r){const i=Yh(t||[]).filter(a=>!!a);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(zn((0,Kc.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.remove(),this._backdropElement===e&&(this._backdropElement=null))}}let _k=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Ns()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<i.length;a++)i[a].remove()}const r=this._document.createElement("div");r.classList.add(t),Ns()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(te),l.LFG(ni))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const BB="cdk-overlay-connected-position-bounding-box",q6=/([A-Za-z%]+)$/;class $6{constructor(e,t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Pt.x,this._resizeSubscription=Mr.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(BB),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,a=[];let u;for(let f of this._preferredPositions){let g=this._getOriginPoint(e,i,f),v=this._getOverlayPoint(g,t,f),T=this._getOverlayFit(v,t,r,f);if(T.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,g);this._canFitWithFlexibleDimensions(T,v,r)?a.push({position:f,origin:g,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(g,f)}):(!u||u.overlayFit.visibleArea<T.visibleArea)&&(u={overlayFit:T,overlayPoint:v,originPoint:g,position:f,overlayRect:t})}if(a.length){let f=null,g=-1;for(const v of a){const T=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);T>g&&(g=T,f=v)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Wf(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(BB),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,a;if("center"==r.originX)i=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;i="start"==r.originX?u:f}return t.left<0&&(i-=t.left),a="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:i,y:a}}_getOverlayPoint(e,t,r){let i,a;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+a}}_getOverlayFit(e,t,r,i){const a=HB(t);let{x:u,y:f}=e,g=this._getOffset(i,"x"),v=this._getOffset(i,"y");g&&(u+=g),v&&(f+=v);let O=0-f,B=f+a.height-r.height,q=this._subtractOverflows(a.width,0-u,u+a.width-r.width),ee=this._subtractOverflows(a.height,O,B),de=q*ee;return{visibleArea:de,isCompletelyWithinViewport:a.width*a.height===de,fitsInViewportVertically:ee===a.height,fitsInViewportHorizontally:q==a.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,a=r.right-t.x,u=UB(this._overlayRef.getConfig().minHeight),f=UB(this._overlayRef.getConfig().minWidth),v=e.fitsInViewportHorizontally||null!=f&&f<=a;return(e.fitsInViewportVertically||null!=u&&u<=i)&&v}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=HB(t),a=this._viewportRect,u=Math.max(e.x+i.width-a.width,0),f=Math.max(e.y+i.height-a.height,0),g=Math.max(a.top-r.top-e.y,0),v=Math.max(a.left-r.left-e.x,0);let T=0,I=0;return T=i.width<=a.width?v||-u:e.x<this._viewportMargin?a.left-r.left-e.x:0,I=i.height<=a.height?g||-f:e.y<this._viewportMargin?a.top-r.top-e.y:0,this._previousPushAmount={x:T,y:I},{x:e.x+T,y:e.y+I}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new j6(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let a,u,f,T,I,O;if("top"===t.overlayY)u=e.y,a=r.height-u+this._viewportMargin;else if("bottom"===t.overlayY)f=r.height-e.y+2*this._viewportMargin,a=r.height-f+this._viewportMargin;else{const B=Math.min(r.bottom-e.y+r.top,e.y),q=this._lastBoundingBoxSize.height;a=2*B,u=e.y-B,a>q&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-q/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)O=r.width-e.x+this._viewportMargin,T=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)I=e.x,T=r.right-e.x;else{const B=Math.min(r.right-e.x+r.left,e.x),q=this._lastBoundingBoxSize.width;T=2*B,I=e.x-B,T>q&&!this._isInitialRender&&!this._growAfterOpen&&(I=e.x-q/2)}return{top:u,left:I,bottom:f,right:O,width:T,height:a}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;i.height=kr(r.height),i.top=kr(r.top),i.bottom=kr(r.bottom),i.width=kr(r.width),i.left=kr(r.left),i.right=kr(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(i.maxHeight=kr(a)),u&&(i.maxWidth=kr(u))}this._lastBoundingBoxSize=r,Wf(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Wf(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Wf(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),a=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(i){const T=this._viewportRuler.getViewportScrollPosition();Wf(r,this._getExactOverlayY(t,e,T)),Wf(r,this._getExactOverlayX(t,e,T))}else r.position="static";let f="",g=this._getOffset(t,"x"),v=this._getOffset(t,"y");g&&(f+=`translateX(${g}px) `),v&&(f+=`translateY(${v}px)`),r.transform=f.trim(),u.maxHeight&&(i?r.maxHeight=kr(u.maxHeight):a&&(r.maxHeight="")),u.maxWidth&&(i?r.maxWidth=kr(u.maxWidth):a&&(r.maxWidth="")),Wf(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":i.top=kr(a.y),i}_getExactOverlayX(e,t,r){let u,i={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?i.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":i.left=kr(a.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:VB(e,r),isOriginOutsideView:gk(e,r),isOverlayClipped:VB(t,r),isOverlayOutsideView:gk(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Yh(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof l.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function Wf(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function UB(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(q6);return t&&"px"!==t?null:parseFloat(e)}return n||null}function HB(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const jB="cdk-global-overlay-wrapper";class z6{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(jB),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:a,maxWidth:u,maxHeight:f}=r,g=!("100%"!==i&&"100vw"!==i||u&&"100%"!==u&&"100vw"!==u),v=!("100%"!==a&&"100vh"!==a||f&&"100%"!==f&&"100vh"!==f);e.position=this._cssPosition,e.marginLeft=g?"0":this._leftOffset,e.marginTop=v?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,g?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=v?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(jB),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Z6=(()=>{class n{constructor(t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a}global(){return new z6}flexibleConnectedTo(t){return new $6(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG($D),l.LFG(te),l.LFG(ni),l.LFG(_k))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GB=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(te))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),W6=(()=>{class n extends GB{constructor(t){super(t),this._keydownListener=r=>{const i=this._attachedOverlays;for(let a=i.length-1;a>-1;a--)if(i[a]._keydownEvents.observers.length>0){i[a]._keydownEvents.next(r);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(te))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),K6=(()=>{class n extends GB{constructor(t,r){super(t),this._platform=r,this._cursorStyleIsSet=!1,this._pointerDownListener=i=>{this._pointerDownEventTarget=Ii(i)},this._clickListener=i=>{const a=Ii(i),u="click"===i.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const f=this._attachedOverlays.slice();for(let g=f.length-1;g>-1;g--){const v=f[g];if(!(v._outsidePointerEvents.observers.length<1)&&v.hasAttached()){if(v.overlayElement.contains(a)||v.overlayElement.contains(u))break;v._outsidePointerEvents.next(i)}}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(te),l.LFG(ni))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Y6=0,Wd=(()=>{class n{constructor(t,r,i,a,u,f,g,v,T,I,O){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=a,this._keyboardDispatcher=u,this._injector=f,this._ngZone=g,this._document=v,this._directionality=T,this._location=I,this._outsideClickDispatcher=O}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),a=this._createPortalOutlet(i),u=new KD(t);return u.direction=u.direction||this._directionality.value,new G6(a,r,i,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+Y6++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new F6(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(H6),l.LFG(_k),l.LFG(l._Vd),l.LFG(Z6),l.LFG(W6),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(te),l.LFG(Qc),l.LFG(Ie),l.LFG(K6))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Q6=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],qB=new l.OlP("cdk-connected-overlay-scroll-strategy");let $B=(()=>{class n{constructor(t){this.elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),zB=(()=>{class n{constructor(t,r,i,a,u){this._overlay=t,this._dir=u,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Mr.w0.EMPTY,this._attachSubscription=Mr.w0.EMPTY,this._detachSubscription=Mr.w0.EMPTY,this._positionSubscription=Mr.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new l.vpe,this.positionChange=new l.vpe,this.attach=new l.vpe,this.detach=new l.vpe,this.overlayKeydown=new l.vpe,this.overlayOutsideClick=new l.vpe,this._templatePortal=new zD(r,i),this._scrollStrategyFactory=a,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Er(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=Er(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=Er(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=Er(t)}get push(){return this._push}set push(t){this._push=Er(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Q6);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),27===r.keyCode&&!this.disableClose&&!bd(r)&&(r.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{this.overlayOutsideClick.next(r)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),r=new KD({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(r.width=this.width),(this.height||0===this.height)&&(r.height=this.height),(this.minWidth||0===this.minWidth)&&(r.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(t){const r=this.positions.map(i=>({originX:i.originX,originY:i.originY,overlayX:i.overlayX,overlayY:i.overlayY,offsetX:i.offsetX||this.offsetX,offsetY:i.offsetY||this.offsetY,panelClass:i.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof $B?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function L6(n,e=!1){return(0,_r.e)((t,r)=>{let i=0;t.subscribe((0,yn.x)(r,a=>{const u=n(a,i++);(u||e)&&r.next(a),!u&&r.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Wd),l.Y36(l.Rgc),l.Y36(l.s_b),l.Y36(qB),l.Y36(Qc,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[l.TTD]}),n})();const J6={provide:qB,deps:[Wd],useFactory:function X6(n){return()=>n.scrollStrategies.reposition()}};let yk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Wd,J6],imports:[[_d,mk,fk],fk]}),n})();class eZ{constructor(e=!1,t,r=!0){this._multiple=e,this._emitChanges=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Pt.x,t&&t.length&&(e?t.forEach(i=>this._markSelected(i)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}const tZ=["trigger"],nZ=["panel"];function rZ(n,e){if(1&n&&(l.TgZ(0,"span",8),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Oqu(t.placeholder)}}function iZ(n,e){if(1&n&&(l.TgZ(0,"span",12),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.triggerValue)}}function sZ(n,e){1&n&&l.Hsn(0,0,["*ngSwitchCase","true"])}function oZ(n,e){if(1&n&&(l.TgZ(0,"span",9),l.YNc(1,iZ,2,1,"span",10),l.YNc(2,sZ,1,0,"ng-content",11),l.qZA()),2&n){const t=l.oxw();l.Q6J("ngSwitch",!!t.customTrigger),l.xp6(2),l.Q6J("ngSwitchCase",!0)}}function aZ(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",13)(1,"div",14,15),l.NdJ("@transformPanel.done",function(i){return l.CHM(t),l.oxw()._panelDoneAnimatingStream.next(i.toState)})("keydown",function(i){return l.CHM(t),l.oxw()._handleKeydown(i)}),l.Hsn(3,1),l.qZA()()}if(2&n){const t=l.oxw();l.Q6J("@transformPanelWrap",void 0),l.xp6(1),l.Gre("mat-select-panel ",t._getPanelTheme(),""),l.Udp("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),l.Q6J("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),l.uIk("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const lZ=[[["mat-select-trigger"]],"*"],cZ=["mat-select-trigger","*"],KB={transformPanelWrap:Jh("transformPanelWrap",[nc("* => void",g1("@transformPanel",[vC()],{optional:!0}))]),transformPanel:Jh("transformPanel",[tu("void",zi({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),tu("showing",zi({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),tu("showing-multiple",zi({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),nc("void => *",eu("120ms cubic-bezier(0, 0, 0.2, 1)")),nc("* => void",eu("100ms 25ms linear",zi({opacity:0})))])};let YB=0;const XB=new l.OlP("mat-select-scroll-strategy"),fZ=new l.OlP("MAT_SELECT_CONFIG"),pZ={provide:XB,deps:[Wd],useFactory:function hZ(n){return()=>n.scrollStrategies.reposition()}};class mZ{constructor(e,t){this.source=e,this.value=t}}const gZ=Ov(HA(kv(dE(class{constructor(n,e,t,r,i){this._elementRef=n,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=r,this.ngControl=i}})))),_Z=new l.OlP("MatSelectTrigger");let yZ=(()=>{class n extends gZ{constructor(t,r,i,a,u,f,g,v,T,I,O,B,q,ee){var de,We,He;super(u,a,g,v,I),this._viewportRuler=t,this._changeDetectorRef=r,this._ngZone=i,this._dir=f,this._parentFormField=T,this._liveAnnouncer=q,this._defaultOptions=ee,this._panelOpen=!1,this._compareWith=(Ke,Fe)=>Ke===Fe,this._uid="mat-select-"+YB++,this._triggerAriaLabelledBy=null,this._destroy=new Pt.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+YB++,this._panelDoneAnimatingStream=new Pt.x,this._overlayPanelClass=(null===(de=this._defaultOptions)||void 0===de?void 0:de.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(He=null===(We=this._defaultOptions)||void 0===We?void 0:We.disableOptionCentering)&&void 0!==He&&He,this.ariaLabel="",this.optionSelectionChanges=Nu(()=>{const Ke=this.options;return Ke?Ke.changes.pipe(xr(Ke),En(()=>(0,Kc.T)(...Ke.map(Fe=>Fe.onSelectionChange)))):this._ngZone.onStable.pipe((0,nr.q)(1),En(()=>this.optionSelectionChanges))}),this.openedChange=new l.vpe,this._openedStream=this.openedChange.pipe(vn(Ke=>Ke),(0,wt.U)(()=>{})),this._closedStream=this.openedChange.pipe(vn(Ke=>!Ke),(0,wt.U)(()=>{})),this.selectionChange=new l.vpe,this.valueChange=new l.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==ee?void 0:ee.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=ee.typeaheadDebounceInterval),this._scrollStrategyFactory=B,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(O)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){var t,r,i,a;return null!==(a=null!==(t=this._required)&&void 0!==t?t:null===(i=null===(r=this.ngControl)||void 0===r?void 0:r.control)||void 0===i?void 0:i.hasValidator(en.required))&&void 0!==a&&a}set required(t){this._required=Er(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=Er(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=Er(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=Im(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new eZ(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Sm(),zn(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(zn(this._destroy)).subscribe(t=>{t.added.forEach(r=>r.select()),t.removed.forEach(r=>r.deselect())}),this.options.changes.pipe(xr(null),zn(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?r.setAttribute("aria-labelledby",t):r.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var t,r;return this.multiple?(null===(t=this._selectionModel)||void 0===t?void 0:t.selected)||[]:null===(r=this._selectionModel)||void 0===r?void 0:r.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(r=>r.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const r=t.keyCode,i=40===r||38===r||37===r||39===r,a=13===r||32===r,u=this._keyManager;if(!u.isTyping()&&a&&!bd(t)||(this.multiple||t.altKey)&&i)t.preventDefault(),this.open();else if(!this.multiple){const f=this.selected;u.onKeydown(t);const g=this.selected;g&&f!==g&&this._liveAnnouncer.announce(g.viewValue,1e4)}}_handleOpenKeydown(t){const r=this._keyManager,i=t.keyCode,a=40===i||38===i,u=r.isTyping();if(a&&t.altKey)t.preventDefault(),this.close();else if(u||13!==i&&32!==i||!r.activeItem||bd(t))if(!u&&this._multiple&&65===i&&t.ctrlKey){t.preventDefault();const f=this.options.some(g=>!g.disabled&&!g.selected);this.options.forEach(g=>{g.disabled||(f?g.select():g.deselect())})}else{const f=r.activeItemIndex;r.onKeydown(t),this._multiple&&a&&t.shiftKey&&r.activeItem&&r.activeItemIndex!==f&&r.activeItem._selectViaInteraction()}else t.preventDefault(),r.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,nr.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(r=>r.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(r=>this._selectValue(r)),this._sortValues();else{const r=this._selectValue(t);r?this._keyManager.updateActiveItem(r):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const r=this.options.find(i=>{if(this._selectionModel.isSelected(i))return!1;try{return null!=i.value&&this._compareWith(i.value,t)}catch(a){return!1}});return r&&this._selectionModel.select(r),r}_initKeyManager(){this._keyManager=new OI(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(zn(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(zn(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=(0,Kc.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(zn(t)).subscribe(r=>{this._onSelect(r.source,r.isUserInput),r.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Kc.T)(...this.options.map(r=>r._stateChanges)).pipe(zn(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,r){const i=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(i!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),r&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),r&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),i!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((r,i)=>this.sortComparator?this.sortComparator(r,i,t):t.indexOf(r)-t.indexOf(i)),this.stateChanges.next()}}_propagateChanges(t){let r=null;r=this.multiple?this.selected.map(i=>i.value):this.selected?this.selected.value:t,this._value=r,this.valueChange.emit(r),this._onChange(r),this.selectionChange.emit(this._getChangeEvent(r)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var t;if(this.ariaLabel)return null;const r=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();return this.ariaLabelledby?(r?r+" ":"")+this.ariaLabelledby:r}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var t;if(this.ariaLabel)return null;const r=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();let i=(r?r+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(t){return new(t||n)(l.Y36($D),l.Y36(l.sBO),l.Y36(l.R0b),l.Y36(Fv),l.Y36(l.SBq),l.Y36(Qc,8),l.Y36(qp,8),l.Y36(tl,8),l.Y36(KA,8),l.Y36(mo,10),l.$8M("tabindex"),l.Y36(XB),l.Y36(mC),l.Y36(fZ,8))},n.\u0275dir=l.lG2({type:n,viewQuery:function(t,r){if(1&t&&(l.Gf(tZ,5),l.Gf(nZ,5),l.Gf(zB,5)),2&t){let i;l.iGM(i=l.CRH())&&(r.trigger=i.first),l.iGM(i=l.CRH())&&(r.panel=i.first),l.iGM(i=l.CRH())&&(r._overlayDir=i.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[l.qOj,l.TTD]}),n})(),JB=(()=>{class n extends yZ{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,r,i){const a=this._getItemHeight();return Math.min(Math.max(0,a*t-r+a/2),i)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(zn(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,nr.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const r=X(t,this.options,this.optionGroups),i=this._getItemHeight();this.panel.nativeElement.scrollTop=0===t&&1===r?0:function Ce(n,e,t,r){return n<t?n:n+e>t+r?Math.max(0,n-r+e):t}((t+r)*i,i,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new mZ(this,t)}_calculateOverlayOffsetX(){const t=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),r=this._viewportRuler.getViewportSize(),i=this._isRtl(),a=this.multiple?56:32;let u;if(this.multiple)u=40;else if(this.disableOptionCentering)u=16;else{let v=this._selectionModel.selected[0]||this.options.first;u=v&&v.group?32:16}i||(u*=-1);const f=0-(t.left+u-(i?a:0)),g=t.right+u-r.width+(i?0:a);f>0?u+=f+8:g>0&&(u-=g+8),this._overlayDir.offsetX=Math.round(u),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,r,i){const a=this._getItemHeight(),u=(a-this._triggerRect.height)/2,f=Math.floor(256/a);let g;return this.disableOptionCentering?0:(g=0===this._scrollTop?t*a:this._scrollTop===i?(t-(this._getItemCount()-f))*a+(a-(this._getItemCount()*a-256)%a):r-a/2,Math.round(-1*g-u))}_checkOverlayWithinViewport(t){const r=this._getItemHeight(),i=this._viewportRuler.getViewportSize(),a=this._triggerRect.top-8,u=i.height-this._triggerRect.bottom-8,f=Math.abs(this._offsetY),v=Math.min(this._getItemCount()*r,256)-f-this._triggerRect.height;v>u?this._adjustPanelUp(v,u):f>a?this._adjustPanelDown(f,a,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,r){const i=Math.round(t-r);this._scrollTop-=i,this._offsetY-=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,r,i){const a=Math.round(t-r);if(this._scrollTop+=a,this._offsetY+=a,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=i)return this._scrollTop=i,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),r=this._getItemCount(),i=Math.min(r*t,256),u=r*t-i;let f;f=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),f+=X(f,this.options,this.optionGroups);const g=i/2;this._scrollTop=this._calculateOverlayScroll(f,g,u),this._offsetY=this._calculateOverlayOffsetY(f,g,u),this._checkOverlayWithinViewport(u)}_getOriginBasedOnOption(){const t=this._getItemHeight(),r=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-r+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(t,r,i){if(1&t&&(l.Suo(i,_Z,5),l.Suo(i,$,5),l.Suo(i,w,5)),2&t){let a;l.iGM(a=l.CRH())&&(r.customTrigger=a.first),l.iGM(a=l.CRH())&&(r.options=a),l.iGM(a=l.CRH())&&(r.optionGroups=a)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,r){1&t&&l.NdJ("keydown",function(a){return r._handleKeydown(a)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&t&&(l.uIk("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-describedby",r._ariaDescribedby||null)("aria-activedescendant",r._getAriaActiveDescendant()),l.ekj("mat-select-disabled",r.disabled)("mat-select-invalid",r.errorState)("mat-select-required",r.required)("mat-select-empty",r.empty)("mat-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[l._Bn([{provide:pE,useExisting:n},{provide:d,useExisting:n}]),l.qOj],ngContentSelectors:cZ,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,r){if(1&t&&(l.F$t(lZ),l.TgZ(0,"div",0,1),l.NdJ("click",function(){return r.toggle()}),l.TgZ(3,"div",2),l.YNc(4,rZ,2,1,"span",3),l.YNc(5,oZ,3,2,"span",4),l.qZA(),l.TgZ(6,"div",5),l._UZ(7,"div",6),l.qZA()(),l.YNc(8,aZ,4,14,"ng-template",7),l.NdJ("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&t){const i=l.MAs(1);l.uIk("aria-owns",r.panelOpen?r.id+"-panel":null),l.xp6(3),l.Q6J("ngSwitch",r.empty),l.uIk("id",r._valueId),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngSwitchCase",!1),l.xp6(3),l.Q6J("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",i)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayMinWidth",null==r._triggerRect?null:r._triggerRect.width)("cdkConnectedOverlayOffsetY",r._offsetY)}},directives:[$B,Ur,bi,Pa,zB,is],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[KB.transformPanelWrap,KB.transformPanel]},changeDetection:0}),n})(),vZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[pZ],imports:[[Va,yk,Ve,Zn],hk,_E,Ve,Zn]}),n})();function bZ(n,e){1&n&&(l.TgZ(0,"small",20),l._uU(1," O Nome \xe9 obrigat\xf3rio!"),l.qZA())}function wZ(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,bZ,2,0,"small",19),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.formCriar.controls.nome.hasError("required"))}}function CZ(n,e){if(1&n&&(l.TgZ(0,"mat-option",21),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value),l.xp6(1),l.hij(" ",t.viewValue," ")}}function EZ(n,e){if(1&n&&(l.TgZ(0,"mat-option",21),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value),l.xp6(1),l.hij(" ",t.viewValue," ")}}function DZ(n,e){if(1&n&&(l.TgZ(0,"mat-option",21),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value),l.xp6(1),l.hij(" ",t.viewValue," ")}}function TZ(n,e){if(1&n&&(l.TgZ(0,"mat-option",21),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value),l.xp6(1),l.hij(" ",t.viewValue," ")}}function SZ(n,e){if(1&n&&(l.TgZ(0,"mat-option",21),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value),l.xp6(1),l.hij(" ",t.viewValue," ")}}function IZ(n,e){if(1&n&&(l.TgZ(0,"mat-option",21),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value),l.xp6(1),l.hij(" ",t.viewValue," ")}}function AZ(n,e){if(1&n&&(l.TgZ(0,"mat-option",21),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value),l.xp6(1),l.hij(" ",t.viewValue," ")}}let MZ=(()=>{class n{constructor(t,r,i){this._router=t,this._personagensService=r,this._formBuilder=i,this.principal=[{value:"Combatente",viewValue:"Combatente"},{value:"Usu\xe1rio de magia",viewValue:"Usu\xe1rio de magia"},{value:"Suporte",viewValue:"Suporte"},{value:"Defensor",viewValue:"Defensor"}],this.secundarias=[{value:"Usu\xe1rio de magia leve",viewValue:"Usu\xe1rio de magia leve"},{value:"Utilidade intera\xe7\xe3o",viewValue:"Utilidade intera\xe7\xe3o"},{value:"Utilidade com itens",viewValue:"Utilidade com itens"},{value:"Controle",viewValue:"Controle"}],this.magias=[{value:"Origem divina",viewValue:"Origem divina"},{value:"Origem arcana",viewValue:"Origem arcana"},{value:"Origem de pacto",viewValue:"Origem de pacto"}],this.orientacaos=[{value:"Bom",viewValue:"Bom"},{value:"Neutro",viewValue:"Neutro"},{value:"Mal",viewValue:"Mal"}],this.funcaos=[{value:"Magico combatente",viewValue:"Magico combatente"},{value:"Magico utilidade",viewValue:"Magico utilidade"},{value:"Combatente corpo a corpo",viewValue:"Combatente corpo a corpo"},{value:"Combatente a distancia",viewValue:"Combatente a distancia"},{value:"Curador",viewValue:"Curador"},{value:"Tanque",viewValue:"Tanque"}],this.orientacaos2=[{value:"Leal",viewValue:"Leal"},{value:"Neutro",viewValue:"Neutro"},{value:"Caos",viewValue:"Caos"}],this.equipamentos=[{value:"Arma uma m\xe3o, armadura, escudo",viewValue:"Arma uma m\xe3o, armadura, escudo"},{value:"Arma duas m\xe3os, armadura",viewValue:"Arma duas m\xe3os, armadura"},{value:"Arco e flecha, armadura leve, adaga",viewValue:"Arco e flecha, armadura leve, adaga"},{value:"Foco, adaga",viewValue:"Foco, adaga"}],this.formCriar=this._formBuilder.group({nome:["",[en.required]],funcao:["",[en.required]],principal:["",[en.required]],secundaria:["",[en.required]],magia:["",[en.required]],orientacao:["",[en.required]],orientacao2:["",[en.required]],equipamento:["",[en.required]]})}ngOnInit(){}validarFormulario(){for(let t in this.formCriar.controls)this.formCriar.controls[t].markAsTouched()}submitForm(){this.validarFormulario(),this.formCriar.valid&&this.salvar()}salvar(){const r=document.getElementById("imagem").files[0];"image"==r.type.split("/")[0]?this._personagensService.uploadStorage(r,this.formCriar.value).then(()=>{this._router.navigate(["/listaDePersonagens"])}).catch(i=>{console.log(i),alert("deu ruim")}):alert("Tipo de arquivo n\xe3o suportado")}listar(){this._router.navigate(["/listaDePersonagens"])}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(wr),l.Y36(ak),l.Y36(Wp))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-criar"]],decls:61,vars:9,consts:[["color","primary"],["mat-mini-fab","","color","accent","id","criar",3,"click"],[3,"formGroup","ngSubmit"],["appearance","outline",2,"background-color","rgb(8, 8, 61) !important","color","white"],["matInput","","formControlName","nome","type","text","maxlength","100","required",""],[4,"ngIf"],["appearance","outline",2,"background-color","rgb(8, 8, 61) !important"],["formControlName","principal","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","secundaria","required",""],["formControlName","magia","required",""],["formControlName","funcao","required",""],["formControlName","orientacao","required",""],["formControlName","orientacao2","required",""],["formControlName","equipamento","required",""],[1,"file-input"],["for","imagem"],["id","imagem","type","file","required","",1,"file"],["mat-raised-button","","type","submit"],["style","color: pink",4,"ngIf"],[2,"color","pink"],[3,"value"]],template:function(t,r){1&t&&(l.TgZ(0,"body")(1,"mat-toolbar",0)(2,"a")(3,"button",1),l.NdJ("click",function(){return r.listar()}),l.TgZ(4,"mat-icon"),l._uU(5,"arrow_back"),l.qZA()()(),l.TgZ(6,"span"),l._uU(7,"Cria\xe7\xe3o de Nova Ideia"),l.qZA()(),l.TgZ(8,"form",2),l.NdJ("ngSubmit",function(){return r.submitForm()}),l.TgZ(9,"mat-form-field",3)(10,"mat-label"),l._uU(11,"nome"),l.qZA(),l._UZ(12,"input",4),l.YNc(13,wZ,2,1,"div",5),l.qZA(),l._UZ(14,"br"),l.TgZ(15,"mat-form-field",6)(16,"mat-label"),l._uU(17,"Ideia principal"),l.qZA(),l.TgZ(18,"mat-select",7),l.YNc(19,CZ,2,2,"mat-option",8),l.qZA()(),l.TgZ(20,"mat-form-field",6)(21,"mat-label"),l._uU(22,"Ideia secundaria"),l.qZA(),l.TgZ(23,"mat-select",9),l.YNc(24,EZ,2,2,"mat-option",8),l.qZA()(),l._UZ(25,"br"),l.TgZ(26,"mat-form-field",6)(27,"mat-label"),l._uU(28,"Magia"),l.qZA(),l.TgZ(29,"mat-select",10),l.YNc(30,DZ,2,2,"mat-option",8),l.qZA()(),l.TgZ(31,"mat-form-field",6)(32,"mat-label"),l._uU(33,"Funcao"),l.qZA(),l.TgZ(34,"mat-select",11),l.YNc(35,TZ,2,2,"mat-option",8),l.qZA()(),l._UZ(36,"br"),l.TgZ(37,"mat-form-field",6)(38,"mat-label"),l._uU(39,"Orientacao"),l.qZA(),l.TgZ(40,"mat-select",12),l.YNc(41,SZ,2,2,"mat-option",8),l.qZA()(),l.TgZ(42,"mat-form-field",6)(43,"mat-label"),l._uU(44,"Orientacao 2"),l.qZA(),l.TgZ(45,"mat-select",13),l.YNc(46,IZ,2,2,"mat-option",8),l.qZA()(),l._UZ(47,"br"),l.TgZ(48,"mat-form-field",6)(49,"mat-label"),l._uU(50,"Equipamento"),l.qZA(),l.TgZ(51,"mat-select",14),l.YNc(52,AZ,2,2,"mat-option",8),l.qZA()(),l._UZ(53,"br"),l.TgZ(54,"div",15)(55,"label",16),l._uU(56,"Adicione uma imagem"),l.qZA(),l._UZ(57,"input",17),l.qZA(),l._UZ(58,"br"),l.TgZ(59,"button",18),l._uU(60,"Criar"),l.qZA()()()),2&t&&(l.xp6(8),l.Q6J("formGroup",r.formCriar),l.xp6(5),l.Q6J("ngIf",r.formCriar.controls.nome.touched),l.xp6(6),l.Q6J("ngForOf",r.principal),l.xp6(5),l.Q6J("ngForOf",r.secundarias),l.xp6(6),l.Q6J("ngForOf",r.magias),l.xp6(5),l.Q6J("ngForOf",r.funcaos),l.xp6(6),l.Q6J("ngForOf",r.orientacaos),l.xp6(5),l.Q6J("ngForOf",r.orientacaos2),l.xp6(6),l.Q6J("ngForOf",r.equipamentos))},directives:[Kt,zg,uk,Ph,Th,tl,gE,mE,yE,Wl,Dh,rd,id,jo,Jn,JB,Xn,$],styles:["body[_ngcontent-%COMP%]{background-color:#08083d!important}form[_ngcontent-%COMP%]{text-align:center}button[_ngcontent-%COMP%]{margin-right:2%}mat-form-field[_ngcontent-%COMP%]{margin-right:2%}.file-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:2%;display:block;position:relative;left:39%;width:20%;height:37px;border-radius:5px;background:#fe0177;box-shadow:0 2px 3px #25222266;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:500;cursor:pointer;transition:transform .2s ease-out}.file[_ngcontent-%COMP%]{opacity:0;width:.1px;height:.1px;position:absolute}.file-input[_ngcontent-%COMP%]:hover   label[_ngcontent-%COMP%]{background-color:#fd3fc4}span[_ngcontent-%COMP%]{font-size:xx-large;padding-left:35%}"]}),n})();function xZ(n,e){if(1&n&&(l.TgZ(0,"mat-option",17),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value),l.xp6(1),l.hij(" ",t.viewValue," ")}}function RZ(n,e){if(1&n&&(l.TgZ(0,"mat-option",17),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value),l.xp6(1),l.hij(" ",t.viewValue," ")}}function kZ(n,e){if(1&n&&(l.TgZ(0,"mat-option",17),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value),l.xp6(1),l.hij(" ",t.viewValue," ")}}function OZ(n,e){if(1&n&&(l.TgZ(0,"mat-option",17),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value),l.xp6(1),l.hij(" ",t.viewValue," ")}}function PZ(n,e){if(1&n&&(l.TgZ(0,"mat-option",17),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value),l.xp6(1),l.hij(" ",t.viewValue," ")}}function NZ(n,e){if(1&n&&(l.TgZ(0,"mat-option",17),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value),l.xp6(1),l.hij(" ",t.viewValue," ")}}function FZ(n,e){if(1&n&&(l.TgZ(0,"mat-option",17),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t.value),l.xp6(1),l.hij(" ",t.viewValue," ")}}let LZ=(()=>{class n{constructor(t,r,i,a){this._router=t,this._actRoute=r,this._personagemService=i,this._formBuilder=a,this.principal=[{value:"Combatente",viewValue:"Combatente"},{value:"Usu\xe1rio de magia",viewValue:"Usu\xe1rio de magia"},{value:"Suporte",viewValue:"Suporte"},{value:"Defensor",viewValue:"Defensor"}],this.secundarias=[{value:"Usu\xe1rio de magia leve",viewValue:"Usu\xe1rio de magia leve"},{value:"Utilidade intera\xe7\xe3o",viewValue:"Utilidade intera\xe7\xe3o"},{value:"Utilidade com itens",viewValue:"Utilidade com itens"},{value:"Controle",viewValue:"Controle"}],this.magias=[{value:"Origem divina",viewValue:"Origem divina"},{value:"Origem arcana",viewValue:"Origem arcana"},{value:"Origem de pacto",viewValue:"Origem de pacto"}],this.orientacaos=[{value:"Bom",viewValue:"Bom"},{value:"Neutro",viewValue:"Neutro"},{value:"Mal",viewValue:"Mal"}],this.funcaos=[{value:"Magico combatente",viewValue:"Magico combatente"},{value:"Magico utilidade",viewValue:"Magico utilidade"},{value:"Combatente corpo a corpo",viewValue:"Combatente corpo a corpo"},{value:"Combatente a distancia",viewValue:"Combatente a distancia"},{value:"Curador",viewValue:"Curador"},{value:"Tanque",viewValue:"Tanque"}],this.orientacaos2=[{value:"Leal",viewValue:"Leal"},{value:"Neutro",viewValue:"Neutro"},{value:"Caos",viewValue:"Caos"}],this.equipamentos=[{value:"Arma uma m\xe3o, armadura, escudo",viewValue:"Arma uma m\xe3o, armadura, escudo"},{value:"Arma duas m\xe3os, armadura",viewValue:"Arma duas m\xe3os, armadura"},{value:"Arco e flecha, armadura leve, adaga",viewValue:"Arco e flecha, armadura leve, adaga"},{value:"Foco, adaga",viewValue:"Foco, adaga"}],this.formEditar=this._formBuilder.group({nome:["",[en.required]],funcao:["",[en.required]],principal:["",[en.required]],secundaria:["",[en.required]],magia:["",[en.required]],orientacao:["",[en.required]],orientacao2:["",[en.required]],equipamento:["",[en.required]]})}ngOnInit(){this._actRoute.params.subscribe(t=>{t.indice&&(this.id=t.indice,this._personagemService.getPersonagem(t.indice).subscribe(r=>{let i=r;this.downloadURL=i.downloadURL,this.formEditar=this._formBuilder.group({nome:[i.nome,[en.required]],funcao:[i.funcao,[en.required]],principal:[i.principal,[en.required]],secundaria:[i.secundaria,[en.required]],magia:[i.magia,[en.required]],orientacao:[i.orientacao,[en.required]],orientacao2:[i.orientacao2,[en.required]],equipamento:[i.equipamento,[en.required]]})}))})}validarFormulario(){for(let t in this.formEditar.controls)this.formEditar.controls[t].markAsTouched()}submitForm(){this.validarFormulario(),this.formEditar.valid&&this.salvar()}salvar(){const r=document.getElementById("imagem").files[0];null==r||"image"!=r.type.split("/")[0]?(this.formEditar.value.downloadURL=this.downloadURL,this._personagemService.editarPersonagem(this.formEditar.value,this.id),this._router.navigate(["/listaDePersonagens"])):this._personagemService.updateStorage(r,this.formEditar.value,this.id).then(()=>{this._router.navigate(["/listaDePersonagens"])}).catch(i=>{console.log(i),alert("deu ruim")})}listar(){this._router.navigate(["/listaDePersonagens"])}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(wr),l.Y36(Po),l.Y36(ak),l.Y36(Wp))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-editar"]],decls:60,vars:8,consts:[["color","primary"],["mat-mini-fab","","color","accent","id","criar",3,"click"],[3,"formGroup","ngSubmit"],["appearance","outline",2,"background-color","rgb(8, 8, 61) !important"],["matInput","","formControlName","nome","maxlength","100","required",""],["formControlName","principal","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","secundaria","required",""],["formControlName","magia","required",""],["formControlName","funcao","required",""],["formControlName","orientacao","required",""],["formControlName","orientacao2","required",""],["formControlName","equipamento","required",""],[1,"file-input"],["for","imagem"],["id","imagem","type","file",1,"file"],["mat-raised-button","","type","submit"],[3,"value"]],template:function(t,r){1&t&&(l.TgZ(0,"body")(1,"mat-toolbar",0)(2,"a")(3,"button",1),l.NdJ("click",function(){return r.listar()}),l.TgZ(4,"mat-icon"),l._uU(5,"arrow_back"),l.qZA()()(),l.TgZ(6,"span"),l._uU(7,"Editar Ideia"),l.qZA()(),l.TgZ(8,"form",2),l.NdJ("ngSubmit",function(){return r.submitForm()}),l.TgZ(9,"mat-form-field",3)(10,"mat-label"),l._uU(11,"nome"),l.qZA(),l._UZ(12,"input",4),l.qZA(),l._UZ(13,"br"),l.TgZ(14,"mat-form-field",3)(15,"mat-label"),l._uU(16,"Ideia principal"),l.qZA(),l.TgZ(17,"mat-select",5),l.YNc(18,xZ,2,2,"mat-option",6),l.qZA()(),l.TgZ(19,"mat-form-field",3)(20,"mat-label"),l._uU(21,"Ideia secundaria"),l.qZA(),l.TgZ(22,"mat-select",7),l.YNc(23,RZ,2,2,"mat-option",6),l.qZA()(),l._UZ(24,"br"),l.TgZ(25,"mat-form-field",3)(26,"mat-label"),l._uU(27,"Magia"),l.qZA(),l.TgZ(28,"mat-select",8),l.YNc(29,kZ,2,2,"mat-option",6),l.qZA()(),l.TgZ(30,"mat-form-field",3)(31,"mat-label"),l._uU(32,"Funcao"),l.qZA(),l.TgZ(33,"mat-select",9),l.YNc(34,OZ,2,2,"mat-option",6),l.qZA()(),l._UZ(35,"br"),l.TgZ(36,"mat-form-field",3)(37,"mat-label"),l._uU(38,"Orientacao"),l.qZA(),l.TgZ(39,"mat-select",10),l.YNc(40,PZ,2,2,"mat-option",6),l.qZA()(),l.TgZ(41,"mat-form-field",3)(42,"mat-label"),l._uU(43,"Orientacao 2"),l.qZA(),l.TgZ(44,"mat-select",11),l.YNc(45,NZ,2,2,"mat-option",6),l.qZA()(),l._UZ(46,"br"),l.TgZ(47,"mat-form-field",3)(48,"mat-label"),l._uU(49,"Equipamento"),l.qZA(),l.TgZ(50,"mat-select",12),l.YNc(51,FZ,2,2,"mat-option",6),l.qZA()(),l._UZ(52,"br"),l.TgZ(53,"div",13)(54,"label",14),l._uU(55,"Adicione uma imagem"),l.qZA(),l._UZ(56,"input",15),l.qZA(),l._UZ(57,"br"),l.TgZ(58,"button",16),l._uU(59,"Salvar"),l.qZA()()()),2&t&&(l.xp6(8),l.Q6J("formGroup",r.formEditar),l.xp6(10),l.Q6J("ngForOf",r.principal),l.xp6(5),l.Q6J("ngForOf",r.secundarias),l.xp6(6),l.Q6J("ngForOf",r.magias),l.xp6(5),l.Q6J("ngForOf",r.funcaos),l.xp6(6),l.Q6J("ngForOf",r.orientacaos),l.xp6(5),l.Q6J("ngForOf",r.orientacaos2),l.xp6(6),l.Q6J("ngForOf",r.equipamentos))},directives:[Kt,zg,uk,Ph,Th,tl,gE,mE,yE,Wl,Dh,rd,id,jo,JB,Xn,$],styles:["body[_ngcontent-%COMP%]{background-color:#08083d!important}form[_ngcontent-%COMP%]{text-align:center}button[_ngcontent-%COMP%]{margin-right:2%}mat-form-field[_ngcontent-%COMP%]{margin-right:2%}.file-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:2%;display:block;position:relative;left:39%;width:20%;height:37px;border-radius:5px;background:#fe0177;box-shadow:0 2px 3px #25222266;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:500;cursor:pointer;transition:transform .2s ease-out}.file[_ngcontent-%COMP%]{opacity:0;width:.1px;height:.1px;position:absolute}.file-input[_ngcontent-%COMP%]:hover   label[_ngcontent-%COMP%]{background-color:#fd3fc4}input[_ngcontent-%COMP%]{color:#fff}span[_ngcontent-%COMP%]{font-size:xx-large;padding-left:35%}"]}),n})();function VZ(n,e){}class bk{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0}}const BZ={dialogContainer:Jh("dialogContainer",[tu("void, exit",zi({opacity:0,transform:"scale(0.7)"})),tu("enter",zi({transform:"none"})),nc("* => enter",eu("150ms cubic-bezier(0, 0, 0.2, 1)",zi({transform:"none",opacity:1}))),nc("* => void, * => exit",eu("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",zi({opacity:0})))])};let UZ=(()=>{class n extends ZD{constructor(t,r,i,a,u,f,g,v){super(),this._elementRef=t,this._focusTrapFactory=r,this._changeDetectorRef=i,this._config=u,this._interactivityChecker=f,this._ngZone=g,this._focusMonitor=v,this._animationStateChanged=new l.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=T=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(T)),this._ariaLabelledBy=u.ariaLabelledBy||null,this._document=a}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,r){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{t.addEventListener("blur",()=>t.removeAttribute("tabindex")),t.addEventListener("mousedown",()=>t.removeAttribute("tabindex"))})),t.focus(r)}_focusByCssSelector(t,r){let i=this._elementRef.nativeElement.querySelector(t);i&&this._forceFocus(i,r)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const r=xy(),i=this._elementRef.nativeElement;(!r||r===this._document.body||r===i||i.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=xy())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,r=xy();return t===r||t.contains(r)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36($y),l.Y36(l.sBO),l.Y36(te,8),l.Y36(bk),l.Y36(iC),l.Y36(l.R0b),l.Y36(gC))},n.\u0275dir=l.lG2({type:n,viewQuery:function(t,r){if(1&t&&l.Gf(WD,7),2&t){let i;l.iGM(i=l.CRH())&&(r._portalOutlet=i.first)}},features:[l.qOj]}),n})(),HZ=(()=>{class n extends UZ{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:r}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:r}))}_onAnimationStart({toState:t,totalTime:r}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,r){1&t&&l.WFA("@dialogContainer.start",function(a){return r._onAnimationStart(a)})("@dialogContainer.done",function(a){return r._onAnimationDone(a)}),2&t&&(l.Ikx("id",r._id),l.uIk("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),l.d8E("@dialogContainer",r._state))},features:[l.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,r){1&t&&l.YNc(0,VZ,0,0,"ng-template",0)},directives:[WD],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[BZ.dialogContainer]}}),n})(),jZ=0;class wk{constructor(e,t,r="mat-dialog-"+jZ++){this._overlayRef=e,this._containerInstance=t,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Pt.x,this._afterClosed=new Pt.x,this._beforeClosed=new Pt.x,this._state=0,t._id=r,t._animationStateChanged.pipe(vn(i=>"opened"===i.state),(0,nr.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(vn(i=>"closed"===i.state),(0,nr.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(vn(i=>27===i.keyCode&&!this.disableClose&&!bd(i))).subscribe(i=>{i.preventDefault(),Ck(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():Ck(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(vn(t=>"closing"===t.state),(0,nr.q)(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function Ck(n,e,t){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=e),n.close(t)}const GZ=new l.OlP("MatDialogData"),qZ=new l.OlP("mat-dialog-default-options"),e2=new l.OlP("mat-dialog-scroll-strategy"),zZ={provide:e2,deps:[Wd],useFactory:function $Z(n){return()=>n.scrollStrategies.block()}};let ZZ=(()=>{class n{constructor(t,r,i,a,u,f,g,v,T,I){this._overlay=t,this._injector=r,this._defaultOptions=i,this._parentDialog=a,this._overlayContainer=u,this._dialogRefConstructor=g,this._dialogContainerType=v,this._dialogDataToken=T,this._animationMode=I,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Pt.x,this._afterOpenedAtThisLevel=new Pt.x,this._ariaHiddenElements=new Map,this._dialogAnimatingOpen=!1,this.afterAllClosed=Nu(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(xr(void 0))),this._scrollStrategy=f}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,r){if(r=function WZ(n,e){return Object.assign(Object.assign({},e),n)}(r,this._defaultOptions||new bk),r.id&&this.getDialogById(r.id),this._dialogAnimatingOpen)return this._lastDialogRef;const i=this._createOverlay(r),a=this._attachDialogContainer(i,r);if("NoopAnimations"!==this._animationMode){const f=a._animationStateChanged.subscribe(g=>{"opening"===g.state&&(this._dialogAnimatingOpen=!0),"opened"===g.state&&(this._dialogAnimatingOpen=!1,f.unsubscribe())});this._animationStateSubscriptions||(this._animationStateSubscriptions=new Mr.w0),this._animationStateSubscriptions.add(f)}const u=this._attachDialogContent(t,a,i,r);return this._lastDialogRef=u,this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(u),u.afterClosed().subscribe(()=>this._removeOpenDialog(u)),this.afterOpened.next(u),a._initializeWithAttachedContent(),u}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(r=>r.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._animationStateSubscriptions&&this._animationStateSubscriptions.unsubscribe()}_createOverlay(t){const r=this._getOverlayConfig(t);return this._overlay.create(r)}_getOverlayConfig(t){const r=new KD({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(r.backdropClass=t.backdropClass),r}_attachDialogContainer(t,r){const a=l.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:bk,useValue:r}]}),u=new Jb(this._dialogContainerType,r.viewContainerRef,a,r.componentFactoryResolver);return t.attach(u).instance}_attachDialogContent(t,r,i,a){const u=new this._dialogRefConstructor(i,r,a.id);if(t instanceof l.Rgc)r.attachTemplatePortal(new zD(t,null,{$implicit:a.data,dialogRef:u}));else{const f=this._createInjector(a,u,r),g=r.attachComponentPortal(new Jb(t,a.viewContainerRef,f));u.componentInstance=g.instance}return u.updateSize(a.width,a.height).updatePosition(a.position),u}_createInjector(t,r,i){const a=t&&t.viewContainerRef&&t.viewContainerRef.injector,u=[{provide:this._dialogContainerType,useValue:i},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:r}];return t.direction&&(!a||!a.get(Qc,null,l.XFs.Optional))&&u.push({provide:Qc,useValue:{value:t.direction,change:it()}}),l.zs3.create({parent:a||this._injector,providers:u})}_removeOpenDialog(t){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((i,a)=>{i?a.setAttribute("aria-hidden",i):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const r=t.parentElement.children;for(let i=r.length-1;i>-1;i--){let a=r[i];a!==t&&"SCRIPT"!==a.nodeName&&"STYLE"!==a.nodeName&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let r=t.length;for(;r--;)t[r].close()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275dir=l.lG2({type:n}),n})(),QD=(()=>{class n extends ZZ{constructor(t,r,i,a,u,f,g,v){super(t,r,a,f,g,u,wk,HZ,GZ,v)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Wd),l.LFG(l.zs3),l.LFG(Ie,8),l.LFG(qZ,8),l.LFG(e2),l.LFG(n,12),l.LFG(_k),l.LFG(iu,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),KZ=0,t2=(()=>{class n{constructor(t,r,i){this.dialogRef=t,this._elementRef=r,this._dialog=i,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=o2(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const r=t._matDialogClose||t._matDialogCloseResult;r&&(this.dialogResult=r.currentValue)}_onButtonClick(t){Ck(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(wk,8),l.Y36(l.SBq),l.Y36(QD))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,r){1&t&&l.NdJ("click",function(a){return r._onButtonClick(a)}),2&t&&l.uIk("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[l.TTD]}),n})(),n2=(()=>{class n{constructor(t,r,i){this._dialogRef=t,this._elementRef=r,this._dialog=i,this.id="mat-dialog-title-"+KZ++}ngOnInit(){this._dialogRef||(this._dialogRef=o2(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const t=this._dialogRef._containerInstance;t&&!t._ariaLabelledBy&&(t._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(wk,8),l.Y36(l.SBq),l.Y36(QD))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,r){2&t&&l.Ikx("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),r2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),s2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),n})();function o2(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-dialog-container");)t=t.parentElement;return t?e.find(r=>r.id===t.id):null}let YZ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[QD,zZ],imports:[[yk,mk,Zn],Zn]}),n})(),QZ=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-dialogo"]],decls:11,vars:1,consts:[["mat-dialog-title","",1,"dialogo"],[1,"dialogo"],["mat-button","","mat-dialog-close","",1,"dialogo"],["mat-raised-button","","color","warn",1,"dialogo",3,"mat-dialog-close"]],template:function(t,r){1&t&&(l.TgZ(0,"h2",0),l._uU(1,"Excluir personagem"),l.qZA(),l.TgZ(2,"mat-dialog-content")(3,"p",1),l._uU(4,"Realmente deseja excluir este personagem?"),l.qZA()(),l.TgZ(5,"mat-dialog-actions")(6,"button",2),l._uU(7,"Cancelar"),l.qZA(),l.TgZ(8,"a")(9,"button",3),l._uU(10," Excluir "),l.qZA()()()),2&t&&(l.xp6(9),l.Q6J("mat-dialog-close",!0))},directives:[n2,r2,s2,zg,t2],styles:["a[_ngcontent-%COMP%]{color:tomato;margin-left:3%}"]}),n})(),XZ=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-logout"]],decls:11,vars:1,consts:[["mat-dialog-title","",1,"dialogo"],[1,"dialogo"],["mat-button","","mat-dialog-close","",1,"dialogo"],["mat-raised-button","","color","warn",1,"dialogo",3,"mat-dialog-close"]],template:function(t,r){1&t&&(l.TgZ(0,"h2",0),l._uU(1,"Logout"),l.qZA(),l.TgZ(2,"mat-dialog-content")(3,"p",1),l._uU(4,"Deseja sair?"),l.qZA()(),l.TgZ(5,"mat-dialog-actions")(6,"button",2),l._uU(7,"Cancelar"),l.qZA(),l.TgZ(8,"a")(9,"button",3),l._uU(10," Sair "),l.qZA()()()),2&t&&(l.xp6(9),l.Q6J("mat-dialog-close",!0))},directives:[n2,r2,s2,zg,t2],styles:["a[_ngcontent-%COMP%]{color:orange;margin-left:3%}"]}),n})();const a2=new Set;let Wg,JZ=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):tW}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function eW(n){if(!a2.has(n))try{Wg||(Wg=document.createElement("style"),Wg.setAttribute("type","text/css"),document.head.appendChild(Wg)),Wg.sheet&&(Wg.sheet.insertRule(`@media ${n} {body{ }}`,0),a2.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ni))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tW(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let l2=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Pt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return c2(Yh(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let a=wl(c2(Yh(t)).map(u=>this._registerQuery(u).observable));return a=As(a.pipe((0,nr.q)(1)),a.pipe(rC(1),Tm(0))),a.pipe((0,wt.U)(u=>{const f={matches:!1,breakpoints:{}};return u.forEach(({matches:g,query:v})=>{f.matches=f.matches||g,f.breakpoints[v]=g}),f}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),a={observable:new un.y(u=>{const f=g=>this._zone.run(()=>u.next(g));return r.addListener(f),()=>{r.removeListener(f)}}).pipe(xr(r),(0,wt.U)(({matches:u})=>({query:t,matches:u})),zn(this._destroySubject)),mql:r};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(JZ),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function c2(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function rW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",2)(1,"button",3),l.NdJ("click",function(){return l.CHM(t),l.oxw().action()}),l._uU(2),l.qZA()()}if(2&n){const t=l.oxw();l.xp6(2),l.Oqu(t.data.action)}}function iW(n,e){}const u2=new l.OlP("MatSnackBarData");class XD{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const sW=Math.pow(2,31)-1;class Ek{constructor(e,t){this._overlayRef=t,this._afterDismissed=new Pt.x,this._afterOpened=new Pt.x,this._onAction=new Pt.x,this._dismissedByAction=!1,this.containerInstance=e,this.onAction().subscribe(()=>this.dismiss()),e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,sW))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let oW=(()=>{class n{constructor(t,r){this.snackBarRef=t,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ek),l.Y36(u2))},n.\u0275cmp=l.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"span",0),l._uU(1),l.qZA(),l.YNc(2,rW,3,1,"div",1)),2&t&&(l.xp6(1),l.Oqu(r.data.message),l.xp6(1),l.Q6J("ngIf",r.hasAction))},directives:[zg,Jn],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),n})();const aW={snackBarState:Jh("state",[tu("void, hidden",zi({transform:"scale(0.8)",opacity:0})),tu("visible",zi({transform:"scale(1)",opacity:1})),nc("* => visible",eu("150ms cubic-bezier(0, 0, 0.2, 1)")),nc("* => void, * => hidden",eu("75ms cubic-bezier(0.4, 0.0, 1, 1)",zi({opacity:0})))])};let lW=(()=>{class n extends ZD{constructor(t,r,i,a,u){super(),this._ngZone=t,this._elementRef=r,this._changeDetectorRef=i,this._platform=a,this.snackBarConfig=u,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Pt.x,this._onExit=new Pt.x,this._onEnter=new Pt.x,this._animationState="void",this.attachDomPortal=f=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(f)),this._live="assertive"!==u.politeness||u.announcementMessage?"off"===u.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:r,toState:i}=t;if(("void"===i&&"void"!==r||"hidden"===i)&&this._completeExit(),"visible"===i){const a=this._onEnter;this._ngZone.run(()=>{a.next(),a.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,nr.q)(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(i=>t.classList.add(i)):t.classList.add(r)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&r){let i=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(i=document.activeElement),t.removeAttribute("aria-hidden"),r.appendChild(t),null==i||i.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.R0b),l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(ni),l.Y36(XD))},n.\u0275cmp=l.Xpm({type:n,selectors:[["snack-bar-container"]],viewQuery:function(t,r){if(1&t&&l.Gf(WD,7),2&t){let i;l.iGM(i=l.CRH())&&(r._portalOutlet=i.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,r){1&t&&l.WFA("@state.done",function(a){return r.onAnimationEnd(a)}),2&t&&l.d8E("@state",r._animationState)},features:[l.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,r){1&t&&(l.TgZ(0,"div",0),l.YNc(1,iW,0,0,"ng-template",1),l.qZA(),l._UZ(2,"div")),2&t&&(l.xp6(2),l.uIk("aria-live",r._live)("role",r._role))},directives:[WD],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[aW.snackBarState]}}),n})(),d2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[yk,mk,Va,vB,Zn],Zn]}),n})();const h2=new l.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function cW(){return new XD}});let uW=(()=>{class n{constructor(t,r,i,a,u,f){this._overlay=t,this._live=r,this._injector=i,this._breakpointObserver=a,this._parentSnackBar=u,this._defaultConfig=f,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,r){return this._attach(t,r)}openFromTemplate(t,r){return this._attach(t,r)}open(t,r="",i){const a=Object.assign(Object.assign({},this._defaultConfig),i);return a.data={message:t,action:r},a.announcementMessage===t&&(a.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,a)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,r){const a=l.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:XD,useValue:r}]}),u=new Jb(this.snackBarContainerComponent,r.viewContainerRef,a),f=t.attach(u);return f.instance.snackBarConfig=r,f.instance}_attach(t,r){const i=Object.assign(Object.assign(Object.assign({},new XD),this._defaultConfig),r),a=this._createOverlay(i),u=this._attachSnackBarContainer(a,i),f=new Ek(u,a);if(t instanceof l.Rgc){const g=new zD(t,null,{$implicit:i.data,snackBarRef:f});f.instance=u.attachTemplatePortal(g)}else{const g=this._createInjector(i,f),v=new Jb(t,void 0,g),T=u.attachComponentPortal(v);f.instance=T.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(zn(a.detachments())).subscribe(g=>{a.overlayElement.classList.toggle(this.handsetCssClass,g.matches)}),i.announcementMessage&&u._onAnnounce.subscribe(()=>{this._live.announce(i.announcementMessage,i.politeness)}),this._animateSnackBar(f,i),this._openedSnackBarRef=f,this._openedSnackBarRef}_animateSnackBar(t,r){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),r.duration&&r.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(r.duration))}_createOverlay(t){const r=new KD;r.direction=t.direction;let i=this._overlay.position().global();const a="rtl"===t.direction,u="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!a||"end"===t.horizontalPosition&&a,f=!u&&"center"!==t.horizontalPosition;return u?i.left("0"):f?i.right("0"):i.centerHorizontally(),"top"===t.verticalPosition?i.top("0"):i.bottom("0"),r.positionStrategy=i,this._overlay.create(r)}_createInjector(t,r){return l.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:Ek,useValue:r},{provide:u2,useValue:t.data}]})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Wd),l.LFG(mC),l.LFG(l.zs3),l.LFG(l2),l.LFG(n,12),l.LFG(h2))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),dW=(()=>{class n extends uW{constructor(t,r,i,a,u,f){super(t,r,i,a,u,f),this.simpleSnackBarComponent=oW,this.snackBarContainerComponent=lW,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Wd),l.LFG(mC),l.LFG(l.zs3),l.LFG(l2),l.LFG(n,12),l.LFG(h2))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:d2}),n})();function hW(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"tr")(1,"td"),l._UZ(2,"img",6),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.qZA(),l.TgZ(9,"td"),l._uU(10),l.qZA(),l.TgZ(11,"td"),l._uU(12),l.qZA(),l.TgZ(13,"td"),l._uU(14),l.qZA(),l.TgZ(15,"td"),l._uU(16),l.qZA(),l.TgZ(17,"td")(18,"button",7),l.NdJ("click",function(){const a=l.CHM(t).$implicit;return l.oxw().editar(a)}),l.TgZ(19,"mat-icon"),l._uU(20,"edit"),l.qZA()(),l.TgZ(21,"button",8),l.NdJ("click",function(){const a=l.CHM(t).$implicit;return l.oxw().excluir(a)}),l.TgZ(22,"mat-icon"),l._uU(23,"delete"),l.qZA()()()()}if(2&n){const t=e.$implicit;l.xp6(2),l.s9C("src",t.downloadURL,l.LSH),l.xp6(2),l.Oqu(t.nome),l.xp6(2),l.Oqu(t.funcao),l.xp6(2),l.Oqu(t.principal),l.xp6(2),l.Oqu(t.secundaria),l.xp6(2),l.Oqu(t.magia),l.xp6(2),l.AsE("",t.orientacao," e ",t.orientacao2,""),l.xp6(2),l.Oqu(t.equipamento)}}let fW=(()=>{class n{constructor(t,r,i,a,u){this._router=t,this._personagemService=r,this.dialog=i,this._snackBar=a,this.userService=u,this.lista_personagens=[]}ngOnInit(){this._personagemService.getPersonagems().subscribe(t=>{this.lista_personagens=t.map(r=>Object.assign({id:r.payload.doc.id},r.payload.doc.data()))})}excluir(t){this.dialog.open(QZ,{width:"250px"}).afterClosed().subscribe(i=>{i&&this._personagemService.deletarPersonagem(t).then(()=>{this._snackBar.open("Personagem exclu\xeddo","Fechar",{duration:1e3,panelClass:["blue-snackbar"]})}).catch(()=>{this._snackBar.open("Deu ruim","Fechar",{duration:1e3,panelClass:["blue-snack"]})})})}editar(t){this._router.navigate(["/editarPersonagens",t.id])}irParaCriarPersonagem(){this._router.navigate(["/criarPersonagem"])}logout(){this.dialog.open(XZ,{width:"250px"}).afterClosed().subscribe(r=>{r&&this.userService.logout().then(()=>{this._router.navigate(["/login"])}).catch(()=>{alert("Deu errado")})})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(wr),l.Y36(ak),l.Y36(QD),l.Y36(dW),l.Y36(gd))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-listar"]],decls:33,vars:1,consts:[["color","primary"],["mat-raised-button","","color","accent","id","logout",3,"click"],["id","nome"],["mat-mini-fab","","color","accent","id","criar",3,"click"],["id","imagem"],[4,"ngFor","ngForOf"],[3,"src"],["mat-mini-fab","","color","accent",3,"click"],["mat-mini-fab","","color","warn",3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"body")(1,"mat-toolbar",0)(2,"a")(3,"button",1),l.NdJ("click",function(){return r.logout()}),l.TgZ(4,"mat-icon"),l._uU(5,"logout"),l.qZA()()(),l.TgZ(6,"span",2),l._uU(7,"Ideias de Personagens"),l.qZA(),l.TgZ(8,"a")(9,"button",3),l.NdJ("click",function(){return r.irParaCriarPersonagem()}),l.TgZ(10,"mat-icon"),l._uU(11,"add"),l.qZA()()()(),l.TgZ(12,"table")(13,"tr")(14,"th",4),l._uU(15,"Imagem"),l.qZA(),l.TgZ(16,"th"),l._uU(17,"Nome"),l.qZA(),l.TgZ(18,"th"),l._uU(19,"Fun\xe7\xe3o"),l.qZA(),l.TgZ(20,"th"),l._uU(21,"Prim\xe1ria"),l.qZA(),l.TgZ(22,"th"),l._uU(23,"Secundaria"),l.qZA(),l.TgZ(24,"th"),l._uU(25,"Magia"),l.qZA(),l.TgZ(26,"th"),l._uU(27,"Orienta\xe7\xe3o"),l.qZA(),l.TgZ(28,"th"),l._uU(29,"Equipamento"),l.qZA(),l.TgZ(30,"th"),l._uU(31,"Opera\xe7\xe3o"),l.qZA()(),l.YNc(32,hW,24,9,"tr",5),l.qZA()()),2&t&&(l.xp6(32),l.Q6J("ngForOf",r.lista_personagens))},directives:[Kt,zg,uk,Xn],styles:["body[_ngcontent-%COMP%]{background-image:url(https://www.htmlcsscolor.com/preview/gallery/01015F.png);background-repeat:repeat}table[_ngcontent-%COMP%]{font-size:large;width:100%;background-color:#3b3b3b;border-style:inset;border-color:purple;border-width:10px}img[_ngcontent-%COMP%]{width:50%}#imagem[_ngcontent-%COMP%]{width:15%}td[_ngcontent-%COMP%]{color:#adff2f;text-align:center;border:10px solid #ffffff;border-style:inset}th[_ngcontent-%COMP%]{color:plum;font-family:Lucida Sans;text-align:center;border:10px solid crimson;border-style:inset}#nome[_ngcontent-%COMP%]{font-size:xx-large;padding-left:35%;padding-right:35%}"]}),n})();function pW(n,e){1&n&&(l.TgZ(0,"small",15),l._uU(1,"O email \xe9 obrigat\xf3rio! "),l.qZA())}function mW(n,e){1&n&&(l.TgZ(0,"small",15),l._uU(1,"Email inv\xe1lido!"),l.qZA())}function gW(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,pW,2,0,"small",14),l.YNc(2,mW,2,0,"small",14),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.formLogin.controls.email.hasError("required")),l.xp6(1),l.Q6J("ngIf",t.formLogin.controls.email.hasError("email"))}}function _W(n,e){1&n&&(l.TgZ(0,"small",15),l._uU(1,"A senha \xe9 obirgat\xf3ria!"),l.qZA())}function yW(n,e){1&n&&(l.TgZ(0,"small",15),l._uU(1,"Senha pequena demais!"),l.qZA())}function vW(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,_W,2,0,"small",14),l.YNc(2,yW,2,0,"small",14),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.formLogin.controls.password.hasError("required")),l.xp6(1),l.Q6J("ngIf",t.formLogin.controls.password.hasError("minlength"))}}let bW=(()=>{class n{constructor(t,r,i){this._router=t,this._usuarioService=r,this._formBuilder=i,this.storage=window.localStorage,this.formLogin=this._formBuilder.group({email:["",[en.required,en.email]],password:["",[en.required,en.minLength(6)]]})}ngOnInit(){}validarFormulario(){for(let t in this.formLogin.controls)this.formLogin.controls[t].markAsTouched()}submitForm(){this.validarFormulario(),this.formLogin.valid&&this.logarComEmailSenha()}logarComEmailSenha(){this._usuarioService.loginComEmailSenha(this.formLogin.controls.email.value,this.formLogin.controls.password.value).then(()=>{alert("Login efetuado com sucesso!"),this._router.navigate(["/listaDePersonagens"])}).catch(t=>{alert("Deu ruim"),console.log(t)})}logarComGoogleCount(){this._usuarioService.loginComGoogleCount().then(()=>{alert("Login efetuado com sucesso!"),this._router.navigate(["/listaDePersonagens"])}).catch(t=>{alert("Deu ruim"),console.log(t)})}logarComFacebook(){this._usuarioService.loginComFacebook().then(()=>{alert("Login efetuado com sucesso!"),this._router.navigate(["/listaDePersonagens"])}).catch(t=>{alert("Deu ruim"),console.log(t)})}logarComGithub(){this._usuarioService.loginComGithub().then(()=>{alert("Login efetuado com sucesso!"),this._router.navigate(["/listaDePersonagens"])}).catch(t=>{alert("Deu ruim"),console.log(t)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(wr),l.Y36(gd),l.Y36(Wp))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-login"]],decls:36,vars:3,consts:[["color","primary"],[1,"aux"],[3,"formGroup","ngSubmit"],["appearance","fill",2,"text-align","center","color","black"],["matInput","","formControlName","email","placeholder","Insira seu email","required","",1,"form-control"],[4,"ngIf"],["appearance","fill","color","accent",2,"text-align","center","color","black"],["matInput","","type","password","placeholder","Insira sua senha","formControlName","password","required",""],["type","submit"],[2,"text-align","center"],[2,"background-color","rgb(196, 183, 101)",3,"click"],[2,"background-color","rgb(112, 112, 221)",3,"click"],[2,"background-color","black","color","white",3,"click"],["routerLink","/cadastro"],["style","color: pink",4,"ngIf"],[2,"color","pink"]],template:function(t,r){1&t&&(l.TgZ(0,"body")(1,"div")(2,"mat-toolbar",0),l._uU(3,"Login"),l.qZA()(),l.TgZ(4,"div",1)(5,"form",2),l.NdJ("ngSubmit",function(){return r.submitForm()}),l.TgZ(6,"mat-card-header")(7,"mat-card-title"),l._uU(8,"Email"),l.qZA()(),l.TgZ(9,"mat-form-field",3),l._UZ(10,"input",4)(11,"br"),l.YNc(12,gW,3,2,"div",5),l.qZA(),l.TgZ(13,"mat-card-header")(14,"mat-card-title"),l._uU(15,"Senha"),l.qZA()(),l.TgZ(16,"mat-form-field",6),l._UZ(17,"input",7)(18,"br"),l.YNc(19,vW,3,2,"div",5),l.qZA(),l._UZ(20,"br"),l.TgZ(21,"button",8),l._uU(22,"Login"),l.qZA(),l._UZ(23,"br"),l.qZA()(),l.TgZ(24,"div",9)(25,"button",10),l.NdJ("click",function(){return r.logarComGoogleCount()}),l._uU(26," Logar com Conta Google"),l.qZA(),l._UZ(27,"br"),l.TgZ(28,"button",11),l.NdJ("click",function(){return r.logarComFacebook()}),l._uU(29," Logar com Facebook"),l.qZA(),l._UZ(30,"br"),l.TgZ(31,"button",12),l.NdJ("click",function(){return r.logarComGithub()}),l._uU(32," Logar com Github"),l.qZA(),l._UZ(33,"br"),l.TgZ(34,"a",13),l._uU(35,"N\xe3o tem cadastro? Clique aqui"),l.qZA()()()),2&t&&(l.xp6(5),l.Q6J("formGroup",r.formLogin),l.xp6(7),l.Q6J("ngIf",r.formLogin.controls.email.touched),l.xp6(7),l.Q6J("ngIf",r.formLogin.controls.password.touched))},directives:[Kt,Ph,Th,tl,eP,J1,gE,yE,Wl,Dh,rd,jo,Jn,Sp],styles:["body[_ngcontent-%COMP%]{background-color:#db7093}button[_ngcontent-%COMP%]{align-items:center;text-align:center;border-radius:25px;background:#72ab21;padding:15px;width:200px;height:15px;margin:7px}.aux[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}"]}),n})(),Dk=(()=>{class n{constructor(t,r){this.router=t,this.authService=r}canActivate(t,r){return"autenticado"==this.authService.storage.getItem("condicao")||(this.router.navigate(["/login"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(wr),l.LFG(gd))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wW=[{path:"listaDePersonagens",component:fW,canActivate:[Dk]},{path:"criarPersonagem",component:MZ,canActivate:[Dk]},{path:"editarPersonagens/:indice",component:LZ,canActivate:[Dk]},{path:"login",component:bW},{path:"cadastro",component:LU},{path:"**",redirectTo:"/login"},{path:"",redirectTo:"/login",pathMatch:"full"}];let CW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Iw.forRoot(wW)],Iw]}),n})(),EW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},directives:[Yu],styles:["body[_ngcontent-%COMP%]{background-repeat:repeat}table[_ngcontent-%COMP%]{font-size:large;width:100%;background-color:#3b3b3b}td[_ngcontent-%COMP%]{color:#adff2f;text-align:center;border:1px solid #FFFFFF}th[_ngcontent-%COMP%]{color:plum;font-family:Lucida Sans;text-align:center;border:1px solid #FFFFFF}"]}),n})(),VW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[fk]]}),n})(),t8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[VW,Zn],Zn]}),n})(),r8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Zn],Zn]}),n})();const E2_firebaseConfig={apiKey:"AIzaSyAQc65lmWgHFXyslApnZ6ZKAESQBdEaL6w",authDomain:"crud-rpg.firebaseapp.com",projectId:"crud-rpg",storageBucket:"crud-rpg.appspot.com",messagingSenderId:"846634721280",appId:"1:846634721280:web:6823e988c44efb59c838e5"};let i8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[EW]}),n.\u0275inj=l.cJS({providers:[gd],imports:[[t8,sS,Zc,Vs,vZ,_E,SU,Js,CW,aE,vB,r8,$i.hO.initializeApp(E2_firebaseConfig),n$,qz,$0,d2,YZ,bU,_6]]}),n})();(0,l.G48)(),Ga().bootstrapModule(i8).catch(n=>console.error(n))},5867:(ut,Se,P)=>{P.d(Se,{Mq:()=>l.getApp,C6:()=>l.getApps});var l=P(9681);(0,l.registerVersion)("firebase","9.6.10","app")},127:(ut,Se,P)=>{P.d(Se,{Z:()=>l.Z});var l=P(3942);l.Z.registerVersion("firebase","9.6.10","app-compat")},5881:(ut,Se,P)=>{P.r(Se);var l=P(5861),G=P(3942),k=P(424),oe=P(2090),te=(P(9681),P(1877),P(4859));function ue(){return window}function z(){return(z=(0,l.Z)(function*(N,V,j){var le;const{BuildInfo:Be}=ue();(0,k.ap)(V.sessionId,"AuthEvent did not contain a session ID");const ze=yield De(V.sessionId),St={};return(0,k.aq)()?St.ibi=Be.packageName:(0,k.ar)()?St.apn=Be.packageName:(0,k.as)(N,"operation-not-supported-in-this-environment"),Be.displayName&&(St.appDisplayName=Be.displayName),St.sessionId=ze,(0,k.at)(N,j,V.type,void 0,null!==(le=V.eventId)&&void 0!==le?le:void 0,St)})).apply(this,arguments)}function Ge(){return(Ge=(0,l.Z)(function*(N){const{BuildInfo:V}=ue(),j={};(0,k.aq)()?j.iosBundleId=V.packageName:(0,k.ar)()?j.androidPackageName=V.packageName:(0,k.as)(N,"operation-not-supported-in-this-environment"),yield(0,k.au)(N,j)})).apply(this,arguments)}function Le(){return(Le=(0,l.Z)(function*(N,V,j){const{cordova:le}=ue();let Be=()=>{};try{yield new Promise((ze,St)=>{let rt=null;function kt(){var Yt;ze();const Lr=null===(Yt=le.plugins.browsertab)||void 0===Yt?void 0:Yt.close;"function"==typeof Lr&&Lr(),"function"==typeof(null==j?void 0:j.close)&&j.close()}function In(){rt||(rt=window.setTimeout(()=>{St((0,k.av)(N,"redirect-cancelled-by-user"))},2e3))}function cr(){"visible"===(null==document?void 0:document.visibilityState)&&In()}V.addPassiveListener(kt),document.addEventListener("resume",In,!1),(0,k.ar)()&&document.addEventListener("visibilitychange",cr,!1),Be=()=>{V.removePassiveListener(kt),document.removeEventListener("resume",In,!1),document.removeEventListener("visibilitychange",cr,!1),rt&&window.clearTimeout(rt)}})}finally{Be()}})).apply(this,arguments)}function De(N){return Je.apply(this,arguments)}function Je(){return(Je=(0,l.Z)(function*(N){const V=je(N),j=yield crypto.subtle.digest("SHA-256",V);return Array.from(new Uint8Array(j)).map(Be=>Be.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function je(N){if((0,k.ap)(/[0-9a-zA-Z]+/.test(N),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(N);const V=new ArrayBuffer(N.length),j=new Uint8Array(V);for(let le=0;le<N.length;le++)j[le]=N.charCodeAt(le);return j}class Ie extends k.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(V=>{this.resolveInialized=V})}addPassiveListener(V){this.passiveListeners.add(V)}removePassiveListener(V){this.passiveListeners.delete(V)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(V){return this.resolveInialized(),this.passiveListeners.forEach(j=>j(V)),super.onEvent(V)}initialized(){var V=this;return(0,l.Z)(function*(){yield V.initPromise})()}}function re(N){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,l.Z)(function*(N){const V=yield ce()._get(me(N));return V&&(yield ce()._remove(me(N))),V})).apply(this,arguments)}function he(){const N=[],V="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let j=0;j<20;j++){const le=Math.floor(Math.random()*V.length);N.push(V.charAt(le))}return N.join("")}function ce(){return(0,k.ax)(k.b)}function me(N){return(0,k.ay)("authEvent",N.config.apiKey,N.name)}function At(N){if(!(null==N?void 0:N.includes("?")))return{};const[V,...j]=N.split("?");return(0,oe.zd)(j.join("?"))}function mt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,k.av)("no-auth-event")}}function Xt(){var N;return(null===(N=null==self?void 0:self.location)||void 0===N?void 0:N.protocol)||null}function Pn(N=(0,oe.z$)()){return!("file:"!==Xt()&&"ionic:"!==Xt()||!N.toLowerCase().match(/iphone|ipad|ipod|android/))}function yi(){try{const N=self.localStorage,V=k.aG();if(N)return N.setItem(V,"1"),N.removeItem(V),!function ts(N=(0,oe.z$)()){return function Nr(){return(0,oe.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Tr(N=(0,oe.z$)()){return/Edge\/\d+/.test(N)}(N)}()||(0,oe.hl)()}catch(N){return gr()&&(0,oe.hl)()}return!1}function gr(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Sr(){return(function rn(){return"http:"===Xt()||"https:"===Xt()}()||(0,oe.ru)()||Pn())&&!function mr(){return(0,oe.b$)()||(0,oe.UG)()}()&&yi()&&!gr()}function ys(){return Pn()&&"undefined"!=typeof document}function Fr(){return(Fr=(0,l.Z)(function*(){return!!ys()&&new Promise(N=>{const V=setTimeout(()=>{N(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(V),N(!0)})})})).apply(this,arguments)}const on={LOCAL:"local",NONE:"none",SESSION:"session"},Wn=k.aw,vi="persistence";function Nn(N){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,l.Z)(function*(N){yield N._initializationPromise;const V=$t(),j=k.ay(vi,N.config.apiKey,N.name);V&&V.setItem(j,N._getPersistence())})).apply(this,arguments)}function $t(){var N;try{return(null===(N=function Ln(){return"undefined"!=typeof window?window:null}())||void 0===N?void 0:N.sessionStorage)||null}catch(V){return null}}const ft=k.aw;class st{constructor(){this.browserResolver=k.ax(k.k),this.cordovaResolver=k.ax(class Fn{constructor(){this._redirectPersistence=k.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=k.aA}_initialize(V){var j=this;return(0,l.Z)(function*(){const le=V._key();let Be=j.eventManagers.get(le);return Be||(Be=new Ie(V),j.eventManagers.set(le,Be),j.attachCallbackListeners(V,Be)),Be})()}_openPopup(V){(0,k.as)(V,"operation-not-supported-in-this-environment")}_openRedirect(V,j,le,Be){var ze=this;return(0,l.Z)(function*(){!function _e(N){var V,j,le,Be,ze,St,rt,kt,In,cr;const Yt=ue();(0,k.aw)("function"==typeof(null===(V=null==Yt?void 0:Yt.universalLinks)||void 0===V?void 0:V.subscribe),N,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,k.aw)(void 0!==(null===(j=null==Yt?void 0:Yt.BuildInfo)||void 0===j?void 0:j.packageName),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,k.aw)("function"==typeof(null===(ze=null===(Be=null===(le=null==Yt?void 0:Yt.cordova)||void 0===le?void 0:le.plugins)||void 0===Be?void 0:Be.browsertab)||void 0===ze?void 0:ze.openUrl),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.aw)("function"==typeof(null===(kt=null===(rt=null===(St=null==Yt?void 0:Yt.cordova)||void 0===St?void 0:St.plugins)||void 0===rt?void 0:rt.browsertab)||void 0===kt?void 0:kt.isAvailable),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.aw)("function"==typeof(null===(cr=null===(In=null==Yt?void 0:Yt.cordova)||void 0===In?void 0:In.InAppBrowser)||void 0===cr?void 0:cr.open),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(V);const St=yield ze._initialize(V);yield St.initialized(),St.resetRedirect(),(0,k.aB)(),yield ze._originValidation(V);const rt=function Ee(N,V,j=null){return{type:V,eventId:j,urlResponse:null,sessionId:he(),postBody:null,tenantId:N.tenantId,error:(0,k.av)(N,"no-auth-event")}}(V,le,Be);yield function Ye(N,V){return ce()._set(me(N),V)}(V,rt);const kt=yield function Z(N,V,j){return z.apply(this,arguments)}(V,rt,j),In=yield function ke(N){const{cordova:V}=ue();return new Promise(j=>{V.plugins.browsertab.isAvailable(le=>{let Be=null;le?V.plugins.browsertab.openUrl(N):Be=V.InAppBrowser.open(N,(0,k.ao)()?"_blank":"_system","location=yes"),j(Be)})})}(kt);return function Ne(N,V,j){return Le.apply(this,arguments)}(V,St,In)})()}_isIframeWebStorageSupported(V,j){throw new Error("Method not implemented.")}_originValidation(V){const j=V._key();return this.originValidationPromises[j]||(this.originValidationPromises[j]=function ne(N){return Ge.apply(this,arguments)}(V)),this.originValidationPromises[j]}attachCallbackListeners(V,j){const{universalLinks:le,handleOpenURL:Be,BuildInfo:ze}=ue(),St=setTimeout((0,l.Z)(function*(){yield re(V),j.onEvent(mt())}),500),rt=function(){var cr=(0,l.Z)(function*(Yt){clearTimeout(St);const Lr=yield re(V);let Li=null;Lr&&(null==Yt?void 0:Yt.url)&&(Li=function Y(N,V){var j,le;const Be=function ae(N){const V=At(N),j=V.link?decodeURIComponent(V.link):void 0,le=At(j).link,Be=V.deep_link_id?decodeURIComponent(V.deep_link_id):void 0;return At(Be).link||Be||le||j||N}(V);if(Be.includes("/__/auth/callback")){const ze=At(Be),St=ze.firebaseError?function Pe(N){try{return JSON.parse(N)}catch(V){return null}}(decodeURIComponent(ze.firebaseError)):null,rt=null===(le=null===(j=null==St?void 0:St.code)||void 0===j?void 0:j.split("auth/"))||void 0===le?void 0:le[1],kt=rt?(0,k.av)(rt):null;return kt?{type:N.type,eventId:N.eventId,tenantId:N.tenantId,error:kt,urlResponse:null,sessionId:null,postBody:null}:{type:N.type,eventId:N.eventId,tenantId:N.tenantId,sessionId:N.sessionId,urlResponse:Be,postBody:null}}return null}(Lr,Yt.url)),j.onEvent(Li||mt())});return function(Lr){return cr.apply(this,arguments)}}();void 0!==le&&"function"==typeof le.subscribe&&le.subscribe(null,rt);const kt=Be,In=`${ze.packageName.toLowerCase()}://`;ue().handleOpenURL=function(){var cr=(0,l.Z)(function*(Yt){if(Yt.toLowerCase().startsWith(In)&&rt({url:Yt}),"function"==typeof kt)try{kt(Yt)}catch(Lr){console.error(Lr)}});return function(Yt){return cr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=k.a,this._completeRedirectFn=k.aA}_initialize(V){var j=this;return(0,l.Z)(function*(){return yield j.selectUnderlyingResolver(),j.assertedUnderlyingResolver._initialize(V)})()}_openPopup(V,j,le,Be){var ze=this;return(0,l.Z)(function*(){return yield ze.selectUnderlyingResolver(),ze.assertedUnderlyingResolver._openPopup(V,j,le,Be)})()}_openRedirect(V,j,le,Be){var ze=this;return(0,l.Z)(function*(){return yield ze.selectUnderlyingResolver(),ze.assertedUnderlyingResolver._openRedirect(V,j,le,Be)})()}_isIframeWebStorageSupported(V,j){this.assertedUnderlyingResolver._isIframeWebStorageSupported(V,j)}_originValidation(V){return this.assertedUnderlyingResolver._originValidation(V)}get _shouldInitProactively(){return ys()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ft(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var V=this;return(0,l.Z)(function*(){if(V.underlyingResolver)return;const j=yield function _t(){return Fr.apply(this,arguments)}();V.underlyingResolver=j?V.cordovaResolver:V.browserResolver})()}}function li(N){return N.unwrap()}function Zt(N){return Bn(N)}function Bn(N){const{_tokenResponse:V}=N instanceof oe.ZR?N.customData:N;if(!V)return null;if(!(N instanceof oe.ZR)&&"temporaryProof"in V&&"phoneNumber"in V)return k.P.credentialFromResult(N);const j=V.providerId;if(!j||j===k.o.PASSWORD)return null;let le;switch(j){case k.o.GOOGLE:le=k.N;break;case k.o.FACEBOOK:le=k.M;break;case k.o.GITHUB:le=k.Q;break;case k.o.TWITTER:le=k.V;break;default:const{oauthIdToken:Be,oauthAccessToken:ze,oauthTokenSecret:St,pendingToken:rt,nonce:kt}=V;return ze||St||Be||rt?rt?j.startsWith("saml.")?k.aJ._create(j,rt):k.I._fromParams({providerId:j,signInMethod:j,pendingToken:rt,idToken:Be,accessToken:ze}):new k.T(j).credential({idToken:Be,accessToken:ze,rawNonce:kt}):null}return N instanceof oe.ZR?le.credentialFromError(N):le.credentialFromResult(N)}function an(N,V){return V.catch(j=>{throw j instanceof oe.ZR&&function rs(N,V){var j;const le=null===(j=V.customData)||void 0===j?void 0:j._tokenResponse;if("auth/multi-factor-auth-required"===V.code)V.resolver=new Wt(N,k.am(N,V));else if(le){const Be=Bn(V),ze=V;Be&&(ze.credential=Be,ze.tenantId=le.tenantId||void 0,ze.email=le.email||void 0,ze.phoneNumber=le.phoneNumber||void 0)}}(N,j),j}).then(j=>{const Be=j.user;return{operationType:j.operationType,credential:Zt(j),additionalUserInfo:k.ak(j),user:qe.getOrCreate(Be)}})}function vt(N,V){return Un.apply(this,arguments)}function Un(){return(Un=(0,l.Z)(function*(N,V){const j=yield V;return{verificationId:j.verificationId,confirm:le=>an(N,j.confirm(le))}})).apply(this,arguments)}class Wt{constructor(V,j){this.resolver=j,this.auth=function ns(N){return N.wrapped()}(V)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(V){return an(li(this.auth),this.resolver.resolveSignIn(V))}}class qe{constructor(V){this._delegate=V,this.multiFactor=k.an(V)}static getOrCreate(V){return qe.USER_MAP.has(V)||qe.USER_MAP.set(V,new qe(V)),qe.USER_MAP.get(V)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(V){return this._delegate.getIdTokenResult(V)}getIdToken(V){return this._delegate.getIdToken(V)}linkAndRetrieveDataWithCredential(V){return this.linkWithCredential(V)}linkWithCredential(V){var j=this;return(0,l.Z)(function*(){return an(j.auth,k.Y(j._delegate,V))})()}linkWithPhoneNumber(V,j){var le=this;return(0,l.Z)(function*(){return vt(le.auth,k.l(le._delegate,V,j))})()}linkWithPopup(V){var j=this;return(0,l.Z)(function*(){return an(j.auth,k.d(j._delegate,V,st))})()}linkWithRedirect(V){var j=this;return(0,l.Z)(function*(){return yield Nn(k.aC(j.auth)),k.g(j._delegate,V,st)})()}reauthenticateAndRetrieveDataWithCredential(V){return this.reauthenticateWithCredential(V)}reauthenticateWithCredential(V){var j=this;return(0,l.Z)(function*(){return an(j.auth,k.Z(j._delegate,V))})()}reauthenticateWithPhoneNumber(V,j){return vt(this.auth,k.r(this._delegate,V,j))}reauthenticateWithPopup(V){return an(this.auth,k.e(this._delegate,V,st))}reauthenticateWithRedirect(V){var j=this;return(0,l.Z)(function*(){return yield Nn(k.aC(j.auth)),k.h(j._delegate,V,st)})()}sendEmailVerification(V){return k.aa(this._delegate,V)}unlink(V){var j=this;return(0,l.Z)(function*(){return yield k.aj(j._delegate,V),j})()}updateEmail(V){return k.af(this._delegate,V)}updatePassword(V){return k.ag(this._delegate,V)}updatePhoneNumber(V){return k.u(this._delegate,V)}updateProfile(V){return k.ae(this._delegate,V)}verifyBeforeUpdateEmail(V,j){return k.ab(this._delegate,V,j)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}qe.USER_MAP=new WeakMap;const Te=k.aw;let et=(()=>{class N{constructor(j,le){if(this.app=j,le.isInitialized())return this._delegate=le.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Be}=j.options;Te(Be,"invalid-api-key",{appName:j.name}),Te(Be,"invalid-api-key",{appName:j.name});const ze="undefined"!=typeof window?st:void 0;this._delegate=le.initialize({options:{persistence:Vt(Be,j.name),popupRedirectResolver:ze}}),this._delegate._updateErrorMap(k.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?qe.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(j){this._delegate.languageCode=j}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(j){this._delegate.tenantId=j}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(j,le){k.E(this._delegate,j,le)}applyActionCode(j){return k.a1(this._delegate,j)}checkActionCode(j){return k.a2(this._delegate,j)}confirmPasswordReset(j,le){return k.a0(this._delegate,j,le)}createUserWithEmailAndPassword(j,le){var Be=this;return(0,l.Z)(function*(){return an(Be._delegate,k.a4(Be._delegate,j,le))})()}fetchProvidersForEmail(j){return this.fetchSignInMethodsForEmail(j)}fetchSignInMethodsForEmail(j){return k.a9(this._delegate,j)}isSignInWithEmailLink(j){return k.a7(this._delegate,j)}getRedirectResult(){var j=this;return(0,l.Z)(function*(){Te(Sr(),j._delegate,"operation-not-supported-in-this-environment");const le=yield k.j(j._delegate,st);return le?an(j._delegate,Promise.resolve(le)):{credential:null,user:null}})()}addFrameworkForLogging(j){!function fn(N,V){(0,k.aC)(N)._logFramework(V)}(this._delegate,j)}onAuthStateChanged(j,le,Be){const{next:ze,error:St,complete:rt}=pt(j,le,Be);return this._delegate.onAuthStateChanged(ze,St,rt)}onIdTokenChanged(j,le,Be){const{next:ze,error:St,complete:rt}=pt(j,le,Be);return this._delegate.onIdTokenChanged(ze,St,rt)}sendSignInLinkToEmail(j,le){return k.a6(this._delegate,j,le)}sendPasswordResetEmail(j,le){return k.$(this._delegate,j,le||void 0)}setPersistence(j){var le=this;return(0,l.Z)(function*(){let Be;switch(function Vn(N,V){Wn(Object.values(on).includes(V),N,"invalid-persistence-type"),(0,oe.b$)()?Wn(V!==on.SESSION,N,"unsupported-persistence-type"):(0,oe.UG)()?Wn(V===on.NONE,N,"unsupported-persistence-type"):gr()?Wn(V===on.NONE||V===on.LOCAL&&(0,oe.hl)(),N,"unsupported-persistence-type"):Wn(V===on.NONE||yi(),N,"unsupported-persistence-type")}(le._delegate,j),j){case on.SESSION:Be=k.a;break;case on.LOCAL:Be=(yield k.ax(k.i)._isAvailable())?k.i:k.b;break;case on.NONE:Be=k.K;break;default:return k.as("argument-error",{appName:le._delegate.name})}return le._delegate.setPersistence(Be)})()}signInAndRetrieveDataWithCredential(j){return this.signInWithCredential(j)}signInAnonymously(){return an(this._delegate,k.W(this._delegate))}signInWithCredential(j){return an(this._delegate,k.X(this._delegate,j))}signInWithCustomToken(j){return an(this._delegate,k._(this._delegate,j))}signInWithEmailAndPassword(j,le){return an(this._delegate,k.a5(this._delegate,j,le))}signInWithEmailLink(j,le){return an(this._delegate,k.a8(this._delegate,j,le))}signInWithPhoneNumber(j,le){return vt(this._delegate,k.s(this._delegate,j,le))}signInWithPopup(j){var le=this;return(0,l.Z)(function*(){return Te(Sr(),le._delegate,"operation-not-supported-in-this-environment"),an(le._delegate,k.c(le._delegate,j,st))})()}signInWithRedirect(j){var le=this;return(0,l.Z)(function*(){return Te(Sr(),le._delegate,"operation-not-supported-in-this-environment"),yield Nn(le._delegate),k.f(le._delegate,j,st)})()}updateCurrentUser(j){return this._delegate.updateCurrentUser(j)}verifyPasswordResetCode(j){return k.a3(this._delegate,j)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return N.Persistence=on,N})();function pt(N,V,j){let le=N;"function"!=typeof N&&({next:le,error:V,complete:j}=N);const Be=le;return{next:St=>Be(St&&qe.getOrCreate(St)),error:V,complete:j}}function Vt(N,V){const j=function bo(N,V){const j=$t();if(!j)return[];const le=k.ay(vi,N,V);switch(j.getItem(le)){case on.NONE:return[k.K];case on.LOCAL:return[k.i,k.a];case on.SESSION:return[k.a];default:return[]}}(N,V);if("undefined"!=typeof self&&!j.includes(k.i)&&j.push(k.i),"undefined"!=typeof window)for(const le of[k.b,k.a])j.includes(le)||j.push(le);return j.includes(k.K)||j.push(k.K),j}class Bt{constructor(){this.providerId="phone",this._delegate=new k.P(li(G.Z.auth()))}static credential(V,j){return k.P.credential(V,j)}verifyPhoneNumber(V,j){return this._delegate.verifyPhoneNumber(V,j)}unwrap(){return this._delegate}}Bt.PHONE_SIGN_IN_METHOD=k.P.PHONE_SIGN_IN_METHOD,Bt.PROVIDER_ID=k.P.PROVIDER_ID;const W=k.aw;class H{constructor(V,j,le=G.Z.app()){var Be;W(null===(Be=le.options)||void 0===Be?void 0:Be.apiKey,"invalid-api-key",{appName:le.name}),this._delegate=new k.R(V,j,le.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function fe(N){N.INTERNAL.registerComponent(new te.wA("auth-compat",V=>{const j=V.getProvider("app-compat").getImmediate(),le=V.getProvider("auth");return new et(j,le)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:k.A.EMAIL_SIGNIN,PASSWORD_RESET:k.A.PASSWORD_RESET,RECOVER_EMAIL:k.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:k.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:k.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:k.A.VERIFY_EMAIL}},EmailAuthProvider:k.L,FacebookAuthProvider:k.M,GithubAuthProvider:k.Q,GoogleAuthProvider:k.N,OAuthProvider:k.T,SAMLAuthProvider:k.U,PhoneAuthProvider:Bt,PhoneMultiFactorGenerator:k.m,RecaptchaVerifier:H,TwitterAuthProvider:k.V,Auth:et,AuthCredential:k.G,Error:oe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),N.registerVersion("@firebase/auth-compat","0.2.11")}(G.Z)},8306:(ut,Se,P)=>{P.d(Se,{y:()=>Z});var l=P(930),G=P(727),k=P(8822),oe=P(4671);var te=P(2416),ue=P(576),be=P(2806);let Z=(()=>{class ke{constructor(Le){Le&&(this._subscribe=Le)}lift(Le){const _e=new ke;return _e.source=this,_e.operator=Le,_e}subscribe(Le,_e,De){const Je=function Ge(ke){return ke&&ke instanceof l.Lv||function ne(ke){return ke&&(0,ue.m)(ke.next)&&(0,ue.m)(ke.error)&&(0,ue.m)(ke.complete)}(ke)&&(0,G.Nn)(ke)}(Le)?Le:new l.Hp(Le,_e,De);return(0,be.x)(()=>{const{operator:je,source:Re}=this;Je.add(je?je.call(Je,Re):Re?this._subscribe(Je):this._trySubscribe(Je))}),Je}_trySubscribe(Le){try{return this._subscribe(Le)}catch(_e){Le.error(_e)}}forEach(Le,_e){return new(_e=z(_e))((De,Je)=>{const je=new l.Hp({next:Re=>{try{Le(Re)}catch(Ie){Je(Ie),je.unsubscribe()}},error:Je,complete:De});this.subscribe(je)})}_subscribe(Le){var _e;return null===(_e=this.source)||void 0===_e?void 0:_e.subscribe(Le)}[k.L](){return this}pipe(...Le){return function ve(ke){return 0===ke.length?oe.y:1===ke.length?ke[0]:function(Le){return ke.reduce((_e,De)=>De(_e),Le)}}(Le)(this)}toPromise(Le){return new(Le=z(Le))((_e,De)=>{let Je;this.subscribe(je=>Je=je,je=>De(je),()=>_e(Je))})}}return ke.create=Ne=>new ke(Ne),ke})();function z(ke){var Ne;return null!==(Ne=null!=ke?ke:te.v.Promise)&&void 0!==Ne?Ne:Promise}},7579:(ut,Se,P)=>{P.d(Se,{x:()=>te});var l=P(8306),G=P(727);const oe=(0,P(3888).d)(be=>function(){be(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=P(8737),ve=P(2806);let te=(()=>{class be extends l.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const ne=new ue(this,this);return ne.operator=z,ne}_throwIfClosed(){if(this.closed)throw new oe}next(z){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const ne=this.observers.slice();for(const Ge of ne)Ge.next(z)}})}error(z){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:ne}=this;for(;ne.length;)ne.shift().error(z)}})}complete(){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:ne,isStopped:Ge,observers:ke}=this;return ne||Ge?G.Lc:(ke.push(z),new G.w0(()=>(0,se.P)(ke,z)))}_checkFinalizedStatuses(z){const{hasError:ne,thrownError:Ge,isStopped:ke}=this;ne?z.error(Ge):ke&&z.complete()}asObservable(){const z=new l.y;return z.source=this,z}}return be.create=(Z,z)=>new ue(Z,z),be})();class ue extends te{constructor(Z,z){super(),this.destination=Z,this.source=z}next(Z){var z,ne;null===(ne=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===ne||ne.call(z,Z)}error(Z){var z,ne;null===(ne=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===ne||ne.call(z,Z)}complete(){var Z,z;null===(z=null===(Z=this.destination)||void 0===Z?void 0:Z.complete)||void 0===z||z.call(Z)}_subscribe(Z){var z,ne;return null!==(ne=null===(z=this.source)||void 0===z?void 0:z.subscribe(Z))&&void 0!==ne?ne:G.Lc}}},930:(ut,Se,P)=>{P.d(Se,{Hp:()=>Le,Lv:()=>ne});var l=P(576),G=P(727),k=P(2416),oe=P(7849),se=P(5032);const ve=be("C",void 0,void 0);function be(Re,Ie,Ee){return{kind:Re,value:Ie,error:Ee}}var Z=P(3410),z=P(2806);class ne extends G.w0{constructor(Ie){super(),this.isStopped=!1,Ie?(this.destination=Ie,(0,G.Nn)(Ie)&&Ie.add(this)):this.destination=je}static create(Ie,Ee,Ye){return new Le(Ie,Ee,Ye)}next(Ie){this.isStopped?Je(function ue(Re){return be("N",Re,void 0)}(Ie),this):this._next(Ie)}error(Ie){this.isStopped?Je(function te(Re){return be("E",void 0,Re)}(Ie),this):(this.isStopped=!0,this._error(Ie))}complete(){this.isStopped?Je(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ie){this.destination.next(Ie)}_error(Ie){try{this.destination.error(Ie)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function ke(Re,Ie){return Ge.call(Re,Ie)}class Ne{constructor(Ie){this.partialObserver=Ie}next(Ie){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next(Ie)}catch(Ye){_e(Ye)}}error(Ie){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error(Ie)}catch(Ye){_e(Ye)}else _e(Ie)}complete(){const{partialObserver:Ie}=this;if(Ie.complete)try{Ie.complete()}catch(Ee){_e(Ee)}}}class Le extends ne{constructor(Ie,Ee,Ye){let re;if(super(),(0,l.m)(Ie)||!Ie)re={next:null!=Ie?Ie:void 0,error:null!=Ee?Ee:void 0,complete:null!=Ye?Ye:void 0};else{let Xe;this&&k.v.useDeprecatedNextContext?(Xe=Object.create(Ie),Xe.unsubscribe=()=>this.unsubscribe(),re={next:Ie.next&&ke(Ie.next,Xe),error:Ie.error&&ke(Ie.error,Xe),complete:Ie.complete&&ke(Ie.complete,Xe)}):re=Ie}this.destination=new Ne(re)}}function _e(Re){k.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(Re):(0,oe.h)(Re)}function Je(Re,Ie){const{onStoppedNotification:Ee}=k.v;Ee&&Z.z.setTimeout(()=>Ee(Re,Ie))}const je={closed:!0,next:se.Z,error:function De(Re){throw Re},complete:se.Z}},727:(ut,Se,P)=>{P.d(Se,{Lc:()=>ve,w0:()=>se,Nn:()=>te});var l=P(576);const k=(0,P(3888).d)(be=>function(z){be(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((ne,Ge)=>`${Ge+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var oe=P(8737);class se{constructor(Z){this.initialTeardown=Z,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let Z;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const ke of z)ke.remove(this);else z.remove(this);const{initialTeardown:ne}=this;if((0,l.m)(ne))try{ne()}catch(ke){Z=ke instanceof k?ke.errors:[ke]}const{_teardowns:Ge}=this;if(Ge){this._teardowns=null;for(const ke of Ge)try{ue(ke)}catch(Ne){Z=null!=Z?Z:[],Ne instanceof k?Z=[...Z,...Ne.errors]:Z.push(Ne)}}if(Z)throw new k(Z)}}add(Z){var z;if(Z&&Z!==this)if(this.closed)ue(Z);else{if(Z instanceof se){if(Z.closed||Z._hasParent(this))return;Z._addParent(this)}(this._teardowns=null!==(z=this._teardowns)&&void 0!==z?z:[]).push(Z)}}_hasParent(Z){const{_parentage:z}=this;return z===Z||Array.isArray(z)&&z.includes(Z)}_addParent(Z){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(Z),z):z?[z,Z]:Z}_removeParent(Z){const{_parentage:z}=this;z===Z?this._parentage=null:Array.isArray(z)&&(0,oe.P)(z,Z)}remove(Z){const{_teardowns:z}=this;z&&(0,oe.P)(z,Z),Z instanceof se&&Z._removeParent(this)}}se.EMPTY=(()=>{const be=new se;return be.closed=!0,be})();const ve=se.EMPTY;function te(be){return be instanceof se||be&&"closed"in be&&(0,l.m)(be.remove)&&(0,l.m)(be.add)&&(0,l.m)(be.unsubscribe)}function ue(be){(0,l.m)(be)?be():be.unsubscribe()}},2416:(ut,Se,P)=>{P.d(Se,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ut,Se,P)=>{P.d(Se,{E:()=>G});const G=new(P(8306).y)(se=>se.complete())},8996:(ut,Se,P)=>{P.d(Se,{D:()=>Ie});var l=P(8421),G=P(5363),k=P(9468),ve=P(8306),ue=P(2202),be=P(576),Z=P(9672);function ne(Ee,Ye){if(!Ee)throw new Error("Iterable cannot be null");return new ve.y(re=>{(0,Z.f)(re,Ye,()=>{const Xe=Ee[Symbol.asyncIterator]();(0,Z.f)(re,Ye,()=>{Xe.next().then(Y=>{Y.done?re.complete():re.next(Y.value)})},0,!0)})})}var Ge=P(3670),ke=P(8239),Ne=P(1144),Le=P(6495),_e=P(2206),De=P(4532),Je=P(3260);function Ie(Ee,Ye){return Ye?function Re(Ee,Ye){if(null!=Ee){if((0,Ge.c)(Ee))return function oe(Ee,Ye){return(0,l.Xf)(Ee).pipe((0,k.R)(Ye),(0,G.Q)(Ye))}(Ee,Ye);if((0,Ne.z)(Ee))return function te(Ee,Ye){return new ve.y(re=>{let Xe=0;return Ye.schedule(function(){Xe===Ee.length?re.complete():(re.next(Ee[Xe++]),re.closed||this.schedule())})})}(Ee,Ye);if((0,ke.t)(Ee))return function se(Ee,Ye){return(0,l.Xf)(Ee).pipe((0,k.R)(Ye),(0,G.Q)(Ye))}(Ee,Ye);if((0,_e.D)(Ee))return ne(Ee,Ye);if((0,Le.T)(Ee))return function z(Ee,Ye){return new ve.y(re=>{let Xe;return(0,Z.f)(re,Ye,()=>{Xe=Ee[ue.h](),(0,Z.f)(re,Ye,()=>{let Y,he;try{({value:Y,done:he}=Xe.next())}catch(ce){return void re.error(ce)}he?re.complete():re.next(Y)},0,!0)}),()=>(0,be.m)(null==Xe?void 0:Xe.return)&&Xe.return()})}(Ee,Ye);if((0,Je.L)(Ee))return function je(Ee,Ye){return ne((0,Je.Q)(Ee),Ye)}(Ee,Ye)}throw(0,De.z)(Ee)}(Ee,Ye):(0,l.Xf)(Ee)}},8421:(ut,Se,P)=>{P.d(Se,{Xf:()=>Ge});var l=P(655),G=P(1144),k=P(8239),oe=P(8306),se=P(3670),ve=P(2206),te=P(4532),ue=P(6495),be=P(3260),Z=P(576),z=P(7849),ne=P(8822);function Ge(Re){if(Re instanceof oe.y)return Re;if(null!=Re){if((0,se.c)(Re))return function ke(Re){return new oe.y(Ie=>{const Ee=Re[ne.L]();if((0,Z.m)(Ee.subscribe))return Ee.subscribe(Ie);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Re);if((0,G.z)(Re))return function Ne(Re){return new oe.y(Ie=>{for(let Ee=0;Ee<Re.length&&!Ie.closed;Ee++)Ie.next(Re[Ee]);Ie.complete()})}(Re);if((0,k.t)(Re))return function Le(Re){return new oe.y(Ie=>{Re.then(Ee=>{Ie.closed||(Ie.next(Ee),Ie.complete())},Ee=>Ie.error(Ee)).then(null,z.h)})}(Re);if((0,ve.D)(Re))return De(Re);if((0,ue.T)(Re))return function _e(Re){return new oe.y(Ie=>{for(const Ee of Re)if(Ie.next(Ee),Ie.closed)return;Ie.complete()})}(Re);if((0,be.L)(Re))return function Je(Re){return De((0,be.Q)(Re))}(Re)}throw(0,te.z)(Re)}function De(Re){return new oe.y(Ie=>{(function je(Re,Ie){var Ee,Ye,re,Xe;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Ee=(0,l.KL)(Re);!(Ye=yield Ee.next()).done;)if(Ie.next(Ye.value),Ie.closed)return}catch(Y){re={error:Y}}finally{try{Ye&&!Ye.done&&(Xe=Ee.return)&&(yield Xe.call(Ee))}finally{if(re)throw re.error}}Ie.complete()})})(Re,Ie).catch(Ee=>Ie.error(Ee))})}},6451:(ut,Se,P)=>{P.d(Se,{T:()=>ve});var l=P(8189),G=P(8421),k=P(515),oe=P(3269),se=P(8996);function ve(...te){const ue=(0,oe.yG)(te),be=(0,oe._6)(te,1/0),Z=te;return Z.length?1===Z.length?(0,G.Xf)(Z[0]):(0,l.J)(be)((0,se.D)(Z,ue)):k.E}},5403:(ut,Se,P)=>{P.d(Se,{x:()=>G});var l=P(930);function G(oe,se,ve,te,ue){return new k(oe,se,ve,te,ue)}class k extends l.Lv{constructor(se,ve,te,ue,be,Z){super(se),this.onFinalize=be,this.shouldUnsubscribe=Z,this._next=ve?function(z){try{ve(z)}catch(ne){se.error(ne)}}:super._next,this._error=ue?function(z){try{ue(z)}catch(ne){se.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=te?function(){try{te()}catch(z){se.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ve}=this;super.unsubscribe(),!ve&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},4004:(ut,Se,P)=>{P.d(Se,{U:()=>k});var l=P(4482),G=P(5403);function k(oe,se){return(0,l.e)((ve,te)=>{let ue=0;ve.subscribe((0,G.x)(te,be=>{te.next(oe.call(se,be,ue++))}))})}},8189:(ut,Se,P)=>{P.d(Se,{J:()=>k});var l=P(5577),G=P(4671);function k(oe=1/0){return(0,l.z)(G.y,oe)}},5577:(ut,Se,P)=>{P.d(Se,{z:()=>ue});var l=P(4004),G=P(8421),k=P(4482),oe=P(9672),se=P(5403),te=P(576);function ue(be,Z,z=1/0){return(0,te.m)(Z)?ue((ne,Ge)=>(0,l.U)((ke,Ne)=>Z(ne,ke,Ge,Ne))((0,G.Xf)(be(ne,Ge))),z):("number"==typeof Z&&(z=Z),(0,k.e)((ne,Ge)=>function ve(be,Z,z,ne,Ge,ke,Ne,Le){const _e=[];let De=0,Je=0,je=!1;const Re=()=>{je&&!_e.length&&!De&&Z.complete()},Ie=Ye=>De<ne?Ee(Ye):_e.push(Ye),Ee=Ye=>{ke&&Z.next(Ye),De++;let re=!1;(0,G.Xf)(z(Ye,Je++)).subscribe((0,se.x)(Z,Xe=>{null==Ge||Ge(Xe),ke?Ie(Xe):Z.next(Xe)},()=>{re=!0},void 0,()=>{if(re)try{for(De--;_e.length&&De<ne;){const Xe=_e.shift();Ne?(0,oe.f)(Z,Ne,()=>Ee(Xe)):Ee(Xe)}Re()}catch(Xe){Z.error(Xe)}}))};return be.subscribe((0,se.x)(Z,Ie,()=>{je=!0,Re()})),()=>{null==Le||Le()}}(ne,Ge,be,z)))}},5363:(ut,Se,P)=>{P.d(Se,{Q:()=>oe});var l=P(9672),G=P(4482),k=P(5403);function oe(se,ve=0){return(0,G.e)((te,ue)=>{te.subscribe((0,k.x)(ue,be=>(0,l.f)(ue,se,()=>ue.next(be),ve),()=>(0,l.f)(ue,se,()=>ue.complete(),ve),be=>(0,l.f)(ue,se,()=>ue.error(be),ve)))})}},3099:(ut,Se,P)=>{P.d(Se,{B:()=>ve});var l=P(8996),G=P(5698),k=P(7579),oe=P(930),se=P(4482);function ve(ue={}){const{connector:be=(()=>new k.x),resetOnError:Z=!0,resetOnComplete:z=!0,resetOnRefCountZero:ne=!0}=ue;return Ge=>{let ke=null,Ne=null,Le=null,_e=0,De=!1,Je=!1;const je=()=>{null==Ne||Ne.unsubscribe(),Ne=null},Re=()=>{je(),ke=Le=null,De=Je=!1},Ie=()=>{const Ee=ke;Re(),null==Ee||Ee.unsubscribe()};return(0,se.e)((Ee,Ye)=>{_e++,!Je&&!De&&je();const re=Le=null!=Le?Le:be();Ye.add(()=>{_e--,0===_e&&!Je&&!De&&(Ne=te(Ie,ne))}),re.subscribe(Ye),ke||(ke=new oe.Hp({next:Xe=>re.next(Xe),error:Xe=>{Je=!0,je(),Ne=te(Re,Z,Xe),re.error(Xe)},complete:()=>{De=!0,je(),Ne=te(Re,z),re.complete()}}),(0,l.D)(Ee).subscribe(ke))})(Ge)}}function te(ue,be,...Z){return!0===be?(ue(),null):!1===be?null:be(...Z).pipe((0,G.q)(1)).subscribe(()=>ue())}},9468:(ut,Se,P)=>{P.d(Se,{R:()=>G});var l=P(4482);function G(k,oe=0){return(0,l.e)((se,ve)=>{ve.add(k.schedule(()=>se.subscribe(ve),oe))})}},5698:(ut,Se,P)=>{P.d(Se,{q:()=>oe});var l=P(515),G=P(4482),k=P(5403);function oe(se){return se<=0?()=>l.E:(0,G.e)((ve,te)=>{let ue=0;ve.subscribe((0,k.x)(te,be=>{++ue<=se&&(te.next(be),se<=ue&&te.complete())}))})}},8505:(ut,Se,P)=>{P.d(Se,{b:()=>se});var l=P(576),G=P(4482),k=P(5403),oe=P(4671);function se(ve,te,ue){const be=(0,l.m)(ve)||te||ue?{next:ve,error:te,complete:ue}:ve;return be?(0,G.e)((Z,z)=>{var ne;null===(ne=be.subscribe)||void 0===ne||ne.call(be);let Ge=!0;Z.subscribe((0,k.x)(z,ke=>{var Ne;null===(Ne=be.next)||void 0===Ne||Ne.call(be,ke),z.next(ke)},()=>{var ke;Ge=!1,null===(ke=be.complete)||void 0===ke||ke.call(be),z.complete()},ke=>{var Ne;Ge=!1,null===(Ne=be.error)||void 0===Ne||Ne.call(be,ke),z.error(ke)},()=>{var ke,Ne;Ge&&(null===(ke=be.unsubscribe)||void 0===ke||ke.call(be)),null===(Ne=be.finalize)||void 0===Ne||Ne.call(be)}))}):oe.y}},4408:(ut,Se,P)=>{P.d(Se,{o:()=>se});var l=P(727);class G extends l.w0{constructor(te,ue){super()}schedule(te,ue=0){return this}}const k={setInterval(...ve){const{delegate:te}=k;return((null==te?void 0:te.setInterval)||setInterval)(...ve)},clearInterval(ve){const{delegate:te}=k;return((null==te?void 0:te.clearInterval)||clearInterval)(ve)},delegate:void 0};var oe=P(8737);class se extends G{constructor(te,ue){super(te,ue),this.scheduler=te,this.work=ue,this.pending=!1}schedule(te,ue=0){if(this.closed)return this;this.state=te;const be=this.id,Z=this.scheduler;return null!=be&&(this.id=this.recycleAsyncId(Z,be,ue)),this.pending=!0,this.delay=ue,this.id=this.id||this.requestAsyncId(Z,this.id,ue),this}requestAsyncId(te,ue,be=0){return k.setInterval(te.flush.bind(te,this),be)}recycleAsyncId(te,ue,be=0){if(null!=be&&this.delay===be&&!1===this.pending)return ue;k.clearInterval(ue)}execute(te,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const be=this._execute(te,ue);if(be)return be;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(te,ue){let Z,be=!1;try{this.work(te)}catch(z){be=!0,Z=z||new Error("Scheduled action threw falsy error")}if(be)return this.unsubscribe(),Z}unsubscribe(){if(!this.closed){const{id:te,scheduler:ue}=this,{actions:be}=ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(be,this),null!=te&&(this.id=this.recycleAsyncId(ue,te,null)),this.delay=null,super.unsubscribe()}}}},7565:(ut,Se,P)=>{P.d(Se,{v:()=>k});var l=P(6063);class G{constructor(se,ve=G.now){this.schedulerActionCtor=se,this.now=ve}schedule(se,ve=0,te){return new this.schedulerActionCtor(this,se).schedule(te,ve)}}G.now=l.l.now;class k extends G{constructor(se,ve=G.now){super(se,ve),this.actions=[],this._active=!1,this._scheduled=void 0}flush(se){const{actions:ve}=this;if(this._active)return void ve.push(se);let te;this._active=!0;do{if(te=se.execute(se.state,se.delay))break}while(se=ve.shift());if(this._active=!1,te){for(;se=ve.shift();)se.unsubscribe();throw te}}}},4986:(ut,Se,P)=>{P.d(Se,{z:()=>k,P:()=>oe});var l=P(4408);const k=new(P(7565).v)(l.o),oe=k},6063:(ut,Se,P)=>{P.d(Se,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(ut,Se,P)=>{P.d(Se,{z:()=>l});const l={setTimeout(...G){const{delegate:k}=l;return((null==k?void 0:k.setTimeout)||setTimeout)(...G)},clearTimeout(G){const{delegate:k}=l;return((null==k?void 0:k.clearTimeout)||clearTimeout)(G)},delegate:void 0}},2202:(ut,Se,P)=>{P.d(Se,{h:()=>G});const G=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ut,Se,P)=>{P.d(Se,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ut,Se,P)=>{P.d(Se,{jO:()=>oe,yG:()=>se,_6:()=>ve});var l=P(576),G=P(3532);function k(te){return te[te.length-1]}function oe(te){return(0,l.m)(k(te))?te.pop():void 0}function se(te){return(0,G.K)(k(te))?te.pop():void 0}function ve(te,ue){return"number"==typeof k(te)?te.pop():ue}},8737:(ut,Se,P)=>{function l(G,k){if(G){const oe=G.indexOf(k);0<=oe&&G.splice(oe,1)}}P.d(Se,{P:()=>l})},3888:(ut,Se,P)=>{function l(G){const oe=G(se=>{Error.call(se),se.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}P.d(Se,{d:()=>l})},2806:(ut,Se,P)=>{P.d(Se,{x:()=>k,O:()=>oe});var l=P(2416);let G=null;function k(se){if(l.v.useDeprecatedSynchronousErrorHandling){const ve=!G;if(ve&&(G={errorThrown:!1,error:null}),se(),ve){const{errorThrown:te,error:ue}=G;if(G=null,te)throw ue}}else se()}function oe(se){l.v.useDeprecatedSynchronousErrorHandling&&G&&(G.errorThrown=!0,G.error=se)}},9672:(ut,Se,P)=>{function l(G,k,oe,se=0,ve=!1){const te=k.schedule(function(){oe(),ve?G.add(this.schedule(null,se)):this.unsubscribe()},se);if(G.add(te),!ve)return te}P.d(Se,{f:()=>l})},4671:(ut,Se,P)=>{function l(G){return G}P.d(Se,{y:()=>l})},1144:(ut,Se,P)=>{P.d(Se,{z:()=>l});const l=G=>G&&"number"==typeof G.length&&"function"!=typeof G},2206:(ut,Se,P)=>{P.d(Se,{D:()=>G});var l=P(576);function G(k){return Symbol.asyncIterator&&(0,l.m)(null==k?void 0:k[Symbol.asyncIterator])}},576:(ut,Se,P)=>{function l(G){return"function"==typeof G}P.d(Se,{m:()=>l})},3670:(ut,Se,P)=>{P.d(Se,{c:()=>k});var l=P(8822),G=P(576);function k(oe){return(0,G.m)(oe[l.L])}},6495:(ut,Se,P)=>{P.d(Se,{T:()=>k});var l=P(2202),G=P(576);function k(oe){return(0,G.m)(null==oe?void 0:oe[l.h])}},8239:(ut,Se,P)=>{P.d(Se,{t:()=>G});var l=P(576);function G(k){return(0,l.m)(null==k?void 0:k.then)}},3260:(ut,Se,P)=>{P.d(Se,{Q:()=>k,L:()=>oe});var l=P(655),G=P(576);function k(se){return(0,l.FC)(this,arguments,function*(){const te=se.getReader();try{for(;;){const{value:ue,done:be}=yield(0,l.qq)(te.read());if(be)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(ue)}}finally{te.releaseLock()}})}function oe(se){return(0,G.m)(null==se?void 0:se.getReader)}},3532:(ut,Se,P)=>{P.d(Se,{K:()=>G});var l=P(576);function G(k){return k&&(0,l.m)(k.schedule)}},4482:(ut,Se,P)=>{P.d(Se,{A:()=>G,e:()=>k});var l=P(576);function G(oe){return(0,l.m)(null==oe?void 0:oe.lift)}function k(oe){return se=>{if(G(se))return se.lift(function(ve){try{return oe(ve,this)}catch(te){this.error(te)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ut,Se,P)=>{function l(){}P.d(Se,{Z:()=>l})},7849:(ut,Se,P)=>{P.d(Se,{h:()=>k});var l=P(2416),G=P(3410);function k(oe){G.z.setTimeout(()=>{const{onUnhandledError:se}=l.v;if(!se)throw oe;se(oe)})}},4532:(ut,Se,P)=>{function l(G){return new TypeError(`You provided ${null!==G&&"object"==typeof G?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Se,{z:()=>l})},655:(ut,Se,P)=>{function oe(Y,he){var ce={};for(var me in Y)Object.prototype.hasOwnProperty.call(Y,me)&&he.indexOf(me)<0&&(ce[me]=Y[me]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var Pe=0;for(me=Object.getOwnPropertySymbols(Y);Pe<me.length;Pe++)he.indexOf(me[Pe])<0&&Object.prototype.propertyIsEnumerable.call(Y,me[Pe])&&(ce[me[Pe]]=Y[me[Pe]])}return ce}function ue(Y,he,ce,me){return new(ce||(ce=Promise))(function(ae,At){function nn(mt){try{ht(me.next(mt))}catch(fn){At(fn)}}function Fn(mt){try{ht(me.throw(mt))}catch(fn){At(fn)}}function ht(mt){mt.done?ae(mt.value):function Pe(ae){return ae instanceof ce?ae:new ce(function(At){At(ae)})}(mt.value).then(nn,Fn)}ht((me=me.apply(Y,he||[])).next())})}function _e(Y){return this instanceof _e?(this.v=Y,this):new _e(Y)}function De(Y,he,ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,me=ce.apply(Y,he||[]),ae=[];return Pe={},At("next"),At("throw"),At("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe;function At(cn){me[cn]&&(Pe[cn]=function(_i){return new Promise(function(sn,Xt){ae.push([cn,_i,sn,Xt])>1||nn(cn,_i)})})}function nn(cn,_i){try{!function Fn(cn){cn.value instanceof _e?Promise.resolve(cn.value.v).then(ht,mt):fn(ae[0][2],cn)}(me[cn](_i))}catch(sn){fn(ae[0][3],sn)}}function ht(cn){nn("next",cn)}function mt(cn){nn("throw",cn)}function fn(cn,_i){cn(_i),ae.shift(),ae.length&&nn(ae[0][0],ae[0][1])}}function je(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,he=Y[Symbol.asyncIterator];return he?he.call(Y):(Y=function ne(Y){var he="function"==typeof Symbol&&Symbol.iterator,ce=he&&Y[he],me=0;if(ce)return ce.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&me>=Y.length&&(Y=void 0),{value:Y&&Y[me++],done:!Y}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),ce={},me("next"),me("throw"),me("return"),ce[Symbol.asyncIterator]=function(){return this},ce);function me(ae){ce[ae]=Y[ae]&&function(At){return new Promise(function(nn,Fn){!function Pe(ae,At,nn,Fn){Promise.resolve(Fn).then(function(ht){ae({value:ht,done:nn})},At)}(nn,Fn,(At=Y[ae](At)).done,At.value)})}}}P.d(Se,{_T:()=>oe,mG:()=>ue,qq:()=>_e,FC:()=>De,KL:()=>je})},5e3:(ut,Se,P)=>{P.d(Se,{deG:()=>ah,tb:()=>ZC,AFp:()=>qC,ip1:()=>hf,CZH:()=>sl,hGG:()=>qA,z2F:()=>sc,sBO:()=>ig,Sil:()=>mv,_Vd:()=>Sa,EJc:()=>tg,SBq:()=>Qh,qLn:()=>vh,vpe:()=>Aa,tBr:()=>cs,XFs:()=>_t,OlP:()=>Gn,zs3:()=>yt,ZZ4:()=>Pv,aQg:()=>Nv,soG:()=>ff,YKP:()=>vC,h0i:()=>ef,PXZ:()=>XC,R0b:()=>Fs,FiY:()=>br,Lbi:()=>DA,g9A:()=>eg,n_E:()=>Pm,Qsj:()=>GI,FYo:()=>jI,JOm:()=>ga,q3G:()=>hr,tp0:()=>us,Rgc:()=>sf,dDg:()=>ng,q4F:()=>Wy,GfV:()=>Zy,s_b:()=>Qy,ifc:()=>$t,eFA:()=>Ev,G48:()=>FA,Gpc:()=>z,f3M:()=>Jt,X6Q:()=>NA,_c5:()=>j1,VLi:()=>kA,c2e:()=>WC,zSh:()=>ry,wAp:()=>xt,vHH:()=>Ne,EiD:()=>mp,mCW:()=>M,qzn:()=>Os,JVY:()=>zu,pB0:()=>i_,eBb:()=>fp,L6k:()=>hp,LAX:()=>Zu,cg1:()=>tC,kL8:()=>nC,yhl:()=>$u,dqk:()=>Zt,sIi:()=>od,CqO:()=>U0,QGY:()=>V0,F4k:()=>B0,RDi:()=>Ys,AaK:()=>ue,z3N:()=>ds,qOj:()=>y0,TTD:()=>ea,_Bn:()=>BI,xp6:()=>T_,uIk:()=>ad,Gre:()=>JS,ekj:()=>Wh,Suo:()=>Hm,Xpm:()=>Bt,lG2:()=>le,Yz7:()=>sn,cJS:()=>rn,oAB:()=>N,Yjl:()=>Be,Y36:()=>lm,_UZ:()=>um,GkF:()=>F0,BQk:()=>md,ynx:()=>Cy,qZA:()=>cm,TgZ:()=>qh,EpF:()=>L0,n5z:()=>nr,Ikx:()=>J0,LFG:()=>at,$8M:()=>kc,$Z:()=>RS,NdJ:()=>H0,CRH:()=>RC,oxw:()=>FS,Hsn:()=>q0,F$t:()=>hm,Q6J:()=>Gh,s9C:()=>fm,iGM:()=>mA,MAs:()=>E0,CHM:()=>eh,LSH:()=>Qu,Udp:()=>W0,WFA:()=>j0,d8E:()=>eC,YNc:()=>my,_uU:()=>ym,Oqu:()=>vm,hij:()=>yd,AsE:()=>Y0,Gf:()=>rv});var l=P(7579),G=P(727),k=P(8306),oe=P(6451),se=P(3099);function ve(s){for(let o in s)if(s[o]===ve)return o;throw Error("Could not find renamed property on target object.")}function te(s,o){for(const c in o)o.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=o[c])}function ue(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ue).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const c=o.indexOf("\n");return-1===c?o:o.substring(0,c)}function be(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const Z=ve({__forward_ref__:ve});function z(s){return s.__forward_ref__=z,s.toString=function(){return ue(this())},s}function ne(s){return Ge(s)?s():s}function Ge(s){return"function"==typeof s&&s.hasOwnProperty(Z)&&s.__forward_ref__===z}class Ne extends Error{constructor(o,c){super(function Le(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,c)),this.code=o}}function _e(s){return"string"==typeof s?s:null==s?"":String(s)}function De(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():_e(s)}function Ie(s,o){const c=o?` in ${o}`:"";throw new Ne(-201,`No provider for ${De(s)} found${c}`)}function ht(s,o){null==s&&function mt(s,o,c,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${c} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function sn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function rn(s){return{providers:s.providers||[],imports:s.imports||[]}}function Pn(s){return mr(s,yi)||mr(s,Sr)}function mr(s,o){return s.hasOwnProperty(o)?s[o]:null}function ts(s){return s&&(s.hasOwnProperty(gr)||s.hasOwnProperty(ys))?s[gr]:null}const yi=ve({\u0275prov:ve}),gr=ve({\u0275inj:ve}),Sr=ve({ngInjectableDef:ve}),ys=ve({ngInjectorDef:ve});var _t=(()=>((_t=_t||{})[_t.Default=0]="Default",_t[_t.Host=1]="Host",_t[_t.Self=2]="Self",_t[_t.SkipSelf=4]="SkipSelf",_t[_t.Optional=8]="Optional",_t))();let Fr;function on(s){const o=Fr;return Fr=s,o}function Wn(s,o,c){const d=Pn(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&_t.Optional?null:void 0!==o?o:void Ie(ue(s),"Injector")}function Vn(s){return{toString:s}.toString()}var Nn=(()=>((Nn=Nn||{})[Nn.OnPush=0]="OnPush",Nn[Nn.Default=1]="Default",Nn))(),$t=(()=>{return(s=$t||($t={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",$t;var s})();const ft="undefined"!=typeof globalThis&&globalThis,st="undefined"!=typeof window&&window,li="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Zt=ft||"undefined"!=typeof global&&global||st||li,an={},vt=[],Un=ve({\u0275cmp:ve}),Wt=ve({\u0275dir:ve}),qe=ve({\u0275pipe:ve}),Te=ve({\u0275mod:ve}),et=ve({\u0275fac:ve}),pt=ve({__NG_ELEMENT_ID__:ve});let Vt=0;function Bt(s){return Vn(()=>{const c={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Nn.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||vt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||$t.Emulated,id:"c",styles:s.styles||vt,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,p=s.features,y=s.pipes;return d.id+=Vt++,d.inputs=j(s.inputs,c),d.outputs=j(s.outputs),p&&p.forEach(w=>w(d)),d.directiveDefs=h?()=>("function"==typeof h?h():h).map(H):null,d.pipeDefs=y?()=>("function"==typeof y?y():y).map(K):null,d})}function H(s){return ze(s)||function St(s){return s[Wt]||null}(s)}function K(s){return function rt(s){return s[qe]||null}(s)}const fe={};function N(s){return Vn(()=>{const o={type:s.type,bootstrap:s.bootstrap||vt,declarations:s.declarations||vt,imports:s.imports||vt,exports:s.exports||vt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(fe[s.id]=s.type),o})}function j(s,o){if(null==s)return an;const c={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),c[h]=d,o&&(o[h]=p)}return c}const le=Bt;function Be(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function ze(s){return s[Un]||null}function kt(s,o){const c=s[Te]||null;if(!c&&!0===o)throw new Error(`Type ${ue(s)} does not have '\u0275mod' property.`);return c}function Ur(s){return Array.isArray(s)&&"object"==typeof s[1]}function bi(s){return Array.isArray(s)&&!0===s[1]}function Pa(s){return 0!=(8&s.flags)}function Yo(s){return 2==(2&s.flags)}function Qo(s){return 1==(1&s.flags)}function Vi(s){return null!==s.template}function gc(s){return 0!=(512&s[2])}function wi(s,o){return s.hasOwnProperty(et)?s[et]:null}class Qd{constructor(o,c,d){this.previousValue=o,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function ea(){return fl}function fl(s){return s.type.prototype.ngOnChanges&&(s.setInput=La),Xd}function Xd(){const s=Bi(this),o=null==s?void 0:s.current;if(o){const c=s.previous;if(c===an)s.previous=o;else for(let d in o)c[d]=o[d];s.current=null,this.ngOnChanges(o)}}function La(s,o,c,d){const h=Bi(s)||function Cs(s,o){return s[Va]=o}(s,{previous:an,current:null}),p=h.current||(h.current={}),y=h.previous,w=this.declaredInputs[c],E=y[w];p[w]=new Qd(E&&E.currentValue,o,y===an),s[d]=o}ea.ngInherit=!0;const Va="__ngSimpleChanges__";function Bi(s){return s[Va]||null}let ml;function Ys(s){ml=s}function Tn(s){return!!s.listen}const Do={createRenderer:(s,o)=>function Eo(){return void 0!==ml?ml:"undefined"!=typeof document?document:void 0}()};function gn(s){for(;Array.isArray(s);)s=s[0];return s}function Qs(s,o){return gn(o[s])}function Ir(s,o){return gn(o[s.index])}function gl(s,o){return s.data[o]}function Kr(s,o){const c=o[s];return Ur(c)?c:c[0]}function Es(s){return 4==(4&s[2])}function So(s){return 128==(128&s[2])}function Ui(s,o){return null==o?null:s[o]}function os(s){s[18]=0}function Ds(s,o){s[5]+=o;let c=s,d=s[3];for(;null!==d&&(1===o&&1===c[5]||-1===o&&0===c[5]);)d[5]+=o,c=d,d=d[3]}const Et={lFrame:Tc(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function oa(){return Et.bindingsEnabled}function Ae(){return Et.lFrame.lView}function jt(){return Et.lFrame.tView}function eh(s){return Et.lFrame.contextLView=s,s[8]}function Cn(){let s=_l();for(;null!==s&&64===s.type;)s=s.parent;return s}function _l(){return Et.lFrame.currentTNode}function Hi(s,o){const c=Et.lFrame;c.currentTNode=s,c.isParent=o}function bc(){return Et.lFrame.isParent}function ja(){Et.lFrame.isParent=!1}function aa(){return Et.isInCheckNoChangesMode}function la(s){Et.isInCheckNoChangesMode=s}function ua(){return Et.lFrame.bindingIndex++}function ui(s){const o=Et.lFrame,c=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,c}function Iu(s,o){const c=Et.lFrame;c.bindingIndex=c.bindingRootIndex=s,Cc(o)}function Cc(s){Et.lFrame.currentDirectiveIndex=s}function Js(s){const o=Et.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function nh(){return Et.lFrame.currentQueryIndex}function Ec(s){Et.lFrame.currentQueryIndex=s}function Dc(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function yl(s,o,c){if(c&_t.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||c&_t.Host||(h=Dc(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const d=Et.lFrame=Io();return d.currentTNode=o,d.lView=s,!0}function qa(s){const o=Io(),c=s[1];Et.lFrame=o,o.currentTNode=c.firstChild,o.lView=s,o.tView=c,o.contextLView=s,o.bindingIndex=c.bindingStartIndex,o.inI18n=!1}function Io(){const s=Et.lFrame,o=null===s?null:s.child;return null===o?Tc(s):o}function Tc(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function rh(){const s=Et.lFrame;return Et.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Au=rh;function Ao(){const s=rh();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Yr(){return Et.lFrame.selectedIndex}function to(s){Et.lFrame.selectedIndex=s}function jn(){const s=Et.lFrame;return gl(s.tView,s.selectedIndex)}function $a(s,o){for(let c=o.directiveStart,d=o.directiveEnd;c<d;c++){const p=s.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:E,ngAfterViewChecked:A,ngOnDestroy:x}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-c,y),w&&((s.contentHooks||(s.contentHooks=[])).push(c,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(c,w)),E&&(s.viewHooks||(s.viewHooks=[])).push(-c,E),A&&((s.viewHooks||(s.viewHooks=[])).push(c,A),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(c,A)),null!=x&&(s.destroyHooks||(s.destroyHooks=[])).push(c,x)}}function Ac(s,o,c){xu(s,o,3,c)}function vl(s,o,c,d){(3&s[2])===c&&xu(s,o,c,d)}function tr(s,o){let c=s[2];(3&c)===o&&(c&=2047,c+=1,s[2]=c)}function xu(s,o,c,d){const p=null!=d?d:-1,y=o.length-1;let w=0;for(let E=void 0!==d?65535&s[18]:0;E<y;E++)if("number"==typeof o[E+1]){if(w=o[E],null!=d&&w>=d)break}else o[E]<0&&(s[18]+=65536),(w<p||-1==p)&&(Ru(s,c,o,E),s[18]=(4294901760&s[18])+E+2),E++}function Ru(s,o,c,d){const h=c[d]<0,p=c[d+1],w=s[h?-c[d]:c[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class bl{constructor(o,c,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function it(s,o,c){const d=Tn(s);let h=0;for(;h<c.length;){const p=c[h];if("number"==typeof p){if(0!==p)break;h++;const y=c[h++],w=c[h++],E=c[h++];d?s.setAttribute(o,w,E,y):o.setAttributeNS(y,w,E)}else{const y=p,w=c[++h];Hr(y)?d&&s.setProperty(o,y,w):d?s.setAttribute(o,y,w):o.setAttribute(y,w),h++}}return h}function Pt(s){return 3===s||4===s||6===s}function Hr(s){return 64===s.charCodeAt(0)}function un(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let c=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?c=h:0===c||Ou(s,c,h,null,-1===c||2===c?o[++d]:null)}}return s}function Ou(s,o,c,d,h){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const w=s[p++];if("number"==typeof w){if(w===o){y=-1;break}if(w>o){y=p-1;break}}}for(;p<s.length;){const w=s[p];if("number"==typeof w)break;if(w===c){if(null===d)return void(null!==h&&(s[p+1]=h));if(d===s[p+1])return void(s[p+2]=h)}p++,null!==d&&p++,null!==h&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,c),null!==d&&s.splice(p++,0,d),null!==h&&s.splice(p++,0,h)}function Kn(s){return-1!==s}function no(s){return 32767&s}function Is(s,o){let c=function xc(s){return s>>16}(s),d=o;for(;c>0;)d=d[15],c--;return d}let ha=!0;function ls(s){const o=ha;return ha=s,o}let fa=0;function yn(s,o){const c=wl(s,o);if(-1!==c)return c;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,ro(d.data,s),ro(o,null),ro(d.blueprint,null));const h=Qr(s,o),p=s.injectorIndex;if(Kn(h)){const y=no(h),w=Is(h,o),E=w[1].data;for(let A=0;A<8;A++)o[p+A]=w[y+A]|E[y+A]}return o[p+8]=h,p}function ro(s,o){s.push(0,0,0,0,0,0,0,0,o)}function wl(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Qr(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,d=null,h=o;for(;null!==h;){const p=h[1],y=p.type;if(d=2===y?p.declTNode:1===y?h[6]:null,null===d)return-1;if(c++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function xo(s,o,c){!function Za(s,o,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(pt)&&(d=c[pt]),null==d&&(d=c[pt]=fa++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,c)}function io(s,o,c){if(c&_t.Optional)return s;Ie(o,"NodeInjector")}function so(s,o,c,d){if(c&_t.Optional&&void 0===d&&(d=null),0==(c&(_t.Self|_t.Host))){const h=s[9],p=on(void 0);try{return h?h.get(o,d,c&_t.Optional):Wn(o,d,c&_t.Optional)}finally{on(p)}}return io(d,o,c)}function El(s,o,c,d=_t.Default,h){if(null!==s){const p=function _r(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(pt)?s[pt]:void 0;return"number"==typeof o?o>=0?255&o:Ms:o}(c);if("function"==typeof p){if(!yl(o,s,d))return d&_t.Host?io(h,c,d):so(o,c,d,h);try{const y=p(d);if(null!=y||d&_t.Optional)return y;Ie(c)}finally{Au()}}else if("number"==typeof p){let y=null,w=wl(s,o),E=-1,A=d&_t.Host?o[16][6]:null;for((-1===w||d&_t.SkipSelf)&&(E=-1===w?Qr(s,o):o[w+8],-1!==E&&Dl(d,!1)?(y=o[1],w=no(E),o=Is(E,o)):w=-1);-1!==w;){const x=o[1];if(Wa(p,w,x.data)){const L=Nu(w,o,c,y,d,A);if(L!==As)return L}E=o[w+8],-1!==E&&Dl(d,o[1].data[w+8]===A)&&Wa(p,w,o)?(y=x,w=no(E),o=Is(E,o)):w=-1}}}return so(o,c,d,h)}const As={};function Ms(){return new En(Cn(),Ae())}function Nu(s,o,c,d,h,p){const y=o[1],w=y.data[s+8],x=ji(w,y,c,null==d?Yo(w)&&ha:d!=y&&0!=(3&w.type),h&_t.Host&&p===w);return null!==x?Mr(o,y,x,w):As}function ji(s,o,c,d,h){const p=s.providerIndexes,y=o.data,w=1048575&p,E=s.directiveStart,x=p>>20,$=h?w+x:s.directiveEnd;for(let X=d?w:w+x;X<$;X++){const Ce=y[X];if(X<E&&c===Ce||X>=E&&Ce.type===c)return X}if(h){const X=y[E];if(X&&Vi(X)&&X.type===c)return E}return null}function Mr(s,o,c,d){let h=s[c];const p=o.data;if(function za(s){return s instanceof bl}(h)){const y=h;y.resolving&&function Je(s,o){const c=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Ne(-200,`Circular dependency in DI detected for ${s}${c}`)}(De(p[c]));const w=ls(y.canSeeViewProviders);y.resolving=!0;const E=y.injectImpl?on(y.injectImpl):null;yl(s,d,_t.Default);try{h=s[c]=y.factory(void 0,p,s,d),o.firstCreatePass&&c>=d.directiveStart&&function Mo(s,o,c){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(d){const y=fl(o);(c.preOrderHooks||(c.preOrderHooks=[])).push(s,y),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,y)}h&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-s,h),p&&((c.preOrderHooks||(c.preOrderHooks=[])).push(s,p),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,p))}(c,p[c],o)}finally{null!==E&&on(E),ls(w),y.resolving=!1,Au()}}return h}function Wa(s,o,c){return!!(c[o+(s>>5)]&1<<s)}function Dl(s,o){return!(s&_t.Self||s&_t.Host&&o)}class En{constructor(o,c){this._tNode=o,this._lView=c}get(o,c,d){return El(this._tNode,this._lView,o,d,c)}}function nr(s){return Vn(()=>{const o=s.prototype.constructor,c=o[et]||xr(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const p=h[et]||xr(h);if(p&&p!==c)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function xr(s){return Ge(s)?()=>{const o=xr(ne(s));return o&&o()}:wi(s)}function kc(s){return function Cl(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const c=s.attrs;if(c){const d=c.length;let h=0;for(;h<d;){const p=c[h];if(Pt(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<d&&"string"==typeof c[h];)h++;else{if(p===o)return c[h+1];h+=2}}}return null}(Cn(),s)}const vn="__parameters__";function di(s,o,c){return Vn(()=>{const d=function Xr(s){return function(...c){if(s){const d=s(...c);for(const h in d)this[h]=d[h]}}}(o);function h(...p){if(this instanceof h)return d.apply(this,p),this;const y=new h(...p);return w.annotation=y,w;function w(E,A,x){const L=E.hasOwnProperty(vn)?E[vn]:Object.defineProperty(E,vn,{value:[]})[vn];for(;L.length<=x;)L.push(null);return(L[x]=L[x]||[]).push(y),E}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Gn{constructor(o,c){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=sn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ah=new Gn("AnalyzeForEntryComponents");function jr(s,o){void 0===o&&(o=s);for(let c=0;c<s.length;c++){let d=s[c];Array.isArray(d)?(o===s&&(o=s.slice(0,c)),jr(d,o)):o!==s&&o.push(d)}return o}function Gi(s,o){s.forEach(c=>Array.isArray(c)?Gi(c,o):o(c))}function Ya(s,o,c){o>=s.length?s.push(c):s.splice(o,0,c)}function pa(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function hi(s,o){const c=[];for(let d=0;d<s;d++)c.push(o);return c}function fi(s,o,c){let d=ao(s,o);return d>=0?s[1|d]=c:(d=~d,function xl(s,o,c,d){let h=s.length;if(h==o)s.push(c,d);else if(1===h)s.push(d,s[0]),s[0]=c;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=c,s[o+1]=d}}(s,d,o,c)),d}function kl(s,o){const c=ao(s,o);if(c>=0)return s[1|c]}function ao(s,o){return function Rs(s,o,c){let d=0,h=s.length>>c;for(;h!==d;){const p=d+(h-d>>1),y=s[p<<c];if(o===y)return p<<c;y>o?h=p:d=p+1}return~(h<<c)}(s,o,1)}const co={},Nl="__NG_DI_FLAG__",Fl="ngTempTokenPath",S=/\n/gm,U="__source",Q=ve({provide:String,useValue:ve});let ie;function ge(s){const o=ie;return ie=s,o}function nt(s,o=_t.Default){if(void 0===ie)throw new Ne(203,"");return null===ie?Wn(s,void 0,o):ie.get(s,o&_t.Optional?null:void 0,o)}function at(s,o=_t.Default){return(function Ln(){return Fr}()||nt)(ne(s),o)}const Jt=at;function Mt(s){const o=[];for(let c=0;c<s.length;c++){const d=ne(s[c]);if(Array.isArray(d)){if(0===d.length)throw new Ne(900,"");let h,p=_t.Default;for(let y=0;y<d.length;y++){const w=d[y],E=sr(w);"number"==typeof E?-1===E?h=w.token:p|=E:h=w}o.push(at(h,p))}else o.push(at(d))}return o}function ir(s,o){return s[Nl]=o,s.prototype[Nl]=o,s}function sr(s){return s[Nl]}const cs=ir(di("Inject",s=>({token:s})),-1),br=ir(di("Optional"),8),us=ir(di("SkipSelf"),4);let Bc;function Hl(s){var o;return(null===(o=function Uu(){if(void 0===Bc&&(Bc=null,Zt.trustedTypes))try{Bc=Zt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Bc}())||void 0===o?void 0:o.createHTML(s))||s}class No{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class n_ extends No{getTypeName(){return"HTML"}}class Uc extends No{getTypeName(){return"Style"}}class ch extends No{getTypeName(){return"Script"}}class r_ extends No{getTypeName(){return"URL"}}class uh extends No{getTypeName(){return"ResourceURL"}}function ds(s){return s instanceof No?s.changingThisBreaksApplicationSecurity:s}function Os(s,o){const c=$u(s);if(null!=c&&c!==o){if("ResourceURL"===c&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===o}function $u(s){return s instanceof No&&s.getTypeName()||null}function zu(s){return new n_(s)}function hp(s){return new Uc(s)}function fp(s){return new ch(s)}function Zu(s){return new r_(s)}function i_(s){return new uh(s)}class s_{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const c=(new window.DOMParser).parseFromString(Hl(o),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(o):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class o_{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(o){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=Hl(o),c;const d=this.inertDocument.createElement("body");return d.innerHTML=Hl(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const c=o.attributes;for(let h=c.length-1;0<h;h--){const y=c.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&o.removeAttribute(y)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const m=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,C=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function M(s){return(s=String(s)).match(m)||s.match(C)?s:"unsafe:"+s}function J(s){const o={};for(const c of s.split(","))o[c]=!0;return o}function xe(...s){const o={};for(const c of s)for(const d in c)c.hasOwnProperty(d)&&(o[d]=!0);return o}const lt=J("area,br,col,hr,img,wbr"),Ct=J("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ot=J("rp,rt"),jl=xe(lt,xe(Ct,J("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),xe(Ot,J("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),xe(Ot,Ct)),Wu=J("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Hc=J("srcset"),Ku=xe(Wu,Hc,J("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),J("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Gl=J("script,style,template");class Yu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let c=o.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(o){const c=o.nodeName.toLowerCase();if(!jl.hasOwnProperty(c))return this.sanitizedSomething=!0,!Gl.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=o.attributes;for(let h=0;h<d.length;h++){const p=d.item(h),y=p.name,w=y.toLowerCase();if(!Ku.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let E=p.value;Wu[w]&&(E=M(E)),Hc[w]&&(s=E,E=(s=String(s)).split(",").map(o=>M(o.trim())).join(", ")),this.buf.push(" ",y,'="',fh(E),'"')}var s;return this.buf.push(">"),!0}endElement(o){const c=o.nodeName.toLowerCase();jl.hasOwnProperty(c)&&!lt.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(o){this.buf.push(fh(o))}checkClobberedElement(o,c){if(c&&(o.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return c}}const dh=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hh=/([^\#-~ |!])/g;function fh(s){return s.replace(/&/g,"&amp;").replace(dh,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(hh,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ql;function mp(s,o){let c=null;try{ql=ql||function pp(s){const o=new o_(s);return function b(){try{return!!(new window.DOMParser).parseFromString(Hl(""),"text/html")}catch(s){return!1}}()?new s_(o):o}(s);let d=o?String(o):"";c=ql.getInertBodyElement(d);let h=5,p=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=p,p=c.innerHTML,c=ql.getInertBodyElement(d)}while(d!==p);return Hl((new Yu).sanitizeChildren(ph(c)||c))}finally{if(c){const d=ph(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function ph(s){return"content"in s&&function fo(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var hr=(()=>((hr=hr||{})[hr.NONE=0]="NONE",hr[hr.HTML=1]="HTML",hr[hr.STYLE=2]="STYLE",hr[hr.SCRIPT=3]="SCRIPT",hr[hr.URL=4]="URL",hr[hr.RESOURCE_URL=5]="RESOURCE_URL",hr))();function Qu(s){const o=function Xu(){const s=Ae();return s&&s[12]}();return o?o.sanitize(hr.URL,s)||"":Os(s,"URL")?ds(s):M(_e(s))}const hw="__ngContext__";function Ti(s,o){s[hw]=o}function a_(s){const o=function mh(s){return s[hw]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function d_(s){return s.ngOriginalError}function _T(s,...o){s.error(...o)}class vh{constructor(){this._console=console}handleError(o){const c=this._findOriginalError(o),d=function gT(s){return s&&s.ngErrorLogger||_T}(o);d(this._console,"ERROR",o),c&&d(this._console,"ORIGINAL ERROR",c)}_findOriginalError(o){let c=o&&d_(o);for(;c&&d_(c);)c=d_(c);return c||null}}const pw=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Zt))();function Fo(s){return s instanceof Function?s():s}var ga=(()=>((ga=ga||{})[ga.Important=1]="Important",ga[ga.DashCase=2]="DashCase",ga))();function f_(s,o){return undefined(s,o)}function bh(s){const o=s[3];return bi(o)?o[3]:o}function Ep(s){return bw(s[13])}function m_(s){return bw(s[4])}function bw(s){for(;null!==s&&!bi(s);)s=s[4];return s}function Ju(s,o,c,d,h){if(null!=d){let p,y=!1;bi(d)?p=d:Ur(d)&&(y=!0,d=d[0]);const w=gn(d);0===s&&null!==c?null==h?Tw(o,c,w):zl(o,c,w,h||null,!0):1===s&&null!==c?zl(o,c,w,h||null,!0):2===s?function kw(s,o,c){const d=Mp(s,o);d&&function Iw(s,o,c,d){Tn(s)?s.removeChild(o,c,d):o.removeChild(c)}(s,d,o,c)}(o,w,y):3===s&&o.destroyNode(w),null!=p&&function _a(s,o,c,d,h){const p=c[7];p!==gn(c)&&Ju(o,s,d,p,h);for(let w=10;w<c.length;w++){const E=c[w];nd(E[1],E,s,o,d,p)}}(o,s,p,c,h)}}function wr(s,o,c){if(Tn(s))return s.createElement(o,c);{const d=null!==c?function Du(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(c):null;return null===d?s.createElement(o):s.createElementNS(d,o)}}function Cw(s,o){const c=s[9],d=c.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,Ds(h,-1)),c.splice(d,1)}function Ip(s,o){if(s.length<=10)return;const c=10+o,d=s[c];if(d){const h=d[17];null!==h&&h!==s&&Cw(h,d),o>0&&(s[c-1][4]=d[4]);const p=pa(s,10+o);!function MT(s,o){nd(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const y=p[19];null!==y&&y.detachView(p[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function Ew(s,o){if(!(256&o[2])){const c=o[11];Tn(c)&&c.destroyNode&&nd(s,o,c,3,null,null),function Sp(s){let o=s[13];if(!o)return Ap(s[1],s);for(;o;){let c=null;if(Ur(o))c=o[13];else{const d=o[10];d&&(c=d)}if(!c){for(;o&&!o[4]&&o!==s;)Ur(o)&&Ap(o[1],o),o=o[3];null===o&&(o=s),Ur(o)&&Ap(o[1],o),c=o&&o[4]}o=c}}(o)}}function Ap(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function __(s,o){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let d=0;d<c.length;d+=2){const h=o[c[d]];if(!(h instanceof bl)){const p=c[d+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const w=h[p[y]],E=p[y+1];try{E.call(w)}finally{}}else try{p.call(h)}finally{}}}}(s,o),function Dw(s,o){const c=s.cleanup,d=o[7];let h=-1;if(null!==c)for(let p=0;p<c.length-1;p+=2)if("string"==typeof c[p]){const y=c[p+1],w="function"==typeof y?y(o):gn(o[y]),E=d[h=c[p+2]],A=c[p+3];"boolean"==typeof A?w.removeEventListener(c[p],E,A):A>=0?d[h=A]():d[h=-A].unsubscribe(),p+=2}else{const y=d[h=c[p+1]];c[p].call(y)}if(null!==d){for(let p=h+1;p<d.length;p++)d[p]();o[7]=null}}(s,o),1===o[1].type&&Tn(o[11])&&o[11].destroy();const c=o[17];if(null!==c&&bi(o[3])){c!==o[3]&&Cw(c,o);const d=o[19];null!==d&&d.detachView(s)}}}function RT(s,o,c){return function $l(s,o,c){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return c[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===$t.None||h===$t.Emulated)return null}return Ir(d,c)}(s,o.parent,c)}function zl(s,o,c,d,h){Tn(s)?s.insertBefore(o,c,d,h):o.insertBefore(c,d,h)}function Tw(s,o,c){Tn(s)?s.appendChild(o,c):o.appendChild(c)}function Sw(s,o,c,d,h){null!==d?zl(s,o,c,d,h):Tw(s,o,c)}function Mp(s,o){return Tn(s)?s.parentNode(o):o.parentNode}function Aw(s,o,c){return Mw(s,o,c)}let Mw=function y_(s,o,c){return 40&s.type?Ir(s,c):null};function td(s,o,c,d){const h=RT(s,d,o),p=o[11],w=Aw(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(c))for(let E=0;E<c.length;E++)Sw(p,h,c[E],w,!1);else Sw(p,h,c,w,!1)}function xp(s,o){if(null!==o){const c=o.type;if(3&c)return Ir(o,s);if(4&c)return Rp(-1,s[o.index]);if(8&c){const d=o.child;if(null!==d)return xp(s,d);{const h=s[o.index];return bi(h)?Rp(-1,h):gn(h)}}if(32&c)return f_(o,s)()||gn(s[o.index]);{const d=Rw(s,o);return null!==d?Array.isArray(d)?d[0]:xp(bh(s[16]),d):xp(s,o.next)}}return null}function Rw(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Rp(s,o){const c=10+s+1;if(c<o.length){const d=o[c],h=d[1].firstChild;if(null!==h)return xp(d,h)}return o[7]}function Ow(s,o,c,d,h,p,y){for(;null!=c;){const w=d[c.index],E=c.type;if(y&&0===o&&(w&&Ti(gn(w),d),c.flags|=4),64!=(64&c.flags))if(8&E)Ow(s,o,c.child,d,h,p,!1),Ju(o,s,h,w,p);else if(32&E){const A=f_(c,d);let x;for(;x=A();)Ju(o,s,h,x,p);Ju(o,s,h,w,p)}else 16&E?Zl(s,o,d,c,h,p):Ju(o,s,h,w,p);c=y?c.projectionNext:c.next}}function nd(s,o,c,d,h,p){Ow(c,d,s.firstChild,o,h,p,!1)}function Zl(s,o,c,d,h,p){const y=c[16],E=y[6].projection[d.projection];if(Array.isArray(E))for(let A=0;A<E.length;A++)Ju(o,s,h,E[A],p);else Ow(s,o,E,y[3],h,p,!0)}function b_(s,o,c){Tn(s)?s.setAttribute(o,"style",c):o.style.cssText=c}function w_(s,o,c){Tn(s)?""===c?s.removeAttribute(o,"class"):s.setAttribute(o,"class",c):o.className=c}function Nw(s,o,c){let d=s.length;for(;;){const h=s.indexOf(o,c);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===d||s.charCodeAt(h+p)<=32)return h}c=h+1}}const Wl="ng-template";function Kl(s,o,c){let d=0;for(;d<s.length;){let h=s[d++];if(c&&"class"===h){if(h=s[d],-1!==Nw(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function C_(s){return 4===s.type&&s.value!==Wl}function Si(s,o,c){return o===(4!==s.type||c?s.value:Wl)}function Yl(s,o,c){let d=4;const h=s.attrs||[],p=function Lw(s){for(let o=0;o<s.length;o++)if(Pt(s[o]))return o;return s.length}(h);let y=!1;for(let w=0;w<o.length;w++){const E=o[w];if("number"!=typeof E){if(!y)if(4&d){if(d=2|1&d,""!==E&&!Si(s,E,c)||""===E&&1===o.length){if(Lo(d))return!1;y=!0}}else{const A=8&d?E:o[++w];if(8&d&&null!==s.attrs){if(!Kl(s.attrs,A,c)){if(Lo(d))return!1;y=!0}continue}const L=en(8&d?"class":E,h,C_(s),c);if(-1===L){if(Lo(d))return!1;y=!0;continue}if(""!==A){let $;$=L>p?"":h[L+1].toLowerCase();const X=8&d?$:null;if(X&&-1!==Nw(X,A,0)||2&d&&A!==$){if(Lo(d))return!1;y=!0}}}}else{if(!y&&!Lo(d)&&!Lo(E))return!1;if(y&&Lo(E))continue;y=!1,d=E|1&d}}return Lo(d)||y}function Lo(s){return 0==(1&s)}function en(s,o,c,d){if(null===o)return-1;let h=0;if(d||!c){let p=!1;for(;h<o.length;){const y=o[h];if(y===s)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let w=o[++h];for(;"string"==typeof w;)w=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function Vw(s,o){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const d=s[c];if("number"==typeof d)return-1;if(d===o)return c;c++}return-1}(o,s)}function E_(s,o,c=!1){for(let d=0;d<o.length;d++)if(Yl(s,o[d],c))return!0;return!1}function Bw(s,o){e:for(let c=0;c<o.length;c++){const d=o[c];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function D_(s,o){return s?":not("+o.trim()+")":o}function Uw(s){let o=s[0],c=1,d=2,h="",p=!1;for(;c<s.length;){let y=s[c];if("string"==typeof y)if(2&d){const w=s[++c];h+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!Lo(y)&&(o+=D_(p,h),h=""),d=y,p=p||!Lo(d);c++}return""!==h&&(o+=D_(p,h)),o}const Ut={};function T_(s){S_(jt(),Ae(),Yr()+s,aa())}function S_(s,o,c,d){if(!d)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&Ac(o,p,c)}else{const p=s.preOrderHooks;null!==p&&vl(o,p,0,c)}to(c)}function Op(s,o){return s<<17|o<<2}function po(s){return s>>17&32767}function Pp(s){return 2|s}function Vo(s){return(131068&s)>>2}function Np(s,o){return-131069&s|o<<2}function Fp(s){return 1|s}function zw(s,o){const c=s.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const h=c[d],p=c[d+1];if(-1!==p){const y=s.data[p];Ec(h),y.contentQueries(2,o[p],p)}}}function $c(s,o,c,d,h,p,y,w,E,A){const x=o.blueprint.slice();return x[0]=h,x[2]=140|d,os(x),x[3]=x[15]=s,x[8]=c,x[10]=y||s&&s[10],x[11]=w||s&&s[11],x[12]=E||s&&s[12]||null,x[9]=A||s&&s[9]||null,x[6]=p,x[16]=2==o.type?s[16]:x,x}function Ah(s,o,c,d,h){let p=s.data[o];if(null===p)p=function Mh(s,o,c,d,h){const p=_l(),y=bc(),E=s.data[o]=function Kw(s,o,c,d,h,p){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,c,o,d,h);return null===s.firstChild&&(s.firstChild=E),null!==p&&(y?null==p.child&&null!==E.parent&&(p.child=E):null===p.next&&(p.next=E)),E}(s,o,c,d,h),function th(){return Et.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=c,p.value=d,p.attrs=h;const y=function Xs(){const s=Et.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return Hi(p,!0),p}function ya(s,o,c,d){if(0===c)return-1;const h=o.length;for(let p=0;p<c;p++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function Ql(s,o,c){qa(o);try{const d=s.viewQuery;null!==d&&ty(1,d,c);const h=s.template;null!==h&&Ww(s,o,h,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&zw(s,o),s.staticViewQueries&&ty(2,s.viewQuery,c);const p=s.components;null!==p&&function U_(s,o){for(let c=0;c<o.length;c++)KT(s,o[c])}(o,p)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,Ao()}}function Uo(s,o,c,d){const h=o[2];if(256==(256&h))return;qa(o);const p=aa();try{os(o),function ca(s){return Et.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&Ww(s,o,c,2,d);const y=3==(3&h);if(!p)if(y){const A=s.preOrderCheckHooks;null!==A&&Ac(o,A,null)}else{const A=s.preOrderHooks;null!==A&&vl(o,A,0,null),tr(o,0)}if(function tl(s){for(let o=Ep(s);null!==o;o=m_(o)){if(!o[2])continue;const c=o[9];for(let d=0;d<c.length;d++){const h=c[d],p=h[3];0==(1024&h[2])&&Ds(p,1),h[2]|=1024}}}(o),function ZT(s){for(let o=Ep(s);null!==o;o=m_(o))for(let c=10;c<o.length;c++){const d=o[c],h=d[1];So(d)&&Uo(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&zw(s,o),!p)if(y){const A=s.contentCheckHooks;null!==A&&Ac(o,A)}else{const A=s.contentHooks;null!==A&&vl(o,A,1),tr(o,1)}!function B_(s,o){const c=s.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const h=c[d];if(h<0)to(~h);else{const p=h,y=c[++d],w=c[++d];Iu(y,p),w(2,o[p])}}}finally{to(-1)}}(s,o);const w=s.components;null!==w&&function Zw(s,o){for(let c=0;c<o.length;c++)WT(s,o[c])}(o,w);const E=s.viewQuery;if(null!==E&&ty(2,E,d),!p)if(y){const A=s.viewCheckHooks;null!==A&&Ac(o,A)}else{const A=s.viewHooks;null!==A&&vl(o,A,2),tr(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),p||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Ds(o[3],-1))}finally{Ao()}}function xh(s,o,c,d){const h=o[10],p=!aa(),y=Es(o);try{p&&!y&&h.begin&&h.begin(),y&&Ql(s,o,d),Uo(s,o,c,d)}finally{p&&!y&&h.end&&h.end()}}function Ww(s,o,c,d,h){const p=Yr(),y=2&d;try{to(-1),y&&o.length>20&&S_(s,o,20,aa()),c(d,h)}finally{to(p)}}function Up(s,o,c){if(Pa(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,c[p],p)}}}function Hp(s,o,c){!oa()||(function GT(s,o,c,d){const h=c.directiveStart,p=c.directiveEnd;s.firstCreatePass||yn(c,o),Ti(d,o);const y=c.initialInputs;for(let w=h;w<p;w++){const E=s.data[w],A=Vi(E);A&&zT(o,c,E);const x=Mr(o,s,w,c);Ti(x,o),null!==y&&n0(0,w-h,x,E,0,y),A&&(Kr(c.index,o)[8]=x)}}(s,o,c,Ir(c,o)),128==(128&c.flags)&&function Jw(s,o,c){const d=c.directiveStart,h=c.directiveEnd,y=c.index,w=function Ga(){return Et.lFrame.currentDirectiveIndex}();try{to(y);for(let E=d;E<h;E++){const A=s.data[E],x=o[E];Cc(E),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&z_(A,x)}}finally{to(-1),Cc(w)}}(s,o,c))}function Rh(s,o,c=Ir){const d=o.localNames;if(null!==d){let h=o.index+1;for(let p=0;p<d.length;p+=2){const y=d[p+1],w=-1===y?c(o,s):s[y];s[h++]=w}}}function H_(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=zc(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function zc(s,o,c,d,h,p,y,w,E,A){const x=20+d,L=x+h,$=function j_(s,o){const c=[];for(let d=0;d<o;d++)c.push(d<s?null:Ut);return c}(x,L),X="function"==typeof A?A():A;return $[1]={type:s,blueprint:$,template:c,queries:null,viewQuery:w,declTNode:o,data:$.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:E,consts:X,incompleteFirstPass:!1}}function q_(s,o,c,d){const h=JT(o);null===c?h.push(d):(h.push(c),s.firstCreatePass&&zp(s).push(d,h.length-1))}function jp(s,o,c){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(o,h):c[d]=[o,h]}return c}function hs(s,o,c,d,h,p,y,w){const E=Ir(o,c);let x,A=o.inputs;!w&&null!=A&&(x=A[d])?(o0(s,c,x,d,h),Yo(o)&&function UT(s,o){const c=Kr(o,s);16&c[2]||(c[2]|=64)}(c,o.index)):3&o.type&&(d=function Gp(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=y?y(h,o.value||"",d):h,Tn(p)?p.setProperty(E,d,h):Hr(d)||(E.setProperty?E.setProperty(d,h):E[d]=h))}function Yw(s,o,c,d){let h=!1;if(oa()){const p=function Ph(s,o,c){const d=s.directiveRegistry;let h=null;if(d)for(let p=0;p<d.length;p++){const y=d[p];E_(c,y.selectors,!1)&&(h||(h=[]),xo(yn(c,o),s,y.type),Vi(y)?(e0(s,c),h.unshift(y)):h.push(y))}return h}(s,o,c),y=null===d?null:{"":-1};if(null!==p){h=!0,$T(c,s.data.length,p.length);for(let x=0;x<p.length;x++){const L=p[x];L.providersResolver&&L.providersResolver(L)}let w=!1,E=!1,A=ya(s,o,p.length,null);for(let x=0;x<p.length;x++){const L=p[x];c.mergedAttrs=un(c.mergedAttrs,L.hostAttrs),Z_(s,c,o,A,L),qT(A,L,y),null!==L.contentQueries&&(c.flags|=8),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(c.flags|=128);const $=L.type.prototype;!w&&($.ngOnChanges||$.ngOnInit||$.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(c.index),w=!0),!E&&($.ngOnChanges||$.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(c.index),E=!0),A++}!function $_(s,o){const d=o.directiveEnd,h=s.data,p=o.attrs,y=[];let w=null,E=null;for(let A=o.directiveStart;A<d;A++){const x=h[A],L=x.inputs,$=null===p||C_(o)?null:K_(L,p);y.push($),w=jp(L,A,w),E=jp(x.outputs,A,E)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=w,o.outputs=E}(s,c)}y&&function t0(s,o,c){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=c[o[h+1]];if(null==p)throw new Ne(-301,!1);d.push(o[h],p)}}}(c,d,y)}return c.mergedAttrs=un(c.mergedAttrs,c.attrs),h}function Qw(s,o,c,d,h,p){const y=p.hostBindings;if(y){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const E=~o.index;(function Xw(s){let o=s.length;for(;o>0;){const c=s[--o];if("number"==typeof c&&c<0)return c}return 0})(w)!=E&&w.push(E),w.push(d,h,y)}}function z_(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function e0(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function qT(s,o,c){if(c){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)c[o.exportAs[d]]=s;Vi(o)&&(c[""]=s)}}function $T(s,o,c){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+c,s.providerIndexes=o}function Z_(s,o,c,d,h){s.data[d]=h;const p=h.factory||(h.factory=wi(h.type)),y=new bl(p,Vi(h),null);s.blueprint[d]=y,c[d]=y,Qw(s,o,0,d,ya(s,c,h.hostVars,Ut),h)}function zT(s,o,c){const d=Ir(o,s),h=H_(c),p=s[10],y=Fh(s,$c(s,h,null,c.onPush?64:16,d,o,p,p.createRenderer(d,c),null,null));s[o.index]=y}function Ho(s,o,c,d,h,p){const y=Ir(s,o);!function W_(s,o,c,d,h,p,y){if(null==p)Tn(s)?s.removeAttribute(o,h,c):o.removeAttribute(h);else{const w=null==y?_e(p):y(p,d||"",h);Tn(s)?s.setAttribute(o,h,w,c):c?o.setAttributeNS(c,h,w):o.setAttribute(h,w)}}(o[11],y,p,s.value,c,d,h)}function n0(s,o,c,d,h,p){const y=p[o];if(null!==y){const w=d.setInput;for(let E=0;E<y.length;){const A=y[E++],x=y[E++],L=y[E++];null!==w?d.setInput(c,L,A,x):c[x]=L}}}function K_(s,o){let c=null,d=0;for(;d<o.length;){const h=o[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===c&&(c=[]),c.push(h,s[h],o[d+1])),d+=2}else d+=2;else d+=4}return c}function Y_(s,o,c,d){return new Array(s,!0,!1,o,null,0,d,c,null,null)}function WT(s,o){const c=Kr(o,s);if(So(c)){const d=c[1];80&c[2]?Uo(d,c,d.template,c[8]):c[5]>0&&Nh(c)}}function Nh(s){for(let d=Ep(s);null!==d;d=m_(d))for(let h=10;h<d.length;h++){const p=d[h];if(1024&p[2]){const y=p[1];Uo(y,p,y.template,p[8])}else p[5]>0&&Nh(p)}const c=s[1].components;if(null!==c)for(let d=0;d<c.length;d++){const h=Kr(c[d],s);So(h)&&h[5]>0&&Nh(h)}}function KT(s,o){const c=Kr(o,s),d=c[1];(function Q_(s,o){for(let c=o.length;c<s.blueprint.length;c++)o.push(s.blueprint[c])})(d,c),Ql(d,c,c[8])}function Fh(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function X_(s){for(;s;){s[2]|=64;const o=bh(s);if(gc(s)&&!o)return s;s=o}return null}function $p(s,o,c){const d=o[10];d.begin&&d.begin();try{Uo(s,o,s.template,c)}catch(h){throw ny(o,h),h}finally{d.end&&d.end()}}function r0(s){!function J_(s){for(let o=0;o<s.components.length;o++){const c=s.components[o],d=a_(c),h=d[1];xh(h,d,h.template,c)}}(s[8])}function ty(s,o,c){Ec(0),o(s,c)}const XT=(()=>Promise.resolve(null))();function JT(s){return s[7]||(s[7]=[])}function zp(s){return s.cleanup||(s.cleanup=[])}function s0(s,o,c){return(null===s||Vi(s))&&(c=function vc(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(c[o.index])),c[11]}function ny(s,o){const c=s[9],d=c?c.get(vh,null):null;d&&d.handleError(o)}function o0(s,o,c,d,h){for(let p=0;p<c.length;){const y=c[p++],w=c[p++],E=o[y],A=s.data[y];null!==A.setInput?A.setInput(E,h,d,w):E[w]=h}}function va(s,o,c){const d=Qs(o,s);!function ww(s,o,c){Tn(s)?s.setValue(o,c):o.textContent=c}(s[11],d,c)}function ba(s,o,c){let d=c?s.styles:null,h=c?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const w=o[y];"number"==typeof w?p=w:1==p?h=be(h,w):2==p&&(d=be(d,w+": "+o[++y]+";"))}c?s.styles=d:s.stylesWithoutHost=d,c?s.classes=h:s.classesWithoutHost=h}const Zp=new Gn("INJECTOR",-1);class l0{get(o,c=co){if(c===co){const d=new Error(`NullInjectorError: No provider for ${ue(o)}!`);throw d.name="NullInjectorError",d}return c}}const ry=new Gn("Set Injector scope."),jo={},c0={};let iy;function sy(){return void 0===iy&&(iy=new l0),iy}function u0(s,o=null,c=null,d){const h=oy(s,o,c,d);return h._resolveInjectorDefTypes(),h}function oy(s,o=null,c=null,d){return new tS(s,c,o||sy(),d)}class tS{constructor(o,c,d,h=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];c&&Gi(c,w=>this.processProvider(w,o,c)),Gi([o],w=>this.processInjectorType(w,[],p)),this.records.set(Zp,Lh(void 0,this));const y=this.records.get(ry);this.scope=null!=y?y.value:null,this.source=h||("object"==typeof o?null:ue(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,c=co,d=_t.Default){this.assertNotDestroyed();const h=ge(this),p=on(void 0);try{if(!(d&_t.SkipSelf)){let w=this.records.get(o);if(void 0===w){const E=function Kp(s){return"function"==typeof s||"object"==typeof s&&s instanceof Gn}(o)&&Pn(o);w=E&&this.injectableDefInScope(E)?Lh(id(o),jo):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(d&_t.Self?sy():this.parent).get(o,c=d&_t.Optional&&c===co?null:c)}catch(y){if("NullInjectorError"===y.name){if((y[Fl]=y[Fl]||[]).unshift(ue(o)),h)throw y;return function uo(s,o,c,d){const h=s[Fl];throw o[U]&&h.unshift(o[U]),s.message=function ks(s,o,c,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=ue(o);if(Array.isArray(o))h=o.map(ue).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let w=o[y];p.push(y+":"+("string"==typeof w?JSON.stringify(w):ue(w)))}h=`{${p.join(", ")}}`}return`${c}${d?"("+d+")":""}[${h}]: ${s.replace(S,"\n  ")}`}("\n"+s.message,h,c,d),s.ngTokenPath=h,s[Fl]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{on(p),ge(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((d,h)=>o.push(ue(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ne(205,!1)}processInjectorType(o,c,d){if(!(o=ne(o)))return!1;let h=ts(o);const p=null==h&&o.ngModule||void 0,y=void 0===p?o:p,w=-1!==d.indexOf(y);if(void 0!==p&&(h=ts(p)),null==h)return!1;if(null!=h.imports&&!w){let x;d.push(y);try{Gi(h.imports,L=>{this.processInjectorType(L,c,d)&&(void 0===x&&(x=[]),x.push(L))})}finally{}if(void 0!==x)for(let L=0;L<x.length;L++){const{ngModule:$,providers:X}=x[L];Gi(X,Ce=>this.processProvider(Ce,$,X||vt))}}this.injectorDefTypes.add(y);const E=wi(y)||(()=>new y);this.records.set(y,Lh(E,jo));const A=h.providers;if(null!=A&&!w){const x=o;Gi(A,L=>this.processProvider(L,x,A))}return void 0!==p&&void 0!==o.providers}processProvider(o,c,d){let h=Zc(o=ne(o))?o:ne(o&&o.provide);const p=function d0(s,o,c){return iS(s)?Lh(void 0,s.useValue):Lh(rS(s),jo)}(o);if(Zc(o)||!0!==o.multi)this.records.get(h);else{let y=this.records.get(h);y||(y=Lh(void 0,jo,!0),y.factory=()=>Mt(y.multi),this.records.set(h,y)),h=o,y.multi.push(o)}this.records.set(h,p)}hydrate(o,c){return c.value===jo&&(c.value=c0,c.value=c.factory()),"object"==typeof c.value&&c.value&&function Jk(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this.onDestroy.add(c.value),c.value}injectableDefInScope(o){if(!o.providedIn)return!1;const c=ne(o.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function id(s){const o=Pn(s),c=null!==o?o.factory:wi(s);if(null!==c)return c;if(s instanceof Gn)throw new Ne(204,!1);if(s instanceof Function)return function nS(s){const o=s.length;if(o>0)throw hi(o,"?"),new Ne(204,!1);const c=function Nr(s){const o=s&&(s[yi]||s[Sr]);if(o){const c=function Tr(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),o}return null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new Ne(204,!1)}function rS(s,o,c){let d;if(Zc(s)){const h=ne(s);return wi(h)||id(h)}if(iS(s))d=()=>ne(s.useValue);else if(function sS(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...Mt(s.deps||[]));else if(function h0(s){return!(!s||!s.useExisting)}(s))d=()=>at(ne(s.useExisting));else{const h=ne(s&&(s.useClass||s.provide));if(!function Wp(s){return!!s.deps}(s))return wi(h)||id(h);d=()=>new h(...Mt(s.deps))}return d}function Lh(s,o,c=!1){return{factory:s,value:o,multi:c?[]:void 0}}function iS(s){return null!==s&&"object"==typeof s&&Q in s}function Zc(s){return"function"==typeof s}let yt=(()=>{class s{static create(c,d){var h;if(Array.isArray(c))return u0({name:""},d,c,"");{const p=null!==(h=c.name)&&void 0!==h?h:"";return u0({name:p},c.parent,c.providers,p)}}}return s.THROW_IF_NOT_FOUND=co,s.NULL=new l0,s.\u0275prov=sn({token:s,providedIn:"any",factory:()=>at(Zp)}),s.__NG_ELEMENT_ID__=-1,s})();function nO(s,o){$a(a_(s)[1],Cn())}function y0(s){let o=function pS(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const d=[s];for(;o;){let h;if(Vi(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ne(903,"");h=o.\u0275dir}if(h){if(c){d.push(h);const y=s;y.inputs=Qp(s.inputs),y.declaredInputs=Qp(s.declaredInputs),y.outputs=Qp(s.outputs);const w=h.hostBindings;w&&ei(s,w);const E=h.viewQuery,A=h.contentQueries;if(E&&mS(s,E),A&&gS(s,A),te(s.inputs,h.inputs),te(s.declaredInputs,h.declaredInputs),te(s.outputs,h.outputs),Vi(h)&&h.data.animation){const x=s.data;x.animation=(x.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const w=p[y];w&&w.ngInherit&&w(s),w===y0&&(c=!1)}}o=Object.getPrototypeOf(o)}!function we(s){let o=0,c=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=un(h.hostAttrs,c=un(c,h.hostAttrs))}}(d)}function Qp(s){return s===an?{}:s===vt?[]:s}function mS(s,o){const c=s.viewQuery;s.viewQuery=c?(d,h)=>{o(d,h),c(d,h)}:o}function gS(s,o){const c=s.contentQueries;s.contentQueries=c?(d,h,p)=>{o(d,h,p),c(d,h,p)}:o}function ei(s,o){const c=s.hostBindings;s.hostBindings=c?(d,h)=>{o(d,h),c(d,h)}:o}let Jp=null;function sd(){if(!Jp){const s=Zt.Symbol;if(s&&s.iterator)Jp=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<o.length;++c){const d=o[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Jp=d)}}}return Jp}function od(s){return!!uy(s)&&(Array.isArray(s)||!(s instanceof Map)&&sd()in s)}function uy(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function qr(s,o,c){return!Object.is(s[o],c)&&(s[o]=c,!0)}function ad(s,o,c,d){const h=Ae();return qr(h,ua(),o)&&(jt(),Ho(jn(),h,s,o,c,d)),ad}function ec(s,o,c,d){return qr(s,ua(),c)?o+_e(c)+d:Ut}function ld(s,o,c,d,h,p){const w=function Xl(s,o,c,d){const h=qr(s,o,c);return qr(s,o+1,d)||h}(s,function as(){return Et.lFrame.bindingIndex}(),c,h);return ui(2),w?o+_e(c)+d+_e(h)+p:Ut}function my(s,o,c,d,h,p,y,w){const E=Ae(),A=jt(),x=s+20,L=A.firstCreatePass?function py(s,o,c,d,h,p,y,w,E){const A=o.consts,x=Ah(o,s,4,y||null,Ui(A,w));Yw(o,c,x,Ui(A,E)),$a(o,x);const L=x.tViews=zc(2,x,d,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A);return null!==o.queries&&(o.queries.template(o,x),L.queries=o.queries.embeddedTView(x)),x}(x,A,E,o,c,d,h,p,y):A.data[x];Hi(L,!1);const $=E[11].createComment("");td(A,E,$,L),Ti($,E),Fh(E,E[x]=Y_($,E,$,L)),Qo(L)&&Hp(A,E,L),null!=y&&Rh(E,L,w)}function E0(s){return function Ci(s,o){return s[o]}(function wc(){return Et.lFrame.contextLView}(),20+s)}function lm(s,o=_t.Default){const c=Ae();return null===c?at(s,o):El(Cn(),c,ne(s),o)}function RS(){throw new Error("invalid")}function Gh(s,o,c){const d=Ae();return qr(d,ua(),o)&&hs(jt(),jn(),d,s,o,d[11],c,!1),Gh}function P0(s,o,c,d,h){const y=h?"class":"style";o0(s,c,o.inputs[y],y,d)}function qh(s,o,c,d){const h=Ae(),p=jt(),y=20+s,w=h[11],E=h[y]=wr(w,o,function Mu(){return Et.lFrame.currentNamespace}()),A=p.firstCreatePass?function kS(s,o,c,d,h,p,y){const w=o.consts,A=Ah(o,s,2,h,Ui(w,p));return Yw(o,c,A,Ui(w,y)),null!==A.attrs&&ba(A,A.attrs,!1),null!==A.mergedAttrs&&ba(A,A.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,A),A}(y,p,h,0,o,c,d):p.data[y];Hi(A,!0);const x=A.mergedAttrs;null!==x&&it(w,E,x);const L=A.classes;null!==L&&w_(w,E,L);const $=A.styles;return null!==$&&b_(w,E,$),64!=(64&A.flags)&&td(p,h,E,A),0===function Tu(){return Et.lFrame.elementDepthCount}()&&Ti(E,h),function sa(){Et.lFrame.elementDepthCount++}(),Qo(A)&&(Hp(p,h,A),Up(p,A,h)),null!==d&&Rh(h,A),qh}function cm(){let s=Cn();bc()?ja():(s=s.parent,Hi(s,!1));const o=s;!function Su(){Et.lFrame.elementDepthCount--}();const c=jt();return c.firstCreatePass&&($a(c,s),Pa(s)&&c.queries.elementEnd(s)),null!=o.classesWithoutHost&&function ku(s){return 0!=(16&s.flags)}(o)&&P0(c,o,Ae(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Jg(s){return 0!=(32&s.flags)}(o)&&P0(c,o,Ae(),o.stylesWithoutHost,!1),cm}function um(s,o,c,d){return qh(s,o,c,d),cm(),um}function Cy(s,o,c){const d=Ae(),h=jt(),p=s+20,y=h.firstCreatePass?function dm(s,o,c,d,h){const p=o.consts,y=Ui(p,d),w=Ah(o,s,8,"ng-container",y);return null!==y&&ba(w,y,!0),Yw(o,c,w,Ui(p,h)),null!==o.queries&&o.queries.elementStart(o,w),w}(p,h,d,o,c):h.data[p];Hi(y,!0);const w=d[p]=d[11].createComment("");return td(h,d,w,y),Ti(w,d),Qo(y)&&(Hp(h,d,y),Up(h,y,d)),null!=c&&Rh(d,y),Cy}function md(){let s=Cn();const o=jt();return bc()?ja():(s=s.parent,Hi(s,!1)),o.firstCreatePass&&($a(o,s),Pa(s)&&o.queries.elementEnd(s)),md}function F0(s,o,c){return Cy(s,o,c),md(),F0}function L0(){return Ae()}function V0(s){return!!s&&"function"==typeof s.then}function B0(s){return!!s&&"function"==typeof s.subscribe}const U0=B0;function H0(s,o,c,d){const h=Ae(),p=jt(),y=Cn();return PS(p,h,h[11],y,s,o,!!c,d),H0}function j0(s,o){const c=Cn(),d=Ae(),h=jt();return PS(h,d,s0(Js(h.data),c,d),c,s,o,!1),j0}function PS(s,o,c,d,h,p,y,w){const E=Qo(d),x=s.firstCreatePass&&zp(s),L=o[8],$=JT(o);let X=!0;if(3&d.type||w){const $e=Ir(d,o),ot=w?w($e):$e,Me=$.length,Dt=w?Kt=>w(gn(Kt[d.index])):d.index;if(Tn(c)){let Kt=null;if(!w&&E&&(Kt=function OS(s,o,c,d){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===c&&h[p+1]===d){const w=o[7],E=h[p+2];return w.length>E?w[E]:null}"string"==typeof y&&(p+=2)}return null}(s,o,h,d.index)),null!==Kt)(Kt.__ngLastListenerFn__||Kt).__ngNextListenerFn__=p,Kt.__ngLastListenerFn__=p,X=!1;else{p=G0(d,o,L,p,!1);const Sn=c.listen(ot,h,p);$.push(p,Sn),x&&x.push(h,Dt,Me,Me+1)}}else p=G0(d,o,L,p,!0),ot.addEventListener(h,p,y),$.push(p),x&&x.push(h,Dt,Me,y)}else p=G0(d,o,L,p,!1);const Ce=d.outputs;let Ve;if(X&&null!==Ce&&(Ve=Ce[h])){const $e=Ve.length;if($e)for(let ot=0;ot<$e;ot+=2){const Vs=o[Ve[ot]][Ve[ot+1]].subscribe(p),oc=$.length;$.push(p,Vs),x&&x.push(h,d.index,oc,-(oc+1))}}}function NS(s,o,c,d){try{return!1!==c(d)}catch(h){return ny(s,h),!1}}function G0(s,o,c,d,h){return function p(y){if(y===Function)return d;const w=2&s.flags?Kr(s.index,o):o;0==(32&o[2])&&X_(w);let E=NS(o,0,d,y),A=p.__ngNextListenerFn__;for(;A;)E=NS(o,0,A,y)&&E,A=A.__ngNextListenerFn__;return h&&!1===E&&(y.preventDefault(),y.returnValue=!1),E}}function FS(s=1){return function eo(s){return(Et.lFrame.contextLView=function Sc(s,o){for(;s>0;)o=o[15],s--;return o}(s,Et.lFrame.contextLView))[8]}(s)}function lO(s,o){let c=null;const d=function Fw(s){const o=s.attrs;if(null!=o){const c=o.indexOf(5);if(0==(1&c))return o[c+1]}return null}(s);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===d?E_(s,p,!0):Bw(d,p))return h}else c=h}return c}function hm(s){const o=Ae()[16][6];if(!o.projection){const d=o.projection=hi(s?s.length:1,null),h=d.slice();let p=o.child;for(;null!==p;){const y=s?lO(p,s):0;null!==y&&(h[y]?h[y].projectionNext=p:d[y]=p,h[y]=p),p=p.next}}}function q0(s,o=0,c){const d=Ae(),h=jt(),p=Ah(h,20+s,16,null,c||null);null===p.projection&&(p.projection=o),ja(),64!=(64&p.flags)&&function Pw(s,o,c){Zl(o[11],0,o,c,RT(s,c,o),Aw(c.parent||o[6],c,o))}(h,d,p)}function fm(s,o,c){return pm(s,"",o,"",c),fm}function pm(s,o,c,d,h){const p=Ae(),y=ec(p,o,c,d);return y!==Ut&&hs(jt(),jn(),p,s,y,p[11],h,!1),pm}function z0(s,o,c,d,h){const p=s[c+1],y=null===o;let w=d?po(p):Vo(p),E=!1;for(;0!==w&&(!1===E||y);){const x=s[w+1];Qc(s[w],o)&&(E=!0,s[w+1]=d?Fp(x):Pp(x)),w=d?po(x):Vo(x)}E&&(s[c+1]=d?Pp(p):Fp(p))}function Qc(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&ao(s,o)>=0}const ti={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function _d(s){return s.substring(ti.key,ti.keyEnd)}function ni(s,o){const c=ti.textEnd;return c===o?-1:(o=ti.keyEnd=function zh(s,o,c){for(;o<c&&s.charCodeAt(o)>32;)o++;return o}(s,ti.key=o,c),Jc(s,o,c))}function Jc(s,o,c){for(;o<c&&s.charCodeAt(o)<=32;)o++;return o}function W0(s,o,c){return Ns(s,o,c,!1),W0}function Wh(s,o){return Ns(s,o,null,!0),Wh}function Ii(s,o){for(let c=function Ay(s){return function My(s){ti.key=0,ti.keyEnd=0,ti.value=0,ti.valueEnd=0,ti.textEnd=s.length}(s),ni(s,Jc(s,0,ti.textEnd))}(o);c>=0;c=ni(o,c))fi(s,_d(o),!0)}function Ns(s,o,c,d){const h=Ae(),p=jt(),y=ui(2);p.firstUpdatePass&&K0(p,s,y,d),o!==Ut&&qr(h,y,o)&&qS(p,p.data[Yr()],h,h[11],s,h[y+1]=function zS(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ue(ds(s)))),s}(o,c),d,y)}function HS(s,o){return o>=s.expandoStartIndex}function K0(s,o,c,d){const h=s.data;if(null===h[c+1]){const p=h[Yr()],y=HS(s,c);Ny(p,d)&&null===o&&!y&&(o=!1),o=function hO(s,o,c,d){const h=Js(s);let p=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(c=gm(c=ky(null,s,o,c,d),o.attrs,d),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==h)if(c=ky(h,s,o,c,d),null===p){let E=function Ry(s,o,c){const d=c?o.classBindings:o.styleBindings;if(0!==Vo(d))return s[po(d)]}(s,o,d);void 0!==E&&Array.isArray(E)&&(E=ky(null,s,o,E[1],d),E=gm(E,o.attrs,d),function jS(s,o,c,d){s[po(c?o.classBindings:o.styleBindings)]=d}(s,o,d,E))}else p=function GS(s,o,c){let d;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)d=gm(d,s[p].hostAttrs,c);return gm(d,o.attrs,c)}(s,o,d)}return void 0!==p&&(d?o.residualClasses=p:o.residualStyles=p),c}(h,p,o,d),function LS(s,o,c,d,h,p){let y=p?o.classBindings:o.styleBindings,w=po(y),E=Vo(y);s[d]=c;let x,A=!1;if(Array.isArray(c)){const L=c;x=L[1],(null===x||ao(L,x)>0)&&(A=!0)}else x=c;if(h)if(0!==E){const $=po(s[w+1]);s[d+1]=Op($,w),0!==$&&(s[$+1]=Np(s[$+1],d)),s[w+1]=function M_(s,o){return 131071&s|o<<17}(s[w+1],d)}else s[d+1]=Op(w,0),0!==w&&(s[w+1]=Np(s[w+1],d)),w=d;else s[d+1]=Op(E,0),0===w?w=d:s[E+1]=Np(s[E+1],d),E=d;A&&(s[d+1]=Pp(s[d+1])),z0(s,x,d,!0),z0(s,x,d,!1),function VS(s,o,c,d,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&ao(p,o)>=0&&(c[d+1]=Fp(c[d+1]))}(o,x,s,d,p),y=Op(w,E),p?o.classBindings=y:o.styleBindings=y}(h,p,o,c,y,d)}}function ky(s,o,c,d,h){let p=null;const y=c.directiveEnd;let w=c.directiveStylingLast;for(-1===w?w=c.directiveStart:w++;w<y&&(p=o[w],d=gm(d,p.hostAttrs,h),p!==s);)w++;return null!==s&&(c.directiveStylingLast=w),d}function gm(s,o,c){const d=c?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?h=y:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),fi(s,y,!!c||o[++p]))}return void 0===s?null:s}function qS(s,o,c,d,h,p,y,w){if(!(3&o.type))return;const E=s.data,A=E[w+1];_m(function x_(s){return 1==(1&s)}(A)?$S(E,o,c,h,Vo(A),y):void 0)||(_m(p)||function A_(s){return 2==(2&s)}(A)&&(p=$S(E,null,c,h,w,y)),function OT(s,o,c,d,h){const p=Tn(s);if(o)h?p?s.addClass(c,d):c.classList.add(d):p?s.removeClass(c,d):c.classList.remove(d);else{let y=-1===d.indexOf("-")?void 0:ga.DashCase;if(null==h)p?s.removeStyle(c,d,y):c.style.removeProperty(d);else{const w="string"==typeof h&&h.endsWith("!important");w&&(h=h.slice(0,-10),y|=ga.Important),p?s.setStyle(c,d,h,y):c.style.setProperty(d,h,w?"important":"")}}}(d,y,Qs(Yr(),c),h,p))}function $S(s,o,c,d,h,p){const y=null===o;let w;for(;h>0;){const E=s[h],A=Array.isArray(E),x=A?E[1]:E,L=null===x;let $=c[h+1];$===Ut&&($=L?vt:void 0);let X=L?kl($,d):x===d?$:void 0;if(A&&!_m(X)&&(X=kl(E,d)),_m(X)&&(w=X,y))return w;const Ce=s[h+1];h=y?po(Ce):Vo(Ce)}if(null!==o){let E=p?o.residualClasses:o.residualStyles;null!=E&&(w=kl(E,d))}return w}function _m(s){return void 0!==s}function Ny(s,o){return 0!=(s.flags&(o?16:32))}function ym(s,o=""){const c=Ae(),d=jt(),h=s+20,p=d.firstCreatePass?Ah(d,h,1,o,null):d.data[h],y=c[h]=function Dp(s,o){return Tn(s)?s.createText(o):s.createTextNode(o)}(c[11],o);td(d,c,y,p),Hi(p,!1)}function vm(s){return yd("",s,""),vm}function yd(s,o,c){const d=Ae(),h=ec(d,s,o,c);return h!==Ut&&va(d,Yr(),h),yd}function Y0(s,o,c,d,h){const p=Ae(),y=ld(p,s,o,c,d,h);return y!==Ut&&va(p,Yr(),y),Y0}function JS(s,o,c){!function Da(s,o,c,d){const h=jt(),p=ui(2);h.firstUpdatePass&&K0(h,null,p,d);const y=Ae();if(c!==Ut&&qr(y,p,c)){const w=h.data[Yr()];if(Ny(w,d)&&!HS(h,p)){let E=d?w.classesWithoutHost:w.stylesWithoutHost;null!==E&&(c=be(E,c||"")),P0(h,w,y,c,d)}else!function Py(s,o,c,d,h,p,y,w){h===Ut&&(h=vt);let E=0,A=0,x=0<h.length?h[0]:null,L=0<p.length?p[0]:null;for(;null!==x||null!==L;){const $=E<h.length?h[E+1]:void 0,X=A<p.length?p[A+1]:void 0;let Ve,Ce=null;x===L?(E+=2,A+=2,$!==X&&(Ce=L,Ve=X)):null===L||null!==x&&x<L?(E+=2,Ce=x):(A+=2,Ce=L,Ve=X),null!==Ce&&qS(s,o,c,d,Ce,Ve,y,w),x=E<h.length?h[E]:null,L=A<p.length?p[A]:null}}(h,w,y,y[11],y[p+1],y[p+1]=function fO(s,o,c){if(null==c||""===c)return vt;const d=[],h=ds(c);if(Array.isArray(h))for(let p=0;p<h.length;p++)s(d,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&s(d,p,h[p]);else"string"==typeof h&&o(d,h);return d}(s,o,c),d,p)}}(fi,Ii,ec(Ae(),s,o,c),!0)}function J0(s,o,c){const d=Ae();return qr(d,ua(),o)&&hs(jt(),jn(),d,s,o,d[11],c,!0),J0}function eC(s,o,c){const d=Ae();if(qr(d,ua(),o)){const p=jt(),y=jn();hs(p,y,d,s,o,s0(Js(p.data),y,d),c,!0)}return eC}const vd=void 0;var xO=["en",[["a","p"],["AM","PM"],vd],[["AM","PM"],vd,vd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],vd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],vd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",vd,"{1} 'at' {0}",vd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function MO(s){const c=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let Kh={};function tC(s){const o=function kO(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=uI(o);if(c)return c;const d=o.split("-")[0];if(c=uI(d),c)return c;if("en"===d)return xO;throw new Error(`Missing locale data for the locale "${s}".`)}function nC(s){return tC(s)[xt.PluralCase]}function uI(s){return s in Kh||(Kh[s]=Zt.ng&&Zt.ng.common&&Zt.ng.common.locales&&Zt.ng.common.locales[s]),Kh[s]}var xt=(()=>((xt=xt||{})[xt.LocaleId=0]="LocaleId",xt[xt.DayPeriodsFormat=1]="DayPeriodsFormat",xt[xt.DayPeriodsStandalone=2]="DayPeriodsStandalone",xt[xt.DaysFormat=3]="DaysFormat",xt[xt.DaysStandalone=4]="DaysStandalone",xt[xt.MonthsFormat=5]="MonthsFormat",xt[xt.MonthsStandalone=6]="MonthsStandalone",xt[xt.Eras=7]="Eras",xt[xt.FirstDayOfWeek=8]="FirstDayOfWeek",xt[xt.WeekendRange=9]="WeekendRange",xt[xt.DateFormat=10]="DateFormat",xt[xt.TimeFormat=11]="TimeFormat",xt[xt.DateTimeFormat=12]="DateTimeFormat",xt[xt.NumberSymbols=13]="NumberSymbols",xt[xt.NumberFormats=14]="NumberFormats",xt[xt.CurrencyCode=15]="CurrencyCode",xt[xt.CurrencySymbol=16]="CurrencySymbol",xt[xt.CurrencyName=17]="CurrencyName",xt[xt.Currencies=18]="Currencies",xt[xt.Directionality=19]="Directionality",xt[xt.PluralCase=20]="PluralCase",xt[xt.ExtraData=21]="ExtraData",xt))();const Fy="en-US";let dI=Fy;function Gy(s,o,c,d,h){if(s=ne(s),Array.isArray(s))for(let p=0;p<s.length;p++)Gy(s[p],o,c,d,h);else{const p=jt(),y=Ae();let w=Zc(s)?s:ne(s.provide),E=rS(s);const A=Cn(),x=1048575&A.providerIndexes,L=A.directiveStart,$=A.providerIndexes>>20;if(Zc(s)||!s.multi){const X=new bl(E,h,lm),Ce=$y(w,o,h?x:x+$,L);-1===Ce?(xo(yn(A,y),p,w),qy(p,s,o.length),o.push(w),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),c.push(X),y.push(X)):(c[Ce]=X,y[Ce]=X)}else{const X=$y(w,o,x+$,L),Ce=$y(w,o,x,x+$),Ve=X>=0&&c[X],$e=Ce>=0&&c[Ce];if(h&&!$e||!h&&!Ve){xo(yn(A,y),p,w);const ot=function u1(s,o,c,d,h){const p=new bl(s,c,lm);return p.multi=[],p.index=o,p.componentProviders=0,uC(p,h,d&&!c),p}(h?c1:l1,c.length,h,d,E);!h&&$e&&(c[Ce].providerFactory=ot),qy(p,s,o.length,0),o.push(w),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),c.push(ot),y.push(ot)}else qy(p,s,X>-1?X:Ce,uC(c[h?Ce:X],E,!h&&d));!h&&d&&$e&&c[Ce].componentProviders++}}}function qy(s,o,c,d){const h=Zc(o),p=function oS(s){return!!s.useClass}(o);if(h||p){const E=(p?ne(o.useClass):o).prototype.ngOnDestroy;if(E){const A=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const x=A.indexOf(c);-1===x?A.push(c,[d,E]):A[x+1].push(d,E)}else A.push(c,E)}}}function uC(s,o,c){return c&&s.componentProviders++,s.multi.push(o)-1}function $y(s,o,c,d){for(let h=c;h<d;h++)if(o[h]===s)return h;return-1}function l1(s,o,c,d){return dC(this.multi,[])}function c1(s,o,c,d){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=Mr(c,c[1],this.providerFactory.index,d);p=w.slice(0,y),dC(h,p);for(let E=y;E<w.length;E++)p.push(w[E])}else p=[],dC(h,p);return p}function dC(s,o){for(let c=0;c<s.length;c++)o.push((0,s[c])());return o}function BI(s,o=[]){return c=>{c.providersResolver=(d,h)=>function VI(s,o,c){const d=jt();if(d.firstCreatePass){const h=Vi(s);Gy(c,d.data,d.blueprint,h,!0),Gy(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class zy{}class pC{resolveComponentFactory(o){throw function hC(s){const o=Error(`No component factory found for ${ue(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Sa=(()=>{class s{}return s.NULL=new pC,s})();function UI(){return wd(Cn(),Ae())}function wd(s,o){return new Qh(Ir(s,o))}let Qh=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=UI,s})();function HI(s){return s instanceof Qh?s.nativeElement:s}class jI{}let GI=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function gC(){const s=Ae(),c=Kr(Cn().index,s);return function Mm(s){return s[11]}(Ur(c)?c:s)}(),s})(),f1=(()=>{class s{}return s.\u0275prov=sn({token:s,providedIn:"root",factory:()=>null}),s})();class Zy{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Wy=new Zy("13.2.3"),Xh={};function xm(s,o,c,d,h=!1){for(;null!==c;){const p=o[c.index];if(null!==p&&d.push(gn(p)),bi(p))for(let w=10;w<p.length;w++){const E=p[w],A=E[1].firstChild;null!==A&&xm(E[1],E,A,d)}const y=c.type;if(8&y)xm(s,o,c.child,d);else if(32&y){const w=f_(c,o);let E;for(;E=w();)d.push(E)}else if(16&y){const w=Rw(o,c);if(Array.isArray(w))d.push(...w);else{const E=bh(o[16]);xm(E[1],E,w,d,!0)}}c=h?c.projectionNext:c.next}return d}class Rm{constructor(o,c){this._lView=o,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,c=o[1];return xm(c,o,c.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(bi(o)){const c=o[8],d=c?c.indexOf(this):-1;d>-1&&(Ip(o,d),pa(c,d))}this._attachedToViewContainer=!1}Ew(this._lView[1],this._lView)}onDestroy(o){q_(this._lView[1],this._lView,null,o)}markForCheck(){X_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){$p(this._lView[1],this._lView,this.context)}checkNoChanges(){!function ey(s,o,c){la(!0);try{$p(s,o,c)}finally{la(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ne(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function g_(s,o){nd(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ne(902,"");this._appRef=o}}class _C extends Rm{constructor(o){super(o),this._view=o}detectChanges(){r0(this._view)}checkNoChanges(){!function YT(s){la(!0);try{r0(s)}finally{la(!1)}}(this._view)}get context(){return null}}class yC extends Sa{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const c=ze(o);return new km(c,this.ngModule)}}function Ia(s){const o=[];for(let c in s)s.hasOwnProperty(c)&&o.push({propName:s[c],templateName:c});return o}const eu=new Gn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>pw});class km extends zy{constructor(o,c){super(),this.componentDef=o,this.ngModule=c,this.componentType=o.type,this.selector=function Hw(s){return s.map(Uw).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return Ia(this.componentDef.inputs)}get outputs(){return Ia(this.componentDef.outputs)}create(o,c,d,h){const p=(h=h||this.ngModule)?function p1(s,o){return{get:(c,d,h)=>{const p=s.get(c,Xh,h);return p!==Xh||d===Xh?p:o.get(c,d,h)}}}(o,h.injector):o,y=p.get(jI,Do),w=p.get(f1,null),E=y.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",x=d?function G_(s,o,c){if(Tn(s))return s.selectRootElement(o,c===$t.ShadowDom);let d="string"==typeof o?s.querySelector(o):o;return d.textContent="",d}(E,d,this.componentDef.encapsulation):wr(y.createRenderer(null,this.componentDef),A,function Jh(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(A)),L=this.componentDef.onPush?576:528,$=function fS(s,o){return{components:[],scheduler:s||pw,clean:XT,playerHandler:o||null,flags:0}}(),X=zc(0,null,null,1,0,null,null,null,null,null),Ce=$c(null,X,$,L,null,null,y,E,w,p);let Ve,$e;qa(Ce);try{const ot=function dS(s,o,c,d,h,p){const y=c[1];c[20]=s;const E=Ah(y,20,2,"#host",null),A=E.mergedAttrs=o.hostAttrs;null!==A&&(ba(E,A,!0),null!==s&&(it(h,s,A),null!==E.classes&&w_(h,s,E.classes),null!==E.styles&&b_(h,s,E.styles)));const x=d.createRenderer(s,o),L=$c(c,H_(o),null,o.onPush?64:16,c[20],E,d,x,p||null,null);return y.firstCreatePass&&(xo(yn(E,c),y,o.type),e0(y,E),$T(E,c.length,1)),Fh(c,L),c[20]=L}(x,this.componentDef,Ce,y,E);if(x)if(d)it(E,x,["ng-version",Wy.full]);else{const{attrs:Me,classes:Dt}=function kp(s){const o=[],c=[];let d=1,h=2;for(;d<s.length;){let p=s[d];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++d]):8===h&&c.push(p);else{if(!Lo(h))break;h=p}d++}return{attrs:o,classes:c}}(this.componentDef.selectors[0]);Me&&it(E,x,Me),Dt&&Dt.length>0&&w_(E,x,Dt.join(" "))}if($e=gl(X,20),void 0!==c){const Me=$e.projection=[];for(let Dt=0;Dt<this.ngContentSelectors.length;Dt++){const Kt=c[Dt];Me.push(null!=Kt?Array.from(Kt):null)}}Ve=function hS(s,o,c,d,h){const p=c[1],y=function Yk(s,o,c){const d=Cn();s.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),Z_(s,d,o,ya(s,o,1,null),c));const h=Mr(o,s,d.directiveStart,d);Ti(h,o);const p=Ir(d,o);return p&&Ti(p,o),h}(p,c,o);if(d.components.push(y),s[8]=y,h&&h.forEach(E=>E(y,o)),o.contentQueries){const E=Cn();o.contentQueries(1,y,E.directiveStart)}const w=Cn();return!p.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(to(w.index),Qw(c[1],w,0,w.directiveStart,w.directiveEnd,o),z_(o,y)),y}(ot,this.componentDef,Ce,$,[nO]),Ql(X,Ce,null)}finally{Ao()}return new m1(this.componentType,Ve,wd($e,Ce),Ce,$e)}}class m1 extends class d1{}{constructor(o,c,d,h,p){super(),this.location=d,this._rootLView=h,this._tNode=p,this.instance=c,this.hostView=this.changeDetectorRef=new _C(h),this.componentType=o}get injector(){return new En(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class ef{}class vC{}const tf=new Map;class Qt extends ef{constructor(o,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new yC(this);const d=kt(o);this._bootstrapComponents=Fo(d.bootstrap),this._r3Injector=oy(o,c,[{provide:ef,useValue:this},{provide:Sa,useValue:this.componentFactoryResolver}],ue(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,c=yt.THROW_IF_NOT_FOUND,d=_t.Default){return o===yt||o===ef||o===Zp?this:this._r3Injector.get(o,c,d)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Cd extends vC{constructor(o){super(),this.moduleType=o,null!==kt(o)&&function bC(s){const o=new Set;!function c(d){const h=kt(d,!0),p=h.id;null!==p&&(function qI(s,o,c){if(o&&o!==c)throw new Error(`Duplicate module registered for ${s} - ${ue(o)} vs ${ue(o.name)}`)}(p,tf.get(p),d),tf.set(p,d));const y=Fo(h.imports);for(const w of y)o.has(w)||(o.add(w),c(w))}(s)}(o)}create(o){return new Qt(this.moduleType,o)}}function Yy(s){return o=>{setTimeout(s,void 0,o)}}const Aa=class aA extends l.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,c,d){var h,p,y;let w=o,E=c||(()=>null),A=d;if(o&&"object"==typeof o){const L=o;w=null===(h=L.next)||void 0===h?void 0:h.bind(L),E=null===(p=L.error)||void 0===p?void 0:p.bind(L),A=null===(y=L.complete)||void 0===y?void 0:y.bind(L)}this.__isAsync&&(E=Yy(E),w&&(w=Yy(w)),A&&(A=Yy(A)));const x=super.subscribe({next:w,error:E,complete:A});return o instanceof G.w0&&o.add(x),x}};function lA(){return this._results[sd()]()}class Pm{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=sd(),d=Pm.prototype;d[c]||(d[c]=lA)}get changes(){return this._changes||(this._changes=new Aa)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,c){return this._results.reduce(o,c)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,c){const d=this;d.dirty=!1;const h=jr(o);(this._changesDetected=!function Ml(s,o,c){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],p=o[d];if(c&&(h=c(h),p=c(p)),p!==h)return!1}return!0}(d._results,h,c))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let sf=(()=>{class s{}return s.__NG_ELEMENT_ID__=dA,s})();const cA=sf,uA=class extends cA{constructor(o,c,d){super(),this._declarationLView=o,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(o){const c=this._declarationTContainer.tViews,d=$c(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(d[19]=p.createEmbeddedView(c)),Ql(c,d,o),new Rm(d)}};function dA(){return Nm(Cn(),Ae())}function Nm(s,o){return 4&s.type?new uA(o,s,wd(s,o)):null}let Qy=(()=>{class s{}return s.__NG_ELEMENT_ID__=hA,s})();function hA(){return Vm(Cn(),Ae())}const fA=Qy,Fm=class extends fA{constructor(o,c,d){super(),this._lContainer=o,this._hostTNode=c,this._hostLView=d}get element(){return wd(this._hostTNode,this._hostLView)}get injector(){return new En(this._hostTNode,this._hostLView)}get parentInjector(){const o=Qr(this._hostTNode,this._hostLView);if(Kn(o)){const c=Is(o,this._hostLView),d=no(o);return new En(c[1].data[d+8],c)}return new En(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const c=rl(this._lContainer);return null!==c&&c[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,c,d){const h=o.createEmbeddedView(c||{});return this.insert(h,d),h}createComponent(o,c,d,h,p){const y=o&&!function Al(s){return"function"==typeof s}(o);let w;if(y)w=c;else{const L=c||{};w=L.index,d=L.injector,h=L.projectableNodes,p=L.ngModuleRef}const E=y?o:new km(ze(o)),A=d||this.parentInjector;if(!p&&null==E.ngModule){const $=(y?A:this.parentInjector).get(ef,null);$&&(p=$)}const x=E.create(A,h,void 0,p);return this.insert(x.hostView,w),x}insert(o,c){const d=o._lView,h=d[1];if(function ia(s){return bi(s[3])}(d)){const x=this.indexOf(o);if(-1!==x)this.detach(x);else{const L=d[3],$=new Fm(L,L[6],L[3]);$.detach($.indexOf(o))}}const p=this._adjustIndex(c),y=this._lContainer;!function ed(s,o,c,d){const h=10+d,p=c.length;d>0&&(c[h-1][4]=o),d<p-10?(o[4]=c[h],Ya(c,10+d,o)):(c.push(o),o[4]=null),o[3]=c;const y=o[17];null!==y&&c!==y&&function xT(s,o){const c=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===c?s[9]=[o]:c.push(o)}(y,o);const w=o[19];null!==w&&w.insertView(s),o[2]|=128}(h,d,y,p);const w=Rp(p,y),E=d[11],A=Mp(E,y[7]);return null!==A&&function Tp(s,o,c,d,h,p){d[0]=h,d[6]=o,nd(s,d,c,1,h,p)}(h,y[6],E,d,A,w),o.attachToViewContainerRef(),Ya(Lm(y),p,o),o}move(o,c){return this.insert(o,c)}indexOf(o){const c=rl(this._lContainer);return null!==c?c.indexOf(o):-1}remove(o){const c=this._adjustIndex(o,-1),d=Ip(this._lContainer,c);d&&(pa(Lm(this._lContainer),c),Ew(d[1],d))}detach(o){const c=this._adjustIndex(o,-1),d=Ip(this._lContainer,c);return d&&null!=pa(Lm(this._lContainer),c)?new Rm(d):null}_adjustIndex(o,c=0){return null==o?this.length+c:o}};function rl(s){return s[8]}function Lm(s){return s[8]||(s[8]=[])}function Vm(s,o){let c;const d=o[s.index];if(bi(d))c=d;else{let h;if(8&s.type)h=gn(d);else{const p=o[11];h=p.createComment("");const y=Ir(s,o);zl(p,Mp(p,y),h,function kT(s,o){return Tn(s)?s.nextSibling(o):o.nextSibling}(p,y),!1)}o[s.index]=c=Y_(d,o,h,s),Fh(o,c)}return new Fm(c,s,o)}class Bm{constructor(o){this.queryList=o,this.matches=null}clone(){return new Bm(this.queryList)}setDirty(){this.queryList.setDirty()}}class af{constructor(o=[]){this.queries=o}createEmbeddedView(o){const c=o.queries;if(null!==c){const d=null!==o.contentQueries?o.contentQueries[0]:c.length,h=[];for(let p=0;p<d;p++){const y=c.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new af(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let c=0;c<this.queries.length;c++)null!==lf(o,c).matches&&this.queries[c].setDirty()}}class ev{constructor(o,c,d=null){this.predicate=o,this.flags=c,this.read=d}}class AC{constructor(o=[]){this.queries=o}elementStart(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,c)}elementEnd(o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(o)}embeddedTView(o){let c=null;for(let d=0;d<this.length;d++){const h=null!==c?c.length:0,p=this.getByIndex(d).embeddedTView(o,h);p&&(p.indexInDeclarationView=d,null!==c?c.push(p):c=[p])}return null!==c?new AC(c):null}template(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,c)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class tv{constructor(o,c=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(o,c){this.isApplyingToNode(c)&&this.matchTNode(o,c)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,c){this.elementStart(o,c)}embeddedTView(o,c){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,c),new tv(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const p=d[h];this.matchTNodeWithReadOption(o,c,nu(c,p)),this.matchTNodeWithReadOption(o,c,ji(c,o,p,!1,!1))}else d===sf?4&c.type&&this.matchTNodeWithReadOption(o,c,-1):this.matchTNodeWithReadOption(o,c,ji(c,o,d,!1,!1))}matchTNodeWithReadOption(o,c,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Qh||h===Qy||h===sf&&4&c.type)this.addMatch(c.index,-2);else{const p=ji(c,o,h,!1,!1);null!==p&&this.addMatch(c.index,p)}else this.addMatch(c.index,d)}}addMatch(o,c){null===this.matches?this.matches=[o,c]:this.matches.push(o,c)}}function nu(s,o){const c=s.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===o)return c[d+1];return null}function xC(s,o,c,d){return-1===c?function MC(s,o){return 11&s.type?wd(s,o):4&s.type?Nm(s,o):null}(o,s):-2===c?function pA(s,o,c){return c===Qh?wd(o,s):c===sf?Nm(o,s):c===Qy?Vm(o,s):void 0}(s,o,d):Mr(s,s[1],c,o)}function nv(s,o,c,d){const h=o[19].queries[d];if(null===h.matches){const p=s.data,y=c.matches,w=[];for(let E=0;E<y.length;E+=2){const A=y[E];w.push(A<0?null:xC(o,p[A],y[E+1],c.metadata.read))}h.matches=w}return h.matches}function Um(s,o,c,d){const h=s.queries.getByIndex(c),p=h.matches;if(null!==p){const y=nv(s,o,h,c);for(let w=0;w<p.length;w+=2){const E=p[w];if(E>0)d.push(y[w/2]);else{const A=p[w+1],x=o[-E];for(let L=10;L<x.length;L++){const $=x[L];$[17]===$[3]&&Um($[1],$,A,d)}if(null!==x[9]){const L=x[9];for(let $=0;$<L.length;$++){const X=L[$];Um(X[1],X,A,d)}}}}}return d}function mA(s){const o=Ae(),c=jt(),d=nh();Ec(d+1);const h=lf(c,d);if(s.dirty&&Es(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?Um(c,o,d,[]):nv(c,o,h,d);s.reset(p,HI),s.notifyOnChanges()}return!0}return!1}function rv(s,o,c){const d=jt();d.firstCreatePass&&(jm(d,new ev(s,o,c),-1),2==(2&o)&&(d.staticViewQueries=!0)),OC(d,Ae(),o)}function Hm(s,o,c,d){const h=jt();if(h.firstCreatePass){const p=Cn();jm(h,new ev(o,c,d),p.index),function Gm(s,o){const c=s.contentQueries||(s.contentQueries=[]);o!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,o)}(h,s),2==(2&c)&&(h.staticContentQueries=!0)}OC(h,Ae(),c)}function RC(){return function kC(s,o){return s[19].queries[o].queryList}(Ae(),nh())}function OC(s,o,c){const d=new Pm(4==(4&c));q_(s,o,d,d.destroy),null===o[19]&&(o[19]=new af),o[19].queries.push(new Bm(d))}function jm(s,o,c){null===s.queries&&(s.queries=new AC),s.queries.track(new tv(o,c))}function lf(s,o){return s.queries.getByIndex(o)}function Jm(...s){}const hf=new Gn("Application Initializer");let sl=(()=>{class s{constructor(c){this.appInits=c,this.resolve=Jm,this.reject=Jm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(V0(p))c.push(p);else if(U0(p)){const y=new Promise((w,E)=>{p.subscribe({complete:w,error:E})});c.push(y)}}Promise.all(c).then(()=>{d()}).catch(h=>{this.reject(h)}),0===c.length&&d(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)(at(hf,8))},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})();const qC=new Gn("AppId"),EA={provide:qC,useFactory:function $C(){return`${zC()}${zC()}${zC()}`},deps:[]};function zC(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const eg=new Gn("Platform Initializer"),DA=new Gn("Platform ID"),ZC=new Gn("appBootstrapListener");let WC=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})();const ff=new Gn("LocaleId"),tg=new Gn("DefaultCurrencyCode");class SA{constructor(o,c){this.ngModuleFactory=o,this.componentFactories=c}}let mv=(()=>{class s{compileModuleSync(c){return new Cd(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),p=Fo(kt(c).declarations).reduce((y,w)=>{const E=ze(w);return E&&y.push(new km(E)),y},[]);return new SA(d,p)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})();const MA=(()=>Promise.resolve(0))();function gv(s){"undefined"==typeof Zone?MA.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Fs{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Aa(!1),this.onMicrotaskEmpty=new Aa(!1),this.onStable=new Aa(!1),this.onError=new Aa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&c,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function KC(){let s=Zt.requestAnimationFrame,o=Zt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function RA(s){const o=()=>{!function xA(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Zt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,vv(s),s.isCheckStableRunning=!0,yv(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),vv(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,h,p,y,w)=>{try{return bv(s),c.invokeTask(h,p,y,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),YC(s)}},onInvoke:(c,d,h,p,y,w,E)=>{try{return bv(s),c.invoke(h,p,y,w,E)}finally{s.shouldCoalesceRunChangeDetection&&o(),YC(s)}},onHasTask:(c,d,h,p)=>{c.hasTask(h,p),d===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,vv(s),yv(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(c,d,h,p)=>(c.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Fs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,c,d){return this._inner.run(o,c,d)}runTask(o,c,d,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,o,_v,Jm,Jm);try{return p.runTask(y,c,d)}finally{p.cancelTask(y)}}runGuarded(o,c,d){return this._inner.runGuarded(o,c,d)}runOutsideAngular(o){return this._outer.run(o)}}const _v={};function yv(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function vv(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function bv(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function YC(s){s._nesting--,yv(s)}class _o{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Aa,this.onMicrotaskEmpty=new Aa,this.onStable=new Aa,this.onError=new Aa}run(o,c,d){return o.apply(c,d)}runGuarded(o,c,d){return o.apply(c,d)}runOutsideAngular(o){return o()}runTask(o,c,d,h){return o.apply(c,d)}}let ng=(()=>{class s{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fs.assertNotInAngularZone(),gv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())gv(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,h){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:p,updateCb:h})}whenStable(c,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,d,h){return[]}}return s.\u0275fac=function(c){return new(c||s)(at(Fs))},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})(),Id=(()=>{class s{constructor(){this._applications=new Map,Cv.addToWindow(this)}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return Cv.findTestabilityInTree(this,c,d)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})();class wv{addToWindow(o){}findTestabilityInTree(o,c,d){return null}}function kA(s){Cv=s}let Ls,Cv=new wv;const QC=new Gn("AllowMultipleToken");class XC{constructor(o,c){this.name=o,this.token=c}}function Ev(s,o,c=[]){const d=`Platform: ${o}`,h=new Gn(d);return(p=[])=>{let y=eE();if(!y||y.injector.get(QC,!1))if(s)s(c.concat(p).concat({provide:h,useValue:!0}));else{const w=c.concat(p).concat({provide:h,useValue:!0},{provide:ry,useValue:"platform"});!function JC(s){if(Ls&&!Ls.destroyed&&!Ls.injector.get(QC,!1))throw new Ne(400,"");Ls=s.get(tE);const o=s.get(eg,null);o&&o.forEach(c=>c())}(yt.create({providers:w,name:d}))}return function yo(s){const o=eE();if(!o)throw new Ne(401,"");return o}()}}function eE(){return Ls&&!Ls.destroyed?Ls:null}let tE=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const w=function nE(s,o){let c;return c="noop"===s?new _o:("zone.js"===s?void 0:s)||new Fs({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),c}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),E=[{provide:Fs,useValue:w}];return w.run(()=>{const A=yt.create({providers:E,parent:this.injector,name:c.moduleType.name}),x=c.create(A),L=x.injector.get(vh,null);if(!L)throw new Ne(402,"");return w.runOutsideAngular(()=>{const $=w.onError.subscribe({next:X=>{L.handleError(X)}});x.onDestroy(()=>{Tv(this._modules,x),$.unsubscribe()})}),function PA(s,o,c){try{const d=c();return V0(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(L,w,()=>{const $=x.injector.get(sl);return $.runInitializers(),$.donePromise.then(()=>(function FO(s){ht(s,"Expected localeId to be defined"),"string"==typeof s&&(dI=s.toLowerCase().replace(/_/g,"-"))}(x.injector.get(ff,Fy)||Fy),this._moduleDoBootstrap(x),x))})})}bootstrapModule(c,d=[]){const h=Dv({},d);return function OA(s,o,c){const d=new Cd(c);return Promise.resolve(d)}(0,0,c).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(c){const d=c.injector.get(sc);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new Ne(403,"");c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ne(404,"");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)(at(yt))},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})();function Dv(s,o){return Array.isArray(o)?o.reduce(Dv,s):Object.assign(Object.assign({},s),o)}let sc=(()=>{class s{constructor(c,d,h,p,y){this._zone=c,this._injector=d,this._exceptionHandler=h,this._componentFactoryResolver=p,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new k.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),E=new k.y(A=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{Fs.assertNotInAngularZone(),gv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const L=this._zone.onUnstable.subscribe(()=>{Fs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{x.unsubscribe(),L.unsubscribe()}});this.isStable=(0,oe.T)(w,E.pipe((0,se.B)()))}bootstrap(c,d){if(!this._initStatus.done)throw new Ne(405,"");let h;h=c instanceof zy?c:this._componentFactoryResolver.resolveComponentFactory(c),this.componentTypes.push(h.componentType);const p=function rg(s){return s.isBoundToModule}(h)?void 0:this._injector.get(ef),w=h.create(yt.NULL,[],d||h.selector,p),E=w.location.nativeElement,A=w.injector.get(ng,null),x=A&&w.injector.get(Id);return A&&x&&x.registerApplication(E,A),w.onDestroy(()=>{this.detachView(w.hostView),Tv(this.components,w),x&&x.unregisterApplication(E)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Ne(101,"");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;Tv(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(ZC,[]).concat(this._bootstrapListeners).forEach(h=>h(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(c){return new(c||s)(at(Fs),at(yt),at(vh),at(Sa),at(sl))},s.\u0275prov=sn({token:s,factory:s.\u0275fac}),s})();function Tv(s,o){const c=s.indexOf(o);c>-1&&s.splice(c,1)}let iE=!0,Iv=!1;function NA(){return Iv=!0,iE}function FA(){if(Iv)throw new Error("Cannot enable prod mode after platform setup.");iE=!1}let ig=(()=>{class s{}return s.__NG_ELEMENT_ID__=sE,s})();function sE(s){return function LA(s,o,c){if(Yo(s)&&!c){const d=Kr(s.index,o);return new Rm(d,d)}return 47&s.type?new Rm(o[16],o):null}(Cn(),Ae(),16==(16&s))}class uE{constructor(){}supports(o){return od(o)}create(o){return new P1(o)}}const Zn=(s,o)=>o;class P1{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Zn}forEachItem(o){let c;for(c=this._itHead;null!==c;c=c._next)o(c)}forEachOperation(o){let c=this._itHead,d=this._removalsHead,h=0,p=null;for(;c||d;){const y=!d||c&&c.currentIndex<mf(d,h,p)?c:d,w=mf(y,h,p),E=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(c=c._next,null==y.previousIndex)h++;else{p||(p=[]);const A=w-h,x=E-h;if(A!=x){for(let $=0;$<A;$++){const X=$<p.length?p[$]:p[$]=0,Ce=X+$;x<=Ce&&Ce<A&&(p[$]=X+1)}p[y.previousIndex]=x-A}}w!==E&&o(y,w,E)}}forEachPreviousItem(o){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachMovedItem(o){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}forEachIdentityChange(o){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)o(c)}diff(o){if(null==o&&(o=[]),!od(o))throw new Ne(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,y,c=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)p=o[w],y=this._trackByFn(w,p),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,p,y,w)),Object.is(c.item,p)||this._addIdentityChange(c,p)):(c=this._mismatch(c,p,y,w),d=!0),c=c._next}else h=0,function vS(s,o){if(Array.isArray(s))for(let c=0;c<s.length;c++)o(s[c]);else{const c=s[sd()]();let d;for(;!(d=c.next()).done;)o(d.value)}}(o,w=>{y=this._trackByFn(h,w),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,w,y,h)),Object.is(c.item,w)||this._addIdentityChange(c,w)):(c=this._mismatch(c,w,y,h),d=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,c,d,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._moveAfter(o,p,h)):o=this._addAfter(new N1(c,d),p,h),o}_verifyReinsertion(o,c,d,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const c=o._next;this._addToRemovals(this._unlink(o)),o=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,c,d),this._addToMoves(o,d),o}_moveAfter(o,c,d){return this._unlink(o),this._insertAfter(o,c,d),this._addToMoves(o,d),o}_addAfter(o,c,d){return this._insertAfter(o,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,c,d){const h=null===c?this._itHead:c._next;return o._next=h,o._prev=c,null===h?this._itTail=o:h._prev=o,null===c?this._itHead=o:c._next=o,null===this._linkedRecords&&(this._linkedRecords=new kv),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const c=o._prev,d=o._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,o}_addToMoves(o,c){return o.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new kv),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,c){return o.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class N1{constructor(o,c){this.item=o,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class F1{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const c=o._prevDup,d=o._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class kv{constructor(){this.map=new Map}put(o){const c=o.trackById;let d=this.map.get(c);d||(d=new F1,this.map.set(c,d)),d.add(o)}get(o,c){const h=this.map.get(o);return h?h.get(o,c):null}remove(o){const c=o.trackById;return this.map.get(c).remove(o)&&this.map.delete(c),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function mf(s,o,c){const d=s.previousIndex;if(null===d)return d;let h=0;return c&&d<c.length&&(h=c[d]),d+o+h}class Ov{constructor(){}supports(o){return o instanceof Map||uy(o)}create(){return new HA}}class HA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let c;for(c=this._mapHead;null!==c;c=c._next)o(c)}forEachPreviousItem(o){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)o(c)}forEachChangedItem(o){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}diff(o){if(o){if(!(o instanceof Map||uy(o)))throw new Ne(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const p=this._getOrCreateRecordForKey(h,d);c=this._insertBeforeOrAppend(c,p)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,c){if(o){const d=o._prev;return c._next=o,c._prev=d,o._prev=c,d&&(d._next=c),o===this._mapHead&&(this._mapHead=c),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(o,c){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,c);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const d=new dE(o);return this._records.set(o,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,c){Object.is(c,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=c,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,c){o instanceof Map?o.forEach(c):Object.keys(o).forEach(d=>c(o[d],d))}}class dE{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function jA(){return new Pv([new uE])}let Pv=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(null!=d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||jA()),deps:[[s,new us,new br]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(null!=d)return d;throw new Ne(901,"")}}return s.\u0275prov=sn({token:s,providedIn:"root",factory:jA}),s})();function GA(){return new Nv([new Ov])}let Nv=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||GA()),deps:[[s,new us,new br]]}}find(c){const d=this.factories.find(p=>p.supports(c));if(d)return d;throw new Ne(901,"")}}return s.\u0275prov=sn({token:s,providedIn:"root",factory:GA}),s})();const V1=[new Ov],U1=new Pv([new uE]),H1=new Nv(V1),j1=Ev(null,"core",[{provide:DA,useValue:"unknown"},{provide:tE,deps:[yt]},{provide:Id,deps:[]},{provide:WC,deps:[]}]),gf=[{provide:sc,useClass:sc,deps:[Fs,yt,vh,Sa,sl]},{provide:eu,deps:[Fs],useFactory:function z1(s){let o=[];return s.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(c){o.push(c)}}},{provide:sl,useClass:sl,deps:[[new br,hf]]},{provide:mv,useClass:mv,deps:[]},EA,{provide:Pv,useFactory:function G1(){return U1},deps:[]},{provide:Nv,useFactory:function Fv(){return H1},deps:[]},{provide:ff,useFactory:function q1(s){return s||function $1(){return"undefined"!=typeof $localize&&$localize.locale||Fy}()},deps:[[new cs(ff),new br,new us]]},{provide:tg,useValue:"USD"}];let qA=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)(at(sc))},s.\u0275mod=N({type:s}),s.\u0275inj=rn({providers:gf}),s})()},3942:(ut,Se,P)=>{P.d(Se,{Z:()=>Ne});var l=P(2090),G=P(4859),k=P(9681),oe=P(1877);class se{constructor(_e,De){this._delegate=_e,this.firebase=De,(0,k._addComponent)(_e,new G.wA("app-compat",()=>this,"PUBLIC")),this.container=_e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this._delegate.automaticDataCollectionEnabled=_e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(_e=>{this._delegate.checkDestroyed(),_e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(_e,De=k._DEFAULT_ENTRY_NAME){var Je;this._delegate.checkDestroyed();const je=this._delegate.container.getProvider(_e);return!je.isInitialized()&&"EXPLICIT"===(null===(Je=je.getComponent())||void 0===Je?void 0:Je.instantiationMode)&&je.initialize(),je.getImmediate({identifier:De})}_removeServiceInstance(_e,De=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(_e).clearInstance(De)}_addComponent(_e){(0,k._addComponent)(this._delegate,_e)}_addOrOverwriteComponent(_e){(0,k._addOrOverwriteComponent)(this._delegate,_e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const te=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Z=function be(){const Le=function ue(Le){const _e={},De={__esModule:!0,initializeApp:function Re(re,Xe={}){const Y=k.initializeApp(re,Xe);if((0,l.r3)(_e,Y.name))return _e[Y.name];const he=new Le(Y,De);return _e[Y.name]=he,he},app:je,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function Ee(re){const Xe=re.name,Y=Xe.replace("-compat","");if(k._registerComponent(re)&&"PUBLIC"===re.type){const he=(ce=je())=>{if("function"!=typeof ce[Y])throw te.create("invalid-app-argument",{appName:Xe});return ce[Y]()};void 0!==re.serviceProps&&(0,l.ZB)(he,re.serviceProps),De[Y]=he,Le.prototype[Y]=function(...ce){return this._getService.bind(this,Xe).apply(this,re.multipleInstances?ce:[])}}return"PUBLIC"===re.type?De[Y]:null},removeApp:function Je(re){delete _e[re]},useAsService:function Ye(re,Xe){return"serverAuth"===Xe?null:Xe},modularAPIs:k}};function je(re){if(!(0,l.r3)(_e,re=re||k._DEFAULT_ENTRY_NAME))throw te.create("no-app",{appName:re});return _e[re]}return De.default=De,Object.defineProperty(De,"apps",{get:function Ie(){return Object.keys(_e).map(re=>_e[re])}}),je.App=Le,De}(se);return Le.INTERNAL=Object.assign(Object.assign({},Le.INTERNAL),{createFirebaseNamespace:be,extendNamespace:function _e(De){(0,l.ZB)(Le,De)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Le}(),z=new oe.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Le=self.firebase.SDK_VERSION;Le&&Le.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ne=Z;!function ke(Le){(0,k.registerVersion)("@firebase/app-compat","0.1.21",Le)}()},9681:(ut,Se,P)=>{P.r(Se),P.d(Se,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>ts,_DEFAULT_ENTRY_NAME:()=>Fn,_addComponent:()=>cn,_addOrOverwriteComponent:()=>_i,_apps:()=>mt,_clearComponents:()=>Pn,_components:()=>fn,_getProvider:()=>Xt,_registerComponent:()=>sn,_removeServiceInstance:()=>rn,deleteApp:()=>ys,getApp:()=>gr,getApps:()=>Sr,initializeApp:()=>yi,onLog:()=>Ln,registerVersion:()=>Fr,setLogLevel:()=>on});var l=P(5861),G=P(4859),k=P(1877),oe=P(2090);class se{constructor(Te){this.container=Te}getPlatformInfoString(){return this.container.getProviders().map(et=>{if(function ve(qe){const Te=qe.getComponent();return"VERSION"===(null==Te?void 0:Te.type)}(et)){const pt=et.getImmediate();return`${pt.library}/${pt.version}`}return null}).filter(et=>et).join(" ")}}const te="@firebase/app",be=new k.Yd("@firebase/app"),Fn="[DEFAULT]",ht={[te]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},mt=new Map,fn=new Map;function cn(qe,Te){try{qe.container.addComponent(Te)}catch(et){be.debug(`Component ${Te.name} failed to register with FirebaseApp ${qe.name}`,et)}}function _i(qe,Te){qe.container.addOrOverwriteComponent(Te)}function sn(qe){const Te=qe.name;if(fn.has(Te))return be.debug(`There were multiple attempts to register component ${Te}.`),!1;fn.set(Te,qe);for(const et of mt.values())cn(et,qe);return!0}function Xt(qe,Te){const et=qe.container.getProvider("heartbeat").getImmediate({optional:!0});return et&&et.triggerHeartbeat(),qe.container.getProvider(Te)}function rn(qe,Te,et=Fn){Xt(qe,Te).clearInstance(et)}function Pn(){fn.clear()}const Nr=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Tr{constructor(Te,et,pt){this._isDeleted=!1,this._options=Object.assign({},Te),this._config=Object.assign({},et),this._name=et.name,this._automaticDataCollectionEnabled=et.automaticDataCollectionEnabled,this._container=pt,this.container.addComponent(new G.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this.checkDestroyed(),this._automaticDataCollectionEnabled=Te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Te){this._isDeleted=Te}checkDestroyed(){if(this.isDeleted)throw Nr.create("app-deleted",{appName:this._name})}}const ts="9.6.10";function yi(qe,Te={}){"object"!=typeof Te&&(Te={name:Te});const et=Object.assign({name:Fn,automaticDataCollectionEnabled:!1},Te),pt=et.name;if("string"!=typeof pt||!pt)throw Nr.create("bad-app-name",{appName:String(pt)});const Vt=mt.get(pt);if(Vt){if((0,oe.vZ)(qe,Vt.options)&&(0,oe.vZ)(et,Vt.config))return Vt;throw Nr.create("duplicate-app",{appName:pt})}const Bt=new G.H0(pt);for(const H of fn.values())Bt.addComponent(H);const W=new Tr(qe,et,Bt);return mt.set(pt,W),W}function gr(qe=Fn){const Te=mt.get(qe);if(!Te)throw Nr.create("no-app",{appName:qe});return Te}function Sr(){return Array.from(mt.values())}function ys(qe){return _t.apply(this,arguments)}function _t(){return(_t=(0,l.Z)(function*(qe){const Te=qe.name;mt.has(Te)&&(mt.delete(Te),yield Promise.all(qe.container.getProviders().map(et=>et.delete())),qe.isDeleted=!0)})).apply(this,arguments)}function Fr(qe,Te,et){var pt;let Vt=null!==(pt=ht[qe])&&void 0!==pt?pt:qe;et&&(Vt+=`-${et}`);const Bt=Vt.match(/\s|\//),W=Te.match(/\s|\//);if(Bt||W){const H=[`Unable to register library "${Vt}" with version "${Te}":`];return Bt&&H.push(`library name "${Vt}" contains illegal characters (whitespace or "/")`),Bt&&W&&H.push("and"),W&&H.push(`version name "${Te}" contains illegal characters (whitespace or "/")`),void be.warn(H.join(" "))}sn(new G.wA(`${Vt}-version`,()=>({library:Vt,version:Te}),"VERSION"))}function Ln(qe,Te){if(null!==qe&&"function"!=typeof qe)throw Nr.create("invalid-log-argument");(0,k.Am)(qe,Te)}function on(qe){(0,k.Ub)(qe)}const Vn="firebase-heartbeat-store";let Nn=null;function Wr(){return Nn||(Nn=(0,oe.X3)("firebase-heartbeat-database",1,(qe,Te)=>{0===Te&&qe.createObjectStore(Vn)}).catch(qe=>{throw Nr.create("storage-open",{originalErrorMessage:qe.message})})),Nn}function $t(){return($t=(0,l.Z)(function*(qe){try{return(yield Wr()).transaction(Vn).objectStore(Vn).get(li(qe))}catch(Te){throw Nr.create("storage-get",{originalErrorMessage:Te.message})}})).apply(this,arguments)}function ft(qe,Te){return st.apply(this,arguments)}function st(){return(st=(0,l.Z)(function*(qe,Te){try{const pt=(yield Wr()).transaction(Vn,"readwrite");return yield pt.objectStore(Vn).put(Te,li(qe)),pt.complete}catch(et){throw Nr.create("storage-set",{originalErrorMessage:et.message})}})).apply(this,arguments)}function li(qe){return`${qe.name}!${qe.options.appId}`}class rs{constructor(Te){this.container=Te,this._heartbeatsCache=null;const et=this.container.getProvider("app").getImmediate();this._storage=new vt(et),this._heartbeatsCachePromise=this._storage.read().then(pt=>(this._heartbeatsCache=pt,pt))}triggerHeartbeat(){var Te=this;return(0,l.Z)(function*(){const pt=Te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Vt=Bn();if(null===Te._heartbeatsCache&&(Te._heartbeatsCache=yield Te._heartbeatsCachePromise),Te._heartbeatsCache.lastSentHeartbeatDate!==Vt&&!Te._heartbeatsCache.heartbeats.some(Bt=>Bt.date===Vt))return Te._heartbeatsCache.heartbeats.push({date:Vt,agent:pt}),Te._heartbeatsCache.heartbeats=Te._heartbeatsCache.heartbeats.filter(Bt=>{const W=new Date(Bt.date).valueOf();return Date.now()-W<=2592e6}),Te._storage.overwrite(Te._heartbeatsCache)})()}getHeartbeatsHeader(){var Te=this;return(0,l.Z)(function*(){if(null===Te._heartbeatsCache&&(yield Te._heartbeatsCachePromise),null===Te._heartbeatsCache||0===Te._heartbeatsCache.heartbeats.length)return"";const et=Bn(),{heartbeatsToSend:pt,unsentEntries:Vt}=function an(qe,Te=1024){const et=[];let pt=qe.slice();for(const Vt of qe){const Bt=et.find(W=>W.agent===Vt.agent);if(Bt){if(Bt.dates.push(Vt.date),Un(et)>Te){Bt.dates.pop();break}}else if(et.push({agent:Vt.agent,dates:[Vt.date]}),Un(et)>Te){et.pop();break}pt=pt.slice(1)}return{heartbeatsToSend:et,unsentEntries:pt}}(Te._heartbeatsCache.heartbeats),Bt=(0,oe.L)(JSON.stringify({version:2,heartbeats:pt}));return Te._heartbeatsCache.lastSentHeartbeatDate=et,Vt.length>0?(Te._heartbeatsCache.heartbeats=Vt,yield Te._storage.overwrite(Te._heartbeatsCache)):(Te._heartbeatsCache.heartbeats=[],Te._storage.overwrite(Te._heartbeatsCache)),Bt})()}}function Bn(){return(new Date).toISOString().substring(0,10)}class vt{constructor(Te){this.app=Te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Te=this;return(0,l.Z)(function*(){return(yield Te._canUseIndexedDBPromise)&&(yield function bo(qe){return $t.apply(this,arguments)}(Te.app))||{heartbeats:[]}})()}overwrite(Te){var et=this;return(0,l.Z)(function*(){var pt;if(yield et._canUseIndexedDBPromise){const Bt=yield et.read();return ft(et.app,{lastSentHeartbeatDate:null!==(pt=Te.lastSentHeartbeatDate)&&void 0!==pt?pt:Bt.lastSentHeartbeatDate,heartbeats:Te.heartbeats})}})()}add(Te){var et=this;return(0,l.Z)(function*(){var pt;if(yield et._canUseIndexedDBPromise){const Bt=yield et.read();return ft(et.app,{lastSentHeartbeatDate:null!==(pt=Te.lastSentHeartbeatDate)&&void 0!==pt?pt:Bt.lastSentHeartbeatDate,heartbeats:[...Bt.heartbeats,...Te.heartbeats]})}})()}}function Un(qe){return(0,oe.L)(JSON.stringify({version:2,heartbeats:qe})).length}!function Wt(qe){sn(new G.wA("platform-logger",Te=>new se(Te),"PRIVATE")),sn(new G.wA("heartbeat",Te=>new rs(Te),"PRIVATE")),Fr(te,"0.7.20",qe),Fr(te,"0.7.20","esm2017"),Fr("fire-js","")}("")},4859:(ut,Se,P)=>{P.d(Se,{wA:()=>k,H0:()=>ue});var l=P(5861),G=P(2090);class k{constructor(Z,z,ne){this.name=Z,this.instanceFactory=z,this.type=ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}const oe="[DEFAULT]";class se{constructor(Z,z){this.name=Z,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Z){const z=this.normalizeInstanceIdentifier(Z);if(!this.instancesDeferred.has(z)){const ne=new G.BH;if(this.instancesDeferred.set(z,ne),this.isInitialized(z)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:z});Ge&&ne.resolve(Ge)}catch(Ge){}}return this.instancesDeferred.get(z).promise}getImmediate(Z){var z;const ne=this.normalizeInstanceIdentifier(null==Z?void 0:Z.identifier),Ge=null!==(z=null==Z?void 0:Z.optional)&&void 0!==z&&z;if(!this.isInitialized(ne)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ne})}catch(ke){if(Ge)return null;throw ke}}getComponent(){return this.component}setComponent(Z){if(Z.name!==this.name)throw Error(`Mismatching Component ${Z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Z,this.shouldAutoInitialize()){if(function te(be){return"EAGER"===be.instantiationMode}(Z))try{this.getOrInitializeService({instanceIdentifier:oe})}catch(z){}for(const[z,ne]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier(z);try{const ke=this.getOrInitializeService({instanceIdentifier:Ge});ne.resolve(ke)}catch(ke){}}}}clearInstance(Z=oe){this.instancesDeferred.delete(Z),this.instancesOptions.delete(Z),this.instances.delete(Z)}delete(){var Z=this;return(0,l.Z)(function*(){const z=Array.from(Z.instances.values());yield Promise.all([...z.filter(ne=>"INTERNAL"in ne).map(ne=>ne.INTERNAL.delete()),...z.filter(ne=>"_delete"in ne).map(ne=>ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Z=oe){return this.instances.has(Z)}getOptions(Z=oe){return this.instancesOptions.get(Z)||{}}initialize(Z={}){const{options:z={}}=Z,ne=this.normalizeInstanceIdentifier(Z.instanceIdentifier);if(this.isInitialized(ne))throw Error(`${this.name}(${ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:ne,options:z});for(const[ke,Ne]of this.instancesDeferred.entries())ne===this.normalizeInstanceIdentifier(ke)&&Ne.resolve(Ge);return Ge}onInit(Z,z){var ne;const Ge=this.normalizeInstanceIdentifier(z),ke=null!==(ne=this.onInitCallbacks.get(Ge))&&void 0!==ne?ne:new Set;ke.add(Z),this.onInitCallbacks.set(Ge,ke);const Ne=this.instances.get(Ge);return Ne&&Z(Ne,Ge),()=>{ke.delete(Z)}}invokeOnInitCallbacks(Z,z){const ne=this.onInitCallbacks.get(z);if(ne)for(const Ge of ne)try{Ge(Z,z)}catch(ke){}}getOrInitializeService({instanceIdentifier:Z,options:z={}}){let ne=this.instances.get(Z);if(!ne&&this.component&&(ne=this.component.instanceFactory(this.container,{instanceIdentifier:(be=Z,be===oe?void 0:be),options:z}),this.instances.set(Z,ne),this.instancesOptions.set(Z,z),this.invokeOnInitCallbacks(ne,Z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Z,ne)}catch(Ge){}var be;return ne||null}normalizeInstanceIdentifier(Z=oe){return this.component?this.component.multipleInstances?Z:oe:Z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ue{constructor(Z){this.name=Z,this.providers=new Map}addComponent(Z){const z=this.getProvider(Z.name);if(z.isComponentSet())throw new Error(`Component ${Z.name} has already been registered with ${this.name}`);z.setComponent(Z)}addOrOverwriteComponent(Z){this.getProvider(Z.name).isComponentSet()&&this.providers.delete(Z.name),this.addComponent(Z)}getProvider(Z){if(this.providers.has(Z))return this.providers.get(Z);const z=new se(Z,this);return this.providers.set(Z,z),z}getProviders(){return Array.from(this.providers.values())}}},1877:(ut,Se,P)=>{P.d(Se,{in:()=>G,Yd:()=>te,Ub:()=>ue,Am:()=>be});const l=[];var G=(()=>{return(Z=G||(G={}))[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT",G;var Z})();const k={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},oe=G.INFO,se={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},ve=(Z,z,...ne)=>{if(z<Z.logLevel)return;const Ge=(new Date).toISOString(),ke=se[z];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[ke](`[${Ge}]  ${Z.name}:`,...ne)};class te{constructor(z){this.name=z,this._logLevel=oe,this._logHandler=ve,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in G))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?k[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...z),this._logHandler(this,G.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...z),this._logHandler(this,G.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,G.INFO,...z),this._logHandler(this,G.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,G.WARN,...z),this._logHandler(this,G.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,G.ERROR,...z),this._logHandler(this,G.ERROR,...z)}}function ue(Z){l.forEach(z=>{z.setLogLevel(Z)})}function be(Z,z){for(const ne of l){let Ge=null;z&&z.level&&(Ge=k[z.level]),ne.userLogHandler=null===Z?null:(ke,Ne,...Le)=>{const _e=Le.map(De=>{if(null==De)return null;if("string"==typeof De)return De;if("number"==typeof De||"boolean"==typeof De)return De.toString();if(De instanceof Error)return De.message;try{return JSON.stringify(De)}catch(Je){return null}}).filter(De=>De).join(" ");Ne>=(null!=Ge?Ge:ke.logLevel)&&Z({level:G[Ne].toLowerCase(),message:_e,args:Le,type:ke.name})}}}},5861:(ut,Se,P)=>{function l(k,oe,se,ve,te,ue,be){try{var Z=k[ue](be),z=Z.value}catch(ne){return void se(ne)}Z.done?oe(z):Promise.resolve(z).then(ve,te)}function G(k){return function(){var oe=this,se=arguments;return new Promise(function(ve,te){var ue=k.apply(oe,se);function be(z){l(ue,ve,te,be,Z,"next",z)}function Z(z){l(ue,ve,te,be,Z,"throw",z)}be(void 0)})}}P.d(Se,{Z:()=>G})}},ut=>{ut(ut.s=9090)}]);