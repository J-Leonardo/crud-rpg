"use strict";(self.webpackChunkcrud_rpg=self.webpackChunkcrud_rpg||[]).push([[179],{2011:(ut,Se,P)=>{P.d(Se,{hO:()=>$e,xv:()=>be,Dh:()=>ce,GT:()=>ve,cc:()=>ke,on:()=>W,pX:()=>se});var u=P(5e3),H=P(127),k=P(5813);ut=P.hmd(ut);const oe=["ngOnDestroy"],se=(De,Xe,He,Re={})=>new Proxy(De,{get:(Ae,Ce)=>He.runOutsideAngular(()=>{var Ze;if(De[Ce])return(null===(Ze=null==Re?void 0:Re.spy)||void 0===Ze?void 0:Ze.get)&&Re.spy.get(Ce,De[Ce]),De[Ce];if(oe.indexOf(Ce)>-1)return()=>{};const te=Xe.toPromise().then(Je=>{const Y=Je&&Je[Ce];return"function"==typeof Y?Y.bind(Je):Y&&Y.then?Y.then(he=>He.run(()=>he)):He.run(()=>Y)});return new Proxy(()=>{},{get:(Je,Y)=>te[Y],apply:(Je,Y,he)=>te.then(ue=>{var me;const Pe=ue&&ue(...he);return(null===(me=null==Re?void 0:Re.spy)||void 0===me?void 0:me.apply)&&Re.spy.apply(Ce,he,Pe),Pe})})})}),ve=(De,Xe)=>{Xe.forEach(He=>{Object.getOwnPropertyNames(He.prototype||He).forEach(Re=>{Object.defineProperty(De.prototype,Re,Object.getOwnPropertyDescriptor(He.prototype||He,Re))})})};class ie{constructor(Xe){return Xe}}const ce=new u.OlP("angularfire2.app.options"),be=new u.OlP("angularfire2.app.name");function W(De,Xe,He){const Ae="object"==typeof He&&He||{};Ae.name=Ae.name||"string"==typeof He&&He||"[DEFAULT]";const Ze=H.Z.apps.filter(te=>te&&te.name===Ae.name)[0]||Xe.runOutsideAngular(()=>H.Z.initializeApp(De,Ae));try{JSON.stringify(De)!==JSON.stringify(Ze.options)&&q("error",`${Ze.name} Firebase App already initialized with different options${ut.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(te){}return new ie(Ze)}const q=(De,...Xe)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[De](...Xe)},ee={provide:ie,useFactory:W,deps:[ce,u.R0b,[new u.FiY,be]]};let $e=(()=>{class De{constructor(He){H.Z.registerVersion("angularfire",k.q4.full,"core"),H.Z.registerVersion("angularfire",k.q4.full,"app-compat"),H.Z.registerVersion("angular",u.q4F.full,He.toString())}static initializeApp(He,Re){return{ngModule:De,providers:[{provide:ce,useValue:He},{provide:be,useValue:Re}]}}}return De.\u0275fac=function(He){return new(He||De)(u.LFG(u.Lbi))},De.\u0275mod=u.oAB({type:De}),De.\u0275inj=u.cJS({providers:[ee]}),De})();function ke(De,Xe,He,Re,Ae){const[,Ce,Ze]=globalThis.\u0275AngularfireInstanceCache.find(te=>te[0]===De)||[];if(Ce)return function Ne(De,Xe){try{return De.toString()===Xe.toString()}catch(He){return De===Xe}}(Ae,Ze)||(_e("error",`${Xe} was already initialized on the ${He} Firebase App with different settings.${Le?" You may need to reload as Firebase is not HMR aware.":""}`),_e("warn",{is:Ae,was:Ze})),Ce;{const te=Re();return globalThis.\u0275AngularfireInstanceCache.push([De,te,Ae]),te}}const Le=!!ut.hot,_e=(De,...Xe)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[De](...Xe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ut,Se,P)=>{P.d(Se,{q4:()=>qa,iC:()=>Mu,fc:()=>Ei,HU:()=>Il,vb:()=>qf,JM:()=>ro});var u=P(5e3),H=P(5867),k=P(5861),oe=P(9681),se=P(2090),ve=P(4859),ie=P(1877);const ce="@firebase/installations",q="w:0.5.7",ee="FIS_v2",De=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Xe(D){return D instanceof se.ZR&&D.code.includes("request-failed")}function He({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function Re(D){return{token:D.token,requestStatus:2,expiresIn:he(D.expiresIn),creationTime:Date.now()}}function Ae(D,S){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,k.Z)(function*(D,S){const B=(yield S.json()).error;return De.create("request-failed",{requestName:D,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function Ze({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function te(D,{refreshToken:S}){const R=Ze(D);return R.append("Authorization",function ue(D){return`${ee} ${D}`}(S)),R}function Je(D){return Y.apply(this,arguments)}function Y(){return(Y=(0,k.Z)(function*(D){const S=yield D();return S.status>=500&&S.status<600?D():S})).apply(this,arguments)}function he(D){return Number(D.replace("s","000"))}function me(D,S){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,k.Z)(function*({appConfig:D,heartbeatServiceProvider:S},{fid:R}){const B=He(D),Q=Ze(D),re=S.getImmediate({optional:!0});if(re){const bt=yield re.getHeartbeatsHeader();bt&&Q.append("x-firebase-client",bt)}const nt={method:"POST",headers:Q,body:JSON.stringify({fid:R,authVersion:ee,appId:D.appId,sdkVersion:q})},ot=yield Je(()=>fetch(B,nt));if(ot.ok){const bt=yield ot.json();return{fid:bt.fid||R,registrationStatus:2,refreshToken:bt.refreshToken,authToken:Re(bt.authToken)}}throw yield Ae("Create Installation",ot)})).apply(this,arguments)}function ae(D){return new Promise(S=>{setTimeout(S,D)})}const en=/^[cdef][\w-]{21}$/;function ht(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const R=function mt(D){return function It(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return en.test(R)?R:""}catch(D){return""}}function hn(D){return`${D.appName}!${D.appId}`}const ln=new Map;function fi(D,S){const R=hn(D);tn(R,S),function On(D,S){const R=function Ar(){return!dr&&"BroadcastChannel"in self&&(dr=new BroadcastChannel("[Firebase] FID Change"),dr.onmessage=D=>{tn(D.data.key,D.data.fid)}),dr}();R&&R.postMessage({key:D,fid:S}),function wr(){0===ln.size&&dr&&(dr.close(),dr=null)}()}(R,S)}function tn(D,S){const R=ln.get(D);if(R)for(const B of R)B(S)}let dr=null;const hr="firebase-installations-store";let Er=null;function ps(){return Er||(Er=(0,se.X3)("firebase-installations-database",1,(D,S)=>{0===S&&D.createObjectStore(hr)})),Er}function _t(D,S){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,k.Z)(function*(D,S){const R=hn(D),Q=(yield ps()).transaction(hr,"readwrite"),re=Q.objectStore(hr),ge=yield re.get(R);return yield re.put(S,R),yield Q.complete,(!ge||ge.fid!==S.fid)&&fi(D,S.fid),S})).apply(this,arguments)}function Ln(D){return sn.apply(this,arguments)}function sn(){return(sn=(0,k.Z)(function*(D){const S=hn(D),B=(yield ps()).transaction(hr,"readwrite");yield B.objectStore(hr).delete(S),yield B.complete})).apply(this,arguments)}function zn(D,S){return mi.apply(this,arguments)}function mi(){return(mi=(0,k.Z)(function*(D,S){const R=hn(D),Q=(yield ps()).transaction(hr,"readwrite"),re=Q.objectStore(hr),ge=yield re.get(R),nt=S(ge);return void 0===nt?yield re.delete(R):yield re.put(nt,R),yield Q.complete,nt&&(!ge||ge.fid!==nt.fid)&&fi(D,nt.fid),nt})).apply(this,arguments)}function Vn(D){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,k.Z)(function*(D){let S;const R=yield zn(D.appConfig,B=>{const Q=Hr(B),re=go(D,Q);return S=re.registrationPromise,re.installationEntry});return""===R.fid?{installationEntry:yield S}:{installationEntry:R,registrationPromise:S}})).apply(this,arguments)}function Hr(D){return zt(D||{fid:ht(),registrationStatus:0})}function go(D,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(De.create("app-offline"))};const R={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},B=function Gt(D,S){return ft.apply(this,arguments)}(D,R);return{installationEntry:R,registrationPromise:B}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:it(D)}:{installationEntry:S}}function ft(){return(ft=(0,k.Z)(function*(D,S){try{const R=yield me(D,S);return _t(D.appConfig,R)}catch(R){throw Xe(R)&&409===R.customData.serverCode?yield Ln(D.appConfig):yield _t(D.appConfig,{fid:S.fid,registrationStatus:0}),R}})).apply(this,arguments)}function it(D){return ri.apply(this,arguments)}function ri(){return(ri=(0,k.Z)(function*(D){let S=yield Ji(D.appConfig);for(;1===S.registrationStatus;)yield ae(100),S=yield Ji(D.appConfig);if(0===S.registrationStatus){const{installationEntry:R,registrationPromise:B}=yield Vn(D);return B||R}return S})).apply(this,arguments)}function Ji(D){return zn(D,S=>{if(!S)throw De.create("installation-not-found");return zt(S)})}function zt(D){return function Xi(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Bn(D,S){return on.apply(this,arguments)}function on(){return(on=(0,k.Z)(function*({appConfig:D,heartbeatServiceProvider:S},R){const B=vt(D,R),Q=te(D,R),re=S.getImmediate({optional:!0});if(re){const bt=yield re.getHeartbeatsHeader();bt&&Q.append("x-firebase-client",bt)}const nt={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:q,appId:D.appId}})},ot=yield Je(()=>fetch(B,nt));if(ot.ok)return Re(yield ot.json());throw yield Ae("Generate Auth Token",ot)})).apply(this,arguments)}function vt(D,{fid:S}){return`${He(D)}/${S}/authTokens:generate`}function Un(D){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,k.Z)(function*(D,S=!1){let R;const B=yield zn(D.appConfig,re=>{if(!Lt(re))throw De.create("not-registered");const ge=re.authToken;if(!S&&Z(ge))return re;if(1===ge.requestStatus)return R=Ge(D,S),re;{if(!navigator.onLine)throw De.create("app-offline");const nt=K(re);return R=pt(D,nt),nt}});return R?yield R:B.authToken})).apply(this,arguments)}function Ge(D,S){return Te.apply(this,arguments)}function Te(){return(Te=(0,k.Z)(function*(D,S){let R=yield et(D.appConfig);for(;1===R.authToken.requestStatus;)yield ae(100),R=yield et(D.appConfig);const B=R.authToken;return 0===B.requestStatus?Un(D,S):B})).apply(this,arguments)}function et(D){return zn(D,S=>{if(!Lt(S))throw De.create("not-registered");return function fe(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function pt(D,S){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,k.Z)(function*(D,S){try{const R=yield Bn(D,S),B=Object.assign(Object.assign({},S),{authToken:R});return yield _t(D.appConfig,B),R}catch(R){if(!Xe(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const B=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield _t(D.appConfig,B)}else yield Ln(D.appConfig);throw R}})).apply(this,arguments)}function Lt(D){return void 0!==D&&2===D.registrationStatus}function Z(D){return 2===D.requestStatus&&!function U(D){const S=Date.now();return S<D.creationTime||D.creationTime+D.expiresIn<S+36e5}(D)}function K(D){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:S})}function V(){return(V=(0,k.Z)(function*(D){const S=D,{installationEntry:R,registrationPromise:B}=yield Vn(S);return B?B.catch(console.error):Un(S).catch(console.error),R.fid})).apply(this,arguments)}function le(){return(le=(0,k.Z)(function*(D,S=!1){const R=D;return yield Be(R),(yield Un(R,S)).token})).apply(this,arguments)}function Be(D){return ze.apply(this,arguments)}function ze(){return(ze=(0,k.Z)(function*(D){const{registrationPromise:S}=yield Vn(D);S&&(yield S)})).apply(this,arguments)}function Kn(D){return De.create("missing-app-config-values",{valueName:D})}const rl="installations",Ke=D=>{const S=D.getProvider("app").getImmediate(),R=function Fi(D){if(!D||!D.options)throw Kn("App Configuration");if(!D.name)throw Kn("App Name");const S=["projectId","apiKey","appId"];for(const R of S)if(!D.options[R])throw Kn(R);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(S);return{app:S,appConfig:R,heartbeatServiceProvider:(0,oe._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},qt=D=>{const S=D.getProvider("app").getImmediate(),R=(0,oe._getProvider)(S,rl).getImmediate();return{getId:()=>function N(D){return V.apply(this,arguments)}(R),getToken:Q=>function j(D){return le.apply(this,arguments)}(R,Q)}};(function pn(){(0,oe._registerComponent)(new ve.wA(rl,Ke,"PUBLIC")),(0,oe._registerComponent)(new ve.wA("installations-internal",qt,"PRIVATE"))})(),(0,oe.registerVersion)(ce,"0.5.7"),(0,oe.registerVersion)(ce,"0.5.7","esm2017");const Rr="@firebase/remote-config",jn=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class uu{constructor(S,R,B,Q){this.client=S,this.storage=R,this.storageCache=B,this.logger=Q}isCachedDataFresh(S,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-R,Q=B<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${Q}.`),Q}fetch(S){var R=this;return(0,k.Z)(function*(){const[B,Q]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(Q&&R.isCachedDataFresh(S.cacheMaxAgeMillis,B))return Q;S.eTag=Q&&Q.eTag;const re=yield R.client.fetch(S),ge=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===re.status&&ge.push(R.storage.setLastSuccessfulFetchResponse(re)),yield Promise.all(ge),re})()}}function sl(D=navigator){return D.languages&&D.languages[0]||D.language}class $s{constructor(S,R,B,Q,re,ge){this.firebaseInstallations=S,this.sdkVersion=R,this.namespace=B,this.projectId=Q,this.apiKey=re,this.appId=ge}fetch(S){var R=this;return(0,k.Z)(function*(){const[B,Q]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),ge=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,nt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},ot={sdk_version:R.sdkVersion,app_instance_id:B,app_instance_id_token:Q,app_id:R.appId,language_code:sl()},bt={method:"POST",headers:nt,body:JSON.stringify(ot)},Jt=fetch(ge,bt),At=new Promise((gr,ao)=>{S.signal.addEventListener(()=>{const as=new Error("The operation was aborted.");as.name="AbortError",ao(as)})});let er;try{yield Promise.race([Jt,At]),er=yield Jt}catch(gr){let ao="fetch-client-network";throw"AbortError"===gr.name&&(ao="fetch-timeout"),jn.create(ao,{originalErrorMessage:gr.message})}let tr=er.status;const oo=er.headers.get("ETag")||void 0;let Ss,os;if(200===er.status){let gr;try{gr=yield er.json()}catch(ao){throw jn.create("fetch-client-parse",{originalErrorMessage:ao.message})}Ss=gr.entries,os=gr.state}if("INSTANCE_STATE_UNSPECIFIED"===os?tr=500:"NO_CHANGE"===os?tr=304:("NO_TEMPLATE"===os||"EMPTY_CONFIG"===os)&&(Ss={}),304!==tr&&200!==tr)throw jn.create("fetch-status",{httpStatus:tr});return{status:tr,eTag:oo,config:Ss}})()}}class gs{constructor(S,R){this.client=S,this.storage=R}fetch(S){var R=this;return(0,k.Z)(function*(){const B=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(S,B)})()}attemptFetch(S,{throttleEndTimeMillis:R,backoffCount:B}){var Q=this;return(0,k.Z)(function*(){yield function ii(D,S){return new Promise((R,B)=>{const Q=Math.max(S-Date.now(),0),re=setTimeout(R,Q);D.addEventListener(()=>{clearTimeout(re),B(jn.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,R);try{const re=yield Q.client.fetch(S);return yield Q.storage.deleteThrottleMetadata(),re}catch(re){if(!function Lf(D){if(!(D instanceof se.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}(re))throw re;const ge={throttleEndTimeMillis:Date.now()+(0,se.$s)(B),backoffCount:B+1};return yield Q.storage.setThrottleMetadata(ge),Q.attemptFetch(S,ge)}})()}}class Bf{constructor(S,R,B,Q,re){this.app=S,this._client=R,this._storageCache=B,this._storage=Q,this._logger=re,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ra(D,S){const R=D.target.error||void 0;return jn.create(S,{originalErrorMessage:R&&R.message})}const Zo="app_namespace_store";class dc{constructor(S,R,B,Q=function jf(){return new Promise((D,S)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=B=>{S(Ra(B,"storage-open"))},R.onsuccess=B=>{D(B.target.result)},R.onupgradeneeded=B=>{0===B.oldVersion&&B.target.result.createObjectStore(Zo,{keyPath:"compositeKey"})}}catch(R){S(jn.create("storage-open",{originalErrorMessage:R}))}})}()){this.appId=S,this.appName=R,this.namespace=B,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var R=this;return(0,k.Z)(function*(){const B=yield R.openDbPromise;return new Promise((Q,re)=>{const nt=B.transaction([Zo],"readonly").objectStore(Zo),ot=R.createCompositeKey(S);try{const bt=nt.get(ot);bt.onerror=Jt=>{re(Ra(Jt,"storage-get"))},bt.onsuccess=Jt=>{const At=Jt.target.result;Q(At?At.value:void 0)}}catch(bt){re(jn.create("storage-get",{originalErrorMessage:bt&&bt.message}))}})})()}set(S,R){var B=this;return(0,k.Z)(function*(){const Q=yield B.openDbPromise;return new Promise((re,ge)=>{const ot=Q.transaction([Zo],"readwrite").objectStore(Zo),bt=B.createCompositeKey(S);try{const Jt=ot.put({compositeKey:bt,value:R});Jt.onerror=At=>{ge(Ra(At,"storage-set"))},Jt.onsuccess=()=>{re()}}catch(Jt){ge(jn.create("storage-set",{originalErrorMessage:Jt&&Jt.message}))}})})()}delete(S){var R=this;return(0,k.Z)(function*(){const B=yield R.openDbPromise;return new Promise((Q,re)=>{const nt=B.transaction([Zo],"readwrite").objectStore(Zo),ot=R.createCompositeKey(S);try{const bt=nt.delete(ot);bt.onerror=Jt=>{re(Ra(Jt,"storage-delete"))},bt.onsuccess=()=>{Q()}}catch(bt){re(jn.create("storage-delete",{originalErrorMessage:bt&&bt.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class Ko{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,k.Z)(function*(){const R=S.storage.getLastFetchStatus(),B=S.storage.getLastSuccessfulFetchTimestampMillis(),Q=S.storage.getActiveConfig(),re=yield R;re&&(S.lastFetchStatus=re);const ge=yield B;ge&&(S.lastSuccessfulFetchTimestampMillis=ge);const nt=yield Q;nt&&(S.activeConfig=nt)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function hc(){return ol.apply(this,arguments)}function ol(){return(ol=(0,k.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(D){return!1}})).apply(this,arguments)}!function Hf(){(0,oe._registerComponent)(new ve.wA("remote-config",function D(S,{instanceIdentifier:R}){const B=S.getProvider("app").getImmediate(),Q=S.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw jn.create("registration-window");if(!(0,se.hl)())throw jn.create("indexed-db-unavailable");const{projectId:re,apiKey:ge,appId:nt}=B.options;if(!re)throw jn.create("registration-project-id");if(!ge)throw jn.create("registration-api-key");if(!nt)throw jn.create("registration-app-id");const ot=new dc(nt,B.name,R=R||"firebase"),bt=new Ko(ot),Jt=new ie.Yd(Rr);Jt.logLevel=ie.in.ERROR;const At=new $s(Q,oe.SDK_VERSION,R,re,ge,nt),er=new gs(At,ot),tr=new uu(er,ot,bt,Jt),oo=new Bf(B,tr,bt,ot,Jt);return function fr(D){const S=(0,se.m9)(D);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(oo),oo},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(Rr,"0.3.6"),(0,oe.registerVersion)(Rr,"0.3.6","esm2017")}();const _s="/firebase-messaging-sw.js",ka="/firebase-cloud-messaging-push-scope",_i="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Yo="google.c.a.c_id",al="google.c.a.c_l",kd="google.c.a.ts",Oa="google.c.a.e";var Vi=(()=>{return(D=Vi||(Vi={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Vi;var D})();function ys(D){const S=new Uint8Array(D);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ul(D){const R=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(R),Q=new Uint8Array(B.length);for(let re=0;re<B.length;++re)Q[re]=B.charCodeAt(re);return Q}const Pa="fcm_token_details_db",Qo="fcm_token_object_Store";function $f(D){return Jo.apply(this,arguments)}function Jo(){return Jo=(0,k.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(re=>re.name).includes(Pa))return null;let S=null;return(yield(0,se.X3)(Pa,5,function(){var B=(0,k.Z)(function*(Q,re,ge,nt){var ot;if(re<2||!Q.objectStoreNames.contains(Qo))return;const bt=nt.objectStore(Qo),Jt=yield bt.index("fcmSenderId").get(D);if(yield bt.clear(),Jt)if(2===re){const At=Jt;if(!At.auth||!At.p256dh||!At.endpoint)return;S={token:At.fcmToken,createTime:null!==(ot=At.createTime)&&void 0!==ot?ot:Date.now(),subscriptionOptions:{auth:At.auth,p256dh:At.p256dh,endpoint:At.endpoint,swScope:At.swScope,vapidKey:"string"==typeof At.vapidKey?At.vapidKey:ys(At.vapidKey)}}}else if(3===re){const At=Jt;S={token:At.fcmToken,createTime:At.createTime,subscriptionOptions:{auth:ys(At.auth),p256dh:ys(At.p256dh),endpoint:At.endpoint,swScope:At.swScope,vapidKey:ys(At.vapidKey)}}}else if(4===re){const At=Jt;S={token:At.fcmToken,createTime:At.createTime,subscriptionOptions:{auth:ys(At.auth),p256dh:ys(At.p256dh),endpoint:At.endpoint,swScope:At.swScope,vapidKey:ys(At.vapidKey)}}}});return function(Q,re,ge,nt){return B.apply(this,arguments)}}())).close(),yield(0,se.Lj)(Pa),yield(0,se.Lj)("fcm_vapid_details_db"),yield(0,se.Lj)("undefined"),cu(S)?S:null}),Jo.apply(this,arguments)}function cu(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:S}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const qs="firebase-messaging-store";let vo=null;function du(){return vo||(vo=(0,se.X3)("firebase-messaging-database",1,(D,S)=>{0===S&&D.createObjectStore(qs)})),vo}function Dn(D){return bo.apply(this,arguments)}function bo(){return(bo=(0,k.Z)(function*(D){const S=zs(D),B=yield(yield du()).transaction(qs).objectStore(qs).get(S);if(B)return B;{const Q=yield $f(D.appConfig.senderId);if(Q)return yield wo(D,Q),Q}})).apply(this,arguments)}function wo(D,S){return mn.apply(this,arguments)}function mn(){return(mn=(0,k.Z)(function*(D,S){const R=zs(D),Q=(yield du()).transaction(qs,"readwrite");return yield Q.objectStore(qs).put(S,R),yield Q.complete,S})).apply(this,arguments)}function hu(D){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,k.Z)(function*(D){const S=zs(D),B=(yield du()).transaction(qs,"readwrite");yield B.objectStore(qs).delete(S),yield B.complete})).apply(this,arguments)}function zs({appConfig:D}){return D.appId}const Qn=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function dl(D,S){return yi.apply(this,arguments)}function yi(){return(yi=(0,k.Z)(function*(D,S){const R=yield ns(D),B=Et(S),Q={method:"POST",headers:R,body:JSON.stringify(B)};let re;try{re=yield(yield fetch(Bi(D.appConfig),Q)).json()}catch(ge){throw Qn.create("token-subscribe-failed",{errorInfo:ge})}if(re.error)throw Qn.create("token-subscribe-failed",{errorInfo:re.error.message});if(!re.token)throw Qn.create("token-subscribe-no-token");return re.token})).apply(this,arguments)}function $r(D,S){return vs.apply(this,arguments)}function vs(){return(vs=(0,k.Z)(function*(D,S){const R=yield ns(D),B=Et(S.subscriptionOptions),Q={method:"PATCH",headers:R,body:JSON.stringify(B)};let re;try{re=yield(yield fetch(`${Bi(D.appConfig)}/${S.token}`,Q)).json()}catch(ge){throw Qn.create("token-update-failed",{errorInfo:ge})}if(re.error)throw Qn.create("token-update-failed",{errorInfo:re.error.message});if(!re.token)throw Qn.create("token-update-no-token");return re.token})).apply(this,arguments)}function Eo(D,S){return ea.apply(this,arguments)}function ea(){return(ea=(0,k.Z)(function*(D,S){const B={method:"DELETE",headers:yield ns(D)};try{const re=yield(yield fetch(`${Bi(D.appConfig)}/${S}`,B)).json();if(re.error)throw Qn.create("token-unsubscribe-failed",{errorInfo:re.error.message})}catch(Q){throw Qn.create("token-unsubscribe-failed",{errorInfo:Q})}})).apply(this,arguments)}function Bi({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function ns(D){return bs.apply(this,arguments)}function bs(){return(bs=(0,k.Z)(function*({appConfig:D,installations:S}){const R=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function Et({p256dh:D,auth:S,endpoint:R,vapidKey:B}){const Q={web:{endpoint:R,auth:S,p256dh:D}};return B!==_i&&(Q.web.applicationPubKey=B),Q}const Na=6048e5;function pc(D){return ta.apply(this,arguments)}function ta(){return(ta=(0,k.Z)(function*(D){const S=yield Pd(D.swRegistration,D.vapidKey),R={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:S.endpoint,auth:ys(S.getKey("auth")),p256dh:ys(S.getKey("p256dh"))},B=yield Dn(D.firebaseDependencies);if(B){if(hl(B.subscriptionOptions,R))return Date.now()>=B.createTime+Na?Od(D,{token:B.token,createTime:Date.now(),subscriptionOptions:R}):B.token;try{yield Eo(D.firebaseDependencies,B.token)}catch(Q){console.warn(Q)}return Ie(D.firebaseDependencies,R)}return Ie(D.firebaseDependencies,R)})).apply(this,arguments)}function mc(D){return na.apply(this,arguments)}function na(){return(na=(0,k.Z)(function*(D){const S=yield Dn(D.firebaseDependencies);S&&(yield Eo(D.firebaseDependencies,S.token),yield hu(D.firebaseDependencies));const R=yield D.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function Od(D,S){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,k.Z)(function*(D,S){try{const R=yield $r(D.firebaseDependencies,S),B=Object.assign(Object.assign({},S),{token:R,createTime:Date.now()});return yield wo(D.firebaseDependencies,B),R}catch(R){throw yield mc(D),R}})).apply(this,arguments)}function Ie(D,S){return jt.apply(this,arguments)}function jt(){return(jt=(0,k.Z)(function*(D,S){const B={token:yield dl(D,S),createTime:Date.now(),subscriptionOptions:S};return yield wo(D,B),B.token})).apply(this,arguments)}function Pd(D,S){return bn.apply(this,arguments)}function bn(){return(bn=(0,k.Z)(function*(D,S){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ul(S)})})).apply(this,arguments)}function hl(D,S){return S.vapidKey===D.vapidKey&&S.endpoint===D.endpoint&&S.auth===D.auth&&S.p256dh===D.p256dh}function Ws(D){const S={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function Ui(D,S){if(!S.notification)return;D.notification={};const R=S.notification.title;R&&(D.notification.title=R);const B=S.notification.body;B&&(D.notification.body=B);const Q=S.notification.image;Q&&(D.notification.image=Q)}(S,D),function fu(D,S){!S.data||(D.data=S.data)}(S,D),function La(D,S){if(!S.fcmOptions)return;D.fcmOptions={};const R=S.fcmOptions.link;R&&(D.fcmOptions.link=R);const B=S.fcmOptions.analytics_label;B&&(D.fcmOptions.analyticsLabel=B)}(S,D),S}function Gf(D){return"object"==typeof D&&!!D&&Yo in D}function pu(D,S){const R=[];for(let B=0;B<D.length;B++)R.push(D.charAt(B)),B<S.length&&R.push(S.charAt(B));return R.join("")}function ia(D){return Qn.create("missing-app-config-values",{valueName:D})}pu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),pu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class lr{constructor(S,R,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function ra(D){if(!D||!D.options)throw ia("App Configuration Object");if(!D.name)throw ia("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:R}=D;for(const B of S)if(!R[B])throw ia(B);return{appName:D.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:Q,installations:R,analyticsProvider:B}}_delete(){return Promise.resolve()}}function rs(D){return sa.apply(this,arguments)}function sa(){return(sa=(0,k.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(_s,{scope:ka}),D.swRegistration.update().catch(()=>{})}catch(S){throw Qn.create("failed-service-worker-registration",{browserErrorMessage:S.message})}})).apply(this,arguments)}function oa(D,S){return si.apply(this,arguments)}function si(){return(si=(0,k.Z)(function*(D,S){if(!S&&!D.swRegistration&&(yield rs(D)),S||!D.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw Qn.create("invalid-sw-registration");D.swRegistration=S}})).apply(this,arguments)}function Nd(D,S){return aa.apply(this,arguments)}function aa(){return(aa=(0,k.Z)(function*(D,S){S?D.vapidKey=S:D.vapidKey||(D.vapidKey=_i)})).apply(this,arguments)}function Va(){return(Va=(0,k.Z)(function*(D,S){if(!navigator)throw Qn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Qn.create("permission-blocked");return yield Nd(D,null==S?void 0:S.vapidKey),yield oa(D,null==S?void 0:S.serviceWorkerRegistration),pc(D)})).apply(this,arguments)}function mu(D,S,R){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,k.Z)(function*(D,S,R){const B=Fd(S);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:R[Yo],message_name:R[al],message_time:R[kd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Fd(D){switch(D){case Vi.NOTIFICATION_CLICKED:return"notification_open";case Vi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function _u(){return(_u=(0,k.Z)(function*(D,S){const R=S.data;if(!R.isFirebaseMessaging)return;D.onMessageHandler&&R.messageType===Vi.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(Ws(R)):D.onMessageHandler.next(Ws(R)));const B=R.data;Gf(B)&&"1"===B[Oa]&&(yield mu(D,R.messageType,B))})).apply(this,arguments)}const fl="@firebase/messaging",Co=D=>{const S=new lr(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function gu(D,S){return _u.apply(this,arguments)}(S,R)),S},yu=D=>{const S=D.getProvider("messaging").getImmediate();return{getToken:B=>function gc(D,S){return Va.apply(this,arguments)}(S,B)}};function _c(){return Do.apply(this,arguments)}function Do(){return(Do=(0,k.Z)(function*(){try{yield(0,se.eu)()}catch(D){return!1}return"undefined"!=typeof window&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ld(){(0,oe._registerComponent)(new ve.wA("messaging",Co,"PUBLIC")),(0,oe._registerComponent)(new ve.wA("messaging-internal",yu,"PRIVATE")),(0,oe.registerVersion)(fl,"0.9.11"),(0,oe.registerVersion)(fl,"0.9.11","esm2017")}();const bu="analytics",yc="firebase_id",wu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",pl="https://www.googletagmanager.com/gtag/js",Jn=new ie.Yd("@firebase/analytics");function vc(D){return Promise.all(D.map(S=>S.catch(R=>R)))}function bc(D,S){const R=document.createElement("script");R.src=`${pl}?l=${D}&id=${S}`,R.async=!0,document.head.appendChild(R)}function ml(D,S,R,B,Q,re){return ja.apply(this,arguments)}function ja(){return(ja=(0,k.Z)(function*(D,S,R,B,Q,re){const ge=B[Q];try{if(ge)yield S[ge];else{const ot=(yield vc(R)).find(bt=>bt.measurementId===Q);ot&&(yield S[ot.appId])}}catch(nt){Jn.error(nt)}D("config",Q,re)})).apply(this,arguments)}function Bd(D,S,R,B,Q){return la.apply(this,arguments)}function la(){return(la=(0,k.Z)(function*(D,S,R,B,Q){try{let re=[];if(Q&&Q.send_to){let ge=Q.send_to;Array.isArray(ge)||(ge=[ge]);const nt=yield vc(R);for(const ot of ge){const bt=nt.find(At=>At.measurementId===ot),Jt=bt&&S[bt.appId];if(!Jt){re=[];break}re.push(Jt)}}0===re.length&&(re=Object.values(S)),yield Promise.all(re),D("event",B,Q||{})}catch(re){Jn.error(re)}})).apply(this,arguments)}function Og(){const D=window.document.getElementsByTagName("script");for(const S of Object.values(D))if(S.src&&S.src.includes(pl))return S;return null}const Dr=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),wn=new class Pr{constructor(S={},R=1e3){this.throttleMetadata=S,this.intervalMillis=R}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,R){this.throttleMetadata[S]=R}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function Ec(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function Wn(D){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,k.Z)(function*(D){var S;const{appId:R,apiKey:B}=D,Q={method:"GET",headers:Ec(B)},re=wu.replace("{app-id}",R),ge=yield fetch(re,Q);if(200!==ge.status&&304!==ge.status){let nt="";try{const ot=yield ge.json();(null===(S=ot.error)||void 0===S?void 0:S.message)&&(nt=ot.error.message)}catch(ot){}throw Dr.create("config-fetch-failed",{httpStatus:ge.status,responseMessage:nt})}return ge.json()})).apply(this,arguments)}function Eu(D){return Es.apply(this,arguments)}function Es(){return(Es=(0,k.Z)(function*(D,S=wn,R){const{appId:B,apiKey:Q,measurementId:re}=D.options;if(!B)throw Dr.create("no-app-id");if(!Q){if(re)return{measurementId:re,appId:B};throw Dr.create("no-api-key")}const ge=S.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},nt=new Cc;return setTimeout((0,k.Z)(function*(){nt.abort()}),void 0!==R?R:6e4),ua({appId:B,apiKey:Q,measurementId:re},ge,nt,S)})).apply(this,arguments)}function ua(D,S,R){return is.apply(this,arguments)}function is(){return(is=(0,k.Z)(function*(D,{throttleEndTimeMillis:S,backoffCount:R},B,Q=wn){const{appId:re,measurementId:ge}=D;try{yield Vt(B,S)}catch(nt){if(ge)return Jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ge} provided in the "measurementId" field in the local Firebase config. [${nt.message}]`),{appId:re,measurementId:ge};throw nt}try{const nt=yield Wn(D);return Q.deleteThrottleMetadata(re),nt}catch(nt){if(!Cu(nt)){if(Q.deleteThrottleMetadata(re),ge)return Jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ge} provided in the "measurementId" field in the local Firebase config. [${nt.message}]`),{appId:re,measurementId:ge};throw nt}const ot=503===Number(nt.customData.httpStatus)?(0,se.$s)(R,Q.intervalMillis,30):(0,se.$s)(R,Q.intervalMillis),bt={throttleEndTimeMillis:Date.now()+ot,backoffCount:R+1};return Q.setThrottleMetadata(re,bt),Jn.debug(`Calling attemptFetch again in ${ot} millis`),ua(D,bt,B,Q)}})).apply(this,arguments)}function Vt(D,S){return new Promise((R,B)=>{const Q=Math.max(S-Date.now(),0),re=setTimeout(R,Q);D.addEventListener(()=>{clearTimeout(re),B(Dr.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function Cu(D){if(!(D instanceof se.ZR&&D.customData))return!1;const S=Number(D.customData.httpStatus);return 429===S||500===S||503===S||504===S}class Cc{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}function ca(){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,k.Z)(function*(){if(!(0,se.hl)())return Jn.warn(Dr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(D){return Jn.warn(Dr.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function Js(){return(Js=(0,k.Z)(function*(D,S,R,B,Q,re,ge){var nt;const ot=Eu(D);ot.then(tr=>{R[tr.measurementId]=tr.appId,D.options.measurementId&&tr.measurementId!==D.options.measurementId&&Jn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${tr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(tr=>Jn.error(tr)),S.push(ot);const bt=ca().then(tr=>{if(tr)return B.getId()}),[Jt,At]=yield Promise.all([ot,bt]);Og()||bc(re,Jt.measurementId),Q("js",new Date);const er=null!==(nt=null==ge?void 0:ge.config)&&void 0!==nt?nt:{};return er.origin="firebase",er.update=!0,null!=At&&(er[yc]=At),Q("config",Jt.measurementId,er),Jt.measurementId})).apply(this,arguments)}class Du{constructor(S){this.app=S}_delete(){return delete qr[this.app.options.appId],Promise.resolve()}}let qr={},So=[];const gl={};let _l,to,Xs="dataLayer",Cs=!1;function zr(D,S,R){!function ss(){const D=[];if((0,se.ru)()&&D.push("This is a browser extension environment."),(0,se.zI)()||D.push("Cookies are not available."),D.length>0){const S=D.map((B,Q)=>`(${Q+1}) ${B}`).join(" "),R=Dr.create("invalid-analytics-context",{errorInfo:S});Jn.warn(R.message)}}();const B=D.options.appId;if(!B)throw Dr.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw Dr.create("no-api-key");Jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=qr[B])throw Dr.create("already-exists",{id:B});if(!Cs){!function ws(D){let S=[];Array.isArray(window[D])?S=window[D]:window[D]=S}(Xs);const{wrappedGtag:re,gtagCore:ge}=function Ud(D,S,R,B,Q){let re=function(...ge){window[B].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(re=window[Q]),window[Q]=function wc(D,S,R,B){function re(){return(re=(0,k.Z)(function*(ge,nt,ot){try{"event"===ge?yield Bd(D,S,R,nt,ot):"config"===ge?yield ml(D,S,R,B,nt,ot):D("set",nt)}catch(bt){Jn.error(bt)}})).apply(this,arguments)}return function Q(ge,nt,ot){return re.apply(this,arguments)}}(re,D,S,R),{gtagCore:re,wrappedGtag:window[Q]}}(qr,So,gl,Xs,"gtag");to=re,_l=ge,Cs=!0}return qr[B]=function _n(D,S,R,B,Q,re,ge){return Js.apply(this,arguments)}(D,So,gl,S,_l,Xs,R),new Du(D)}function $a(){return($a=(0,k.Z)(function*(D,S,R,B,Q){if(Q&&Q.global)D("event",R,B);else{const re=yield S;D("event",R,Object.assign(Object.assign({},B),{send_to:re}))}})).apply(this,arguments)}function wi(){return vl.apply(this,arguments)}function vl(){return(vl=(0,k.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(D){return!1}})).apply(this,arguments)}const Zr="@firebase/analytics";!function no(){(0,oe._registerComponent)(new ve.wA(bu,(S,{options:R})=>zr(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,oe._registerComponent)(new ve.wA("analytics-internal",function D(S){try{const R=S.getProvider(bu).getImmediate();return{logEvent:(B,Q,re)=>function Io(D,S,R,B){D=(0,se.m9)(D),function pr(D,S,R,B,Q){return $a.apply(this,arguments)}(to,qr[D.app.options.appId],S,R,B).catch(Q=>Jn.error(Q))}(R,B,Q,re)}}catch(R){throw Dr.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,oe.registerVersion)(Zr,"0.7.7"),(0,oe.registerVersion)(Zr,"0.7.7","esm2017")}();var bl=P(4408),Su=P(7565);const Ga=new class Xn extends Su.v{}(class Ds extends bl.o{constructor(S,R){super(S,R),this.scheduler=S,this.work=R}schedule(S,R=0){return R>0?super.schedule(S,R):(this.delay=R,this.state=S,this.scheduler.flush(this),this)}execute(S,R){return R>0||this.closed?super.execute(S,R):this._execute(S,R)}requestAsyncId(S,R,B=0){return null!=B&&B>0||null==B&&this.delay>0?super.requestAsyncId(S,R,B):S.flush(this)}});var Dc=P(4986),El=P(8505),Fr=P(5363),ji=P(9468);const qa=new u.GfV("7.3.0"),da="__angularfire_symbol__analyticsIsSupportedValue",ai="__angularfire_symbol__analyticsIsSupported",ha="__angularfire_symbol__remoteConfigIsSupportedValue",Iu="__angularfire_symbol__remoteConfigIsSupported",Cl="__angularfire_symbol__messagingIsSupportedValue",Ht="__angularfire_symbol__messagingIsSupported";function ro(D,S,R){if(S){if(1===S.length)return S[0];const re=S.filter(ge=>ge.app===R);if(1===re.length)return re[0]}return R.container.getProvider(D).getImmediate({optional:!0})}globalThis[ai]||(globalThis[ai]=wi().then(D=>globalThis[da]=D).catch(()=>globalThis[da]=!1)),globalThis[Ht]||(globalThis[Ht]=_c().then(D=>globalThis[Cl]=D).catch(()=>globalThis[Cl]=!1)),globalThis[Iu]||(globalThis[Iu]=hc().then(D=>globalThis[ha]=D).catch(()=>globalThis[ha]=!1));const qf=(D,S)=>{const R=S?[S]:(0,H.C6)(),B=[];return R.forEach(Q=>{Q.container.getProvider(D).instances.forEach(ge=>{B.includes(ge)||B.push(ge)})}),B};function Ts(){}class Hi{constructor(S,R=Ga){this.zone=S,this.delegate=R}now(){return this.delegate.now()}schedule(S,R,B){const Q=this.zone;return this.delegate.schedule(function(ge){Q.runGuarded(()=>{S.apply(this,[ge])})},R,B)}}class Sl{constructor(S){this.zone=S,this.task=null}call(S,R){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ts,{},Ts,Ts)),R.pipe((0,El.b)({next:B,complete:B,error:B})).subscribe(S).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Il=(()=>{class D{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Hi(Zone.current)),this.insideAngular=R.run(()=>new Hi(Zone.current,Dc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(R){return new(R||D)(u.LFG(u.R0b))},D.\u0275prov=u.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function io(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Ei(D){return D.pipe((0,Fr.Q)(io().outsideAngular))}function Mu(D){return io(),function so(D){return function(R){return(R=R.lift(new Sl(D.ngZone))).pipe((0,ji.R)(D.outsideAngular),(0,Fr.Q)(D.insideAngular))}}(io())(D)}},424:(ut,Se,P)=>{P.d(Se,{$:()=>pc,A:()=>q,E:()=>qt,G:()=>kr,I:()=>gs,K:()=>U,L:()=>ol,M:()=>Rd,N:()=>Yo,P:()=>da,Q:()=>al,R:()=>Gd,T:()=>_i,U:()=>Vi,V:()=>ys,W:()=>$f,X:()=>Cr,Y:()=>dl,Z:()=>$r,_:()=>Bi,a:()=>ct,a0:()=>mc,a1:()=>Od,a2:()=>Ie,a3:()=>Pd,a4:()=>hl,a5:()=>Ui,a6:()=>fu,a7:()=>Gf,a8:()=>pu,a9:()=>rs,aA:()=>er,aB:()=>Al,aC:()=>fn,aG:()=>wn,aJ:()=>Oa,aa:()=>oa,ab:()=>Nd,ae:()=>mu,af:()=>Fd,ag:()=>gu,aj:()=>qs,ak:()=>vu,am:()=>wu,an:()=>ml,ao:()=>Sn,ap:()=>Y,aq:()=>Rt,ar:()=>ze,as:()=>He,at:()=>zd,au:()=>Sc,av:()=>Re,aw:()=>te,ax:()=>ue,ay:()=>K,az:()=>gr,b:()=>gn,c:()=>Tl,d:()=>Hi,e:()=>qf,f:()=>S,g:()=>nt,h:()=>Q,i:()=>ss,j:()=>Jt,k:()=>lo,l:()=>Xn,m:()=>Vg,o:()=>ce,r:()=>wl,s:()=>Ds,u:()=>ji,z:()=>ke});var u=P(5861),H=P(2090),k=P(9681),oe=P(655),se=P(1877),ve=P(4859);const ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},q={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ke=function ee(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ne=function $e(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Le=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),De=new se.Yd("@firebase/auth");function Xe(v,...m){De.logLevel<=se.in.ERROR&&De.error(`Auth (${k.SDK_VERSION}): ${v}`,...m)}function He(v,...m){throw Ze(v,...m)}function Re(v,...m){return Ze(v,...m)}function Ae(v,m,_){const E=Object.assign(Object.assign({},Ne()),{[m]:_});return new H.LL("auth","Firebase",E).create(m,{appName:v.name})}function Ce(v,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&He(v,"argument-error"),Ae(v,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ze(v,...m){if("string"!=typeof v){const _=m[0],E=[...m.slice(1)];return E[0]&&(E[0].appName=v.name),v._errorFactory.create(_,...E)}return Le.create(v,...m)}function te(v,m,..._){if(!v)throw Ze(m,..._)}function Je(v){const m="INTERNAL ASSERTION FAILED: "+v;throw Xe(m),new Error(m)}function Y(v,m){v||Je(m)}const he=new Map;function ue(v){Y(v instanceof Function,"Expected a class definition");let m=he.get(v);return m?(Y(m instanceof v,"Instance stored in cache mismatched with class"),m):(m=new v,he.set(v,m),m)}function ae(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function It(){return"http:"===en()||"https:"===en()}function en(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class mt{constructor(m,_){this.shortDelay=m,this.longDelay=_,Y(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return function Fn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(It()||(0,H.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function hn(v,m){Y(v.emulator,"Emulator should always be set here");const{url:_}=v.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class ln{static initialize(m,_,E){this.fetchImpl=m,_&&(this.headersImpl=_),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Je("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Je("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Je("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},rn=new mt(3e4,6e4);function Qt(v,m){return v.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:v.tenantId}):m}function tn(v,m,_,E){return On.apply(this,arguments)}function On(){return(On=(0,u.Z)(function*(v,m,_,E,M={}){return dr(v,M,(0,u.Z)(function*(){let F={},X={};E&&("GET"===m?X=E:F={body:JSON.stringify(E)});const xe=(0,H.xO)(Object.assign({key:v.config.apiKey},X)).slice(1),at=yield v._getAdditionalHeaders();return at["Content-Type"]="application/json",v.languageCode&&(at["X-Firebase-Locale"]=v.languageCode),ln.fetch()(pi(v,v.config.apiHost,_,xe),Object.assign({method:m,headers:at,referrerPolicy:"no-referrer"},F))}))})).apply(this,arguments)}function dr(v,m,_){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,u.Z)(function*(v,m,_){v._canInitEmulator=!1;const E=Object.assign(Object.assign({},fi),m);try{const M=new hr(v),F=yield Promise.race([_(),M.promise]);M.clearNetworkTimeout();const X=yield F.json();if("needConfirmation"in X)throw Er(v,"account-exists-with-different-credential",X);if(F.ok&&!("errorMessage"in X))return X;{const xe=F.ok?X.errorMessage:X.error.message,[at,wt]=xe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===at)throw Er(v,"credential-already-in-use",X);if("EMAIL_EXISTS"===at)throw Er(v,"email-already-in-use",X);const kt=E[at]||at.toLowerCase().replace(/[_\s]+/g,"-");if(wt)throw Ae(v,kt,wt);He(v,kt)}}catch(M){if(M instanceof H.ZR)throw M;He(v,"network-request-failed")}})).apply(this,arguments)}function wr(v,m,_,E){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,u.Z)(function*(v,m,_,E,M={}){const F=yield tn(v,m,_,E,M);return"mfaPendingCredential"in F&&He(v,"multi-factor-auth-required",{_serverResponse:F}),F})).apply(this,arguments)}function pi(v,m,_,E){const M=`${m}${_}?${E}`;return v.config.emulator?hn(v.config,M):`${v.config.apiScheme}://${M}`}class hr{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,E)=>{this.timer=setTimeout(()=>E(Re(this.auth,"network-request-failed")),rn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Er(v,m,_){const E={appName:v.name};_.email&&(E.email=_.email),_.phoneNumber&&(E.phoneNumber=_.phoneNumber);const M=Re(v,m,E);return M.customData._tokenResponse=_,M}function _t(){return(_t=(0,u.Z)(function*(v,m){return tn(v,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Mr(v,m){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,u.Z)(function*(v,m){return tn(v,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function sn(v,m){return zn.apply(this,arguments)}function zn(){return(zn=(0,u.Z)(function*(v,m){return tn(v,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function mi(v){if(v)try{const m=new Date(Number(v));if(!isNaN(m.getTime()))return m.toUTCString()}catch(m){}}function Hr(){return(Hr=(0,u.Z)(function*(v,m=!1){const _=(0,H.m9)(v),E=yield _.getIdToken(m),M=Gt(E);te(M&&M.exp&&M.auth_time&&M.iat,_.auth,"internal-error");const F="object"==typeof M.firebase?M.firebase:void 0,X=null==F?void 0:F.sign_in_provider;return{claims:M,token:E,authTime:mi(go(M.auth_time)),issuedAtTime:mi(go(M.iat)),expirationTime:mi(go(M.exp)),signInProvider:X||null,signInSecondFactor:(null==F?void 0:F.sign_in_second_factor)||null}})).apply(this,arguments)}function go(v){return 1e3*Number(v)}function Gt(v){const[m,_,E]=v.split(".");if(void 0===m||void 0===_||void 0===E)return Xe("JWT malformed, contained fewer than 3 sections"),null;try{const M=(0,H.tV)(_);return M?JSON.parse(M):(Xe("Failed to decode base64 JWT payload"),null)}catch(M){return Xe("Caught error parsing JWT payload as JSON",M),null}}function it(v,m){return ri.apply(this,arguments)}function ri(){return(ri=(0,u.Z)(function*(v,m,_=!1){if(_)return m;try{return yield m}catch(E){throw E instanceof H.ZR&&Ji(E)&&v.auth.currentUser===v&&(yield v.auth.signOut()),E}})).apply(this,arguments)}function Ji({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class zt{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const M=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,M)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const E=this.getInterval(m);this.timerId=setTimeout((0,u.Z)(function*(){yield _.iteration()}),E)}iteration(){var m=this;return(0,u.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&m.schedule(!0))}m.schedule()})()}}class Xi{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=mi(this.lastLoginAt),this.creationTime=mi(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Bn(v){return on.apply(this,arguments)}function on(){return(on=(0,u.Z)(function*(v){var m;const _=v.auth,E=yield v.getIdToken(),M=yield it(v,sn(_,{idToken:E}));te(null==M?void 0:M.users.length,_,"internal-error");const F=M.users[0];v._notifyReloadListener(F);const X=(null===(m=F.providerUserInfo)||void 0===m?void 0:m.length)?Ge(F.providerUserInfo):[],xe=Wt(v.providerData,X),kt=!!v.isAnonymous&&!(v.email&&F.passwordHash||(null==xe?void 0:xe.length)),Gn={uid:F.localId,displayName:F.displayName||null,photoURL:F.photoUrl||null,email:F.email||null,emailVerified:F.emailVerified||!1,phoneNumber:F.phoneNumber||null,tenantId:F.tenantId||null,providerData:xe,metadata:new Xi(F.createdAt,F.lastLoginAt),isAnonymous:kt};Object.assign(v,Gn)})).apply(this,arguments)}function Un(){return(Un=(0,u.Z)(function*(v){const m=(0,H.m9)(v);yield Bn(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function Wt(v,m){return[...v.filter(E=>!m.some(M=>M.providerId===E.providerId)),...m]}function Ge(v){return v.map(m=>{var{providerId:_}=m,E=(0,oe._T)(m,["providerId"]);return{providerId:_,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function et(){return(et=(0,u.Z)(function*(v,m){const _=yield dr(v,{},(0,u.Z)(function*(){const E=(0,H.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:M,apiKey:F}=v.config,X=pi(v,M,"/v1/token",`key=${F}`),xe=yield v._getAdditionalHeaders();return xe["Content-Type"]="application/x-www-form-urlencoded",ln.fetch()(X,{method:"POST",headers:xe,body:E})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class pt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){te(m.idToken,"internal-error"),te(void 0!==m.idToken,"internal-error"),te(void 0!==m.refreshToken,"internal-error");const _="expiresIn"in m&&void 0!==m.expiresIn?Number(m.expiresIn):function ft(v){const m=Gt(v);return te(m,"internal-error"),te(void 0!==m.exp,"internal-error"),te(void 0!==m.iat,"internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var E=this;return(0,u.Z)(function*(){return te(!E.accessToken||E.refreshToken,m,"user-token-expired"),_||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(m,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var E=this;return(0,u.Z)(function*(){const{accessToken:M,refreshToken:F,expiresIn:X}=yield function Te(v,m){return et.apply(this,arguments)}(m,_);E.updateTokensAndExpiration(M,F,Number(X))})()}updateTokensAndExpiration(m,_,E){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(m,_){const{refreshToken:E,accessToken:M,expirationTime:F}=_,X=new pt;return E&&(te("string"==typeof E,"internal-error",{appName:m}),X.refreshToken=E),M&&(te("string"==typeof M,"internal-error",{appName:m}),X.accessToken=M),F&&(te("number"==typeof F,"internal-error",{appName:m}),X.expirationTime=F),X}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new pt,this.toJSON())}_performRefresh(){return Je("not implemented")}}function Ft(v,m){te("string"==typeof v||void 0===v,"internal-error",{appName:m})}class Lt{constructor(m){var{uid:_,auth:E,stsTokenManager:M}=m,F=(0,oe._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=E,this.stsTokenManager=M,this.accessToken=M.accessToken,this.displayName=F.displayName||null,this.email=F.email||null,this.emailVerified=F.emailVerified||!1,this.phoneNumber=F.phoneNumber||null,this.photoURL=F.photoURL||null,this.isAnonymous=F.isAnonymous||!1,this.tenantId=F.tenantId||null,this.providerData=F.providerData?[...F.providerData]:[],this.metadata=new Xi(F.createdAt||void 0,F.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,u.Z)(function*(){const E=yield it(_,_.stsTokenManager.getToken(_.auth,m));return te(E,_.auth,"internal-error"),_.accessToken!==E&&(_.accessToken=E,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),E})()}getIdTokenResult(m){return function Pn(v){return Hr.apply(this,arguments)}(this,m)}reload(){return function vt(v){return Un.apply(this,arguments)}(this)}_assign(m){this!==m&&(te(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new Lt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var E=this;return(0,u.Z)(function*(){let M=!1;m.idToken&&m.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(m),M=!0),_&&(yield Bn(E)),yield E.auth._persistUserIfCurrent(E),M&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var m=this;return(0,u.Z)(function*(){const _=yield m.getIdToken();return yield it(m,function ps(v,m){return _t.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var E,M,F,X,xe,at,wt,kt;const Gn=null!==(E=_.displayName)&&void 0!==E?E:void 0,ui=null!==(M=_.email)&&void 0!==M?M:void 0,Za=null!==(F=_.phoneNumber)&&void 0!==F?F:void 0,Nl=null!==(X=_.photoURL)&&void 0!==X?X:void 0,Pc=null!==(xe=_.tenantId)&&void 0!==xe?xe:void 0,Pu=null!==(at=_._redirectEventId)&&void 0!==at?at:void 0,Nu=null!==(wt=_.createdAt)&&void 0!==wt?wt:void 0,Fu=null!==(kt=_.lastLoginAt)&&void 0!==kt?kt:void 0,{uid:Nc,emailVerified:Fl,isAnonymous:Fc,providerData:Qd,stsTokenManager:Jd}=_;te(Nc&&Jd,m,"internal-error");const Xd=pt.fromJSON(this.name,Jd);te("string"==typeof Nc,m,"internal-error"),Ft(Gn,m.name),Ft(ui,m.name),te("boolean"==typeof Fl,m,"internal-error"),te("boolean"==typeof Fc,m,"internal-error"),Ft(Za,m.name),Ft(Nl,m.name),Ft(Pc,m.name),Ft(Pu,m.name),Ft(Nu,m.name),Ft(Fu,m.name);const Ll=new Lt({uid:Nc,auth:m,email:ui,emailVerified:Fl,displayName:Gn,isAnonymous:Fc,photoURL:Nl,phoneNumber:Za,tenantId:Pc,stsTokenManager:Xd,createdAt:Nu,lastLoginAt:Fu});return Qd&&Array.isArray(Qd)&&(Ll.providerData=Qd.map(Hg=>Object.assign({},Hg))),Pu&&(Ll._redirectEventId=Pu),Ll}static _fromIdTokenResponse(m,_,E=!1){return(0,u.Z)(function*(){const M=new pt;M.updateFromServerResponse(_);const F=new Lt({uid:_.localId,auth:m,stsTokenManager:M,isAnonymous:E});return yield Bn(F),F})()}}const U=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(_,E){var M=this;return(0,u.Z)(function*(){M.storage[_]=E})()}_get(_){var E=this;return(0,u.Z)(function*(){const M=E.storage[_];return void 0===M?null:M})()}_remove(_){var E=this;return(0,u.Z)(function*(){delete E.storage[_]})()}_addListener(_,E){}_removeListener(_,E){}}return v.type="NONE",v})();function K(v,m,_){return`firebase:${v}:${m}:${_}`}class fe{constructor(m,_,E){this.persistence=m,this.auth=_,this.userKey=E;const{config:M,name:F}=this.auth;this.fullUserKey=K(this.userKey,M.apiKey,F),this.fullPersistenceKey=K("persistence",M.apiKey,F),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,u.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?Lt._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,u.Z)(function*(){if(_.persistence===m)return;const E=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,E?_.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,E="authUser"){return(0,u.Z)(function*(){if(!_.length)return new fe(ue(U),m,E);const M=(yield Promise.all(_.map(function(){var wt=(0,u.Z)(function*(kt){if(yield kt._isAvailable())return kt});return function(kt){return wt.apply(this,arguments)}}()))).filter(wt=>wt);let F=M[0]||ue(U);const X=K(E,m.config.apiKey,m.name);let xe=null;for(const wt of _)try{const kt=yield wt._get(X);if(kt){const Gn=Lt._fromJSON(m,kt);wt!==F&&(xe=Gn),F=wt;break}}catch(kt){}const at=M.filter(wt=>wt._shouldAllowMigration);return F._shouldAllowMigration&&at.length?(F=at[0],xe&&(yield F._set(X,xe.toJSON())),yield Promise.all(_.map(function(){var wt=(0,u.Z)(function*(kt){if(kt!==F)try{yield kt._remove(X)}catch(Gn){}});return function(kt){return wt.apply(this,arguments)}}())),new fe(F,m,E)):new fe(F,m,E)})()}}function N(v){const m=v.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Be(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(V(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(Tt(m))return"Blackberry";if(rt(m))return"Webos";if(j(m))return"Safari";if((m.includes("chrome/")||le(m))&&!m.includes("edge/"))return"Chrome";if(ze(m))return"Android";{const E=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function V(v=(0,H.z$)()){return/firefox\//i.test(v)}function j(v=(0,H.z$)()){const m=v.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function le(v=(0,H.z$)()){return/crios\//i.test(v)}function Be(v=(0,H.z$)()){return/iemobile/i.test(v)}function ze(v=(0,H.z$)()){return/android/i.test(v)}function Tt(v=(0,H.z$)()){return/blackberry/i.test(v)}function rt(v=(0,H.z$)()){return/webos/i.test(v)}function Rt(v=(0,H.z$)()){return/iphone|ipad|ipod/i.test(v)}function Sn(v=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function xr(v=(0,H.z$)()){return Rt(v)||ze(v)||rt(v)||Tt(v)||/windows phone/i.test(v)||Be(v)}function Kn(v,m=[]){let _;switch(v){case"Browser":_=N((0,H.z$)());break;case"Worker":_=`${N((0,H.z$)())}-${v}`;break;default:_=v}const E=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${k.SDK_VERSION}/${E}`}class rl{constructor(m,_,E){this.app=m,this.heartbeatServiceProvider=_,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ke(this),this.idTokenSubscription=new Ke(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Le,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(m,_){var E=this;return _&&(this._popupRedirectResolver=ue(_)),this._initializationPromise=this.queue((0,u.Z)(function*(){var M,F;if(!E._deleted&&(E.persistenceManager=yield fe.create(E,m),!E._deleted)){if(null===(M=E._popupRedirectResolver)||void 0===M?void 0:M._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch(X){}yield E.initializeCurrentUser(_),E.lastNotifiedUid=(null===(F=E.currentUser)||void 0===F?void 0:F.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,u.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_)}})()}initializeCurrentUser(m){var _=this;return(0,u.Z)(function*(){var E;let M=yield _.assertedPersistence.getCurrentUser();if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const F=null===(E=_.redirectUser)||void 0===E?void 0:E._redirectEventId,X=null==M?void 0:M._redirectEventId,xe=yield _.tryRedirectSignIn(m);(!F||F===X)&&(null==xe?void 0:xe.user)&&(M=xe.user)}return M?M._redirectEventId?(te(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===M._redirectEventId?_.directlySetCurrentUser(M):_.reloadAndSetCurrentUserOrClear(M)):_.reloadAndSetCurrentUserOrClear(M):_.directlySetCurrentUser(null)})()}tryRedirectSignIn(m){var _=this;return(0,u.Z)(function*(){let E=null;try{E=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch(M){yield _._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,u.Z)(function*(){try{yield Bn(m)}catch(E){if("auth/network-request-failed"!==E.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function ht(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var m=this;return(0,u.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,u.Z)(function*(){const E=m?(0,H.m9)(m):null;return E&&te(E.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(E&&E._clone(_))})()}_updateCurrentUser(m){var _=this;return(0,u.Z)(function*(){if(!_._deleted)return m&&te(_.tenantId===m.tenantId,_,"tenant-id-mismatch"),_.queue((0,u.Z)(function*(){yield _.directlySetCurrentUser(m),_.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,u.Z)(function*(){return(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null)})()}setPersistence(m){var _=this;return this.queue((0,u.Z)(function*(){yield _.assertedPersistence.setPersistence(ue(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new H.LL("auth","Firebase",m())}onAuthStateChanged(m,_,E){return this.registerStateListener(this.authStateSubscription,m,_,E)}onIdTokenChanged(m,_,E){return this.registerStateListener(this.idTokenSubscription,m,_,E)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var E=this;return(0,u.Z)(function*(){const M=yield E.getOrInitRedirectPersistenceManager(_);return null===m?M.removeCurrentUser():M.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,u.Z)(function*(){if(!_.redirectPersistenceManager){const E=m&&ue(m)||_._popupRedirectResolver;te(E,_,"argument-error"),_.redirectPersistenceManager=yield fe.create(_,[ue(E._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,u.Z)(function*(){var E,M;return _._isInitialized&&(yield _.queue((0,u.Z)(function*(){}))),(null===(E=_._currentUser)||void 0===E?void 0:E._redirectEventId)===m?_._currentUser:(null===(M=_.redirectUser)||void 0===M?void 0:M._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,u.Z)(function*(){if(m===_.currentUser)return _.queue((0,u.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,E,M){if(this._deleted)return()=>{};const F="function"==typeof _?_:_.next.bind(_),X=this._isInitialized?Promise.resolve():this._initializationPromise;return te(X,this,"internal-error"),X.then(()=>F(this.currentUser)),"function"==typeof _?m.addObserver(_,E,M):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,u.Z)(function*(){_.currentUser&&_.currentUser!==m&&(_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh()),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Kn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,u.Z)(function*(){var _;const E={"X-Client-Version":m.clientVersion};m.app.options.appId&&(E["X-Firebase-gmpid"]=m.app.options.appId);const M=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return M&&(E["X-Firebase-Client"]=M),E})()}}function fn(v){return(0,H.m9)(v)}class Ke{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,H.ne)(_=>this.observer=_)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function qt(v,m,_){const E=fn(v);te(E._canInitEmulator,E,"emulator-config-failed"),te(/^https?:\/\//.test(m),E,"invalid-emulator-scheme");const M=!!(null==_?void 0:_.disableWarnings),F=pn(m),{host:X,port:xe}=function Rr(v){const m=pn(v),_=/(\/\/)?([^?#/]+)/.exec(v.substr(m.length));if(!_)return{host:"",port:null};const E=_[2].split("@").pop()||"",M=/^(\[[^\]]+\])(:|$)/.exec(E);if(M){const F=M[1];return{host:F,port:ms(E.substr(F.length+1))}}{const[F,X]=E.split(":");return{host:F,port:ms(X)}}}(m);E.config.emulator={url:`${F}//${X}${null===xe?"":`:${xe}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:X,port:xe,protocol:F.replace(":",""),options:Object.freeze({disableWarnings:M})}),M||function ar(){function v(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function pn(v){const m=v.indexOf(":");return m<0?"":v.substr(0,m+1)}function ms(v){if(!v)return null;const m=Number(v);return isNaN(m)?null:m}class kr{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return Je("not implemented")}_getIdTokenResponse(m){return Je("not implemented")}_linkToIdToken(m,_){return Je("not implemented")}_getReauthenticationResolver(m){return Je("not implemented")}}function Cn(v,m){return jn.apply(this,arguments)}function jn(){return(jn=(0,u.Z)(function*(v,m){return tn(v,"POST","/v1/accounts:resetPassword",Qt(v,m))})).apply(this,arguments)}function _o(v,m){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,u.Z)(function*(v,m){return tn(v,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function il(v,m){return es.apply(this,arguments)}function es(){return(es=(0,u.Z)(function*(v,m){return tn(v,"POST","/v1/accounts:update",Qt(v,m))})).apply(this,arguments)}function ts(){return(ts=(0,u.Z)(function*(v,m){return wr(v,"POST","/v1/accounts:signInWithPassword",Qt(v,m))})).apply(this,arguments)}function Yn(v,m){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,u.Z)(function*(v,m){return tn(v,"POST","/v1/accounts:sendOobCode",Qt(v,m))})).apply(this,arguments)}function yo(v,m){return fr.apply(this,arguments)}function fr(){return(fr=(0,u.Z)(function*(v,m){return Yn(v,m)})).apply(this,arguments)}function vn(v,m){return qo.apply(this,arguments)}function qo(){return(qo=(0,u.Z)(function*(v,m){return Yn(v,m)})).apply(this,arguments)}function lc(v,m){return Or.apply(this,arguments)}function Or(){return(Or=(0,u.Z)(function*(v,m){return Yn(v,m)})).apply(this,arguments)}function gi(v,m){return xa.apply(this,arguments)}function xa(){return(xa=(0,u.Z)(function*(v,m){return Yn(v,m)})).apply(this,arguments)}function Wo(){return(Wo=(0,u.Z)(function*(v,m){return wr(v,"POST","/v1/accounts:signInWithEmailLink",Qt(v,m))})).apply(this,arguments)}function uu(){return(uu=(0,u.Z)(function*(v,m){return wr(v,"POST","/v1/accounts:signInWithEmailLink",Qt(v,m))})).apply(this,arguments)}class sl extends kr{constructor(m,_,E,M=null){super("password",E),this._email=m,this._password=_,this._tenantId=M}static _fromEmailAndPassword(m,_){return new sl(m,_,"password")}static _fromEmailAndCode(m,_,E=null){return new sl(m,_,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,u.Z)(function*(){switch(_.signInMethod){case"password":return function lu(v,m){return ts.apply(this,arguments)}(m,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function zo(v,m){return Wo.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:He(m,"internal-error")}})()}_linkToIdToken(m,_){var E=this;return(0,u.Z)(function*(){switch(E.signInMethod){case"password":return _o(m,{idToken:_,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Li(v,m){return uu.apply(this,arguments)}(m,{idToken:_,email:E._email,oobCode:E._password});default:He(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function $s(v,m){return ii.apply(this,arguments)}function ii(){return(ii=(0,u.Z)(function*(v,m){return wr(v,"POST","/v1/accounts:signInWithIdp",Qt(v,m))})).apply(this,arguments)}class gs extends kr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new gs(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):He("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:E,signInMethod:M}=_,F=(0,oe._T)(_,["providerId","signInMethod"]);if(!E||!M)return null;const X=new gs(E,M);return X.idToken=F.idToken||void 0,X.accessToken=F.accessToken||void 0,X.secret=F.secret,X.nonce=F.nonce,X.pendingToken=F.pendingToken||null,X}_getIdTokenResponse(m){return $s(m,this.buildRequest())}_linkToIdToken(m,_){const E=this.buildRequest();return E.idToken=_,$s(m,E)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,$s(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,H.xO)(_)}return m}}function Vf(v,m){return uc.apply(this,arguments)}function uc(){return(uc=(0,u.Z)(function*(v,m){return tn(v,"POST","/v1/accounts:sendVerificationCode",Qt(v,m))})).apply(this,arguments)}function Ra(){return(Ra=(0,u.Z)(function*(v,m){return wr(v,"POST","/v1/accounts:signInWithPhoneNumber",Qt(v,m))})).apply(this,arguments)}function cc(){return(cc=(0,u.Z)(function*(v,m){const _=yield wr(v,"POST","/v1/accounts:signInWithPhoneNumber",Qt(v,m));if(_.temporaryProof)throw Er(v,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Uf={USER_NOT_FOUND:"user-not-found"};function dc(){return(dc=(0,u.Z)(function*(v,m){return wr(v,"POST","/v1/accounts:signInWithPhoneNumber",Qt(v,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Uf)})).apply(this,arguments)}class Ko extends kr{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new Ko({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new Ko({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function Bf(v,m){return Ra.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function Zo(v,m){return cc.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function jf(v,m){return dc.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:E,verificationCode:M}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:E,code:M}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:E,phoneNumber:M,temporaryProof:F}=m;return E||_||M||F?new Ko({verificationId:_,verificationCode:E,phoneNumber:M,temporaryProof:F}):null}}class Gs{constructor(m){var _,E,M,F,X,xe;const at=(0,H.zd)((0,H.pd)(m)),wt=null!==(_=at.apiKey)&&void 0!==_?_:null,kt=null!==(E=at.oobCode)&&void 0!==E?E:null,Gn=function Hf(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(M=at.mode)&&void 0!==M?M:null);te(wt&&kt&&Gn,"argument-error"),this.apiKey=wt,this.operation=Gn,this.code=kt,this.continueUrl=null!==(F=at.continueUrl)&&void 0!==F?F:null,this.languageCode=null!==(X=at.languageCode)&&void 0!==X?X:null,this.tenantId=null!==(xe=at.tenantId)&&void 0!==xe?xe:null}static parseLink(m){const _=function kg(v){const m=(0,H.zd)((0,H.pd)(v)).link,_=m?(0,H.zd)((0,H.pd)(m)).deep_link_id:null,E=(0,H.zd)((0,H.pd)(v)).deep_link_id;return(E?(0,H.zd)((0,H.pd)(E)).link:null)||E||_||m||v}(m);try{return new Gs(_)}catch(E){return null}}}let ol=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(_,E){return sl._fromEmailAndPassword(_,E)}static credentialWithLink(_,E){const M=Gs.parseLink(E);return te(M,"argument-error"),sl._fromEmailAndCode(_,M.code,M.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class _s{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class ka extends _s{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class _i extends ka{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return te("providerId"in _&&"signInMethod"in _,"argument-error"),gs._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return te(m.idToken||m.accessToken,"argument-error"),gs._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return _i.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return _i.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:E,oauthTokenSecret:M,pendingToken:F,nonce:X,providerId:xe}=m;if(!E&&!M&&!_&&!F||!xe)return null;try{return new _i(xe)._credential({idToken:_,accessToken:E,nonce:X,pendingToken:F})}catch(at){return null}}}let Rd=(()=>{class v extends ka{constructor(){super("facebook.com")}static credential(_){return gs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch(E){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Yo=(()=>{class v extends ka{constructor(){super("google.com"),this.addScope("profile")}static credential(_,E){return gs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:E})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:E,oauthAccessToken:M}=_;if(!E&&!M)return null;try{return v.credential(E,M)}catch(F){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),al=(()=>{class v extends ka{constructor(){super("github.com")}static credential(_){return gs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch(E){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Oa extends kr{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return $s(m,this.buildRequest())}_linkToIdToken(m,_){const E=this.buildRequest();return E.idToken=_,$s(m,E)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,$s(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:E,signInMethod:M,pendingToken:F}=_;return E&&M&&F&&E===M?new Oa(E,F):null}static _create(m,_){return new Oa(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Vi extends _s{constructor(m){te(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Vi.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Vi.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=Oa.fromJSON(m);return te(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:E}=m;if(!_||!E)return null;try{return Oa._create(E,_)}catch(M){return null}}}let ys=(()=>{class v extends ka{constructor(){super("twitter.com")}static credential(_,E){return gs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:E})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:E,oauthTokenSecret:M}=_;if(!E||!M)return null;try{return v.credential(E,M)}catch(F){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function ul(v,m){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,u.Z)(function*(v,m){return wr(v,"POST","/v1/accounts:signUp",Qt(v,m))})).apply(this,arguments)}class xn{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,E,M=!1){return(0,u.Z)(function*(){const F=yield Lt._fromIdTokenResponse(m,E,M),X=Qo(E);return new xn({user:F,providerId:X,_tokenResponse:E,operationType:_})})()}static _forOperation(m,_,E){return(0,u.Z)(function*(){yield m._updateTokensIfNecessary(E,!0);const M=Qo(E);return new xn({user:m,providerId:M,_tokenResponse:E,operationType:_})})()}}function Qo(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function $f(v){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,u.Z)(function*(v){var m;const _=fn(v);if(yield _._initializationPromise,null===(m=_.currentUser)||void 0===m?void 0:m.isAnonymous)return new xn({user:_.currentUser,providerId:null,operationType:"signIn"});const E=yield ul(_,{returnSecureToken:!0}),M=yield xn._fromIdTokenResponse(_,"signIn",E,!0);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class cu extends H.ZR{constructor(m,_,E,M){var F;super(_.code,_.message),this.operationType=E,this.user=M,Object.setPrototypeOf(this,cu.prototype),this.customData={appName:m.name,tenantId:null!==(F=m.tenantId)&&void 0!==F?F:void 0,_serverResponse:_.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(m,_,E,M){return new cu(m,_,E,M)}}function fc(v,m,_,E){return("reauthenticate"===m?_._getReauthenticationResolver(v):_._getIdTokenResponse(v)).catch(F=>{throw"auth/multi-factor-auth-required"===F.code?cu._fromErrorAndOperation(v,F,m,E):F})}function cl(v){return new Set(v.map(({providerId:m})=>m).filter(m=>!!m))}function qs(v,m){return vo.apply(this,arguments)}function vo(){return(vo=(0,u.Z)(function*(v,m){const _=(0,H.m9)(v);yield bo(!0,_,m);const{providerUserInfo:E}=yield Mr(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),M=cl(E||[]);return _.providerData=_.providerData.filter(F=>M.has(F.providerId)),M.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function du(v,m){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,u.Z)(function*(v,m,_=!1){const E=yield it(v,m._linkToIdToken(v.auth,yield v.getIdToken()),_);return xn._forOperation(v,"link",E)})).apply(this,arguments)}function bo(v,m,_){return wo.apply(this,arguments)}function wo(){return(wo=(0,u.Z)(function*(v,m,_){yield Bn(m);const M=!1===v?"provider-already-linked":"no-such-provider";te(cl(m.providerData).has(_)===v,m.auth,M)})).apply(this,arguments)}function mn(v,m){return hu.apply(this,arguments)}function hu(){return(hu=(0,u.Z)(function*(v,m,_=!1){const{auth:E}=v,M="reauthenticate";try{const F=yield it(v,fc(E,M,m,v),_);te(F.idToken,E,"internal-error");const X=Gt(F.idToken);te(X,E,"internal-error");const{sub:xe}=X;return te(v.uid===xe,E,"user-mismatch"),xn._forOperation(v,M,F)}catch(F){throw"auth/user-not-found"===(null==F?void 0:F.code)&&He(E,"user-mismatch"),F}})).apply(this,arguments)}function Xo(v,m){return zs.apply(this,arguments)}function zs(){return(zs=(0,u.Z)(function*(v,m,_=!1){const E="signIn",M=yield fc(v,E,m),F=yield xn._fromIdTokenResponse(v,E,M);return _||(yield v._updateCurrentUser(F.user)),F})).apply(this,arguments)}function Cr(v,m){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,u.Z)(function*(v,m){return Xo(fn(v),m)})).apply(this,arguments)}function dl(v,m){return yi.apply(this,arguments)}function yi(){return(yi=(0,u.Z)(function*(v,m){const _=(0,H.m9)(v);return yield bo(!1,_,m.providerId),du(_,m)})).apply(this,arguments)}function $r(v,m){return vs.apply(this,arguments)}function vs(){return(vs=(0,u.Z)(function*(v,m){return mn((0,H.m9)(v),m)})).apply(this,arguments)}function Eo(v,m){return ea.apply(this,arguments)}function ea(){return(ea=(0,u.Z)(function*(v,m){return wr(v,"POST","/v1/accounts:signInWithCustomToken",Qt(v,m))})).apply(this,arguments)}function Bi(v,m){return ns.apply(this,arguments)}function ns(){return(ns=(0,u.Z)(function*(v,m){const _=fn(v),E=yield Eo(_,{token:m,returnSecureToken:!0}),M=yield xn._fromIdTokenResponse(_,"signIn",E);return yield _._updateCurrentUser(M.user),M})).apply(this,arguments)}class bs{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?Et._fromServerResponse(m,_):He(m,"internal-error")}}class Et extends bs{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new Et(_)}}function Na(v,m,_){var E;te((null===(E=_.url)||void 0===E?void 0:E.length)>0,v,"invalid-continue-uri"),te(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(te(_.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(te(_.android.packageName.length>0,v,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function pc(v,m,_){return ta.apply(this,arguments)}function ta(){return(ta=(0,u.Z)(function*(v,m,_){const E=(0,H.m9)(v),M={requestType:"PASSWORD_RESET",email:m};_&&Na(E,M,_),yield vn(E,M)})).apply(this,arguments)}function mc(v,m,_){return na.apply(this,arguments)}function na(){return(na=(0,u.Z)(function*(v,m,_){yield Cn((0,H.m9)(v),{oobCode:m,newPassword:_})})).apply(this,arguments)}function Od(v,m){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,u.Z)(function*(v,m){yield il((0,H.m9)(v),{oobCode:m})})).apply(this,arguments)}function Ie(v,m){return jt.apply(this,arguments)}function jt(){return(jt=(0,u.Z)(function*(v,m){const _=(0,H.m9)(v),E=yield Cn(_,{oobCode:m}),M=E.requestType;switch(te(M,_,"internal-error"),M){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(E.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(E.mfaInfo,_,"internal-error");default:te(E.email,_,"internal-error")}let F=null;return E.mfaInfo&&(F=bs._fromServerResponse(fn(_),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:F},operation:M}})).apply(this,arguments)}function Pd(v,m){return bn.apply(this,arguments)}function bn(){return(bn=(0,u.Z)(function*(v,m){const{data:_}=yield Ie((0,H.m9)(v),m);return _.email})).apply(this,arguments)}function hl(v,m,_){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,u.Z)(function*(v,m,_){const E=fn(v),M=yield ul(E,{returnSecureToken:!0,email:m,password:_}),F=yield xn._fromIdTokenResponse(E,"signIn",M);return yield E._updateCurrentUser(F.user),F})).apply(this,arguments)}function Ui(v,m,_){return Cr((0,H.m9)(v),ol.credential(m,_))}function fu(v,m,_){return La.apply(this,arguments)}function La(){return(La=(0,u.Z)(function*(v,m,_){const E=(0,H.m9)(v),M={requestType:"EMAIL_SIGNIN",email:m};te(_.handleCodeInApp,E,"argument-error"),_&&Na(E,M,_),yield lc(E,M)})).apply(this,arguments)}function Gf(v,m){const _=Gs.parseLink(m);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}function pu(v,m,_){return ra.apply(this,arguments)}function ra(){return(ra=(0,u.Z)(function*(v,m,_){const E=(0,H.m9)(v),M=ol.credentialWithLink(m,_||ae());return te(M._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Cr(E,M)})).apply(this,arguments)}function ia(v,m){return lr.apply(this,arguments)}function lr(){return(lr=(0,u.Z)(function*(v,m){return tn(v,"POST","/v1/accounts:createAuthUri",Qt(v,m))})).apply(this,arguments)}function rs(v,m){return sa.apply(this,arguments)}function sa(){return(sa=(0,u.Z)(function*(v,m){const E={identifier:m,continueUri:It()?ae():"http://localhost"},{signinMethods:M}=yield ia((0,H.m9)(v),E);return M||[]})).apply(this,arguments)}function oa(v,m){return si.apply(this,arguments)}function si(){return(si=(0,u.Z)(function*(v,m){const _=(0,H.m9)(v),M={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};m&&Na(_.auth,M,m);const{email:F}=yield yo(_.auth,M);F!==v.email&&(yield v.reload())})).apply(this,arguments)}function Nd(v,m,_){return aa.apply(this,arguments)}function aa(){return(aa=(0,u.Z)(function*(v,m,_){const E=(0,H.m9)(v),F={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:m};_&&Na(E.auth,F,_);const{email:X}=yield gi(E.auth,F);X!==v.email&&(yield v.reload())})).apply(this,arguments)}function gc(v,m){return Va.apply(this,arguments)}function Va(){return(Va=(0,u.Z)(function*(v,m){return tn(v,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function mu(v,m){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,u.Z)(function*(v,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const E=(0,H.m9)(v),F={idToken:yield E.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},X=yield it(E,gc(E.auth,F));E.displayName=X.displayName||null,E.photoURL=X.photoUrl||null;const xe=E.providerData.find(({providerId:at})=>"password"===at);xe&&(xe.displayName=E.displayName,xe.photoURL=E.photoURL),yield E._updateTokensIfNecessary(X)})).apply(this,arguments)}function Fd(v,m){return _u((0,H.m9)(v),m,null)}function gu(v,m){return _u((0,H.m9)(v),null,m)}function _u(v,m,_){return fl.apply(this,arguments)}function fl(){return(fl=(0,u.Z)(function*(v,m,_){const{auth:E}=v,F={idToken:yield v.getIdToken(),returnSecureToken:!0};m&&(F.email=m),_&&(F.password=_);const X=yield it(v,_o(E,F));yield v._updateTokensIfNecessary(X,!0)})).apply(this,arguments)}class Co{constructor(m,_,E={}){this.isNewUser=m,this.providerId=_,this.profile=E}}class yu extends Co{constructor(m,_,E,M){super(m,_,E),this.username=M}}class Ld extends Co{constructor(m,_){super(m,"facebook.com",_)}}class _c extends yu{constructor(m,_){super(m,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class Do extends Co{constructor(m,_){super(m,"google.com",_)}}class Ks extends yu{constructor(m,_,E){super(m,"twitter.com",_,E)}}function vu(v){const{user:m,_tokenResponse:_}=v;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Ba(v){var m,_;if(!v)return null;const{providerId:E}=v,M=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},F=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!E&&(null==v?void 0:v.idToken)){const X=null===(_=null===(m=Gt(v.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(X)return new Co(F,"anonymous"!==X&&"custom"!==X?X:null)}if(!E)return null;switch(E){case"facebook.com":return new Ld(F,M);case"github.com":return new _c(F,M);case"google.com":return new Do(F,M);case"twitter.com":return new Ks(F,M,v.screenName||null);case"custom":case"anonymous":return new Co(F,null);default:return new Co(F,E,M)}}(_)}class To{constructor(m,_){this.type=m,this.credential=_}static _fromIdtoken(m){return new To("enroll",m)}static _fromMfaPendingCredential(m){return new To("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,E;if(null==m?void 0:m.multiFactorSession){if(null===(_=m.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return To._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null===(E=m.multiFactorSession)||void 0===E?void 0:E.idToken)return To._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Ua{constructor(m,_,E){this.session=m,this.hints=_,this.signInResolver=E}static _fromError(m,_){const E=fn(m),M=_.customData._serverResponse,F=(M.mfaInfo||[]).map(xe=>bs._fromServerResponse(E,xe));te(M.mfaPendingCredential,E,"internal-error");const X=To._fromMfaPendingCredential(M.mfaPendingCredential);return new Ua(X,F,function(){var xe=(0,u.Z)(function*(at){const wt=yield at._process(E,X);delete M.mfaInfo,delete M.mfaPendingCredential;const kt=Object.assign(Object.assign({},M),{idToken:wt.idToken,refreshToken:wt.refreshToken});switch(_.operationType){case"signIn":const Gn=yield xn._fromIdTokenResponse(E,_.operationType,kt);return yield E._updateCurrentUser(Gn.user),Gn;case"reauthenticate":return te(_.user,E,"internal-error"),xn._forOperation(_.user,_.operationType,kt);default:He(E,"internal-error")}});return function(at){return xe.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,u.Z)(function*(){return _.signInResolver(m)})()}}function wu(v,m){var _;const E=(0,H.m9)(v),M=m;return te(m.customData.operationType,E,"argument-error"),te(null===(_=M.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,E,"argument-error"),Ua._fromError(E,M)}function pl(v,m){return tn(v,"POST","/v2/accounts/mfaEnrollment:start",Qt(v,m))}class bc{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(E=>bs._fromServerResponse(m.auth,E)))})}static _fromUser(m){return new bc(m)}getSession(){var m=this;return(0,u.Z)(function*(){return To._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,_){var E=this;return(0,u.Z)(function*(){const M=m,F=yield E.getSession(),X=yield it(E.user,M._process(E.user.auth,F,_));return yield E.user._updateTokensIfNecessary(X),E.user.reload()})()}unenroll(m){var _=this;return(0,u.Z)(function*(){const E="string"==typeof m?m:m.uid,M=yield _.user.getIdToken(),F=yield it(_.user,function vc(v,m){return tn(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Qt(v,m))}(_.user.auth,{idToken:M,mfaEnrollmentId:E}));_.enrolledFactors=_.enrolledFactors.filter(({uid:X})=>X!==E),yield _.user._updateTokensIfNecessary(F);try{yield _.user.reload()}catch(X){if("auth/user-token-expired"!==X.code)throw X}})()}}const ws=new WeakMap;function ml(v){const m=(0,H.m9)(v);return ws.has(m)||ws.set(m,bc._fromUser(m)),ws.get(m)}const ja="__sak";class Bd{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(ja,"1"),this.storage.removeItem(ja),Promise.resolve(!0)):Promise.resolve(!1)}catch(m){return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const gn=(()=>{class v extends Bd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,E)=>this.onStorageEvent(_,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function la(){const v=(0,H.z$)();return j(v)||Rt(v)}()&&function Fi(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=xr(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const E of Object.keys(this.listeners)){const M=this.storage.getItem(E),F=this.localCache[E];M!==F&&_(E,F,M)}}onStorageEvent(_,E=!1){if(!_.key)return void this.forAllChangedKeys((xe,at,wt)=>{this.notifyListeners(xe,wt)});const M=_.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const xe=this.storage.getItem(M);if(_.newValue!==xe)null!==_.newValue?this.storage.setItem(M,_.newValue):this.storage.removeItem(M);else if(this.localCache[M]===_.newValue&&!E)return}const F=()=>{const xe=this.storage.getItem(M);!E&&this.localCache[M]===xe||this.notifyListeners(M,xe)},X=this.storage.getItem(M);!function Kt(){return(0,H.w1)()&&10===document.documentMode}()||X===_.newValue||_.newValue===_.oldValue?F():setTimeout(F,10)}notifyListeners(_,E){this.localCache[_]=E;const M=this.listeners[_];if(M)for(const F of Array.from(M))F(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,E,M)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:E,newValue:M}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,E){var M=()=>super._set,F=this;return(0,u.Z)(function*(){yield M().call(F,_,E),F.localCache[_]=JSON.stringify(E)})()}_get(_){var E=()=>super._get,M=this;return(0,u.Z)(function*(){const F=yield E().call(M,_);return M.localCache[_]=JSON.stringify(F),F})()}_remove(_){var E=()=>super._remove,M=this;return(0,u.Z)(function*(){yield E().call(M,_),delete M.localCache[_]})()}}return v.type="LOCAL",v})(),ct=(()=>{class v extends Bd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,E){}_removeListener(_,E){}}return v.type="SESSION",v})();let Pr=(()=>{class v{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const E=this.receivers.find(F=>F.isListeningto(_));if(E)return E;const M=new v(_);return this.receivers.push(M),M}isListeningto(_){return this.eventTarget===_}handleEvent(_){var E=this;return(0,u.Z)(function*(){const M=_,{eventId:F,eventType:X,data:xe}=M.data,at=E.handlersMap[X];if(!(null==at?void 0:at.size))return;M.ports[0].postMessage({status:"ack",eventId:F,eventType:X});const wt=Array.from(at).map(function(){var Gn=(0,u.Z)(function*(ui){return ui(M.origin,xe)});return function(ui){return Gn.apply(this,arguments)}}()),kt=yield function nn(v){return Promise.all(v.map(function(){var m=(0,u.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(E){return{fulfilled:!1,reason:E}}});return function(_){return m.apply(this,arguments)}}()))}(wt);M.ports[0].postMessage({status:"done",eventId:F,eventType:X,response:kt})})()}_subscribe(_,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(E)}_unsubscribe(_,E){this.handlersMap[_]&&E&&this.handlersMap[_].delete(E),(!E||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function wn(v="",m=10){let _="";for(let E=0;E<m;E++)_+=Math.floor(10*Math.random());return v+_}class Ec{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,E=50){var M=this;return(0,u.Z)(function*(){const F="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!F)throw new Error("connection_unavailable");let X,xe;return new Promise((at,wt)=>{const kt=wn("",20);F.port1.start();const Gn=setTimeout(()=>{wt(new Error("unsupported_event"))},E);xe={messageChannel:F,onMessage(ui){const Za=ui;if(Za.data.eventId===kt)switch(Za.data.status){case"ack":clearTimeout(Gn),X=setTimeout(()=>{wt(new Error("timeout"))},3e3);break;case"done":clearTimeout(X),at(Za.data.response);break;default:clearTimeout(Gn),clearTimeout(X),wt(new Error("invalid_response"))}}},M.handlers.add(xe),F.port1.addEventListener("message",xe.onMessage),M.target.postMessage({eventType:m,eventId:kt,data:_},[F.port2])}).finally(()=>{xe&&M.removeMessageHandler(xe)})})()}}function Wn(){return window}function Eu(){return void 0!==Wn().WorkerGlobalScope&&"function"==typeof Wn().importScripts}function ua(){return(ua=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const Cu="firebaseLocalStorageDb",ca="firebaseLocalStorage",Ha="fbase_key";class _n{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Js(v,m){return v.transaction([ca],m?"readwrite":"readonly").objectStore(ca)}function qr(){const v=indexedDB.open(Cu,1);return new Promise((m,_)=>{v.addEventListener("error",()=>{_(v.error)}),v.addEventListener("upgradeneeded",()=>{const E=v.result;try{E.createObjectStore(ca,{keyPath:Ha})}catch(M){_(M)}}),v.addEventListener("success",(0,u.Z)(function*(){const E=v.result;E.objectStoreNames.contains(ca)?m(E):(E.close(),yield function Du(){const v=indexedDB.deleteDatabase(Cu);return new _n(v).toPromise()}(),m(yield qr()))}))})}function So(v,m,_){return gl.apply(this,arguments)}function gl(){return(gl=(0,u.Z)(function*(v,m,_){const E=Js(v,!0).put({[Ha]:m,value:_});return new _n(E).toPromise()})).apply(this,arguments)}function eo(){return(eo=(0,u.Z)(function*(v,m){const _=Js(v,!1).get(m),E=yield new _n(_).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function _l(v,m){const _=Js(v,!0).delete(m);return new _n(_).toPromise()}const ss=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,u.Z)(function*(){return _.db||(_.db=yield qr()),_.db})()}_withRetries(_){var E=this;return(0,u.Z)(function*(){let M=0;for(;;)try{const F=yield E._openDb();return yield _(F)}catch(F){if(M++>3)throw F;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,u.Z)(function*(){return Eu()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,u.Z)(function*(){_.receiver=Pr._getInstance(function Vt(){return Eu()?self:null}()),_.receiver._subscribe("keyChanged",function(){var E=(0,u.Z)(function*(M,F){return{keyProcessed:(yield _._poll()).includes(F.key)}});return function(M,F){return E.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var E=(0,u.Z)(function*(M,F){return["keyChanged"]});return function(M,F){return E.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,u.Z)(function*(){var E,M;if(_.activeServiceWorker=yield function Es(){return ua.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Ec(_.activeServiceWorker);const F=yield _.sender._send("ping",{},800);!F||(null===(E=F[0])||void 0===E?void 0:E.fulfilled)&&(null===(M=F[0])||void 0===M?void 0:M.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var E=this;return(0,u.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function is(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:_},E.serviceWorkerReceiverAvailable?800:50)}catch(M){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const _=yield qr();return yield So(_,ja,"1"),yield _l(_,ja),!0}catch(_){}return!1})()}_withPendingWrite(_){var E=this;return(0,u.Z)(function*(){E.pendingWrites++;try{yield _()}finally{E.pendingWrites--}})()}_set(_,E){var M=this;return(0,u.Z)(function*(){return M._withPendingWrite((0,u.Z)(function*(){return yield M._withRetries(F=>So(F,_,E)),M.localCache[_]=E,M.notifyServiceWorker(_)}))})()}_get(_){var E=this;return(0,u.Z)(function*(){const M=yield E._withRetries(F=>function Xs(v,m){return eo.apply(this,arguments)}(F,_));return E.localCache[_]=M,M})()}_remove(_){var E=this;return(0,u.Z)(function*(){return E._withPendingWrite((0,u.Z)(function*(){return yield E._withRetries(M=>_l(M,_)),delete E.localCache[_],E.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,u.Z)(function*(){const E=yield _._withRetries(X=>{const xe=Js(X,!1).getAll();return new _n(xe).toPromise()});if(!E)return[];if(0!==_.pendingWrites)return[];const M=[],F=new Set;for(const{fbase_key:X,value:xe}of E)F.add(X),JSON.stringify(_.localCache[X])!==JSON.stringify(xe)&&(_.notifyListeners(X,xe),M.push(X));for(const X of Object.keys(_.localCache))_.localCache[X]&&!F.has(X)&&(_.notifyListeners(X,null),M.push(X));return M})()}notifyListeners(_,E){this.localCache[_]=E;const M=this.listeners[_];if(M)for(const F of Array.from(M))F(E)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(E)}_removeListener(_,E){this.listeners[_]&&(this.listeners[_].delete(E),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function zr(v,m){return tn(v,"POST","/v2/accounts/mfaSignIn:start",Qt(v,m))}function yl(){return(yl=(0,u.Z)(function*(v){return(yield tn(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function vi(v){return new Promise((m,_)=>{const E=document.createElement("script");E.setAttribute("src",v),E.onload=m,E.onerror=M=>{const F=Re("internal-error");F.customData=M,_(F)},E.type="text/javascript",E.charset="UTF-8",function En(){var v,m;return null!==(m=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==m?m:document}().appendChild(E)})}function Wr(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Nn=1e12;class Nr{constructor(m){this.auth=m,this.counter=Nn,this._widgets=new Map}render(m,_){const E=this.counter;return this._widgets.set(E,new mr(m,this.auth.name,_||{})),this.counter++,E}reset(m){var _;const E=m||Nn;null===(_=this._widgets.get(E))||void 0===_||_.delete(),this._widgets.delete(E)}getResponse(m){var _;return(null===(_=this._widgets.get(m||Nn))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,u.Z)(function*(){var E;return null===(E=_._widgets.get(m||Nn))||void 0===E||E.execute(),""})()}}class mr{constructor(m,_,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const M="string"==typeof m?document.getElementById(m):m;te(M,"argument-error",{appName:_}),this.container=M,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function oi(v){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<v;E++)m.push(_.charAt(Math.floor(Math.random()*_.length)));return m.join("")}(50);const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const wi=Wr("rcb"),vl=new mt(3e4,6e4);class $n{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Wn().grecaptcha}load(m,_=""){return te(function $d(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(_),m,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Wn().grecaptcha):new Promise((E,M)=>{const F=Wn().setTimeout(()=>{M(Re(m,"network-request-failed"))},vl.get());Wn()[wi]=()=>{Wn().clearTimeout(F),delete Wn()[wi];const xe=Wn().grecaptcha;if(!xe)return void M(Re(m,"internal-error"));const at=xe.render;xe.render=(wt,kt)=>{const Gn=at(wt,kt);return this.counter++,Gn},this.hostLanguage=_,E(xe)},vi(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:wi,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(F),M(Re(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){return!!Wn().grecaptcha&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Pg{load(m){return(0,u.Z)(function*(){return new Nr(m)})()}clearedOneInstance(){}}const Io="recaptcha",Zr={theme:"light",type:"image"};class Gd{constructor(m,_=Object.assign({},Zr),E){this.parameters=_,this.type=Io,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fn(E),this.isInvisible="invisible"===this.parameters.size,te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const M="string"==typeof m?document.getElementById(m):m;te(M,this.auth,"argument-error"),this.container=M,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Pg:new $n,this.validateStartingState()}verify(){var m=this;return(0,u.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),E=m.getAssertedRecaptcha();return E.getResponse(_)||new Promise(F=>{const X=xe=>{!xe||(m.tokenChangeListeners.delete(X),F(xe))};m.tokenChangeListeners.add(X),m.isInvisible&&E.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(E=>E(_)),"function"==typeof m)m(_);else if("string"==typeof m){const E=Wn()[m];"function"==typeof E&&E(_)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,u.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const E=document.createElement("div");_.appendChild(E),_=E}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,u.Z)(function*(){te(It()&&!Eu(),m.auth,"internal-error"),yield function no(){let v=null;return new Promise(m=>{"complete"!==document.readyState?(v=()=>m(),window.addEventListener("load",v)):m()}).catch(m=>{throw v&&window.removeEventListener("load",v),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function $a(v){return yl.apply(this,arguments)}(m.auth);te(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class bl{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=Ko._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function Ds(v,m,_){return Su.apply(this,arguments)}function Su(){return(Su=(0,u.Z)(function*(v,m,_){const E=fn(v),M=yield El(E,m,(0,H.m9)(_));return new bl(M,F=>Cr(E,F))})).apply(this,arguments)}function Xn(v,m,_){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,u.Z)(function*(v,m,_){const E=(0,H.m9)(v);yield bo(!1,E,"phone");const M=yield El(E.auth,m,(0,H.m9)(_));return new bl(M,F=>dl(E,F))})).apply(this,arguments)}function wl(v,m,_){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,u.Z)(function*(v,m,_){const E=(0,H.m9)(v),M=yield El(E.auth,m,(0,H.m9)(_));return new bl(M,F=>$r(E,F))})).apply(this,arguments)}function El(v,m,_){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,u.Z)(function*(v,m,_){var E;const M=yield _.verify();try{let F;if(te("string"==typeof M,v,"argument-error"),te(_.type===Io,v,"argument-error"),F="string"==typeof m?{phoneNumber:m}:m,"session"in F){const X=F.session;if("phoneNumber"in F)return te("enroll"===X.type,v,"internal-error"),(yield pl(v,{idToken:X.credential,phoneEnrollmentInfo:{phoneNumber:F.phoneNumber,recaptchaToken:M}})).phoneSessionInfo.sessionInfo;{te("signin"===X.type,v,"internal-error");const xe=(null===(E=F.multiFactorHint)||void 0===E?void 0:E.uid)||F.multiFactorUid;return te(xe,v,"missing-multi-factor-info"),(yield zr(v,{mfaPendingCredential:X.credential,mfaEnrollmentId:xe,phoneSignInInfo:{recaptchaToken:M}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:X}=yield Vf(v,{phoneNumber:F.phoneNumber,recaptchaToken:M});return X}}finally{_._reset()}})).apply(this,arguments)}function ji(v,m){return qa.apply(this,arguments)}function qa(){return(qa=(0,u.Z)(function*(v,m){yield du((0,H.m9)(v),m)})).apply(this,arguments)}let da=(()=>{class v{constructor(_){this.providerId=v.PROVIDER_ID,this.auth=fn(_)}verifyPhoneNumber(_,E){return El(this.auth,_,(0,H.m9)(E))}static credential(_,E){return Ko._fromVerification(_,E)}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:E,temporaryProof:M}=_;return E&&M?Ko._fromTokenResponse(E,M):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function ai(v,m){return m?ue(m):(te(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class ha extends kr{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return $s(m,this._buildIdpRequest())}_linkToIdToken(m,_){return $s(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return $s(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function Iu(v){return Xo(v.auth,new ha(v),v.bypassAuthState)}function Cl(v){const{auth:m,user:_}=v;return te(_,m,"internal-error"),mn(_,new ha(v),v.bypassAuthState)}function Ht(v){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,u.Z)(function*(v){const{auth:m,user:_}=v;return te(_,m,"internal-error"),du(_,new ha(v),v.bypassAuthState)})).apply(this,arguments)}class Ao{constructor(m,_,E,M,F=!1){this.auth=m,this.resolver=E,this.user=M,this.bypassAuthState=F,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,u.Z)(function*(E,M){m.pendingPromise={resolve:E,reject:M};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(F){m.reject(F)}});return function(E,M){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,u.Z)(function*(){const{urlResponse:E,sessionId:M,postBody:F,tenantId:X,error:xe,type:at}=m;if(xe)return void _.reject(xe);const wt={auth:_.auth,requestUri:E,sessionId:M,tenantId:X||void 0,postBody:F||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(at)(wt))}catch(kt){_.reject(kt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Iu;case"linkViaPopup":case"linkViaRedirect":return Ht;case"reauthViaPopup":case"reauthViaRedirect":return Cl;default:He(this.auth,"internal-error")}}resolve(m){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){Y(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const li=new mt(2e3,1e4);function Tl(v,m,_){return ro.apply(this,arguments)}function ro(){return(ro=(0,u.Z)(function*(v,m,_){const E=fn(v);Ce(v,m,_s);const M=ai(E,_);return new Il(E,"signInViaPopup",m,M).executeNotNull()})).apply(this,arguments)}function qf(v,m,_){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,u.Z)(function*(v,m,_){const E=(0,H.m9)(v);Ce(E.auth,m,_s);const M=ai(E.auth,_);return new Il(E.auth,"reauthViaPopup",m,M,E).executeNotNull()})).apply(this,arguments)}function Hi(v,m,_){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,u.Z)(function*(v,m,_){const E=(0,H.m9)(v);Ce(E.auth,m,_s);const M=ai(E.auth,_);return new Il(E.auth,"linkViaPopup",m,M,E).executeNotNull()})).apply(this,arguments)}let Il=(()=>{class v extends Ao{constructor(_,E,M,F,X){super(_,E,F,X),this.provider=M,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var _=this;return(0,u.Z)(function*(){const E=yield _.execute();return te(E,_.auth,"internal-error"),E})()}onExecution(){var _=this;return(0,u.Z)(function*(){Y(1===_.filter.length,"Popup operations only handle one event");const E=wn();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],E),_.authWindow.associatedEvent=E,_.resolver._originValidation(_.auth).catch(M=>{_.reject(M)}),_.resolver._isIframeWebStorageSupported(_.auth,M=>{M||_.reject(Re(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Re(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const _=()=>{var E,M;this.pollId=(null===(M=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===M?void 0:M.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Re(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,li.get())};_()}}return v.currentPopupAction=null,v})();const Au=new Map;class In extends Ao{constructor(m,_,E=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,E),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,u.Z)(function*(){let E=Au.get(_.auth._key());if(!E){try{const F=(yield function Ei(v,m){return za.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;E=()=>Promise.resolve(F)}catch(M){E=()=>Promise.reject(M)}Au.set(_.auth._key(),E)}return _.bypassAuthState||Au.set(_.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,E=this;return(0,u.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(E,m);if("unknown"!==m.type){if(m.eventId){const M=yield E.auth._redirectUserForId(m.eventId);if(M)return E.user=M,_().call(E,m);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function za(){return(za=(0,u.Z)(function*(v,m){const _=D(m),E=Ml(v);if(!(yield E._isAvailable()))return!1;const M="true"===(yield E._get(_));return yield E._remove(_),M})).apply(this,arguments)}function Mu(v,m){return so.apply(this,arguments)}function so(){return(so=(0,u.Z)(function*(v,m){return Ml(v)._set(D(m),"true")})).apply(this,arguments)}function Al(){Au.clear()}function Ml(v){return ue(v._redirectPersistence)}function D(v){return K("pendingRedirect",v.config.apiKey,v.name)}function S(v,m,_){return function R(v,m,_){return B.apply(this,arguments)}(v,m,_)}function B(){return(B=(0,u.Z)(function*(v,m,_){const E=fn(v);Ce(v,m,_s);const M=ai(E,_);return yield Mu(M,E),M._openRedirect(E,m,"signInViaRedirect")})).apply(this,arguments)}function Q(v,m,_){return function re(v,m,_){return ge.apply(this,arguments)}(v,m,_)}function ge(){return(ge=(0,u.Z)(function*(v,m,_){const E=(0,H.m9)(v);Ce(E.auth,m,_s);const M=ai(E.auth,_);yield Mu(M,E.auth);const F=yield oo(E);return M._openRedirect(E.auth,m,"reauthViaRedirect",F)})).apply(this,arguments)}function nt(v,m,_){return function ot(v,m,_){return bt.apply(this,arguments)}(v,m,_)}function bt(){return(bt=(0,u.Z)(function*(v,m,_){const E=(0,H.m9)(v);Ce(E.auth,m,_s);const M=ai(E.auth,_);yield bo(!1,E,m.providerId),yield Mu(M,E.auth);const F=yield oo(E);return M._openRedirect(E.auth,m,"linkViaRedirect",F)})).apply(this,arguments)}function Jt(v,m){return At.apply(this,arguments)}function At(){return(At=(0,u.Z)(function*(v,m){return yield fn(v)._initializationPromise,er(v,m,!1)})).apply(this,arguments)}function er(v,m){return tr.apply(this,arguments)}function tr(){return(tr=(0,u.Z)(function*(v,m,_=!1){const E=fn(v),M=ai(E,m),X=yield new In(E,M,_).execute();return X&&!_&&(delete X.user._redirectEventId,yield E._persistUserIfCurrent(X.user),yield E._setRedirectUser(null,m)),X})).apply(this,arguments)}function oo(v){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,u.Z)(function*(v){const m=wn(`${v.uid}:::`);return v._redirectEventId=m,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),m})).apply(this,arguments)}class gr{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(m,E)&&(_=!0,this.sendToConsumer(m,E),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function Tc(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return as(v);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var E;if(m.error&&!as(m)){const M=(null===(E=m.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";_.onError(Re(this.auth,M))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const E=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&E}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ao(m))}saveEventToCache(m){this.cachedEventUids.add(ao(m)),this.lastProcessedEventTime=Date.now()}}function ao(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(m=>m).join("-")}function as({type:v,error:m}){return"unknown"===v&&"auth/no-auth-event"===(null==m?void 0:m.code)}function Sc(v){return xl.apply(this,arguments)}function xl(){return(xl=(0,u.Z)(function*(v,m={}){return tn(v,"GET","/v1/projects",m)})).apply(this,arguments)}const Ic=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zf=/^https?/;function Rl(){return(Rl=(0,u.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:m}=yield Sc(v);for(const _ of m)try{if(kl(_))return}catch(E){}He(v,"unauthorized-domain")})).apply(this,arguments)}function kl(v){const m=ae(),{protocol:_,hostname:E}=new URL(m);if(v.startsWith("chrome-extension://")){const X=new URL(v);return""===X.hostname&&""===E?"chrome-extension:"===_&&v.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&X.hostname===E}if(!zf.test(_))return!1;if(Ic.test(v))return E===v;const M=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+M+"|"+M+")$","i").test(E)}const xu=new mt(3e4,6e4);function Wf(){const v=Wn().___jsl;if(null==v?void 0:v.H)for(const m of Object.keys(v.H))if(v.H[m].r=v.H[m].r||[],v.H[m].L=v.H[m].L||[],v.H[m].r=[...v.H[m].L],v.CP)for(let _=0;_<v.CP.length;_++)v.CP[_]=null}let Ru=null;function Zf(v){return Ru=Ru||function Hb(v){return new Promise((m,_)=>{var E,M,F;function X(){Wf(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Wf(),_(Re(v,"network-request-failed"))},timeout:xu.get()})}if(null===(M=null===(E=Wn().gapi)||void 0===E?void 0:E.iframes)||void 0===M?void 0:M.Iframe)m(gapi.iframes.getContext());else{if(!(null===(F=Wn().gapi)||void 0===F?void 0:F.load)){const xe=Wr("iframefcb");return Wn()[xe]=()=>{gapi.load?X():_(Re(v,"network-request-failed"))},vi(`https://apis.google.com/js/api.js?onload=${xe}`).catch(at=>_(at))}X()}}).catch(m=>{throw Ru=null,m})}(v),Ru}const Kf=new mt(5e3,15e3),Ol={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ku=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ac(v){const m=v.config;te(m.authDomain,v,"auth-domain-config-required");const _=m.emulator?hn(m,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,E={apiKey:m.apiKey,appName:v.name,v:k.SDK_VERSION},M=ku.get(v.config.apiHost);M&&(E.eid=M);const F=v._getFrameworks();return F.length&&(E.fw=F.join(",")),`${_}?${(0,H.xO)(E).slice(1)}`}function xo(){return xo=(0,u.Z)(function*(v){const m=yield Zf(v),_=Wn().gapi;return te(_,v,"internal-error"),m.open({where:document.body,url:Ac(v),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ol,dontclear:!0},E=>new Promise(function(){var M=(0,u.Z)(function*(F,X){yield E.restyle({setHideOnLeave:!1});const xe=Re(v,"network-request-failed"),at=Wn().setTimeout(()=>{X(xe)},Kf.get());function wt(){Wn().clearTimeout(at),F(E)}E.ping(wt).then(wt,()=>{X(xe)})});return function(F,X){return M.apply(this,arguments)}}()))}),xo.apply(this,arguments)}const Yf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Rc{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(m){}}}function zd(v,m,_,E,M,F){te(v.config.authDomain,v,"auth-domain-config-required"),te(v.config.apiKey,v,"invalid-api-key");const X={apiKey:v.config.apiKey,appName:v.name,authType:_,redirectUrl:E,v:k.SDK_VERSION,eventId:M};if(m instanceof _s){m.setDefaultLanguage(v.languageCode),X.providerId=m.providerId||"",(0,H.xb)(m.getCustomParameters())||(X.customParameters=JSON.stringify(m.getCustomParameters()));for(const[at,wt]of Object.entries(F||{}))X[at]=wt}if(m instanceof ka){const at=m.getScopes().filter(wt=>""!==wt);at.length>0&&(X.scopes=at.join(","))}v.tenantId&&(X.tid=v.tenantId);const xe=X;for(const at of Object.keys(xe))void 0===xe[at]&&delete xe[at];return`${function Lg({config:v}){return v.emulator?hn(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,H.xO)(xe).slice(1)}`}const Wd="webStorageSupport",lo=class Is{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ct,this._completeRedirectFn=er}_openPopup(m,_,E,M){var F=this;return(0,u.Z)(function*(){var X;Y(null===(X=F.eventManagers[m._key()])||void 0===X?void 0:X.manager,"_initialize() not called before _openPopup()");const xe=zd(m,_,E,ae(),M);return function kc(v,m,_,E=500,M=600){const F=Math.max((window.screen.availHeight-M)/2,0).toString(),X=Math.max((window.screen.availWidth-E)/2,0).toString();let xe="";const at=Object.assign(Object.assign({},Yf),{width:E.toString(),height:M.toString(),top:F,left:X}),wt=(0,H.z$)().toLowerCase();_&&(xe=le(wt)?"_blank":_),V(wt)&&(m=m||"http://localhost",at.scrollbars="yes");const kt=Object.entries(at).reduce((ui,[Za,Nl])=>`${ui}${Za}=${Nl},`,"");if(function or(v=(0,H.z$)()){var m;return Rt(v)&&!!(null===(m=window.navigator)||void 0===m?void 0:m.standalone)}(wt)&&"_self"!==xe)return function Oc(v,m){const _=document.createElement("a");_.href=v,_.target=m;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(E)}(m||"",xe),new Rc(null);const Gn=window.open(m||"",xe,kt);te(Gn,v,"popup-blocked");try{Gn.focus()}catch(ui){}return new Rc(Gn)}(m,xe,wn())})()}_openRedirect(m,_,E,M){var F=this;return(0,u.Z)(function*(){return yield F._originValidation(m),function Qs(v){Wn().location.href=v}(zd(m,_,E,ae(),M)),new Promise(()=>{})})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:M,promise:F}=this.eventManagers[_];return M?Promise.resolve(M):(Y(F,"If manager is not set, promise should be"),F)}const E=this.initAndGetManager(m);return this.eventManagers[_]={promise:E},E.catch(()=>{delete this.eventManagers[_]}),E}initAndGetManager(m){var _=this;return(0,u.Z)(function*(){const E=yield function Pl(v){return xo.apply(this,arguments)}(m),M=new gr(m);return E.register("authEvent",F=>(te(null==F?void 0:F.authEvent,m,"invalid-auth-event"),{status:M.onEvent(F.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:M},_.iframes[m._key()]=E,M})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(Wd,{type:Wd},M=>{var F;const X=null===(F=null==M?void 0:M[0])||void 0===F?void 0:F[Wd];void 0!==X&&_(!!X),He(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Ng(v){return Rl.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return xr()||j()||Rt()}};class Kd extends class Zd{constructor(m){this.factorId=m}_process(m,_,E){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,E);case"signin":return this._finalizeSignIn(m,_.credential);default:return Je("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Kd(m)}_finalizeEnroll(m,_,E){return function Jn(v,m){return tn(v,"POST","/v2/accounts/mfaEnrollment:finalize",Qt(v,m))}(m,{idToken:_,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function pr(v,m){return tn(v,"POST","/v2/accounts/mfaSignIn:finalize",Qt(v,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Vg=(()=>{class v{constructor(){}static assertion(_){return Kd._fromCredential(_)}}return v.FACTOR_ID="phone",v})();var Bg="@firebase/auth",Yd="0.19.11";class Gb{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,u.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(E=>{var M;m((null===(M=E)||void 0===M?void 0:M.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);!_||(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function Ug(v){(0,k._registerComponent)(new ve.wA("auth",(m,{options:_})=>{const E=m.getProvider("app").getImmediate(),M=m.getProvider("heartbeat"),{apiKey:F,authDomain:X}=E.options;return((xe,at)=>{te(F&&!F.includes(":"),"invalid-api-key",{appName:xe.name}),te(!(null==X?void 0:X.includes(":")),"argument-error",{appName:xe.name});const wt={apiKey:F,authDomain:X,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Kn(v)},kt=new rl(xe,at,wt);return function Pe(v,m){const _=(null==m?void 0:m.persistence)||[],E=(Array.isArray(_)?_:[_]).map(ue);(null==m?void 0:m.errorMap)&&v._updateErrorMap(m.errorMap),v._initializeWithPersistence(E,null==m?void 0:m.popupRedirectResolver)}(kt,_),kt})(E,M)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,E)=>{m.getProvider("auth-internal").initialize()})),(0,k._registerComponent)(new ve.wA("auth-internal",m=>{const _=fn(m.getProvider("auth").getImmediate());return new Gb(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,k.registerVersion)(Bg,Yd,function Qf(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,k.registerVersion)(Bg,Yd,"esm2017")}("Browser")},2090:(ut,Se,P)=>{P.d(Se,{BH:()=>ke,LL:()=>It,ZR:()=>ae,zI:()=>ue,US:()=>ie,tV:()=>W,L:()=>be,$s:()=>Xi,r3:()=>tn,Sg:()=>Ne,ne:()=>_t,vZ:()=>wr,ZB:()=>ee,Lj:()=>Ft,pd:()=>Er,m9:()=>vt,z$:()=>Le,jU:()=>Xe,ru:()=>He,d:()=>Ae,xb:()=>dr,w1:()=>Ce,hl:()=>Y,uI:()=>_e,UG:()=>De,b$:()=>Re,G6:()=>Je,Mn:()=>Ze,X3:()=>pt,xO:()=>pi,zd:()=>hr,eu:()=>he});var u=P(5861);const se=function(Z){const U=[];let K=0;for(let fe=0;fe<Z.length;fe++){let N=Z.charCodeAt(fe);N<128?U[K++]=N:N<2048?(U[K++]=N>>6|192,U[K++]=63&N|128):55296==(64512&N)&&fe+1<Z.length&&56320==(64512&Z.charCodeAt(fe+1))?(N=65536+((1023&N)<<10)+(1023&Z.charCodeAt(++fe)),U[K++]=N>>18|240,U[K++]=N>>12&63|128,U[K++]=N>>6&63|128,U[K++]=63&N|128):(U[K++]=N>>12|224,U[K++]=N>>6&63|128,U[K++]=63&N|128)}return U},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Z,U){if(!Array.isArray(Z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,fe=[];for(let N=0;N<Z.length;N+=3){const V=Z[N],j=N+1<Z.length,le=j?Z[N+1]:0,Be=N+2<Z.length,ze=Be?Z[N+2]:0;let Rt=(15&le)<<2|ze>>6,Sn=63&ze;Be||(Sn=64,j||(Rt=64)),fe.push(K[V>>2],K[(3&V)<<4|le>>4],K[Rt],K[Sn])}return fe.join("")},encodeString(Z,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(Z):this.encodeByteArray(se(Z),U)},decodeString(Z,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(Z):function(Z){const U=[];let K=0,fe=0;for(;K<Z.length;){const N=Z[K++];if(N<128)U[fe++]=String.fromCharCode(N);else if(N>191&&N<224){const V=Z[K++];U[fe++]=String.fromCharCode((31&N)<<6|63&V)}else if(N>239&&N<365){const Be=((7&N)<<18|(63&Z[K++])<<12|(63&Z[K++])<<6|63&Z[K++])-65536;U[fe++]=String.fromCharCode(55296+(Be>>10)),U[fe++]=String.fromCharCode(56320+(1023&Be))}else{const V=Z[K++],j=Z[K++];U[fe++]=String.fromCharCode((15&N)<<12|(63&V)<<6|63&j)}}return U.join("")}(this.decodeStringToByteArray(Z,U))},decodeStringToByteArray(Z,U){this.init_();const K=U?this.charToByteMapWebSafe_:this.charToByteMap_,fe=[];for(let N=0;N<Z.length;){const V=K[Z.charAt(N++)],le=N<Z.length?K[Z.charAt(N)]:0;++N;const ze=N<Z.length?K[Z.charAt(N)]:64;++N;const rt=N<Z.length?K[Z.charAt(N)]:64;if(++N,null==V||null==le||null==ze||null==rt)throw Error();fe.push(V<<2|le>>4),64!==ze&&(fe.push(le<<4&240|ze>>2),64!==rt&&fe.push(ze<<6&192|rt))}return fe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Z=0;Z<this.ENCODED_VALS.length;Z++)this.byteToCharMap_[Z]=this.ENCODED_VALS.charAt(Z),this.charToByteMap_[this.byteToCharMap_[Z]]=Z,this.byteToCharMapWebSafe_[Z]=this.ENCODED_VALS_WEBSAFE.charAt(Z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Z]]=Z,Z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Z)]=Z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Z)]=Z)}}},be=function(Z){return function(Z){const U=se(Z);return ie.encodeByteArray(U,!0)}(Z).replace(/\./g,"")},W=function(Z){try{return ie.decodeString(Z,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function ee(Z,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===Z&&(Z={});break;case Array:Z=[];break;default:return U}for(const K in U)!U.hasOwnProperty(K)||!$e(K)||(Z[K]=ee(Z[K],U[K]));return Z}function $e(Z){return"__proto__"!==Z}class ke{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,K)=>{this.resolve=U,this.reject=K})}wrapCallback(U){return(K,fe)=>{K?this.reject(K):this.resolve(fe),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(K):U(K,fe))}}}function Ne(Z,U){if(Z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const fe=U||"demo-project",N=Z.iat||0,V=Z.sub||Z.user_id;if(!V)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const j=Object.assign({iss:`https://securetoken.google.com/${fe}`,aud:fe,iat:N,exp:N+3600,auth_time:N,sub:V,user_id:V,firebase:{sign_in_provider:"custom",identities:{}}},Z);return[be(JSON.stringify({alg:"none",type:"JWT"})),be(JSON.stringify(j)),""].join(".")}function Le(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _e(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function De(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Z){return!1}}function Xe(){return"object"==typeof self&&self.self===self}function He(){const Z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Z&&void 0!==Z.id}function Re(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ae(){return Le().indexOf("Electron/")>=0}function Ce(){const Z=Le();return Z.indexOf("MSIE ")>=0||Z.indexOf("Trident/")>=0}function Ze(){return Le().indexOf("MSAppHost/")>=0}function Je(){return!De()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Y(){return"object"==typeof indexedDB}function he(){return new Promise((Z,U)=>{try{let K=!0;const fe="validate-browser-context-for-indexeddb-analytics-module",N=self.indexedDB.open(fe);N.onsuccess=()=>{N.result.close(),K||self.indexedDB.deleteDatabase(fe),Z(!0)},N.onupgradeneeded=()=>{K=!1},N.onerror=()=>{var V;U((null===(V=N.error)||void 0===V?void 0:V.message)||"")}}catch(K){U(K)}})}function ue(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ae extends Error{constructor(U,K,fe){super(K),this.code=U,this.customData=fe,this.name="FirebaseError",Object.setPrototypeOf(this,ae.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,It.prototype.create)}}class It{constructor(U,K,fe){this.service=U,this.serviceName=K,this.errors=fe}create(U,...K){const fe=K[0]||{},N=`${this.service}/${U}`,V=this.errors[U],j=V?function en(Z,U){return Z.replace(Fn,(K,fe)=>{const N=U[fe];return null!=N?String(N):`<${fe}?>`})}(V,fe):"Error";return new ae(N,`${this.serviceName}: ${j} (${N}).`,fe)}}const Fn=/\{\$([^}]+)}/g;function tn(Z,U){return Object.prototype.hasOwnProperty.call(Z,U)}function dr(Z){for(const U in Z)if(Object.prototype.hasOwnProperty.call(Z,U))return!1;return!0}function wr(Z,U){if(Z===U)return!0;const K=Object.keys(Z),fe=Object.keys(U);for(const N of K){if(!fe.includes(N))return!1;const V=Z[N],j=U[N];if(Qi(V)&&Qi(j)){if(!wr(V,j))return!1}else if(V!==j)return!1}for(const N of fe)if(!K.includes(N))return!1;return!0}function Qi(Z){return null!==Z&&"object"==typeof Z}function pi(Z){const U=[];for(const[K,fe]of Object.entries(Z))Array.isArray(fe)?fe.forEach(N=>{U.push(encodeURIComponent(K)+"="+encodeURIComponent(N))}):U.push(encodeURIComponent(K)+"="+encodeURIComponent(fe));return U.length?"&"+U.join("&"):""}function hr(Z){const U={};return Z.replace(/^\?/,"").split("&").forEach(fe=>{if(fe){const[N,V]=fe.split("=");U[decodeURIComponent(N)]=decodeURIComponent(V)}}),U}function Er(Z){const U=Z.indexOf("?");if(!U)return"";const K=Z.indexOf("#",U);return Z.substring(U,K>0?K:void 0)}function _t(Z,U){const K=new Mr(Z,U);return K.subscribe.bind(K)}class Mr{constructor(U,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{U(this)}).catch(fe=>{this.error(fe)})}next(U){this.forEachObserver(K=>{K.next(U)})}error(U){this.forEachObserver(K=>{K.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,K,fe){let N;if(void 0===U&&void 0===K&&void 0===fe)throw new Error("Missing Observer.");N=function sn(Z,U){if("object"!=typeof Z||null===Z)return!1;for(const K of U)if(K in Z&&"function"==typeof Z[K])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:K,complete:fe},void 0===N.next&&(N.next=zn),void 0===N.error&&(N.error=zn),void 0===N.complete&&(N.complete=zn);const V=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?N.error(this.finalError):N.complete()}catch(j){}}),this.observers.push(N),V}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,U)}sendOne(U,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{K(this.observers[U])}catch(fe){"undefined"!=typeof console&&console.error&&console.error(fe)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zn(){}function Xi(Z,U=1e3,K=2){const fe=U*Math.pow(K,Z),N=Math.round(.5*fe*(Math.random()-.5)*2);return Math.min(144e5,fe+N)}function vt(Z){return Z&&Z._delegate?Z._delegate:Z}function Un(Z,U){return new Promise((K,fe)=>{Z.onsuccess=N=>{K(N.target.result)},Z.onerror=N=>{var V;fe(`${U}: ${null===(V=N.target.error)||void 0===V?void 0:V.message}`)}})}class Wt{constructor(U){this._db=U,this.objectStoreNames=this._db.objectStoreNames}transaction(U,K){return new Ge(this._db.transaction.call(this._db,U,K))}createObjectStore(U,K){return new Te(this._db.createObjectStore(U,K))}close(){this._db.close()}}class Ge{constructor(U){this._transaction=U,this.complete=new Promise((K,fe)=>{this._transaction.oncomplete=function(){K()},this._transaction.onerror=()=>{fe(this._transaction.error)},this._transaction.onabort=()=>{fe(this._transaction.error)}})}objectStore(U){return new Te(this._transaction.objectStore(U))}}class Te{constructor(U){this._store=U}index(U){return new et(this._store.index(U))}createIndex(U,K,fe){return new et(this._store.createIndex(U,K,fe))}get(U){return Un(this._store.get(U),"Error reading from IndexedDB")}put(U,K){return Un(this._store.put(U,K),"Error writing to IndexedDB")}delete(U){return Un(this._store.delete(U),"Error deleting from IndexedDB")}clear(){return Un(this._store.clear(),"Error clearing IndexedDB object store")}}class et{constructor(U){this._index=U}get(U){return Un(this._index.get(U),"Error reading from IndexedDB")}}function pt(Z,U,K){return new Promise((fe,N)=>{try{const V=indexedDB.open(Z,U);V.onsuccess=j=>{fe(new Wt(j.target.result))},V.onerror=j=>{var le;N(`Error opening indexedDB: ${null===(le=j.target.error)||void 0===le?void 0:le.message}`)},V.onupgradeneeded=j=>{K(new Wt(V.result),j.oldVersion,j.newVersion,new Ge(V.transaction))}}catch(V){N(`Error opening indexedDB: ${V.message}`)}})}function Ft(Z){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,u.Z)(function*(Z){return new Promise((U,K)=>{try{const fe=indexedDB.deleteDatabase(Z);fe.onsuccess=()=>{U()},fe.onerror=N=>{var V;K(`Error deleting indexedDB database "${Z}": ${null===(V=N.target.error)||void 0===V?void 0:V.message}`)}}catch(fe){K(`Error deleting indexedDB database "${Z}": ${fe.message}`)}})})).apply(this,arguments)}},6089:(ut,Se,P)=>{var u=P(5e3);let H=null;function k(){return H}const ie=new u.OlP("DocumentToken");let ce=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function be(){return(0,u.LFG)(q)}()},providedIn:"platform"}),n})();const W=new u.OlP("Location Initialized");let q=(()=>{class n extends ce{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){ee()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){ee()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function $e(){return new q((0,u.LFG)(ie))}()},providedIn:"platform"}),n})();function ee(){return!!window.history.pushState}function ke(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ne(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Le(n){return n&&"?"!==n[0]?"?"+n:n}let _e=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function De(n){const e=(0,u.LFG)(ie).location;return new He((0,u.LFG)(ce),e&&e.origin||"")}()},providedIn:"root"}),n})();const Xe=new u.OlP("appBaseHref");let He=(()=>{class n extends _e{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ke(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Le(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const c=this.prepareExternalUrl(i+Le(a));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){const c=this.prepareExternalUrl(i+Le(a));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ce),u.LFG(Xe,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Re=(()=>{class n extends _e{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ke(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let c=this.prepareExternalUrl(i+Le(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){let c=this.prepareExternalUrl(i+Le(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ce),u.LFG(Xe,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ae=(()=>{class n{constructor(t,r){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Ne(te(i)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Le(r))}normalize(t){return n.stripTrailingSlash(function Ze(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,te(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Le(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Le(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Le,n.joinWithSlash=ke,n.stripTrailingSlash=Ne,n.\u0275fac=function(t){return new(t||n)(u.LFG(_e),u.LFG(ce))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function Ce(){return new Ae((0,u.LFG)(_e),(0,u.LFG)(ce))}()},providedIn:"root"}),n})();function te(n){return n.replace(/\/index.html$/,"")}var he=(()=>((he=he||{})[he.Zero=0]="Zero",he[he.One=1]="One",he[he.Two=2]="Two",he[he.Few=3]="Few",he[he.Many=4]="Many",he[he.Other=5]="Other",he))();const hr=u.kL8;class Cn{}let _o=(()=>{class n extends Cn{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(hr(r||this.locale)(t)){case he.Zero:return"zero";case he.One:return"one";case he.Two:return"two";case he.Few:return"few";case he.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.soG))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),es=(()=>{class n{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,u.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,u.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.ZZ4),u.Y36(u.aQg),u.Y36(u.SBq),u.Y36(u.Qsj))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class ts{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Yn=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new ts(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,c),Hs(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Hs(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Hs(n,e){n.context.$implicit=e.item}let fr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new vn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){qo("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){qo("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class vn{constructor(){this.$implicit=null,this.ngIf=null}}function qo(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}class lc{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Or=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),gi=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new lc(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(Or,9))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),xa=(()=>{class n{constructor(t,r,i){i._addDefault(new lc(t,r))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(Or,9))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n})(),ll=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[{provide:Cn,useClass:_o}]}),n})();const Vi="browser";function Qo(n){return"server"===n}let fc=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new cl((0,u.LFG)(ie),window)}),n})();class cl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function vo(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const c=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=qs(this.window.history)||qs(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function qs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class wo extends class bo extends class ve{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function se(n){H||(H=n)}(new wo)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function hu(){return mn=mn||document.querySelector("base"),mn?mn.getAttribute("href"):null}();return null==t?null:function zs(n){Xo=Xo||document.createElement("a"),Xo.setAttribute("href",n);const e=Xo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){mn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function il(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let Xo,mn=null;const Cr=new u.OlP("TRANSITION_ID"),dl=[{provide:u.ip1,useFactory:function Qn(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=k(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[Cr,ie,u.zs3],multi:!0}];class yi{static init(){(0,u.VLi)(new yi)}addToWindow(e){u.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const i=u.dqk.getAllAngularTestabilities();let a=i.length,c=!1;const f=function(g){c=c||g,a--,0==a&&r(c)};i.forEach(function(g){g.whenStable(f)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let $r=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const vs=new u.OlP("EventManagerPlugins");let Eo=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const c=i[a];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(vs),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class ea{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=k().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Bi=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),ns=(()=>{class n extends Bi{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const c=this._doc.createElement("style");c.textContent=a,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(bs),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(bs))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function bs(n){k().remove(n)}const Et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Na=/%COMP%/g;function Ie(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Ie(n,i,t):(i=i.replace(Na,n),t.push(i))}return t}function jt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let bn=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new hl(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new fu(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case u.ifc.ShadowDom:return new La(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Ie(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Eo),u.LFG(ns),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class hl{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Et[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=Et[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Et[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,i&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,jt(r)):this.eventManager.addEventListener(e,t,jt(r))}}class fu extends hl{constructor(e,t,r,i){super(e),this.component=r;const a=Ie(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function Od(n){return"_ngcontent-%COMP%".replace(Na,n)}(i+"-"+r.id),this.hostAttr=function Fa(n){return"_nghost-%COMP%".replace(Na,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class La extends hl{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Ie(i.id,i.styles,[]);for(let c=0;c<a.length;c++){const f=document.createElement("style");f.textContent=a[c],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Gf=(()=>{class n extends ea{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const pu=["alt","control","meta","shift"],ia={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},rs={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let sa=(()=>{class n extends ea{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),c=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,a.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let c="";if(pu.forEach(g=>{const b=r.indexOf(g);b>-1&&(r.splice(b,1),c+=g+".")}),c+=a,0!=r.length||0===a.length)return null;const f={};return f.domEventName=i,f.fullKey=c,f}static getEventFullKey(t){let r="",i=function oa(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&lr.hasOwnProperty(e)&&(e=lr[e]))}return ia[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),pu.forEach(a=>{a!=i&&rs[a](t)&&(r+=a+".")}),r+=i,r}static eventCallback(t,r,i){return a=>{n.getEventFullKey(a)===t&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Va=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:Vi},{provide:u.g9A,useValue:function si(){wo.makeCurrent(),yi.init()},multi:!0},{provide:ie,useFactory:function aa(){return(0,u.RDi)(document),document},deps:[]}]),mu=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Nd(){return new u.qLn},deps:[]},{provide:vs,useClass:Gf,multi:!0,deps:[ie,u.R0b,u.Lbi]},{provide:vs,useClass:sa,multi:!0,deps:[ie]},{provide:bn,useClass:bn,deps:[Eo,ns,u.AFp]},{provide:u.FYo,useExisting:bn},{provide:Bi,useExisting:ns},{provide:ns,useClass:ns,deps:[ie]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:Eo,useClass:Eo,deps:[vs,u.R0b]},{provide:class Dn{},useClass:$r,deps:[]}];let Zs=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:Cr,useExisting:u.AFp},dl]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(n,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:mu,imports:[ll,u.hGG]}),n})();"undefined"!=typeof window&&window;var gn=P(8996),Dr=P(3269);function ct(...n){const e=(0,Dr.yG)(n);return(0,gn.D)(n,e)}var nn=P(7579);class Pr extends nn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var wn=P(8306);const{isArray:Ec}=Array,{getPrototypeOf:Wn,prototype:Qs,keys:Eu}=Object;function Es(n){if(1===n.length){const e=n[0];if(Ec(e))return{args:e,keys:null};if(function ua(n){return n&&"object"==typeof n&&Wn(n)===Qs}(e)){const t=Eu(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var is=P(4671),Vt=P(4004);const{isArray:Cu}=Array;function ca(n){return(0,Vt.U)(e=>function Cc(n,e){return Cu(e)?n(...e):n(e)}(n,e))}function Ha(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var _n=P(5403),Js=P(9672);function So(n,e,t){n?(0,Js.f)(t,n,e):e()}const Xs=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var eo=P(8189);function to(...n){return function _l(){return(0,eo.J)(1)}()((0,gn.D)(n,(0,Dr.yG)(n)))}var Cs=P(8421);function jd(n){return new wn.y(e=>{(0,Cs.Xf)(n()).subscribe(e)})}var ss=P(515),zr=P(727),pr=P(4482);function $a(){return(0,pr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,_n.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class yl extends wn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,pr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new zr.w0;const t=this.getSubject();e.add(this.source.subscribe((0,_n.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=zr.w0.EMPTY)}return e}refCount(){return $a()(this)}}function En(n,e){return(0,pr.e)((t,r)=>{let i=null,a=0,c=!1;const f=()=>c&&!i&&r.complete();t.subscribe((0,_n.x)(r,g=>{null==i||i.unsubscribe();let b=0;const T=a++;(0,Cs.Xf)(n(g,T)).subscribe(i=(0,_n.x)(r,A=>r.next(e?e(g,A,T,b++):A),()=>{i=null,f()}))},()=>{c=!0,f()}))})}var vi=P(5698);function Wr(...n){const e=(0,Dr.yG)(n);return(0,pr.e)((t,r)=>{(e?to(n,t,e):to(n,t)).subscribe(r)})}function Tu(n,e,t,r,i){return(a,c)=>{let f=t,g=e,b=0;a.subscribe((0,_n.x)(c,T=>{const A=b++;g=f?n(g,T,A):(f=!0,T),r&&c.next(g)},i&&(()=>{f&&c.next(g),c.complete()})))}}function bi(n,e){return(0,pr.e)(Tu(n,e,arguments.length>=2,!0))}function Nn(n,e){return(0,pr.e)((t,r)=>{let i=0;t.subscribe((0,_n.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}function Nr(n){return(0,pr.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,_n.x)(t,void 0,void 0,c=>{a=(0,Cs.Xf)(n(c,Nr(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}var mr=P(5577),oi=P(576);function wi(n,e){return(0,oi.m)(e)?(0,mr.z)(n,e,1):(0,mr.z)(n,1)}function vl(n){return n<=0?()=>ss.E:(0,pr.e)((e,t)=>{let r=[];e.subscribe((0,_n.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Hd(n=$n){return(0,pr.e)((e,t)=>{let r=!1;e.subscribe((0,_n.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function $n(){return new Xs}function $d(n){return(0,pr.e)((e,t)=>{let r=!1;e.subscribe((0,_n.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Io(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Nn((i,a)=>n(i,a,r)):is.y,(0,vi.q)(1),t?$d(e):Hd(()=>new Xs))}var Zr=P(8505);class no{constructor(e,t){this.id=e,this.url=t}}class bl extends no{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ds extends no{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Su extends no{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Xn extends no{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ga extends no{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wl extends no{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dc extends no{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class El extends no{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Fr extends no{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ji{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qa{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class da{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ai{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ha{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Iu{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cl{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ht="primary";class Dl{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ao(n){return new Dl(n)}const li="ngNavigationCancelingError";function Tl(n){const e=Error("NavigationCancelingError: "+n);return e[li]=!0,e}function qf(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const c=r[a],f=n[a];if(c.startsWith(":"))i[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Hi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!Sl(n[i],e[i]))return!1;return!0}function Sl(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function Il(n){return Array.prototype.concat.apply([],n)}function io(n){return n.length>0?n[n.length-1]:null}function In(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ei(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,gn.D)(Promise.resolve(n)):ct(n)}const Mu={exact:function D(n,e,t){if(!bt(n.segments,e.segments)||!Q(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!D(n.children[r],e.children[r],t))return!1;return!0},subset:R},so={exact:function Ml(n,e){return Hi(n,e)},subset:function S(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Sl(n[t],e[t]))},ignored:()=>!0};function Al(n,e,t){return Mu[t.paths](n.root,e.root,t.matrixParams)&&so[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function R(n,e,t){return B(n,e,e.segments,t)}function B(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!bt(i,t)||e.hasChildren()||!Q(i,t,r))}if(n.segments.length===t.length){if(!bt(n.segments,t)||!Q(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!R(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(bt(n.segments,i)&&Q(n.segments,i,r)&&n.children[Ht])&&B(n.children[Ht],e,a,r)}}function Q(n,e,t){return e.every((r,i)=>so[t](n[i].parameters,r.parameters))}class re{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ao(this.queryParams)),this._queryParamMap}toString(){return tr.serialize(this)}}class ge{constructor(e,t){this.segments=e,this.children=t,this.parent=null,In(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return oo(this)}}class nt{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ao(this.parameters)),this._parameterMap}toString(){return xl(this)}}function bt(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class At{}class er{parse(e){const t=new Ru(e);return new re(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ss(e.root,!0)}`,r=function zf(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${gr(t)}=${gr(i)}`).join("&"):`${gr(t)}=${gr(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function ao(n){return encodeURI(n)}(e.fragment)}`:""}`}}const tr=new er;function oo(n){return n.segments.map(e=>xl(e)).join("/")}function Ss(n,e){if(!n.hasChildren())return oo(n);if(e){const t=n.children[Ht]?Ss(n.children[Ht],!1):"",r=[];return In(n.children,(i,a)=>{a!==Ht&&r.push(`${a}:${Ss(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Jt(n,e){let t=[];return In(n.children,(r,i)=>{i===Ht&&(t=t.concat(e(r,i)))}),In(n.children,(r,i)=>{i!==Ht&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Ht?[Ss(n.children[Ht],!1)]:[`${i}:${Ss(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ht]?`${oo(n)}/${t[0]}`:`${oo(n)}/(${t.join("//")})`}}function os(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gr(n){return os(n).replace(/%3B/gi,";")}function as(n){return os(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tc(n){return decodeURIComponent(n)}function Sc(n){return Tc(n.replace(/\+/g,"%20"))}function xl(n){return`${as(n.path)}${function Ic(n){return Object.keys(n).map(e=>`;${as(e)}=${as(n[e])}`).join("")}(n.parameters)}`}const Ng=/^[^\/()?;=#]+/;function Rl(n){const e=n.match(Ng);return e?e[0]:""}const kl=/^[^=?&#]+/,Wf=/^[^&#]+/;class Ru{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ge([],{}):new ge([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ht]=new ge(e,t)),r}parseSegment(){const e=Rl(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new nt(Tc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Rl(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Rl(this.remaining);i&&(r=i,this.capture(r))}e[Tc(t)]=Tc(r)}parseQueryParam(e){const t=function xu(n){const e=n.match(kl);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function Hb(n){const e=n.match(Wf);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=Sc(t),a=Sc(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Rl(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let a;r.indexOf(":")>-1?(a=r.substr(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Ht);const c=this.parseChildren();t[a]=1===Object.keys(c).length?c[Ht]:new ge([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Zf{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Kf(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Kf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=qd(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return qd(e,this._root).map(t=>t.value)}}function Kf(n,e){if(n===e.value)return e;for(const t of e.children){const r=Kf(n,t);if(r)return r}return null}function qd(n,e){if(n===e.value)return[e];for(const t of e.children){const r=qd(n,t);if(r.length)return r.unshift(e),r}return[]}class Mo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ol(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class ku extends Zf{constructor(e,t){super(e),this.snapshot=t,xc(this,e)}toString(){return this.snapshot.toString()}}function Ac(n,e){const t=function Pl(n,e){const c=new Wa([],{},{},"",{},Ht,e,null,n.root,-1,{});return new Mc("",new Mo(c,[]))}(n,e),r=new Pr([new nt("",{})]),i=new Pr({}),a=new Pr({}),c=new Pr({}),f=new Pr(""),g=new xo(r,i,c,f,a,Ht,e,t.root);return g.snapshot=t.root,new ku(new Mo(g,[]),t)}class xo{constructor(e,t,r,i,a,c,f,g){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=f,this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Vt.U)(e=>Ao(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Vt.U)(e=>Ao(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Yf(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function $b(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Wa{constructor(e,t,r,i,a,c,f,g,b,T,A){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=f,this.routeConfig=g,this._urlSegment=b,this._lastPathIndex=T,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ao(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ao(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Mc extends Zf{constructor(e,t){super(t),this.url=e,xc(this,t)}toString(){return Rc(this._root)}}function xc(n,e){e.value._routerState=n,e.children.forEach(t=>xc(n,t))}function Rc(n){const e=n.children.length>0?` { ${n.children.map(Rc).join(", ")} } `:"";return`${n.value}${e}`}function kc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Hi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Hi(e.params,t.params)||n.params.next(t.params),function Ts(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Hi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Hi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Oc(n,e){const t=Hi(n.params,e.params)&&function ot(n,e){return bt(n,e)&&n.every((t,r)=>Hi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Oc(n.parent,e.parent))}function Ou(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function zd(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ou(n,r,i);return Ou(n,r)})}(n,e,t);return new Mo(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(f=>Ou(n,f)),c}}const r=function Lg(n){return new xo(new Pr(n.url),new Pr(n.params),new Pr(n.queryParams),new Pr(n.fragment),new Pr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Ou(n,a));return new Mo(r,i)}}function Is(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function lo(n){return"object"==typeof n&&null!=n&&n.outlets}function Zd(n,e,t,r,i){let a={};return r&&In(r,(c,f)=>{a[f]=Array.isArray(c)?c.map(g=>`${g}`):`${c}`}),new re(t.root===n?e:Kd(t.root,n,e),a,i)}function Kd(n,e,t){const r={};return In(n.children,(i,a)=>{r[a]=i===e?t:Kd(i,e,t)}),new ge(n.segments,r)}class Vg{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Is(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(lo);if(i&&i!==io(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Yd{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function jg(n,e,t){if(n||(n=new ge([],{})),0===n.segments.length&&n.hasChildren())return v(n,e,t);const r=function m(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const c=n.segments[i],f=t[r];if(lo(f))break;const g=`${f}`,b=r<t.length-1?t[r+1]:null;if(i>0&&void 0===g)break;if(g&&b&&"object"==typeof b&&void 0===b.outlets){if(!F(g,b,c))return a;r+=2}else{if(!F(g,{},c))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new ge(n.segments.slice(0,r.pathIndex),{});return a.children[Ht]=new ge(n.segments.slice(r.pathIndex),n.children),v(a,0,i)}return r.match&&0===i.length?new ge(n.segments,{}):r.match&&!n.hasChildren()?_(n,e,t):r.match?v(n,0,i):_(n,e,t)}function v(n,e,t){if(0===t.length)return new ge(n.segments,{});{const r=function Ug(n){return lo(n[0])?n[0].outlets:{[Ht]:n}}(t),i={};return In(r,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[c]=jg(n.children[c],e,a))}),In(n.children,(a,c)=>{void 0===r[c]&&(i[c]=a)}),new ge(n.segments,i)}}function _(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(lo(a)){const g=E(a.outlets);return new ge(r,g)}if(0===i&&Is(t[0])){r.push(new nt(n.segments[e].path,M(t[0]))),i++;continue}const c=lo(a)?a.outlets[Ht]:`${a}`,f=i<t.length-1?t[i+1]:null;c&&f&&Is(f)?(r.push(new nt(c,M(f))),i+=2):(r.push(new nt(c,{})),i++)}return new ge(r,{})}function E(n){const e={};return In(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=_(new ge([],{}),0,t))}),e}function M(n){const e={};return In(n,(t,r)=>e[r]=`${t}`),e}function F(n,e,t){return n==t.path&&Hi(e,t.parameters)}class xe{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),kc(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Ol(t);e.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,i[c],r),delete i[c]}),In(i,(a,c)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Ol(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);if(r&&r.outlet){const c=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Ol(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Ol(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new Iu(a.value.snapshot))}),e.children.length&&this.forwardEvent(new ai(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(kc(i),i===a)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),kc(f.route.value),this.activateChildRoutes(e,null,c.children)}else{const f=function at(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),g=f?f.module.componentFactoryResolver:null;c.attachRef=null,c.route=i,c.resolver=g,c.outlet&&c.outlet.activateWith(i,g),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class wt{constructor(e,t){this.routes=e,this.module=t}}function kt(n){return"function"==typeof n}function ui(n){return n instanceof re}const Nu=Symbol("INITIAL_VALUE");function Fu(){return En(n=>function Du(...n){const e=(0,Dr.yG)(n),t=(0,Dr.jO)(n),{args:r,keys:i}=Es(n);if(0===r.length)return(0,gn.D)([],e);const a=new wn.y(function qr(n,e,t=is.y){return r=>{So(e,()=>{const{length:i}=n,a=new Array(i);let c=i,f=i;for(let g=0;g<i;g++)So(e,()=>{const b=(0,gn.D)(n[g],e);let T=!1;b.subscribe((0,_n.x)(r,A=>{a[g]=A,T||(T=!0,f--),f||r.next(t(a.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>Ha(i,c):is.y));return t?a.pipe(ca(t)):a}(n.map(e=>e.pipe((0,vi.q)(1),Wr(Nu)))).pipe(bi((e,t)=>{let r=!1;return t.reduce((i,a,c)=>i!==Nu?i:(a===Nu&&(r=!0),r||!1!==a&&c!==t.length-1&&!ui(a)?i:a),e)},Nu),Nn(e=>e!==Nu),(0,Vt.U)(e=>ui(e)?e:!0===e),(0,vi.q)(1)))}class Nc{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Fl,this.attachRef=null}}class Fl{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Nc,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Fc=(()=>{class n{constructor(t,r,i,a,c){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=a||Ht,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const c=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,g=new Qd(t,f,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,g),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Fl),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Qd{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===xo?this.route:e===Fl?this.childContexts:this.parent.get(e,t)}}let Jd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},directives:[Fc],encapsulation:2}),n})();function Xd(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Ll(r,Hg(e,r))}}function Ll(n,e){n.children&&Xd(n.children,e)}function Hg(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function eh(n){const e=n.children&&n.children.map(eh),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ht&&(t.component=Jd),t}function uo(n){return n.outlet||Ht}function _r(n,e){const t=n.filter(r=>uo(r)===e);return t.push(...n.filter(r=>uo(r)!==e)),t}const qb={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Jf(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},qb):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const a=(e.matcher||qf)(t,n,e);if(!a)return Object.assign({},qb);const c={};In(a.posParams,(g,b)=>{c[b]=g.path});const f=a.consumed.length>0?Object.assign(Object.assign({},c),a.consumed[a.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:a.consumed,lastChild:a.consumed.length,parameters:f,positionalParamSegments:null!==(r=a.posParams)&&void 0!==r?r:{}}}function Lc(n,e,t,r,i="corrected"){if(t.length>0&&function AD(n,e,t){return t.some(r=>Xf(n,e,r)&&uo(r)!==Ht)}(n,t,r)){const c=new ge(e,function ID(n,e,t,r){const i={};i[Ht]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&uo(a)!==Ht){const c=new ge([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[uo(a)]=c}return i}(n,e,r,new ge(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function MD(n,e,t){return t.some(r=>Xf(n,e,r))}(n,t,r)){const c=new ge(n.segments,function zb(n,e,t,r,i,a){const c={};for(const f of r)if(Xf(n,t,f)&&!i[uo(f)]){const g=new ge([],{});g._sourceSegment=n,g._segmentIndexShift="legacy"===a?n.segments.length:e.length,c[uo(f)]=g}return Object.assign(Object.assign({},i),c)}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const a=new ge(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function Xf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Wb(n,e,t,r){return!!(uo(n)===r||r!==Ht&&Xf(e,t,n))&&("**"===n.path||Jf(e,n,t).matched)}function xD(n,e,t){return 0===e.length&&!n.children[t]}class ep{constructor(e){this.segmentGroup=e||null}}class Vc{constructor(e){this.urlTree=e}}function Kr(n){return new wn.y(e=>e.error(new ep(n)))}function tp(n){return new wn.y(e=>e.error(new Vc(n)))}function Zb(n){return new wn.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class th{constructor(e,t,r,i,a){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(u.h0i)}apply(){const e=Lc(this.urlTree.root,[],[],this.config).segmentGroup,t=new ge(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Ht).pipe((0,Vt.U)(a=>this.createUrlTree(Gg(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Nr(a=>{if(a instanceof Vc)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof ep?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Ht).pipe((0,Vt.U)(i=>this.createUrlTree(Gg(i),e.queryParams,e.fragment))).pipe(Nr(i=>{throw i instanceof ep?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new ge([],{[Ht]:e}):e;return new re(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Vt.U)(a=>new ge([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,gn.D)(i).pipe(wi(a=>{const c=r.children[a],f=_r(t,a);return this.expandSegmentGroup(e,f,c,a).pipe((0,Vt.U)(g=>({segment:g,outlet:a})))}),bi((a,c)=>(a[c.outlet]=c.segment,a),{}),function Pg(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Nn((i,a)=>n(i,a,r)):is.y,vl(1),t?$d(e):Hd(()=>new Xs))}())}expandSegment(e,t,r,i,a,c){return(0,gn.D)(r).pipe(wi(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,c).pipe(Nr(b=>{if(b instanceof ep)return ct(null);throw b}))),Io(f=>!!f),Nr((f,g)=>{if(f instanceof Xs||"EmptyError"===f.name){if(xD(t,i,a))return ct(new ge([],{}));throw new ep(t)}throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,c,f){return Wb(i,t,a,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,c):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c):Kr(t):Kr(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?tp(a):this.lineralizeSegments(r,a).pipe((0,mr.z)(c=>{const f=new ge(c,{});return this.expandSegment(e,f,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){const{matched:f,consumedSegments:g,lastChild:b,positionalParamSegments:T}=Jf(t,i,a);if(!f)return Kr(t);const A=this.applyRedirectCommands(g,i.redirectTo,T);return i.redirectTo.startsWith("/")?tp(A):this.lineralizeSegments(i,A).pipe((0,mr.z)(O=>this.expandSegment(e,t,r,O.concat(a.slice(b)),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){if("**"===r.path)return r.loadChildren?(r._loadedConfig?ct(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Vt.U)(O=>(r._loadedConfig=O,new ge(i,{})))):ct(new ge(i,{}));const{matched:c,consumedSegments:f,lastChild:g}=Jf(t,r,i);if(!c)return Kr(t);const b=i.slice(g);return this.getChildConfig(e,r,i).pipe((0,mr.z)(A=>{const O=A.module,$=A.routes,{segmentGroup:z,slicedSegments:ne}=Lc(t,f,b,$),de=new ge(z.segments,z.children);if(0===ne.length&&de.hasChildren())return this.expandChildren(O,$,de).pipe((0,Vt.U)(Fe=>new ge(f,Fe)));if(0===$.length&&0===ne.length)return ct(new ge(f,{}));const Ye=uo(r)===a;return this.expandSegment(O,de,$,ne,Ye?Ht:a,!0).pipe((0,Vt.U)(Qe=>new ge(f.concat(Qe.segments),Qe.children)))}))}getChildConfig(e,t,r){return t.children?ct(new wt(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?ct(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,mr.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,Vt.U)(a=>(t._loadedConfig=a,a))):function Kb(n){return new wn.y(e=>e.error(Tl(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):ct(new wt([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?ct(i.map(c=>{const f=e.get(c);let g;if(function Za(n){return n&&kt(n.canLoad)}(f))g=f.canLoad(t,r);else{if(!kt(f))throw new Error("Invalid CanLoad guard");g=f(t,r)}return Ei(g)})).pipe(Fu(),(0,Zr.b)(c=>{if(!ui(c))return;const f=Tl(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw f.url=c,f}),(0,Vt.U)(c=>!0===c)):ct(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ct(r);if(i.numberOfChildren>1||!i.children[Ht])return Zb(e.redirectTo);i=i.children[Ht]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new re(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return In(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let c={};return In(t.children,(f,g)=>{c[g]=this.createSegmentGroup(e,f,r,i)}),new ge(a,c)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function Gg(n){const e={};for(const r of Object.keys(n.children)){const a=Gg(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function $g(n){if(1===n.numberOfChildren&&n.children[Ht]){const e=n.children[Ht];return new ge(n.segments.concat(e.segments),e.children)}return n}(new ge(n.segments,e))}class qg{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class np{constructor(e,t){this.component=e,this.route=t}}function Yb(n,e,t){const r=n._root;return rh(r,e?e._root:null,t,[r.value])}function nh(n,e,t){const r=function OD(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function rh(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Ol(e);return n.children.forEach(c=>{(function zg(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,c=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const g=function PD(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!bt(n.url,e.url);case"pathParamsOrQueryParamsChange":return!bt(n.url,e.url)||!Hi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Oc(n,e)||!Hi(n.queryParams,e.queryParams);default:return!Oc(n,e)}}(c,a,a.routeConfig.runGuardsAndResolvers);g?i.canActivateChecks.push(new qg(r)):(a.data=c.data,a._resolvedData=c._resolvedData),rh(n,e,a.component?f?f.children:null:t,r,i),g&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new np(f.outlet.component,c))}else c&&ih(e,f,i),i.canActivateChecks.push(new qg(r)),rh(n,null,a.component?f?f.children:null:t,r,i)})(c,a[c.value.outlet],t,r.concat([c.value]),i),delete a[c.value.outlet]}),In(a,(c,f)=>ih(c,t.getContext(f),i)),i}function ih(n,e,t){const r=Ol(n),i=n.value;In(r,(a,c)=>{ih(a,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new np(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class jD{}function Zg(n){return new wn.y(e=>e.error(n))}class $D{constructor(e,t,r,i,a,c){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=c}recognize(){const e=Lc(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Ht);if(null===t)return null;const r=new Wa([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ht,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Mo(r,t),a=new Mc(this.url,i);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(e){const t=e.value,r=Yf(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const a of Object.keys(t.children)){const c=t.children[a],f=_r(e,a),g=this.processSegmentGroup(f,c,a);if(null===g)return null;r.push(...g)}const i=Jb(r);return function GD(n){n.sort((e,t)=>e.value.outlet===Ht?-1:t.value.outlet===Ht?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const a of e){const c=this.processSegmentAgainstRoute(a,t,r,i);if(null!==c)return c}return xD(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!Wb(e,t,r,i))return null;let a,c=[],f=[];if("**"===e.path){const $=r.length>0?io(r).parameters:{};a=new Wa(r,$,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ro(e),uo(e),e.component,e,Xb(t),Lu(t)+r.length,zD(e))}else{const $=Jf(t,e,r);if(!$.matched)return null;c=$.consumedSegments,f=r.slice($.lastChild),a=new Wa(c,$.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ro(e),uo(e),e.component,e,Xb(t),Lu(t)+c.length,zD(e))}const g=function qD(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:b,slicedSegments:T}=Lc(t,c,f,g.filter($=>void 0===$.redirectTo),this.relativeLinkResolution);if(0===T.length&&b.hasChildren()){const $=this.processChildren(g,b);return null===$?null:[new Mo(a,$)]}if(0===g.length&&0===T.length)return[new Mo(a,[])];const A=uo(e)===i,O=this.processSegment(g,b,T,A?Ht:i);return null===O?null:[new Mo(a,O)]}}function Qb(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Jb(n){const e=[],t=new Set;for(const r of n){if(!Qb(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Jb(r.children);e.push(new Mo(r.value,i))}return e.filter(r=>!t.has(r))}function Xb(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Lu(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Ro(n){return n.data||{}}function zD(n){return n.resolve||{}}function rp(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Yg(n){return En(e=>{const t=n(e);return t?(0,gn.D)(t).pipe((0,Vt.U)(()=>e)):ct(e)})}class nw extends class oh{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const ip=new u.OlP("ROUTES");class sp{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,Vt.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t);const c=a.create(e);return new wt(Il(c.injector.get(ip,void 0,u.XFs.Self|u.XFs.Optional)).map(eh),c)}),Nr(a=>{throw t._loader$=void 0,a}));return t._loader$=new yl(i,()=>new nn.x).pipe($a()),t._loader$}loadModuleFactory(e){return Ei(e()).pipe((0,mr.z)(t=>t instanceof u.YKP?ct(t):(0,gn.D)(this.compiler.compileModuleAsync(t))))}}class rw{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function nk(n){throw n}function Bc(n,e,t){return e.parse("/")}function op(n,e){return ct(null)}const iw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},WD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let yr=(()=>{class n{constructor(t,r,i,a,c,f,g){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=g,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new nn.x,this.errorHandler=nk,this.malformedUriErrorHandler=Bc,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:op,afterPreactivation:op},this.urlHandlingStrategy=new rw,this.routeReuseStrategy=new nw,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(u.h0i),this.console=c.get(u.c2e);const A=c.get(u.R0b);this.isNgZoneEnabled=A instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(g),this.currentUrlTree=function za(){return new re(new ge([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new sp(c,f,O=>this.triggerEvent(new ji(O)),O=>this.triggerEvent(new qa(O))),this.routerState=Ac(this.currentUrlTree,this.rootComponentType),this.transitions=new Pr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Nn(i=>0!==i.id),(0,Vt.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),En(i=>{let a=!1,c=!1;return ct(i).pipe((0,Zr.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),En(f=>{const g=this.browserUrlTree.toString(),b=!this.navigated||f.extractedUrl.toString()!==g||g!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return ap(f.source)&&(this.browserUrlTree=f.extractedUrl),ct(f).pipe(En(A=>{const O=this.transitions.getValue();return r.next(new bl(A.id,this.serializeUrl(A.extractedUrl),A.source,A.restoredState)),O!==this.transitions.getValue()?ss.E:Promise.resolve(A)}),function RD(n,e,t,r){return En(i=>function Ci(n,e,t,r,i){return new th(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Vt.U)(a=>Object.assign(Object.assign({},i),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Zr.b)(A=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:A.urlAfterRedirects})}),function ek(n,e,t,r,i){return(0,mr.z)(a=>function HD(n,e,t,r,i="emptyOnly",a="legacy"){try{const c=new $D(n,e,t,r,i,a).recognize();return null===c?Zg(new jD):ct(c)}catch(c){return Zg(c)}}(n,e,a.urlAfterRedirects,t(a.urlAfterRedirects),r,i).pipe((0,Vt.U)(c=>Object.assign(Object.assign({},a),{targetSnapshot:c}))))}(this.rootComponentType,this.config,A=>this.serializeUrl(A),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Zr.b)(A=>{if("eager"===this.urlUpdateStrategy){if(!A.extras.skipLocationChange){const $=this.urlHandlingStrategy.merge(A.urlAfterRedirects,A.rawUrl);this.setBrowserUrl($,A)}this.browserUrlTree=A.urlAfterRedirects}const O=new Ga(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);r.next(O)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:O,extractedUrl:$,source:z,restoredState:ne,extras:de}=f,Ye=new bl(O,this.serializeUrl($),z,ne);r.next(Ye);const je=Ac($,this.rootComponentType).snapshot;return ct(Object.assign(Object.assign({},f),{targetSnapshot:je,urlAfterRedirects:$,extras:Object.assign(Object.assign({},de),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),ss.E}),Yg(f=>{const{targetSnapshot:g,id:b,extractedUrl:T,rawUrl:A,extras:{skipLocationChange:O,replaceUrl:$}}=f;return this.hooks.beforePreactivation(g,{navigationId:b,appliedUrlTree:T,rawUrlTree:A,skipLocationChange:!!O,replaceUrl:!!$})}),(0,Zr.b)(f=>{const g=new wl(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(g)}),(0,Vt.U)(f=>Object.assign(Object.assign({},f),{guards:Yb(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function Wg(n,e){return(0,mr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:c}}=t;return 0===c.length&&0===a.length?ct(Object.assign(Object.assign({},t),{guardsResult:!0})):function ND(n,e,t,r){return(0,gn.D)(n).pipe((0,mr.z)(i=>function UD(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?ct(a.map(f=>{const g=nh(f,e,i);let b;if(function Pu(n){return n&&kt(n.canDeactivate)}(g))b=Ei(g.canDeactivate(n,e,t,r));else{if(!kt(g))throw new Error("Invalid CanDeactivate guard");b=Ei(g(n,e,t,r))}return b.pipe(Io())})).pipe(Fu()):ct(!0)}(i.component,i.route,t,e,r)),Io(i=>!0!==i,!0))}(c,r,i,n).pipe((0,mr.z)(f=>f&&function Gn(n){return"boolean"==typeof n}(f)?function FD(n,e,t,r){return(0,gn.D)(e).pipe(wi(i=>to(function LD(n,e){return null!==n&&e&&e(new da(n)),ct(!0)}(i.route.parent,r),function sh(n,e){return null!==n&&e&&e(new ha(n)),ct(!0)}(i.route,r),function BD(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(c=>function kD(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>jd(()=>ct(c.guards.map(g=>{const b=nh(g,c.node,t);let T;if(function Pc(n){return n&&kt(n.canActivateChild)}(b))T=Ei(b.canActivateChild(r,n));else{if(!kt(b))throw new Error("Invalid CanActivateChild guard");T=Ei(b(r,n))}return T.pipe(Io())})).pipe(Fu())));return ct(a).pipe(Fu())}(n,i.path,t),function VD(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ct(!0);const i=r.map(a=>jd(()=>{const c=nh(a,e,t);let f;if(function Nl(n){return n&&kt(n.canActivate)}(c))f=Ei(c.canActivate(e,n));else{if(!kt(c))throw new Error("Invalid CanActivate guard");f=Ei(c(e,n))}return f.pipe(Io())}));return ct(i).pipe(Fu())}(n,i.route,t))),Io(i=>!0!==i,!0))}(r,a,n,e):ct(f)),(0,Vt.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Zr.b)(f=>{if(ui(f.guardsResult)){const b=Tl(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw b.url=f.guardsResult,b}const g=new Dc(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(g)}),Nn(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),Yg(f=>{if(f.guards.canActivateChecks.length)return ct(f).pipe((0,Zr.b)(g=>{const b=new El(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(b)}),En(g=>{let b=!1;return ct(g).pipe(function ew(n,e){return(0,mr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ct(t);let a=0;return(0,gn.D)(i).pipe(wi(c=>function tk(n,e,t,r){return function fa(n,e,t,r){const i=rp(n);if(0===i.length)return ct({});const a={};return(0,gn.D)(i).pipe((0,mr.z)(c=>function Kg(n,e,t,r){const i=nh(n,e,r);return Ei(i.resolve?i.resolve(e,t):i(e,t))}(n[c],e,t,r).pipe((0,Zr.b)(f=>{a[c]=f}))),vl(1),(0,mr.z)(()=>rp(a).length===i.length?ct(a):ss.E))}(n._resolve,n,e,r).pipe((0,Vt.U)(a=>(n._resolvedData=a,n.data=Object.assign(Object.assign({},n.data),Yf(n,t).resolve),null)))}(c.route,r,n,e)),(0,Zr.b)(()=>a++),vl(1),(0,mr.z)(c=>a===i.length?ct(t):ss.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Zr.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(g),this.cancelNavigationTransition(g,"At least one route resolver didn't emit any value."))}}))}),(0,Zr.b)(g=>{const b=new Fr(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(b)}))}),Yg(f=>{const{targetSnapshot:g,id:b,extractedUrl:T,rawUrl:A,extras:{skipLocationChange:O,replaceUrl:$}}=f;return this.hooks.afterPreactivation(g,{navigationId:b,appliedUrlTree:T,rawUrlTree:A,skipLocationChange:!!O,replaceUrl:!!$})}),(0,Vt.U)(f=>{const g=function Fg(n,e,t){const r=Ou(n,e._root,t?t._root:void 0);return new ku(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:g})}),(0,Zr.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,Vt.U)(r=>(new xe(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Zr.b)({next(){a=!0},complete(){a=!0}}),function Gd(n){return(0,pr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var f;a||c||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===i.id&&(this.currentNavigation=null)}),Nr(f=>{if(c=!0,function ro(n){return n&&n[li]}(f)){const g=ui(f.url);g||(this.navigated=!0,this.restoreHistory(i,!0));const b=new Su(i.id,this.serializeUrl(i.extractedUrl),f.message);r.next(b),g?setTimeout(()=>{const T=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),A={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ap(i.source)};this.scheduleNavigation(T,"imperative",null,A,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const g=new Xn(i.id,this.serializeUrl(i.extractedUrl),f);r.next(g);try{i.resolve(this.errorHandler(f))}catch(b){i.reject(b)}}return ss.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const a={replaceUrl:!0},c=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(c){const g=Object.assign({},c);delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(a.state=g)}const f=this.parseUrl(t.url);this.scheduleNavigation(f,r,c,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Xd(t),this.config=t.map(eh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:c,queryParamsHandling:f,preserveFragment:g}=r,b=i||this.routerState.root,T=g?this.currentUrlTree.fragment:c;let A=null;switch(f){case"merge":A=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=a||null}return null!==A&&(A=this.removeEmptyProps(A)),function Wd(n,e,t,r,i){if(0===t.length)return Zd(e.root,e.root,e,r,i);const a=function Bg(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Vg(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return In(a.outlets,(g,b)=>{f[b]="string"==typeof g?g.split("/"):g}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===c?(a.split("/").forEach((f,g)=>{0==g&&"."===f||(0==g&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new Vg(t,e,r)}(t);if(a.toRoot())return Zd(e.root,new ge([],{}),e,r,i);const c=function Gb(n,e,t){if(n.isAbsolute)return new Yd(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const a=t.snapshot._urlSegment;return new Yd(a,a===e.root,0)}const r=Is(n.commands[0])?0:1;return function Qf(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Yd(r,!1,i-a)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(a,e,n),f=c.processChildren?v(c.segmentGroup,c.index,a.commands):jg(c.segmentGroup,c.index,a.commands);return Zd(c.segmentGroup,f,e,r,i)}(b,this.currentUrlTree,t,A,null!=T?T:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=ui(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function ZD(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},iw):!1===r?Object.assign({},WD):r,ui(t))return Al(this.currentUrlTree,t,i);const a=this.parseUrl(t);return Al(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ds(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,c){var f,g,b;if(this.disposed)return Promise.resolve(!1);const T=this.transitions.value,A=ap(r)&&T&&!ap(T.source),O=T.rawUrl.toString()===t.toString(),$=T.id===(null===(f=this.currentNavigation)||void 0===f?void 0:f.id);if(A&&O&&$)return Promise.resolve(!0);let ne,de,Ye;c?(ne=c.resolve,de=c.reject,Ye=c.promise):Ye=new Promise((Fe,St)=>{ne=Fe,de=St});const je=++this.navigationId;let Qe;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),Qe=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(g=this.browserPageId)&&void 0!==g?g:0:(null!==(b=this.browserPageId)&&void 0!==b?b:0)+1):Qe=0,this.setTransition({id:je,targetPageId:Qe,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:ne,reject:de,promise:Ye,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ye.catch(Fe=>Promise.reject(Fe))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){var i,a;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===c?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new Su(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function ap(n){return"imperative"!==n}let lp=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new nn.x,this.subscription=t.events.subscribe(a=>{a instanceof Ds&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,a,c){if(0!==t||r||i||a||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const f={skipLocationChange:Uc(this.skipLocationChange),replaceUrl:Uc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Uc(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(yr),u.Y36(xo),u.Y36(_e))},n.\u0275dir=u.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&u.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&u.uIk("target",r.target)("href",r.href,u.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),n})();function Uc(n){return""===n||!!n}class up{}class cp{preload(e,t){return ct(null)}}let aw=(()=>{class n{constructor(t,r,i,a){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=new sp(i,r,g=>t.triggerEvent(new ji(g)),g=>t.triggerEvent(new qa(g)))}setUpPreloading(){this.subscription=this.router.events.pipe(Nn(t=>t instanceof Ds),wi(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(u.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const c=a._loadedConfig;i.push(this.processRoutes(c.module,c.routes))}else a.loadChildren&&!a.canLoad?i.push(this.preloadConfig(t,a)):a.children&&i.push(this.processRoutes(t,a.children));return(0,gn.D)(i).pipe((0,eo.J)(),(0,Vt.U)(a=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?ct(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,mr.z)(a=>(r._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(yr),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(up))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Xg=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof bl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ds&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Cl&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Cl(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Vl=new u.OlP("ROUTER_CONFIGURATION"),Bl=new u.OlP("ROUTER_FORROOT_GUARD"),lw=[Ae,{provide:At,useClass:er},{provide:yr,useFactory:function hw(n,e,t,r,i,a,c={},f,g){const b=new yr(null,n,e,t,r,i,Il(a));return f&&(b.urlHandlingStrategy=f),g&&(b.routeReuseStrategy=g),function t_(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,b),c.enableTracing&&b.events.subscribe(T=>{var A,O;null===(A=console.group)||void 0===A||A.call(console,`Router Event: ${T.constructor.name}`),console.log(T.toString()),console.log(T),null===(O=console.groupEnd)||void 0===O||O.call(console)}),b},deps:[At,Fl,Ae,u.zs3,u.Sil,ip,Vl,[class Qg{},new u.FiY],[class tw{},new u.FiY]]},Fl,{provide:xo,useFactory:function fw(n){return n.routerState.root},deps:[yr]},aw,cp,class ow{preload(e,t){return t().pipe(Nr(()=>ct(null)))}},{provide:Vl,useValue:{enableTracing:!1}}];function uw(){return new u.PXZ("Router",yr)}let cw=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[lw,e_(t),{provide:Bl,useFactory:dw,deps:[[yr,new u.FiY,new u.tp0]]},{provide:Vl,useValue:r||{}},{provide:_e,useFactory:QD,deps:[ce,[new u.tBr(Xe),new u.FiY],Vl]},{provide:Xg,useFactory:dp,deps:[yr,fc,Vl]},{provide:up,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:cp},{provide:u.PXZ,multi:!0,useFactory:uw},[jc,{provide:u.ip1,multi:!0,useFactory:hp,deps:[jc]},{provide:fp,useFactory:pw,deps:[jc]},{provide:u.tb,multi:!0,useExisting:fp}]]}}static forChild(t){return{ngModule:n,providers:[e_(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Bl,8),u.LFG(yr,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function dp(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Xg(n,e,t)}function QD(n,e,t={}){return t.useHash?new Re(n,e):new He(n,e)}function dw(n){return"guarded"}function e_(n){return[{provide:u.deG,multi:!0,useValue:n},{provide:ip,multi:!0,useValue:n}]}let jc=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new nn.x}appInitializer(){return this.injector.get(W,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(f=>r=f),a=this.injector.get(yr),c=this.injector.get(Vl);return"disabled"===c.initialNavigation?(a.setUpLocationChangeListener(),r(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?ct(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),a.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Vl),i=this.injector.get(aw),a=this.injector.get(Xg),c=this.injector.get(yr),f=this.injector.get(u.z2F);t===f.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&c.initialNavigation(),i.setUpPreloading(),a.init(),c.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function hp(n){return n.appInitializer.bind(n)}function pw(n){return n.bootstrapListener.bind(n)}const fp=new u.OlP("Router Initializer");let _w=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),Ul=(()=>{class n extends _w{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const pa=new u.OlP("NgValueAccessor"),r_={provide:pa,useExisting:(0,u.Gpc)(()=>Hc),multi:!0},rk=new u.OlP("CompositionEventMode");let Hc=(()=>{class n extends _w{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function yw(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(rk,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[u._Bn([r_]),u.qOj]}),n})();function jl(n){return null==n||0===n.length}function i_(n){return null!=n&&"number"==typeof n.length}const Di=new u.OlP("NgValidators"),Hl=new u.OlP("NgAsyncValidators"),ko=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class un{static min(e){return function s_(n){return e=>{if(jl(e.value)||jl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function vw(n){return e=>{if(jl(e.value)||jl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return bw(e)}static requiredTrue(e){return function ww(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Ew(n){return jl(n.value)||ko.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function o_(n){return e=>jl(e.value)||!i_(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Cw(n){return e=>i_(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Dw(n){if(!n)return pp;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(jl(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return c_(e)}static composeAsync(e){return gp(e)}}function bw(n){return jl(n.value)?{required:!0}:null}function pp(n){return null}function Bt(n){return null!=n}function a_(n){const e=(0,u.QGY)(n)?(0,gn.D)(n):n;return(0,u.CqO)(e),e}function l_(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function u_(n,e){return e.map(t=>t(n))}function co(n){return n.map(e=>function mp(n){return!n.validate}(e)?e:t=>e.validate(t))}function c_(n){if(!n)return null;const e=n.filter(Bt);return 0==e.length?null:function(t){return l_(u_(t,e))}}function d_(n){return null!=n?c_(co(n)):null}function gp(n){if(!n)return null;const e=n.filter(Bt);return 0==e.length?null:function(t){return function ah(...n){const e=(0,Dr.jO)(n),{args:t,keys:r}=Es(n),i=new wn.y(a=>{const{length:c}=t;if(!c)return void a.complete();const f=new Array(c);let g=c,b=c;for(let T=0;T<c;T++){let A=!1;(0,Cs.Xf)(t[T]).subscribe((0,_n.x)(a,O=>{A||(A=!0,b--),f[T]=O},()=>g--,void 0,()=>{(!g||!A)&&(b||a.next(r?Ha(r,f):f),a.complete())}))}});return e?i.pipe(ca(e)):i}(u_(t,e).map(a_)).pipe((0,Vt.U)(l_))}}function Oo(n){return null!=n?gp(co(n)):null}function _p(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function h_(n){return n._rawValidators}function yp(n){return n._rawAsyncValidators}function Tw(n){return n?Array.isArray(n)?n:[n]:[]}function lh(n,e){return Array.isArray(n)?n.includes(e):n===e}function XD(n,e){const t=Tw(e);return Tw(n).forEach(i=>{lh(t,i)||t.push(i)}),t}function uh(n,e){return Tw(e).filter(t=>!lh(n,t))}class ch{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=d_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Oo(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Po extends ch{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ci extends ch{get formDirective(){return null}get path(){return null}}class vp{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let dh=(()=>{class n extends vp{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Po,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[u.qOj]}),n})(),hh=(()=>{class n extends vp{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ci,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[u.qOj]}),n})();function bp(n,e){y_(n,e),e.valueAccessor.writeValue(n.value),function v_(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&wp(n,e)})}(n,e),function rT(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Iw(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&wp(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function __(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function g_(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ph(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function No(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function y_(n,e){const t=h_(n);null!==e.validator?n.setValidators(_p(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=yp(n);null!==e.asyncValidator?n.setAsyncValidators(_p(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();No(e._rawValidators,i),No(e._rawAsyncValidators,i)}function ph(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=h_(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(c=>c!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=yp(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(c=>c!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return No(e._rawValidators,r),No(e._rawAsyncValidators,r),t}function wp(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Ka(n,e){y_(n,e)}function xw(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Vu(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const ma="VALID",$l="INVALID",Fo="PENDING",_h="DISABLED";function Ep(n){return(Bu(n)?n.validators:n)||null}function Cp(n){return Array.isArray(n)?d_(n):n||null}function yh(n,e){return(Bu(e)?e.asyncValidators:n)||null}function C_(n){return Array.isArray(n)?Oo(n):n||null}function Bu(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const D_=n=>n instanceof I_,vh=n=>n instanceof Tp,iT=n=>n instanceof ls;function T_(n){return D_(n)?n.value:n.getRawValue()}function S_(n,e){const t=vh(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new u.vHH(1e3,"");if(!r[e])throw new u.vHH(1001,"")}function kw(n,e){vh(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new u.vHH(1002,"")})}class Dp{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Cp(this._rawValidators),this._composedAsyncValidatorFn=C_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ma}get invalid(){return this.status===$l}get pending(){return this.status==Fo}get disabled(){return this.status===_h}get enabled(){return this.status!==_h}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Cp(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=C_(e)}addValidators(e){this.setValidators(XD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(XD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(uh(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(uh(e,this._rawAsyncValidators))}hasValidator(e){return lh(this._rawValidators,e)}hasAsyncValidator(e){return lh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Fo,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=_h,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ma,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ma||this.status===Fo)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_h:ma}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Fo,this._hasOwnPendingAsyncValidator=!0;const t=a_(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function Rw(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=vh(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:iT(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?_h:this.errors?$l:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fo)?Fo:this._anyControlsHaveStatus($l)?$l:ma}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Bu(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class I_ extends Dp{constructor(e=null,t,r){super(Ep(t),yh(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Bu(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Vu(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Vu(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Tp extends Dp{constructor(e,t,r){super(Ep(t),yh(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){kw(this,e),Object.keys(e).forEach(r=>{S_(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=T_(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class ls extends Dp{constructor(e,t,r){super(Ep(t),yh(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){kw(this,e),e.forEach((r,i)=>{S_(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>T_(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const sT={provide:ci,useExisting:(0,u.Gpc)(()=>A_)},bh=(()=>Promise.resolve(null))();let A_=(()=>{class n extends ci{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new Tp({},d_(t),Oo(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){bh.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),bp(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){bh.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){bh.then(()=>{const r=this._findContainer(t.path),i=new Tp({});Ka(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){bh.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){bh.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,xw(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Di,10),u.Y36(Hl,10))},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([sT]),u.qOj]}),n})(),wh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),x_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const k_=new u.OlP("NgModelWithFormControlWarning"),hT={provide:ci,useExisting:(0,u.Gpc)(()=>Gl)};let Gl=(()=>{class n extends ci{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ph(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return bp(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){g_(t.control||null,t,!1),Vu(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,xw(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(g_(r||null,t),D_(i)&&(bp(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);Ka(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Aw(n,e){return ph(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){y_(this.form,this),this._oldForm&&ph(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Di,10),u.Y36(Hl,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([hT]),u.qOj,u.TTD]}),n})();const N_={provide:Po,useExisting:(0,u.Gpc)(()=>$c)};let $c=(()=>{class n extends Po{constructor(t,r,i,a,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function E_(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===Hc?t=a:function Mw(n){return Object.getPrototypeOf(n.constructor)===Ul}(a)?r=a:i=a}),i||r||t||null}(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function w_(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function m_(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(u.Y36(ci,13),u.Y36(Di,10),u.Y36(Hl,10),u.Y36(pa,10),u.Y36(k_,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([N_]),u.qOj,u.TTD]}),n})(),_a=(()=>{class n{constructor(){this._validator=pp}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):pp,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,features:[u.TTD]}),n})();const Gw={provide:Di,useExisting:(0,u.Gpc)(()=>Vo),multi:!0};let Vo=(()=>{class n extends _a{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function Hw(n){return null!=n&&!1!==n&&"false"!=`${n}`}(t),this.createValidator=t=>bw}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&u.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[u._Bn([Gw]),u.qOj]}),n})(),Zw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[x_]]}),n})(),DT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Zw]}),n})(),Uu=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:k_,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Zw]}),n})(),xp=(()=>{class n{group(t,r=null){const i=this._reduceControls(t);let f,a=null,c=null;return null!=r&&(function TT(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(a=null!=r.validators?r.validators:null,c=null!=r.asyncValidators?r.asyncValidators:null,f=null!=r.updateOn?r.updateOn:void 0):(a=null!=r.validator?r.validator:null,c=null!=r.asyncValidator?r.asyncValidator:null)),new Tp(i,{asyncValidators:c,updateOn:f,validators:a})}control(t,r,i){return new I_(t,r,i)}array(t,r,i){const a=t.map(c=>this._createControl(c));return new ls(a,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return D_(t)||vh(t)||iT(t)?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:Uu}),n})();var ST=P(424),yt=P(2090),As=P(9681),Ya=P(1877),ju=P(4859),Hu=P(6451),Th=P(5363),IT=P(6063);class AT extends nn.x{constructor(e=1/0,t=1/0,r=IT.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:c}=this;t||(r.push(e),!i&&r.push(a.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let c=0;c<a.length&&!e.closed;c+=r?1:2)e.next(a[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const c=t.now();let f=0;for(let g=1;g<r.length&&r[g]<=c;g+=2)f=g;f&&r.splice(0,f+1)}}}var MT=P(3099);function Kw(n,e,t){var r,i;let a,c=!1;return n&&"object"==typeof n?(a=null!==(r=n.bufferSize)&&void 0!==r?r:1/0,e=null!==(i=n.windowTime)&&void 0!==i?i:1/0,c=!!n.refCount,t=n.scheduler):a=null!=n?n:1/0,(0,MT.B)({connector:()=>new AT(a,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:c})}function G_(n,e){return(0,oi.m)(e)?En(()=>n,e):En(()=>n)}var Yw=P(9468),qn=P(5813),$i=P(2011);P(5867);var we=P(5861);const kp=new Map,FT={activated:!1,tokenObservers:[]},LT={initialized:!1,enabled:!1};function Yr(n){return kp.get(n)||FT}function Uo(n,e){kp.set(n,e)}function Op(){return LT}class UT{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,we.Z)(function*(){t.stop();try{t.pending=new yt.BH,yield function W_(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new yt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Lr=new yt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ql(n){if(!Yr(n).activated)throw Lr.create("use-before-activation",{appName:n.name})}function zl(n,e){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,we.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const A=yield i.getHeartbeatsHeader();A&&(r["X-Firebase-Client"]=A)}const a={method:"POST",body:JSON.stringify(e),headers:r};let c,f;try{c=yield fetch(n,a)}catch(A){throw Lr.create("fetch-network-error",{originalErrorMessage:A.message})}if(200!==c.status)throw Lr.create("fetch-status-error",{httpStatus:c.status});try{f=yield c.json()}catch(A){throw Lr.create("fetch-parse-error",{originalErrorMessage:A.message})}const g=f.ttl.match(/^([\d.]+)(s)$/);if(!g||!g[2]||isNaN(Number(g[1])))throw Lr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const b=1e3*Number(g[1]),T=Date.now();return{token:f.attestationToken,expireTimeMillis:T+b,issuedAtTimeMillis:T}})).apply(this,arguments)}function Kc(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const va="firebase-app-check-store";let Sh=null;function Z_(){return Sh||(Sh=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Lr.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(va,{keyPath:"compositeKey"})}}catch(t){e(Lr.create("storage-open",{originalErrorMessage:t.message}))}}),Sh)}function Fp(){return(Fp=(0,we.Z)(function*(n,e){const r=(yield Z_()).transaction(va,"readwrite"),a=r.objectStore(va).put({compositeKey:n,value:e});return new Promise((c,f)=>{a.onsuccess=g=>{c()},r.onerror=g=>{var b;f(Lr.create("storage-set",{originalErrorMessage:null===(b=g.target.error)||void 0===b?void 0:b.message}))}})})).apply(this,arguments)}const Ih=new Ya.Yd("@firebase/app-check");function o0(n,e){return(0,yt.hl)()?function t0(n,e){return function K_(n,e){return Fp.apply(this,arguments)}(function J_(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Ih.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function a0(){return Op().enabled}function X_(){return ey.apply(this,arguments)}function ey(){return(ey=(0,we.Z)(function*(){const n=Op();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const bk={error:"UNKNOWN_ERROR"};function $T(n){return yt.US.encodeString(JSON.stringify(n),!1)}function Jc(n){return Ah.apply(this,arguments)}function Ah(){return(Ah=(0,we.Z)(function*(n,e=!1){const t=n.app;ql(t);const r=Yr(t);let a,i=r.token;if(!i){const g=yield r.cachedTokenPromise;g&&Mh(g)&&(i=g)}if(!e&&i&&Mh(i))return{token:i.token};let f,c=!1;if(a0()){r.exchangeTokenPromise||(r.exchangeTokenPromise=zl(Kc(t,yield X_()),n.heartbeatServiceProvider).then(b=>(r.exchangeTokenPromise=void 0,b)),c=!0);const g=yield r.exchangeTokenPromise;return yield o0(t,g),Uo(t,Object.assign(Object.assign({},r),{token:g})),{token:g.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(g=>(r.exchangeTokenPromise=void 0,g)),c=!0),i=yield r.exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?Ih.warn(g.message):Ih.error(g),a=g}return i?(f={token:i.token},Uo(t,Object.assign(Object.assign({},r),{token:i})),yield o0(t,i)):f=Ek(a),c&&u0(t,f),f})).apply(this,arguments)}function l0(n,e){const t=Yr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Uo(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function GT(n){const{app:e}=n,t=Yr(e);let r=t.tokenRefresher;r||(r=function wk(n){const{app:e}=n;return new UT((0,we.Z)(function*(){let r;if(r=Yr(e).token?yield Jc(n,!0):yield Jc(n),r.error)throw r.error}),()=>!0,()=>{const t=Yr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Uo(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function u0(n,e){const t=Yr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function Mh(n){return n.expireTimeMillis-Date.now()>0}function Ek(n){return{token:$T(bk),error:n}}class qT{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Yr(this.app);for(const t of e)l0(this.app,t.next);return Promise.resolve()}}const Rh="app-check-internal";!function Gp(){(0,As._registerComponent)(new ju.wA("app-check",n=>function Xc(n,e){return new qT(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Rh).initialize()})),(0,As._registerComponent)(new ju.wA(Rh,n=>function zT(n){return{getToken:e=>Jc(n,e),addTokenListener:e=>function ty(n,e,t,r){const{app:i}=n,a=Yr(i),c={next:t,error:r,type:e};if(Uo(i,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,c]})),a.token&&Mh(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),GT(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>GT(n))}(n,"INTERNAL",e),removeTokenListener:e=>l0(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,As.registerVersion)("@firebase/app-check","0.5.5")}();class zp{constructor(){return(0,qn.vb)("app-check")}}"undefined"!=typeof window&&window;var Wp=P(127);const oy=new u.OlP("angularfire2.auth.use-emulator"),Zp=new u.OlP("angularfire2.auth.settings"),ay=new u.OlP("angularfire2.auth.tenant-id"),ly=new u.OlP("angularfire2.auth.langugage-code"),uy=new u.OlP("angularfire2.auth.use-device-language"),cy=new u.OlP("angularfire.auth.persistence"),dy=(n,e,t,r,i,a,c,f)=>(0,$i.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=e.runOutsideAngular(()=>n.auth());if(t&&g.useEmulator(...t),r&&(g.tenantId=r),g.languageCode=i,a&&g.useDeviceLanguage(),c)for(const[b,T]of Object.entries(c))g.settings[b]=T;return f&&g.setPersistence(f),g},[t,r,i,a,c,f]);let kh=(()=>{class n{constructor(t,r,i,a,c,f,g,b,T,A,O,$){const z=new nn.x,ne=ct(void 0).pipe((0,Th.Q)(c.outsideAngular),En(()=>a.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,5881)))),(0,Vt.U)(()=>(0,$i.on)(t,a,r)),(0,Vt.U)(de=>dy(de,a,f,b,T,A,g,O)),Kw({bufferSize:1,refCount:!1}));if(Qo(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ct(null);else{ne.pipe(Io()).subscribe();const Ye=ne.pipe(En(Fe=>Fe.getRedirectResult().then(St=>St,()=>null)),qn.iC,Kw({bufferSize:1,refCount:!1})),je=ne.pipe(En(Fe=>new wn.y(St=>({unsubscribe:a.runOutsideAngular(()=>Fe.onAuthStateChanged(Dt=>St.next(Dt),Dt=>St.error(Dt),()=>St.complete()))})))),Qe=ne.pipe(En(Fe=>new wn.y(St=>({unsubscribe:a.runOutsideAngular(()=>Fe.onIdTokenChanged(Dt=>St.next(Dt),Dt=>St.error(Dt),()=>St.complete()))}))));this.authState=Ye.pipe(G_(je),(0,Yw.R)(c.outsideAngular),(0,Th.Q)(c.insideAngular)),this.user=Ye.pipe(G_(Qe),(0,Yw.R)(c.outsideAngular),(0,Th.Q)(c.insideAngular)),this.idToken=this.user.pipe(En(Fe=>Fe?(0,gn.D)(Fe.getIdToken()):ct(null))),this.idTokenResult=this.user.pipe(En(Fe=>Fe?(0,gn.D)(Fe.getIdTokenResult()):ct(null))),this.credential=(0,Hu.T)(Ye,z,this.authState.pipe(Nn(Fe=>!Fe))).pipe((0,Vt.U)(Fe=>(null==Fe?void 0:Fe.user)?Fe:null),(0,Yw.R)(c.outsideAngular),(0,Th.Q)(c.insideAngular))}return(0,$i.pX)(this,ne,a,{spy:{apply:(de,Ye,je)=>{(de.startsWith("signIn")||de.startsWith("createUser"))&&je.then(Qe=>z.next(Qe))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG($i.Dh),u.LFG($i.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(qn.HU),u.LFG(oy,8),u.LFG(Zp,8),u.LFG(ay,8),u.LFG(ly,8),u.LFG(uy,8),u.LFG(cy,8),u.LFG(zp,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),S0=(()=>{class n{constructor(){Wp.Z.registerVersion("angularfire",qn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[kh]}),n})(),Kp=(()=>{class n{constructor(t){this.authService=t,this.storage=window.localStorage}loginComEmailSenha(t,r){return this.authService.signInWithEmailAndPassword(t,r).then(()=>{this.storage.setItem("condicao","autenticado")})}cadastrarComEmailSenha(t,r){return this.authService.createUserWithEmailAndPassword(t,r)}loginComGoogleCount(){return this.authLoginProvider(new ST.N).then(()=>{this.storage.setItem("condicao","autenticado")})}authLoginProvider(t){return this.authService.signInWithPopup(t)}logout(){return this.storage.setItem("condicao","deslogado"),this.authService.signOut()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(kh))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Sk=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function sS(){return(0,u.f3M)(ie)}}),oS=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let hy,Oh=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new u.vpe,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function I0(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?oS.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Sk,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),td=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();try{hy="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){hy=!1}let Nh,Zl,Fh,Ms=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function xn(n){return n===Vi}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!hy)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Yp(n){return function aS(){if(null==Nh&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Nh=!0}))}finally{Nh=Nh||!1}return Nh}()?n:!!n.capture}function Ak(){if(null==Zl){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Zl=!1,Zl;if("scrollBehavior"in document.documentElement.style)Zl=!0;else{const n=Element.prototype.scrollTo;Zl=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Zl}function Ti(n){return n.composedPath?n.composedPath()[0]:n.target}function xs(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}function Vh(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var om=P(4986);function Cy(n,e=om.z){return(0,pr.e)((t,r)=>{let i=null,a=null,c=null;const f=()=>{if(i){i.unsubscribe(),i=null;const b=a;a=null,r.next(b)}};function g(){const b=c+n,T=e.now();if(T<b)return i=this.schedule(void 0,b-T),void r.add(i);f()}t.subscribe((0,_n.x)(r,b=>{a=b,c=e.now(),i||(i=e.schedule(g,n),r.add(i))},()=>{f(),r.complete()},void 0,()=>{a=i=null}))})}function am(n,e=is.y){return n=null!=n?n:QS,(0,pr.e)((t,r)=>{let i,a=!0;t.subscribe((0,_n.x)(r,c=>{const f=e(c);(a||!n(i,f))&&(a=!1,i=f,r.next(c))}))})}function QS(n,e){return n===e}var JS=P(5032);function nr(n){return(0,pr.e)((e,t)=>{(0,Cs.Xf)(n).subscribe((0,_n.x)(t,()=>t.complete(),JS.Z)),!t.closed&&e.subscribe(t)})}function di(n){return null!=n&&"false"!=`${n}`}function lm(n,e=0){return function XS(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function Dy(n){return Array.isArray(n)?n:[n]}function Tr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Kl(n){return n instanceof u.SBq?n.nativeElement:n}class iI extends class rI{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new nn.x,this._typeaheadSubscription=zr.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new nn.x,this.change=new nn.x,e instanceof u.n_E&&e.changes.subscribe(t=>{if(this._activeItem){const i=t.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Zr.b)(t=>this._pressedLetters.push(t)),Cy(e),Nn(()=>this._pressedLetters.length>0),(0,Vt.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const a=(this._activeItemIndex+i)%r.length,c=r[a];if(!this._skipPredicateFn(c)&&0===c.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(a);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!e[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;default:return void((i||Vh(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),r="number"==typeof e?e:t.indexOf(e),i=t[r];this._activeItem=null==i?null:i,this._activeItemIndex=r}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let r=1;r<=t.length;r++){const i=(this._activeItemIndex+e*r+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(!r[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof u.n_E?this._items.toArray():this._items}}{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}function Iy(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function q0(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const z0=new u.OlP("cdk-input-modality-detector-options"),PO={ignoreKeys:[18,17,224,91,16]},Ea=Yp({passive:!0,capture:!0});let uI=(()=>{class n{constructor(t,r,i,a){this._platform=t,this._mostRecentTarget=null,this._modality=new Pr(null),this._lastTouchMs=0,this._onKeydown=c=>{var f,g;(null===(g=null===(f=this._options)||void 0===f?void 0:f.ignoreKeys)||void 0===g?void 0:g.some(b=>b===c.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Ti(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Iy(c)?"keyboard":"mouse"),this._mostRecentTarget=Ti(c))},this._onTouchstart=c=>{q0(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ti(c))},this._options=Object.assign(Object.assign({},PO),a),this.modalityDetected=this._modality.pipe(function YS(n){return Nn((e,t)=>n<=t)}(1)),this.modalityChanged=this.modalityDetected.pipe(am()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Ea),i.addEventListener("mousedown",this._onMousedown,Ea),i.addEventListener("touchstart",this._onTouchstart,Ea)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ea),document.removeEventListener("mousedown",this._onMousedown,Ea),document.removeEventListener("touchstart",this._onTouchstart,Ea))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ms),u.LFG(u.R0b),u.LFG(ie),u.LFG(z0,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const id=new u.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Bh(){return null}}),cI=new u.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let NO=(()=>{class n{constructor(t,r,i,a){this._ngZone=r,this._defaultOptions=a,this._document=i,this._liveElement=t||this._createLiveElement()}announce(t,...r){const i=this._defaultOptions;let a,c;return 1===r.length&&"number"==typeof r[0]?c=r[0]:[a,c]=r,this.clear(),clearTimeout(this._previousTimeout),a||(a=i&&i.politeness?i.politeness:"polite"),null==c&&i&&(c=i.duration),this._liveElement.setAttribute("aria-live",a),this._ngZone.runOutsideAngular(()=>new Promise(f=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,f(),"number"==typeof c&&(this._previousTimeout=setTimeout(()=>this.clear(),c))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var t;clearTimeout(this._previousTimeout),null===(t=this._liveElement)||void 0===t||t.remove(),this._liveElement=null}_createLiveElement(){const t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let a=0;a<r.length;a++)r[a].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),this._document.body.appendChild(i),i}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(id,8),u.LFG(u.R0b),u.LFG(ie),u.LFG(cI,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hI=new u.OlP("cdk-focus-monitor-default-options"),cm=Yp({passive:!0,capture:!0});let fI=(()=>{class n{constructor(t,r,i,a,c){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new nn.x,this._rootNodeFocusAndBlurListener=f=>{const g=Ti(f),b="focus"===f.type?this._onFocus:this._onBlur;for(let T=g;T;T=T.parentElement)b.call(this,f,T)},this._document=a,this._detectionMode=(null==c?void 0:c.detectionMode)||0}monitor(t,r=!1){const i=Kl(t);if(!this._platform.isBrowser||1!==i.nodeType)return ct(null);const a=function lS(n){if(function ba(){if(null==Fh){const n="undefined"!=typeof document?document.head:null;Fh=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Fh}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),c=this._elementInfo.get(i);if(c)return r&&(c.checkChildren=!0),c.subject;const f={checkChildren:r,subject:new nn.x,rootNode:a};return this._elementInfo.set(i,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const r=Kl(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const a=Kl(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,g])=>this._originChanged(f,r,g)):(this._setOrigin(r),"function"==typeof a.focus&&a.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),a=Ti(t);!i||!i.checkChildren&&r!==a||this._originChanged(r,this._getFocusOrigin(a),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,cm),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,cm)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(nr(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,cm),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,cm),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,a)=>{(a===t||i.checkChildren&&a.contains(t))&&r.push([a,i])}),r}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(Ms),u.LFG(uI),u.LFG(ie,8),u.LFG(hI,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ay="cdk-high-contrast-black-on-white",My="cdk-high-contrast-white-on-black",Uh="cdk-high-contrast-active";let dm=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,a=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Uh),t.remove(Ay),t.remove(My),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(Uh),t.add(Ay)):2===r&&(t.add(Uh),t.add(My))}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ms),u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Z0{}const Ca="*";function xy(n,e){return{type:7,name:n,definitions:e,options:{}}}function Ry(n,e=null){return{type:4,styles:e,timings:n}}function fm(n,e=null){return{type:2,steps:n,options:e}}function Yl(n){return{type:6,styles:n,offset:null}}function ky(n,e,t){return{type:0,name:n,styles:e,options:t}}function pm(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Y0(n=null){return{type:9,options:n}}function BO(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function Q0(n){Promise.resolve(null).then(n)}class mm{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Q0(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Oy{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?Q0(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==a&&this._onFinish()}),c.onDestroy(()=>{++r==a&&this._onDestroy()}),c.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((c,f)=>Math.max(c,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const Yt=!1;function X0(n){return new u.vHH(3e3,Yt)}function LI(){return"undefined"!=typeof window&&void 0!==window.document}function ym(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Qa(n){switch(n.length){case 0:return new mm;case 1:return n[0];default:return new Oy(n)}}function vm(n,e,t,r,i={},a={}){const c=[],f=[];let g=-1,b=null;if(r.forEach(T=>{const A=T.offset,O=A==g,$=O&&b||{};Object.keys(T).forEach(z=>{let ne=z,de=T[z];if("offset"!==z)switch(ne=e.normalizePropertyName(ne,c),de){case"!":de=i[z];break;case Ca:de=a[z];break;default:de=e.normalizeStyleValue(z,ne,de,c)}$[ne]=de}),O||f.push($),b=$,g=A}),c.length)throw function RI(n){return new u.vHH(3502,Yt)}();return f}function bm(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Fy(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Fy(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Fy(t,"destroy",n)))}}function Fy(n,e,t){const r=t.totalTime,a=Ly(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),c=n._data;return null!=c&&(a._data=c),a}function Ly(n,e,t,r,i="",a=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!c}}function ho(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function wm(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let zh=(n,e)=>!1,Vy=(n,e,t)=>[];(ym()||"undefined"!=typeof Element)&&(zh=LI()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),Vy=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let qu=null,oE=!1;function aE(n){qu||(qu=function VI(){return"undefined"!=typeof document?document.body:null}()||{},oE=!!qu.style&&"WebkitAppearance"in qu.style);let e=!0;return qu.style&&!function By(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in qu.style,!e&&oE&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in qu.style)),e}const Uy=zh,Em=Vy;let jy=(()=>{class n{validateStyleProperty(t){return aE(t)}matchesElement(t,r){return!1}containsElement(t,r){return Uy(t,r)}query(t,r,i){return Em(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,c,f=[],g){return new mm(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Cm=(()=>{class n{}return n.NOOP=new jy,n})();const Dm="ng-enter",Tm="ng-leave",Wh="ng-trigger",Sm=".ng-trigger",Si="ng-animating",Ql=".ng-animating";function zu(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Hy(parseFloat(e[1]),e[2])}function Hy(n,e){return"s"===e?1e3*n:n}function $y(n,e,t){return n.hasOwnProperty("duration")?n:function Zh(n,e,t){let i,a=0,c="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(X0()),{duration:0,delay:0,easing:""};i=Hy(parseFloat(f[1]),f[2]);const g=f[3];null!=g&&(a=Hy(parseFloat(g),f[4]));const b=f[5];b&&(c=b)}else i=n;if(!t){let f=!1,g=e.length;i<0&&(e.push(function mI(){return new u.vHH(3100,Yt)}()),f=!0),a<0&&(e.push(function gI(){return new u.vHH(3101,Yt)}()),f=!0),f&&e.splice(g,0,X0())}return{duration:i,delay:a,easing:c}}(n,e,t)}function od(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Jl(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else od(n,t);return t}function Gy(n,e,t){return t?e+":"+t+";":""}function dE(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=Gy(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Gy(0,xm(t),n.style[t]));n.setAttribute("style",e)}function Ta(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=Mm(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),ym()&&dE(n))}function Ja(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=Mm(t);n.style[r]=""}),ym()&&dE(n))}function ad(n){return Array.isArray(n)?1==n.length?n[0]:fm(n):n}const ld=new RegExp("{{\\s*(.+?)\\s*}}","g");function Am(n){let e=[];if("string"==typeof n){let t;for(;t=ld.exec(n);)e.push(t[1]);ld.lastIndex=0}return e}function qy(n,e,t){const r=n.toString(),i=r.replace(ld,(a,c)=>{let f=e[c];return e.hasOwnProperty(c)||(t.push(function yI(n){return new u.vHH(3003,Yt)}()),f=""),f.toString()});return i==r?n:i}function Kh(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const UI=/-+([a-z0-9])/g;function Mm(n){return n.replace(UI,(...e)=>e[1].toUpperCase())}function xm(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Gi(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function vI(n){return new u.vHH(3004,Yt)}()}}function Rm(n,e){return window.getComputedStyle(n)[e]}function HI(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function $I(n,e,t){if(":"==n[0]){const g=function pE(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function AI(n){return new u.vHH(3016,Yt)}()),"* => *"}}(n,t);if("function"==typeof g)return void e.push(g);n=g}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function II(n){return new u.vHH(3015,Yt)}()),e;const i=r[1],a=r[2],c=r[3];e.push(Wy(i,c));"<"==a[0]&&!("*"==i&&"*"==c)&&e.push(Wy(c,i))}(r,t,e)):t.push(n),t}const Yh=new Set(["true","1"]),km=new Set(["false","0"]);function Wy(n,e){const t=Yh.has(n)||km.has(n),r=Yh.has(e)||km.has(e);return(i,a)=>{let c="*"==n||n==i,f="*"==e||e==a;return!c&&t&&"boolean"==typeof i&&(c=i?Yh.has(n):km.has(n)),!f&&r&&"boolean"==typeof a&&(f=a?Yh.has(e):km.has(e)),c&&f}}const GI=new RegExp("s*:selfs*,?","g");function Ky(n,e,t){return new qI(n).build(e,t)}class qI{constructor(e){this._driver=e}build(e,t){const r=new _E(t);return this._resetContextStyleTimingState(r),Gi(this,ad(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function wI(){return new u.vHH(3006,Yt)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const g=f,b=g.name;b.toString().split(/\s*,\s*/).forEach(T=>{g.name=T,a.push(this.visitState(g,t))}),g.name=b}else if(1==f.type){const g=this.visitTransition(f,t);r+=g.queryCount,i+=g.depCount,c.push(g)}else t.errors.push(function EI(){return new u.vHH(3007,Yt)}())}),{type:7,name:e.name,states:a,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,c=i||{};r.styles.forEach(f=>{if(Om(f)){const g=f;Object.keys(g).forEach(b=>{Am(g[b]).forEach(T=>{c.hasOwnProperty(T)||a.add(T)})})}}),a.size&&(Kh(a.values()),t.errors.push(function CI(n,e){return new u.vHH(3008,Yt)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Gi(this,ad(e.animation),t);return{type:1,matchers:HI(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:ud(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Gi(this,r,t)),options:ud(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(c=>{t.currentTime=r;const f=Gi(this,c,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:a,options:ud(e.options)}}visitAnimate(e,t){const r=function zI(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return Pm($y(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=Pm(0,0,"");return a.dynamic=!0,a.strValue=r,a}return t=t||$y(r,e),Pm(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:Yl({});if(5==a.type)i=this.visitKeyframes(a,t);else{let c=e.styles,f=!1;if(!c){f=!0;const b={};r.easing&&(b.easing=r.easing),c=Yl(b)}t.currentTime+=r.duration+r.delay;const g=this.visitStyle(c,t);g.isEmptyStep=f,i=g}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(c=>{"string"==typeof c?c==Ca?r.push(c):t.errors.push(function $h(n){return new u.vHH(3002,Yt)}()):r.push(c)}):r.push(e.styles);let i=!1,a=null;return r.forEach(c=>{if(Om(c)){const f=c,g=f.easing;if(g&&(a=g,delete f.easing),!i)for(let b in f)if(f[b].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:a,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(f=>{if(!this._driver.validateStyleProperty(f))return void t.errors.push(function eE(n){return new u.vHH(3009,Yt)}());const g=t.collectedStyles[t.currentQuerySelector],b=g[f];let T=!0;b&&(a!=i&&a>=b.startTime&&i<=b.endTime&&(t.errors.push(function tE(n,e,t,r,i){return new u.vHH(3010,Yt)}()),T=!1),a=b.startTime),T&&(g[f]={startTime:a,endTime:i}),t.options&&function hE(n,e,t){const r=e.params||{},i=Am(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function _I(n){return new u.vHH(3001,Yt)}())})}(c[f],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function nE(){return new u.vHH(3011,Yt)}()),r;let a=0;const c=[];let f=!1,g=!1,b=0;const T=e.steps.map(Ye=>{const je=this._makeStyleAst(Ye,t);let Qe=null!=je.offset?je.offset:function yE(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Om(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(Om(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(je.styles),Fe=0;return null!=Qe&&(a++,Fe=je.offset=Qe),g=g||Fe<0||Fe>1,f=f||Fe<b,b=Fe,c.push(Fe),je});g&&t.errors.push(function rE(){return new u.vHH(3012,Yt)}()),f&&t.errors.push(function iE(){return new u.vHH(3200,Yt)}());const A=e.steps.length;let O=0;a>0&&a<A?t.errors.push(function DI(){return new u.vHH(3202,Yt)}()):0==a&&(O=1/(A-1));const $=A-1,z=t.currentTime,ne=t.currentAnimateTimings,de=ne.duration;return T.forEach((Ye,je)=>{const Qe=O>0?je==$?1:O*je:c[je],Fe=Qe*de;t.currentTime=z+ne.delay+Fe,ne.duration=Fe,this._validateStyleAst(Ye,t),Ye.offset=Qe,r.styles.push(Ye)}),r}visitReference(e,t){return{type:8,animation:Gi(this,ad(e.animation),t),options:ud(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ud(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ud(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,c]=function mE(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(GI,"")),n=n.replace(/@\*/g,Sm).replace(/@\w+/g,t=>Sm+"-"+t.substr(1)).replace(/:animating/g,Ql),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,ho(t.collectedStyles,t.currentQuerySelector,{});const f=Gi(this,ad(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:f,originalSelector:e.selector,options:ud(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function TI(){return new u.vHH(3013,Yt)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:$y(e.timings,t.errors,!0);return{type:12,animation:Gi(this,ad(e.animation),t),timings:r,options:null}}}class _E{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Om(n){return!Array.isArray(n)&&"object"==typeof n}function ud(n){return n?(n=od(n)).params&&(n.params=function gE(n){return n?od(n):null}(n.params)):n={},n}function Pm(n,e,t){return{duration:n,delay:e,easing:t}}function vE(n,e,t,r,i,a,c=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:c,subTimeline:f}}class Qy{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const HO=new RegExp(":enter","g"),GO=new RegExp(":leave","g");function bE(n,e,t,r,i,a={},c={},f,g,b=[]){return(new Nm).buildKeyframes(n,e,t,r,i,a,c,f,g,b)}class Nm{buildKeyframes(e,t,r,i,a,c,f,g,b,T=[]){b=b||new Qy;const A=new Qh(e,t,b,i,a,T,[]);A.options=g,A.currentTimeline.setStyles([c],null,A.errors,g),Gi(this,r,A);const O=A.timelines.filter($=>$.containsAnimation());if(Object.keys(f).length){let $;for(let z=O.length-1;z>=0;z--){const ne=O[z];if(ne.element===t){$=ne;break}}$&&!$.allowOnlyTimelineStyles()&&$.setStyles([f],null,A.errors,g)}return O.length?O.map($=>$.buildKeyframes()):[vE(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);a!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const c=null!=r.duration?zu(r.duration):null,f=null!=r.delay?zu(r.delay):null;return 0!==c&&e.forEach(g=>{const b=t.appendInstructionToTimeline(g,c,f);a=Math.max(a,b.duration+b.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Gi(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Jy);const c=zu(a.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>Gi(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?zu(e.options.delay):0;e.steps.forEach(c=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),Gi(this,c,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return $y(t.params?qy(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(g=>{f.forwardTime((g.offset||0)*a),f.setStyles(g.styles,g.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?zu(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Jy);let c=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let g=null;f.forEach((b,T)=>{t.currentQueryIndex=T;const A=t.createSubContext(e.options,b);a&&A.delayNextStep(a),b===t.element&&(g=A.currentTimeline),Gi(this,e.animation,A),A.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,A.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),g&&(t.currentTimeline.mergeTimelineCollectedStyles(g),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,c=Math.abs(a.duration),f=c*(t.currentQueryTotal-1);let g=c*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":g=f-g;break;case"full":g=r.currentStaggerTime}const T=t.currentTimeline;g&&T.delayNextStep(g);const A=T.currentTime;Gi(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-A+(i.startTime-r.currentTimeline.startTime)}}const Jy={};class Qh{constructor(e,t,r,i,a,c,f,g){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=c,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Jy,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new Xa(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=zu(r.duration)),null!=r.delay&&(i.delay=zu(r.delay));const a=r.params;if(a){let c=i.params;c||(c=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!c.hasOwnProperty(f))&&(c[f]=qy(a[f],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new Qh(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=Jy,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},a=new wE(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,c){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(HO,"."+this._enterClassName)).replace(GO,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=r);0!==r&&(b=r<0?b.slice(b.length+r,b.length):b.slice(0,r)),f.push(...b)}return!a&&0==f.length&&c.push(function SI(n){return new u.vHH(3014,Yt)}()),f}}class Xa{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Xa(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Ca,this._currentKeyframe[t]=Ca}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const a=i&&i.params||{},c=function WI(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(a=>{t[a]=Ca})):Jl(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(c).forEach(f=>{const g=qy(c[f],a,r);this._pendingStyles[f]=g,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:Ca),this._updateStyle(f,g)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,g)=>{const b=Jl(f,!0);Object.keys(b).forEach(T=>{const A=b[T];"!"==A?e.add(T):A==Ca&&t.add(T)}),r||(b.offset=g/this.duration),i.push(b)});const a=e.size?Kh(e.values()):[],c=t.size?Kh(t.values()):[];if(r){const f=i[0],g=od(f);f.offset=0,g.offset=1,i=[f,g]}return vE(this.element,i,a,c,this.duration,this.startTime,this.easing,!1)}}class wE extends Xa{constructor(e,t,r,i,a,c,f=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],c=r+t,f=t/c,g=Jl(e[0],!1);g.offset=0,a.push(g);const b=Jl(e[0],!1);b.offset=EE(f),a.push(b);const T=e.length-1;for(let A=1;A<=T;A++){let O=Jl(e[A],!1);O.offset=EE((t+O.offset*r)/c),a.push(O)}r=c,t=0,i="",e=a}return vE(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function EE(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Fm{}class DE extends Fm{normalizePropertyName(e,t){return Mm(e)}normalizeStyleValue(e,t,r,i){let a="";const c=r.toString().trim();if(qO[t]&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function bI(n,e){return new u.vHH(3005,Yt)}())}return c+a}}const qO=(()=>function TE(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Jh(n,e,t,r,i,a,c,f,g,b,T,A,O){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:c,timelines:f,queriedElements:g,preStyleProps:b,postStyleProps:T,totalTime:A,errors:O}}const Lm={};class KI{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function zO(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],a=this._stateStyles[e],c=i?i.buildStyles(t,r):{};return a?a.buildStyles(t,r):c}build(e,t,r,i,a,c,f,g,b,T){const A=[],O=this.ast.options&&this.ast.options.params||Lm,z=this.buildStyles(r,f&&f.params||Lm,A),ne=g&&g.params||Lm,de=this.buildStyles(i,ne,A),Ye=new Set,je=new Map,Qe=new Map,Fe="void"===i,St={params:Object.assign(Object.assign({},O),ne)},Dt=T?[]:bE(e,t,this.ast.animation,a,c,z,de,St,b,A);let Mn=0;if(Dt.forEach(jr=>{Mn=Math.max(jr.duration+jr.delay,Mn)}),A.length)return Jh(t,this._triggerName,r,i,Fe,z,de,[],[],je,Qe,Mn,A);Dt.forEach(jr=>{const kn=jr.element,Zn=ho(je,kn,{});jr.preStyleProps.forEach(Pf=>Zn[Pf]=!0);const Ma=ho(Qe,kn,{});jr.postStyleProps.forEach(Pf=>Ma[Pf]=!0),kn!==t&&Ye.add(kn)});const Rn=Kh(Ye.values());return Jh(t,this._triggerName,r,i,Fe,z,de,Dt,Rn,je,Qe,Mn)}}class WO{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=od(this.defaultParams);return Object.keys(e).forEach(a=>{const c=e[a];null!=c&&(i[a]=c)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const c=a;Object.keys(c).forEach(f=>{let g=c[f];g.length>1&&(g=qy(g,i,t));const b=this.normalizer.normalizePropertyName(f,t);g=this.normalizer.normalizeStyleValue(f,b,g,t),r[b]=g})}}),r}}class Xy{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new WO(i.style,i.options&&i.options.params||{},r)}),JI(this.states,"true","1"),JI(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new KI(e,i,this.states))}),this.fallbackTransition=function QI(n,e,t){return new KI(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function JI(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const XI=new Qy;class ev{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],i=Ky(this._driver,t,r);if(r.length)throw function Py(n){return new u.vHH(3503,Yt)}();this._animations[e]=i}_buildPlayer(e,t,r){const i=e.element,a=vm(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations[e];let c;const f=new Map;if(a?(c=bE(this._driver,t,a,Dm,Tm,{},{},r,XI,i),c.forEach(T=>{const A=ho(f,T.element,{});T.postStyleProps.forEach(O=>A[O]=null)})):(i.push(function Da(){return new u.vHH(3300,Yt)}()),c=[]),i.length)throw function kI(n){return new u.vHH(3504,Yt)}();f.forEach((T,A)=>{Object.keys(T).forEach(O=>{T[O]=this._driver.computeStyle(A,O,Ca)})});const b=Qa(c.map(T=>{const A=f.get(T.element);return this._buildPlayer(T,{},A)}));return this._playersById[e]=b,b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function gm(n){return new u.vHH(3301,Yt)}();return t}listen(e,t,r,i){const a=Ly(t,"","","");return bm(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const SE="ng-animate-queued",tv="ng-animate-disabled",rv=[],iv={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},IE={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},fo="__ng_removed";class Vm{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function ZO(n){return null!=n?n:null}(r?e.value:e),r){const a=od(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const cd="void",sv=new Vm(cd);class nA{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,po(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function qh(n,e){return new u.vHH(3302,Yt)}();if(null==r||0==r.length)throw function OI(n){return new u.vHH(3303,Yt)}();if(!function AE(n){return"start"==n||"done"==n}(r))throw function PI(n,e){return new u.vHH(3400,Yt)}();const a=ho(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};a.push(c);const f=ho(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(po(e,Wh),po(e,Wh+"-"+t),f[t]=sv),()=>{this._engine.afterFlush(()=>{const g=a.indexOf(c);g>=0&&a.splice(g,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function NI(n){return new u.vHH(3401,Yt)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),c=new ks(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(po(e,Wh),po(e,Wh+"-"+t),this._engine.statesByElement.set(e,f={}));let g=f[t];const b=new Vm(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&g&&b.absorbOptions(g.options),f[t]=b,g||(g=sv),b.value!==cd&&g.value===b.value){if(!function iA(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(g.params,b.params)){const ne=[],de=a.matchStyles(g.value,g.params,ne),Ye=a.matchStyles(b.value,b.params,ne);ne.length?this._engine.reportError(ne):this._engine.afterFlush(()=>{Ja(e,de),Ta(e,Ye)})}return}const O=ho(this._engine.playersByElement,e,[]);O.forEach(ne=>{ne.namespaceId==this.id&&ne.triggerName==t&&ne.queued&&ne.destroy()});let $=a.matchTransition(g.value,b.value,e,b.params),z=!1;if(!$){if(!i)return;$=a.fallbackTransition,z=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:$,fromState:g,toState:b,player:c,isFallbackTransition:z}),z||(po(e,SE),c.onStart(()=>{Xh(e,SE)})),c.onDone(()=>{let ne=this.players.indexOf(c);ne>=0&&this.players.splice(ne,1);const de=this._engine.playersByElement.get(e);if(de){let Ye=de.indexOf(c);Ye>=0&&de.splice(Ye,1)}}),this.players.push(c),O.push(c),c}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Sm,!0);r.forEach(i=>{if(i[fo])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),c=new Map;if(a){const f=[];if(Object.keys(a).forEach(g=>{if(c.set(g,a[g].value),this._triggers[g]){const b=this.trigger(e,g,cd,i);b&&f.push(b)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&Qa(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const c=a.name;if(i.has(c))return;i.add(c);const g=this._triggers[c].fallbackTransition,b=r[c]||sv,T=new Vm(cd),A=new ks(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:g,fromState:b,toState:T,player:A,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[fo];(!a||a===iv)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){po(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,c=this._elementListeners.get(a);c&&c.forEach(f=>{if(f.name==r.triggerName){const g=Ly(a,r.triggerName,r.fromState.value,r.toState.value);g._data=e,bm(r.player,f.phase,g,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==a||0==c?a-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class ov{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new nA(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let i=!1;for(let a=r;a>=0;a--)if(this.driver.containsElement(this._namespaceList[a].hostElement,t)){this._namespaceList.splice(a+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let a=0;a<i.length;a++){const c=r[i[a]].namespaceId;if(c){const f=this._fetchNamespace(c);f&&t.add(f)}}}return t}trigger(e,t,r,i){if(Bm(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Bm(t))return;const a=t[fo];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),po(e,tv)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Xh(e,tv))}removeNode(e,t,r,i){if(Bm(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[fo]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return Bm(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,Sm,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Ql,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Qa(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[fo];if(r&&r.setForRemoval){if(e[fo]=iv,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(tv))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)po(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Qa(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function _m(n){return new u.vHH(3402,Yt)}()}_flushAnimations(e,t){const r=new Qy,i=[],a=new Map,c=[],f=new Map,g=new Map,b=new Map,T=new Set;this.disabledNodes.forEach(gt=>{T.add(gt);const xt=this.driver.query(gt,".ng-animate-queued",!0);for(let Nt=0;Nt<xt.length;Nt++)T.add(xt[Nt])});const A=this.bodyNode,O=Array.from(this.statesByElement.keys()),$=av(O,this.collectedEnterElements),z=new Map;let ne=0;$.forEach((gt,xt)=>{const Nt=Dm+ne++;z.set(xt,Nt),gt.forEach(yn=>po(yn,Nt))});const de=[],Ye=new Set,je=new Set;for(let gt=0;gt<this.collectedLeaveElements.length;gt++){const xt=this.collectedLeaveElements[gt],Nt=xt[fo];Nt&&Nt.setForRemoval&&(de.push(xt),Ye.add(xt),Nt.hasAnimation?this.driver.query(xt,".ng-star-inserted",!0).forEach(yn=>Ye.add(yn)):je.add(xt))}const Qe=new Map,Fe=av(O,Array.from(Ye));Fe.forEach((gt,xt)=>{const Nt=Tm+ne++;Qe.set(xt,Nt),gt.forEach(yn=>po(yn,Nt))}),e.push(()=>{$.forEach((gt,xt)=>{const Nt=z.get(xt);gt.forEach(yn=>Xh(yn,Nt))}),Fe.forEach((gt,xt)=>{const Nt=Qe.get(xt);gt.forEach(yn=>Xh(yn,Nt))}),de.forEach(gt=>{this.processLeaveNode(gt)})});const St=[],Dt=[];for(let gt=this._namespaceList.length-1;gt>=0;gt--)this._namespaceList[gt].drainQueuedTransitions(t).forEach(Nt=>{const yn=Nt.player,Ni=Nt.element;if(St.push(yn),this.collectedEnterElements.length){const js=Ni[fo];if(js&&js.setForMove){if(js.previousTriggersValues&&js.previousTriggersValues.has(Nt.triggerName)){const Nf=js.previousTriggersValues.get(Nt.triggerName),xd=this.statesByElement.get(Nt.element);xd&&xd[Nt.triggerName]&&(xd[Nt.triggerName].value=Nf)}return void yn.destroy()}}const au=!A||!this.driver.containsElement(A,Ni),Go=Qe.get(Ni),Md=z.get(Ni),br=this._buildInstruction(Nt,r,Md,Go,au);if(br.errors&&br.errors.length)return void Dt.push(br);if(au)return yn.onStart(()=>Ja(Ni,br.fromStyles)),yn.onDestroy(()=>Ta(Ni,br.toStyles)),void i.push(yn);if(Nt.isFallbackTransition)return yn.onStart(()=>Ja(Ni,br.fromStyles)),yn.onDestroy(()=>Ta(Ni,br.toStyles)),void i.push(yn);const A2=[];br.timelines.forEach(js=>{js.stretchStartingKeyframe=!0,this.disabledNodes.has(js.element)||A2.push(js)}),br.timelines=A2,r.append(Ni,br.timelines),c.push({instruction:br,player:yn,element:Ni}),br.queriedElements.forEach(js=>ho(f,js,[]).push(yn)),br.preStyleProps.forEach((js,Nf)=>{const xd=Object.keys(js);if(xd.length){let Ff=g.get(Nf);Ff||g.set(Nf,Ff=new Set),xd.forEach(JR=>Ff.add(JR))}}),br.postStyleProps.forEach((js,Nf)=>{const xd=Object.keys(js);let Ff=b.get(Nf);Ff||b.set(Nf,Ff=new Set),xd.forEach(JR=>Ff.add(JR))})});if(Dt.length){const gt=[];Dt.forEach(xt=>{gt.push(function FI(n,e){return new u.vHH(3505,Yt)}())}),St.forEach(xt=>xt.destroy()),this.reportError(gt)}const Mn=new Map,Rn=new Map;c.forEach(gt=>{const xt=gt.element;r.has(xt)&&(Rn.set(xt,xt),this._beforeAnimationBuild(gt.player.namespaceId,gt.instruction,Mn))}),i.forEach(gt=>{const xt=gt.element;this._getPreviousPlayers(xt,!1,gt.namespaceId,gt.triggerName,null).forEach(yn=>{ho(Mn,xt,[]).push(yn),yn.destroy()})});const jr=de.filter(gt=>lv(gt,g,b)),kn=new Map;xE(kn,this.driver,je,b,Ca).forEach(gt=>{lv(gt,g,b)&&jr.push(gt)});const Ma=new Map;$.forEach((gt,xt)=>{xE(Ma,this.driver,new Set(gt),g,"!")}),jr.forEach(gt=>{const xt=kn.get(gt),Nt=Ma.get(gt);kn.set(gt,Object.assign(Object.assign({},xt),Nt))});const Pf=[],S2=[],I2={};c.forEach(gt=>{const{element:xt,player:Nt,instruction:yn}=gt;if(r.has(xt)){if(T.has(xt))return Nt.onDestroy(()=>Ta(xt,yn.toStyles)),Nt.disabled=!0,Nt.overrideTotalTime(yn.totalTime),void i.push(Nt);let Ni=I2;if(Rn.size>1){let Go=xt;const Md=[];for(;Go=Go.parentNode;){const br=Rn.get(Go);if(br){Ni=br;break}Md.push(Go)}Md.forEach(br=>Rn.set(br,Ni))}const au=this._buildAnimation(Nt.namespaceId,yn,Mn,a,Ma,kn);if(Nt.setRealPlayer(au),Ni===I2)Pf.push(Nt);else{const Go=this.playersByElement.get(Ni);Go&&Go.length&&(Nt.parentPlayer=Qa(Go)),i.push(Nt)}}else Ja(xt,yn.fromStyles),Nt.onDestroy(()=>Ta(xt,yn.toStyles)),S2.push(Nt),T.has(xt)&&i.push(Nt)}),S2.forEach(gt=>{const xt=a.get(gt.element);if(xt&&xt.length){const Nt=Qa(xt);gt.setRealPlayer(Nt)}}),i.forEach(gt=>{gt.parentPlayer?gt.syncPlayerEvents(gt.parentPlayer):gt.destroy()});for(let gt=0;gt<de.length;gt++){const xt=de[gt],Nt=xt[fo];if(Xh(xt,Tm),Nt&&Nt.hasAnimation)continue;let yn=[];if(f.size){let au=f.get(xt);au&&au.length&&yn.push(...au);let Go=this.driver.query(xt,Ql,!0);for(let Md=0;Md<Go.length;Md++){let br=f.get(Go[Md]);br&&br.length&&yn.push(...br)}}const Ni=yn.filter(au=>!au.destroyed);Ni.length?RE(this,xt,Ni):this.processLeaveNode(xt)}return de.length=0,Pf.forEach(gt=>{this.players.push(gt),gt.onDone(()=>{gt.destroy();const xt=this.players.indexOf(gt);this.players.splice(xt,1)}),gt.play()}),Pf}elementContainsData(e,t){let r=!1;const i=t[fo];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let c=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(c=f)}else{const f=this.playersByElement.get(e);if(f){const g=!a||a==cd;f.forEach(b=>{b.queued||!g&&b.triggerName!=i||c.push(b)})}}return(r||i)&&(c=c.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),c}_beforeAnimationBuild(e,t,r){const a=t.element,c=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const g of t.timelines){const b=g.element,T=b!==a,A=ho(r,b,[]);this._getPreviousPlayers(b,T,c,f,t.toState).forEach($=>{const z=$.getRealPlayer();z.beforeDestroy&&z.beforeDestroy(),$.destroy(),A.push($)})}Ja(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,c){const f=t.triggerName,g=t.element,b=[],T=new Set,A=new Set,O=t.timelines.map(z=>{const ne=z.element;T.add(ne);const de=ne[fo];if(de&&de.removedBeforeQueried)return new mm(z.duration,z.delay);const Ye=ne!==g,je=function kE(n){const e=[];return OE(n,e),e}((r.get(ne)||rv).map(Mn=>Mn.getRealPlayer())).filter(Mn=>!!Mn.element&&Mn.element===ne),Qe=a.get(ne),Fe=c.get(ne),St=vm(0,this._normalizer,0,z.keyframes,Qe,Fe),Dt=this._buildPlayer(z,St,je);if(z.subTimeline&&i&&A.add(ne),Ye){const Mn=new ks(e,f,ne);Mn.setRealPlayer(Dt),b.push(Mn)}return Dt});b.forEach(z=>{ho(this.playersByQueriedElement,z.element,[]).push(z),z.onDone(()=>function rA(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,z.element,z))}),T.forEach(z=>po(z,Si));const $=Qa(O);return $.onDestroy(()=>{T.forEach(z=>Xh(z,Si)),Ta(g,t.toStyles)}),A.forEach(z=>{ho(i,z,[]).push($)}),$}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new mm(e.duration,e.delay)}}class ks{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new mm,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>bm(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ho(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Bm(n){return n&&1===n.nodeType}function ME(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function xE(n,e,t,r,i){const a=[];t.forEach(g=>a.push(ME(g)));const c=[];r.forEach((g,b)=>{const T={};g.forEach(A=>{const O=T[A]=e.computeStyle(b,A,i);(!O||0==O.length)&&(b[fo]=IE,c.push(b))}),n.set(b,T)});let f=0;return t.forEach(g=>ME(g,a[f++])),c}function av(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),a=new Map;function c(f){if(!f)return 1;let g=a.get(f);if(g)return g;const b=f.parentNode;return g=t.has(b)?b:i.has(b)?1:c(b),a.set(f,g),g}return e.forEach(f=>{const g=c(f);1!==g&&t.get(g).push(f)}),t}function po(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Xh(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function RE(n,e,t){Qa(t).onDone(()=>n.processLeaveNode(e))}function OE(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Oy?OE(r.players,e):e.push(r)}}function lv(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class Xl{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new ov(e,t,r),this._timelineEngine=new ev(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const c=e+"-"+i;let f=this._triggerCache[c];if(!f){const g=[],b=Ky(this._driver,a,g);if(g.length)throw function Gh(n,e){return new u.vHH(3404,Yt)}();f=function YI(n,e,t){return new Xy(n,e,t)}(i,b,this._normalizer),this._triggerCache[c]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,c]=wm(r);this._timelineEngine.command(a,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[c,f]=wm(r);return this._timelineEngine.listen(c,t,f,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let PE=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Ta(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ta(this._element,this._initialStyles),this._endStyles&&(Ta(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ja(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ja(this._element,this._endStyles),this._endStyles=null),Ta(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function cv(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];NE(i)&&(e=e||{},e[i]=n[i])}return e}function NE(n){return"display"===n||"position"===n}class dv{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:Rm(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class sA{validateStyleProperty(e){return aE(e)}matchesElement(e,t){return!1}containsElement(e,t){return Uy(e,t)}query(e,t,r){return Em(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,c=[]){const g={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(g.easing=a);const b={},T=c.filter(O=>O instanceof dv);(function fE(n,e){return 0===n||0===e})(r,i)&&T.forEach(O=>{let $=O.currentSnapshot;Object.keys($).forEach(z=>b[z]=$[z])}),t=function jI(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let a=e[0],c=[];if(r.forEach(f=>{a.hasOwnProperty(f)||c.push(f),a[f]=t[f]}),c.length)for(var i=1;i<e.length;i++){let f=e[i];c.forEach(function(g){f[g]=Rm(n,g)})}}return e}(e,t=t.map(O=>Jl(O,!1)),b);const A=function uv(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=cv(e[0]),e.length>1&&(r=cv(e[e.length-1]))):e&&(t=cv(e)),t||r?new PE(n,t,r):null}(e,t);return new dv(e,t,g,A)}}let oA=(()=>{class n extends Z0{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?fm(t):t;return hv(this._renderer,null,r,"register",[i]),new KO(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class KO extends class K0{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new YO(this._id,e,t||{},this._renderer)}}class YO{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return hv(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function hv(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const FE="@.disabled";let aA=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,c)=>{const f=null==c?void 0:c.parentNode(a);f&&c.removeChild(f,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let T=this._rendererCache.get(a);return T||(T=new lA("",a,this.engine),this._rendererCache.set(a,T)),T}const c=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const g=T=>{Array.isArray(T)?T.forEach(g):this.engine.registerTrigger(c,f,t,T.name,T)};return r.data.animation.forEach(g),new QO(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[c,f]=a;c(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(Xl),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class lA{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==FE?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class QO extends lA{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==FE?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function JO(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.substr(1),c="";return"@"!=a.charAt(0)&&([a,c]=function XO(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,c,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let eP=(()=>{class n extends Xl{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie),u.LFG(Cm),u.LFG(Fm))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const dd=new u.OlP("AnimationModuleType"),LE=[{provide:Z0,useClass:oA},{provide:Fm,useFactory:function uA(){return new DE}},{provide:Xl,useClass:eP},{provide:u.FYo,useFactory:function jm(n,e,t){return new aA(n,e,t)},deps:[bn,Xl,u.R0b]}],fv=[{provide:Cm,useFactory:()=>new sA},{provide:dd,useValue:"BrowserAnimations"},...LE],Wu=[{provide:Cm,useClass:jy},{provide:dd,useValue:"NoopAnimations"},...LE];let VE=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Wu:fv}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:fv,imports:[Zs]}),n})();function pv(n,e){if(1&n&&u._UZ(0,"mat-pseudo-checkbox",4),2&n){const t=u.oxw();u.Q6J("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function mv(n,e){if(1&n&&(u.TgZ(0,"span",5),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.hij("(",t.group.label,")")}}const Hm=["*"],jE=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function nP(){return!0}});let Ii=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!xs()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(dm),u.LFG(jE,8),u.LFG(ie))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[td],td]}),n})();function gv(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=di(e)}}}function $m(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function _v(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=di(e)}}}function dA(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?lm(t):this.defaultTabIndex}}}function hA(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new nn.x,this.errorState=!1}updateErrorState(){const e=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==e&&(this.errorState=a,this.stateChanges.next())}}}let mA=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class gA{constructor(e,t,r){this._renderer=e,this.element=t,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const _A={enterDuration:225,exitDuration:150},HE=Yp({passive:!0}),yA=["mousedown","touchstart"],vA=["mouseup","mouseleave","touchend","touchcancel"];class bA{constructor(e,t,r,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Kl(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=Object.assign(Object.assign({},_A),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const c=r.radius||function yP(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),f=e-i.left,g=t-i.top,b=a.enterDuration,T=document.createElement("div");T.classList.add("mat-ripple-element"),T.style.left=f-c+"px",T.style.top=g-c+"px",T.style.height=2*c+"px",T.style.width=2*c+"px",null!=r.color&&(T.style.backgroundColor=r.color),T.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(T),function _P(n){window.getComputedStyle(n).getPropertyValue("opacity")}(T),T.style.transform="scale(1)";const A=new gA(this,T,r);return A.state=0,this._activeRipples.add(A),r.persistent||(this._mostRecentTransientRipple=A),this._runTimeoutOutsideZone(()=>{const O=A===this._mostRecentTransientRipple;A.state=1,!r.persistent&&(!O||!this._isPointerDown)&&A.fadeOut()},b),A}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const r=e.element,i=Object.assign(Object.assign({},_A),e.config.animation);r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,r.remove()},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Kl(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(yA))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(vA),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=Iy(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!q0(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,HE)})})}_removeTriggerEvents(){this._triggerElement&&(yA.forEach(e=>{this._triggerElement.removeEventListener(e,this,HE)}),this._pointerUpEventsRegistered&&vA.forEach(e=>{this._triggerElement.removeEventListener(e,this,HE)}))}}const vP=new u.OlP("mat-ripple-global-options");let $E=(()=>{class n{constructor(t,r,i,a,c){this._elementRef=t,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new bA(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,Object.assign(Object.assign({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(Ms),u.Y36(vP,8),u.Y36(dd,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&u.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),s=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Ii],Ii]}),n})(),o=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(dd,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,r){2&t&&u.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,r){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),l=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Ii]]}),n})();const d=new u.OlP("MAT_OPTION_PARENT_COMPONENT"),w=new u.OlP("MatOptgroup");let I=0;class x{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let L=(()=>{class n{constructor(t,r,i,a){this._element=t,this._changeDetectorRef=r,this._parent=i,this.group=a,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+I++,this.onSelectionChange=new u.vpe,this._stateChanges=new nn.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=di(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,r){const i=this._getHostElement();"function"==typeof i.focus&&i.focus(r)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!Vh(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new x(this,t))}}return n.\u0275fac=function(t){u.$Z()},n.\u0275dir=u.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),G=(()=>{class n extends L{constructor(t,r,i,a){super(t,r,i,a)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(d,8),u.Y36(w,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,r){1&t&&u.NdJ("click",function(){return r._selectViaInteraction()})("keydown",function(a){return r._handleKeydown(a)}),2&t&&(u.Ikx("id",r.id),u.uIk("tabindex",r._getTabIndex())("aria-selected",r._getAriaSelected())("aria-disabled",r.disabled.toString()),u.ekj("mat-selected",r.selected)("mat-option-multiple",r.multiple)("mat-active",r.active)("mat-option-disabled",r.disabled))},exportAs:["matOption"],features:[u.qOj],ngContentSelectors:Hm,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,r){1&t&&(u.F$t(),u.YNc(0,pv,1,2,"mat-pseudo-checkbox",0),u.TgZ(1,"span",1),u.Hsn(2),u.qZA(),u.YNc(3,mv,2,1,"span",2),u._UZ(4,"div",3)),2&t&&(u.Q6J("ngIf",r.multiple),u.xp6(3),u.Q6J("ngIf",r.group&&r.group._inert),u.xp6(1),u.Q6J("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},directives:[o,fr,$E],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function J(n,e,t){if(t.length){let r=e.toArray(),i=t.toArray(),a=0;for(let c=0;c<n+1;c++)r[c].group&&r[c].group===i[a]&&a++;return a}return 0}let Ve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[s,ll,Ii,l]]}),n})();const qe=["*",[["mat-toolbar-row"]]],st=["*","mat-toolbar-row"],Me=$m(class{constructor(n){this._elementRef=n}});let Ct=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),Zt=(()=>{class n extends Me{constructor(t,r,i){super(t),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(Ms),u.Y36(ie))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,r,i){if(1&t&&u.Suo(i,Ct,5),2&t){let a;u.iGM(a=u.CRH())&&(r._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,r){2&t&&u.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[u.qOj],ngContentSelectors:st,decls:2,vars:0,template:function(t,r){1&t&&(u.F$t(qe),u.Hsn(0),u.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),Os=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Ii],Ii]}),n})();function Zu(n,e){1&n&&(u.TgZ(0,"small",8),u._uU(1,"O email \xe9 obrigat\xf3rio! "),u.qZA())}function bv(n,e){1&n&&(u.TgZ(0,"small",8),u._uU(1,"Email inv\xe1lido!"),u.qZA())}function wv(n,e){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,Zu,2,0,"small",7),u.YNc(2,bv,2,0,"small",7),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.formCadastrar.controls.email.hasError("required")),u.xp6(1),u.Q6J("ngIf",t.formCadastrar.controls.email.hasError("email"))}}function Ev(n,e){1&n&&(u.TgZ(0,"small",8),u._uU(1,"Confirme sua senha!"),u.qZA())}function Cv(n,e){1&n&&(u.TgZ(0,"small",8),u._uU(1,"Senha pequena demais!"),u.qZA())}function Dv(n,e){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,Ev,2,0,"small",7),u.YNc(2,Cv,2,0,"small",7),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.formCadastrar.controls.password.hasError("required")),u.xp6(1),u.Q6J("ngIf",t.formCadastrar.controls.password.hasError("minLength"))}}function Tv(n,e){1&n&&(u.TgZ(0,"small",8),u._uU(1,"A senha \xe9 obirgat\xf3ria!"),u.qZA())}function Sv(n,e){1&n&&(u.TgZ(0,"small",8),u._uU(1,"Senha pequena demais!"),u.qZA())}function Iv(n,e){1&n&&(u.TgZ(0,"small",8),u._uU(1,"Senhas n\xe3o s\xe3o iguais!"),u.qZA())}function Av(n,e){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,Tv,2,0,"small",7),u.YNc(2,Sv,2,0,"small",7),u.YNc(3,Iv,2,0,"small",7),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.formCadastrar.controls.confirmPassword.hasError("required")),u.xp6(1),u.Q6J("ngIf",t.formCadastrar.controls.confirmPassword.hasError("minLength")),u.xp6(1),u.Q6J("ngIf",t.formCadastrar.controls.confirmPassword.value!=t.formCadastrar.controls.password.value)}}let z2=(()=>{class n{constructor(t,r,i){this._router=t,this._usuarioService=r,this._formBuilder=i,this.formCadastrar=this._formBuilder.group({email:["",[un.required,un.email]],password:["",[un.required,un.minLength(6)]],confirmPassword:["",[un.required,un.minLength(6)]]})}ngOnInit(){}validarFormulario(){for(let t in this.formCadastrar.controls)this.formCadastrar.controls[t].markAsTouched()}submitForm(){this.validarFormulario(),this.formCadastrar.valid&&this.cadastrar()}cadastrar(){this.formCadastrar.controls.password.value==this.formCadastrar.controls.confirmPassword.value?this._usuarioService.cadastrarComEmailSenha(this.formCadastrar.controls.email.value,this.formCadastrar.controls.password.value).then(()=>{alert("Cadastro efetuado com sucesso!"),this._router.navigate(["/listaDePersonagens"])}).catch(t=>{alert("Deu ruim"),console.log(t)}):alert("Senhas diferentes!")}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(yr),u.Y36(Kp),u.Y36(xp))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-cadastro"]],decls:21,vars:4,consts:[["color","primary"],[3,"formGroup","ngSubmit"],["text","text","formControlName","email","required",""],[4,"ngIf"],["type","password","formControlName","password","required",""],["type","password","formControlName","confirmPassword","required",""],["type","submit"],["style","color: pink",4,"ngIf"],[2,"color","pink"]],template:function(t,r){1&t&&(u.TgZ(0,"body")(1,"mat-toolbar",0),u._uU(2,"Cadastrar"),u.qZA(),u.TgZ(3,"form",1),u.NdJ("ngSubmit",function(){return r.submitForm()}),u.TgZ(4,"label"),u._uU(5,"Email:"),u.qZA(),u._UZ(6,"input",2)(7,"br"),u.YNc(8,wv,3,2,"div",3),u.TgZ(9,"label"),u._uU(10,"Senha:"),u.qZA(),u._UZ(11,"input",4)(12,"br"),u.YNc(13,Dv,3,2,"div",3),u.TgZ(14,"label"),u._uU(15,"Senha:"),u.qZA(),u._UZ(16,"input",5)(17,"br"),u.YNc(18,Av,4,3,"div",3),u.TgZ(19,"button",6),u._uU(20,"Cadastrar"),u.qZA()()()),2&t&&(u.xp6(3),u.Q6J("formGroup",r.formCadastrar),u.xp6(5),u.Q6J("ngIf",r.formCadastrar.controls.email.touched),u.xp6(5),u.Q6J("ngIf",r.formCadastrar.controls.password.touched),u.xp6(5),u.Q6J("ngIf",r.formCadastrar.controls.confirmPassword.touched))},directives:[Zt,wh,hh,Gl,Hc,dh,$c,Vo,fr],styles:[""]}),n})();function wA(){return(0,pr.e)((n,e)=>{let t,r=!1;n.subscribe((0,_n.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}P(5881);var lt,bP=P(3942),W2="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ku={},EA=EA||{},$t=W2||self;function GE(){}function CA(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Mv(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var DA="closure_uid_"+(1e9*Math.random()>>>0),K2=0;function Y2(n,e,t){return n.call.apply(n.bind,arguments)}function Q2(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function qi(n,e,t){return(qi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Y2:Q2).apply(null,arguments)}function qE(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function zi(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,a){for(var c=Array(arguments.length-2),f=2;f<arguments.length;f++)c[f-2]=arguments[f];return e.prototype[i].apply(r,c)}}function hd(){this.s=this.s,this.o=this.o}var X2={};hd.prototype.s=!1,hd.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Z2(n){return Object.prototype.hasOwnProperty.call(n,DA)&&n[DA]||(n[DA]=++K2)}(this);delete X2[n]}},hd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const wP=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},EP=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let a=0;a<r;a++)a in i&&e.call(t,i[a],a,n)};function CP(n){return Array.prototype.concat.apply([],arguments)}function TA(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function zE(n){return/^[\s\xa0]*$/.test(n)}var Ns,DP=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ps(n,e){return-1!=n.indexOf(e)}function SA(n,e){return n<e?-1:n>e?1:0}e:{var TP=$t.navigator;if(TP){var SP=TP.userAgent;if(SP){Ns=SP;break e}}Ns=""}function IA(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function IP(n){const e={};for(const t in n)e[t]=n[t];return e}var AP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function MP(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<AP.length;a++)t=AP[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function AA(n){return AA[" "](n),n}AA[" "]=GE;var WE,n,nB=Ps(Ns,"Opera"),Gm=Ps(Ns,"Trident")||Ps(Ns,"MSIE"),xP=Ps(Ns,"Edge"),MA=xP||Gm,RP=Ps(Ns,"Gecko")&&!(Ps(Ns.toLowerCase(),"webkit")&&!Ps(Ns,"Edge"))&&!(Ps(Ns,"Trident")||Ps(Ns,"MSIE"))&&!Ps(Ns,"Edge"),rB=Ps(Ns.toLowerCase(),"webkit")&&!Ps(Ns,"Edge");function kP(){var n=$t.document;return n?n.documentMode:void 0}e:{var xA="",RA=(n=Ns,RP?/rv:([^\);]+)(\)|;)/.exec(n):xP?/Edge\/([\d\.]+)/.exec(n):Gm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):rB?/WebKit\/(\S+)/.exec(n):nB?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(RA&&(xA=RA?RA[1]:""),Gm){var kA=kP();if(null!=kA&&kA>parseFloat(xA)){WE=String(kA);break e}}WE=xA}var iB={};var oB=$t.document&&Gm&&(kP()||parseInt(WE,10))||void 0,aB=function(){if(!$t.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{$t.addEventListener("test",GE,e),$t.removeEventListener("test",GE,e)}catch(t){}return n}();function cs(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function xv(n,e){if(cs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(RP){e:{try{AA(e.nodeName);var i=!0;break e}catch(a){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:lB[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&xv.Z.h.call(this)}}cs.prototype.h=function(){this.defaultPrevented=!0},zi(xv,cs);var lB={2:"touch",3:"pen",4:"mouse"};xv.prototype.h=function(){xv.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Rv="closure_listenable_"+(1e6*Math.random()|0),uB=0;function cB(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++uB,this.ca=this.fa=!1}function ZE(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function KE(n){this.src=n,this.g={},this.h=0}function PA(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=wP(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(ZE(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function NA(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ca&&a.listener==e&&a.capture==!!t&&a.ia==r)return i}return-1}KE.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=NA(n,e,r,i);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new cB(e,this.src,a,!!r,i)).fa=t,n.push(e)),e};var FA="closure_lm_"+(1e6*Math.random()|0),LA={};function PP(n,e,t,r,i){if(r&&r.once)return FP(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)PP(n,e[a],t,r,i);return null}return t=jA(t),n&&n[Rv]?n.N(e,t,Mv(r)?!!r.capture:!!r,i):NP(n,e,t,!1,r,i)}function NP(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var c=Mv(i)?!!i.capture:!!i,f=BA(n);if(f||(n[FA]=f=new KE(n)),(t=f.add(e,t,r,c,a)).proxy)return t;if(r=function dB(){var e=hB;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)aB||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(VP(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function FP(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)FP(n,e[a],t,r,i);return null}return t=jA(t),n&&n[Rv]?n.O(e,t,Mv(r)?!!r.capture:!!r,i):NP(n,e,t,!0,r,i)}function LP(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)LP(n,e[a],t,r,i);else r=Mv(r)?!!r.capture:!!r,t=jA(t),n&&n[Rv]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=NA(a=n.g[e],t,r,i))&&(ZE(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=BA(n))&&(e=n.g[e.toString()],n=-1,e&&(n=NA(e,t,r,i)),(t=-1<n?e[n]:null)&&VA(t))}function VA(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Rv])PA(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(VP(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=BA(e))?(PA(t,n),0==t.h&&(t.src=null,e[FA]=null)):ZE(n)}}}function VP(n){return n in LA?LA[n]:LA[n]="on"+n}function hB(n,e){if(n.ca)n=!0;else{e=new xv(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&VA(n),n=t.call(r,e)}return n}function BA(n){return(n=n[FA])instanceof KE?n:null}var UA="__closure_events_fn_"+(1e9*Math.random()>>>0);function jA(n){return"function"==typeof n?n:(n[UA]||(n[UA]=function(e){return n.handleEvent(e)}),n[UA])}function Ai(){hd.call(this),this.i=new KE(this),this.P=this,this.I=null}function Wi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new cs(e,n);else if(e instanceof cs)e.target=e.target||n;else{var i=e;MP(e=new cs(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];i=YE(c,r,!0,e)&&i}if(i=YE(c=e.g=n,r,!0,e)&&i,i=YE(c,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=YE(c=e.g=t[a],r,!1,e)&&i}function YE(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.ca&&c.capture==t){var f=c.listener,g=c.ia||c.src;c.fa&&PA(n.i,c),i=!1!==f.call(g,r)&&i}}return i&&!r.defaultPrevented}zi(Ai,hd),Ai.prototype[Rv]=!0,Ai.prototype.removeEventListener=function(n,e,t,r){LP(this,n,e,t,r)},Ai.prototype.M=function(){if(Ai.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)ZE(t[r]);delete n.g[e],n.h--}}this.I=null},Ai.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ai.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var HA=$t.JSON.stringify;function fB(){var n=UP;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var GA,BP=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new mB,n=>n.reset());class mB{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function gB(n){$t.setTimeout(()=>{throw n},0)}function $A(n,e){GA||function _B(){var n=$t.Promise.resolve(void 0);GA=function(){n.then(yB)}}(),qA||(GA(),qA=!0),UP.add(n,e)}var qA=!1,UP=new class pB{constructor(){this.h=this.g=null}add(e,t){const r=BP.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function yB(){for(var n;n=fB();){try{n.h.call(n.g)}catch(t){gB(t)}var e=BP;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}qA=!1}function QE(n,e){Ai.call(this),this.h=n||1,this.g=e||$t,this.j=qi(this.kb,this),this.l=Date.now()}function zA(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function WA(n,e,t){if("function"==typeof n)t&&(n=qi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=qi(n.handleEvent,n)}return 2147483647<Number(e)?-1:$t.setTimeout(n,e||0)}function jP(n){n.g=WA(()=>{n.g=null,n.i&&(n.i=!1,jP(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}zi(QE,Ai),(lt=QE.prototype).da=!1,lt.S=null,lt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Wi(this,"tick"),this.da&&(zA(this),this.start()))}},lt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},lt.M=function(){QE.Z.M.call(this),zA(this),delete this.g};class vB extends hd{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:jP(this)}M(){super.M(),this.g&&($t.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kv(n){hd.call(this),this.h=n,this.g={}}zi(kv,hd);var HP=[];function $P(n,e,t,r){Array.isArray(t)||(t&&(HP[0]=t.toString()),t=HP);for(var i=0;i<t.length;i++){var a=PP(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function GP(n){IA(n.g,function(e,t){this.g.hasOwnProperty(t)&&VA(e)},n),n.g={}}function JE(){this.g=!0}function qm(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function CB(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<i.length;c++)i[c]=""}}}return HA(t)}catch(f){return e}}(n,t)+(r?" "+r:"")})}kv.prototype.M=function(){kv.Z.M.call(this),GP(this)},kv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},JE.prototype.Aa=function(){this.g=!1},JE.prototype.info=function(){};var tf={},qP=null;function XE(){return qP=qP||new Ai}function zP(n){cs.call(this,tf.Ma,n)}function Ov(n){const e=XE();Wi(e,new zP(e,n))}function WP(n,e){cs.call(this,tf.STAT_EVENT,n),this.stat=e}function Fs(n){const e=XE();Wi(e,new WP(e,n))}function ZP(n,e){cs.call(this,tf.Na,n),this.size=e}function Pv(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return $t.setTimeout(function(){n()},e)}tf.Ma="serverreachability",zi(zP,cs),tf.STAT_EVENT="statevent",zi(WP,cs),tf.Na="timingevent",zi(ZP,cs);var eC={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},KP={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ZA(){}function QP(){}ZA.prototype.h=null;var QA,Nv={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function KA(){cs.call(this,"d")}function YA(){cs.call(this,"c")}function tC(){}function Fv(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new kv(this),this.P=DB,this.W=new QE(n=MA?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new JP}function JP(){this.i=null,this.g="",this.h=!1}zi(KA,cs),zi(YA,cs),zi(tC,ZA),tC.prototype.g=function(){return new XMLHttpRequest},tC.prototype.i=function(){return{}},QA=new tC;var DB=45e3,JA={},nC={};function XA(n,e,t){n.K=1,n.v=aC(Yu(e)),n.s=t,n.U=!0,XP(n,null)}function XP(n,e){n.F=Date.now(),Lv(n),n.A=Yu(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),u1(t.h,"t",r),n.C=0,t=n.l.H,n.h=new JP,n.g=k1(n.l,t?e:null,!n.s),0<n.O&&(n.L=new vB(qi(n.Ia,n,n.g),n.O)),$P(n.V,n.g,"readystatechange",n.gb),e=n.H?IP(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Ov(1),function bB(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var c="",f=a.split("&"),g=0;g<f.length;g++){var b=f[g].split("=");if(1<b.length){var T=b[0];b=b[1];var A=T.split("_");c=2<=A.length&&"type"==A[1]?c+(T+"=")+b+"&":c+(T+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function e1(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function t1(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=TB(n,t),i==nC){4==e&&(n.o=4,Fs(14),r=!1),qm(n.j,n.m,null,"[Incomplete Response]");break}if(i==JA){n.o=4,Fs(15),qm(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}qm(n.j,n.m,i,null),eM(n,i)}e1(n)&&i!=nC&&i!=JA&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Fs(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),dM(e),e.L=!0,Fs(11))):(qm(n.j,n.m,t,"[Invalid Chunked Response]"),nf(n),Vv(n))}function TB(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?nC:(t=Number(e.substring(t,r)),isNaN(t)?JA:(r+=1)+t>e.length?nC:(e=e.substr(r,t),n.C=r+t,e))}function Lv(n){n.Y=Date.now()+n.P,n1(n,n.P)}function n1(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Pv(qi(n.eb,n),e)}function rC(n){n.B&&($t.clearTimeout(n.B),n.B=null)}function Vv(n){0==n.l.G||n.I||A1(n.l,n)}function nf(n){rC(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,zA(n.W),GP(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function eM(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||rM(t.i,n)))if(t.I=n.N,!n.J&&rM(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(b){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Pv(qi(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;fC(t),dC(t)}cM(t),Fs(18)}if(1>=h1(t.i)&&t.ka){try{t.ka()}catch(b){}t.ka=void 0}}else af(t,11)}else if((n.J||t.g==n)&&fC(t),!zE(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let b=i[e];if(t.U=b[0],b=b[1],2==t.G)if("c"==b[0]){t.J=b[1],t.la=b[2];const T=b[3];null!=T&&(t.ma=T,t.h.info("VER="+t.ma));const A=b[4];null!=A&&(t.za=A,t.h.info("SVER="+t.za));const O=b[5];null!=O&&"number"==typeof O&&0<O&&(t.K=r=1.5*O,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const $=n.g;if($){const z=$.g?$.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(z){var a=r.i;!a.g&&(Ps(z,"spdy")||Ps(z,"quic")||Ps(z,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(iM(a,a.h),a.h=null))}if(r.D){const ne=$.g?$.g.getResponseHeader("X-HTTP-Session-Id"):null;ne&&(r.sa=ne,ur(r.F,r.D,ne))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((r=t).oa=R1(r,r.H?r.la:null,r.W),c.J){f1(r.i,c);var f=c,g=r.K;g&&f.setTimeout(g),f.B&&(rC(f),Lv(f)),r.g=c}else S1(r);0<t.l.length&&hC(t)}else"stop"!=b[0]&&"close"!=b[0]||af(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?af(t,7):lM(t):"noop"!=b[0]&&t.j&&t.j.wa(b),t.A=0)}Ov(4)}catch(b){}}function tM(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(CA(n)||"string"==typeof n)EP(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(CA(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function SB(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(CA(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}}function zm(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof zm)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function nM(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];rf(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)rf(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function rf(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(lt=Fv.prototype).setTimeout=function(n){this.P=n},lt.gb=function(n){n=n.target;const e=this.L;e&&3==Qu(n)?e.l():this.Ia(n)},lt.Ia=function(n){try{if(n==this.g)e:{const T=Qu(this.g);var e=this.g.Da();const A=this.g.ba();if(!(3>T)&&(3!=T||MA||this.g&&(this.h.h||this.g.ga()||w1(this.g)))){this.I||4!=T||7==e||Ov(8==e||0>=A?3:2),rC(this);var t=this.g.ba();this.N=t;t:if(e1(this)){var r=w1(this.g);n="";var i=r.length,a=4==Qu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){nf(this),Vv(this);var c="";break t}this.h.i=new $t.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function wB(n,e,t,r,i,a,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.X,T,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,g=this.g;if((f=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zE(f)){var b=f;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,Fs(12),nf(this),Vv(this);break e}qm(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,eM(this,t)}this.U?(t1(this,T,c),MA&&this.i&&3==T&&($P(this.V,this.W,"tick",this.fb),this.W.start())):(qm(this.j,this.m,c,null),eM(this,c)),4==T&&nf(this),this.i&&!this.I&&(4==T?A1(this.l,this):(this.i=!1,Lv(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Fs(12)):(this.o=0,Fs(13)),nf(this),Vv(this)}}}catch(T){}},lt.fb=function(){if(this.g){var n=Qu(this.g),e=this.g.ga();this.C<e.length&&(rC(this),t1(this,n,e),this.i&&4!=n&&Lv(this))}},lt.cancel=function(){this.I=!0,nf(this)},lt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function EB(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ov(3),Fs(17)),nf(this),this.o=2,Vv(this)):n1(this,this.Y-n)},(lt=zm.prototype).R=function(){nM(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},lt.T=function(){return nM(this),this.g.concat()},lt.get=function(n,e){return rf(this.h,n)?this.h[n]:e},lt.set=function(n,e){rf(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},lt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],a=this.get(i);n.call(e,a,i,this)}};var r1=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function sf(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof sf){this.g=void 0!==e?e:n.g,iC(this,n.j),this.s=n.s,sC(this,n.i),oC(this,n.m),this.l=n.l,e=n.h;var t=new jv;t.i=e.i,e.g&&(t.g=new zm(e.g),t.h=e.h),s1(this,t),this.o=n.o}else n&&(t=String(n).match(r1))?(this.g=!!e,iC(this,t[1]||"",!0),this.s=Bv(t[2]||""),sC(this,t[3]||"",!0),oC(this,t[4]),this.l=Bv(t[5]||"",!0),s1(this,t[6]||"",!0),this.o=Bv(t[7]||"")):(this.g=!!e,this.h=new jv(null,this.g))}function Yu(n){return new sf(n)}function iC(n,e,t){n.j=t?Bv(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function sC(n,e,t){n.i=t?Bv(e,!0):e}function oC(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function s1(n,e,t){e instanceof jv?(n.h=e,function NB(n,e){e&&!n.j&&(fd(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(a1(this,r),u1(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Uv(e,OB)),n.h=new jv(e,n.g))}function ur(n,e,t){n.h.set(e,t)}function aC(n){return ur(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Bv(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Uv(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,xB),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function xB(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}sf.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Uv(e,o1,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Uv(e,o1,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Uv(t,"/"==t.charAt(0)?kB:RB,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Uv(t,PB)),n.join("")};var o1=/[#\/\?@]/g,RB=/[#\?:]/g,kB=/[#\?]/g,OB=/[#\?@]/g,PB=/#/g;function jv(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function fd(n){n.g||(n.g=new zm,n.h=0,n.i&&function IB(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function a1(n,e){fd(n),e=Wm(n,e),rf(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,rf((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&nM(n)))}function l1(n,e){return fd(n),e=Wm(n,e),rf(n.g.h,e)}function u1(n,e,t){a1(n,e),0<t.length&&(n.i=null,n.g.set(Wm(n,e),TA(t)),n.h+=t.length)}function Wm(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function c1(n){this.l=n||LB,n=$t.PerformanceNavigationTiming?0<(n=$t.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!($t.g&&$t.g.Ea&&$t.g.Ea()&&$t.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(lt=jv.prototype).add=function(n,e){fd(this),this.i=null,n=Wm(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},lt.forEach=function(n,e){fd(this),this.g.forEach(function(t,r){EP(t,function(i){n.call(e,i,r,this)},this)},this)},lt.T=function(){fd(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],a=0;a<i.length;a++)t.push(e[r]);return t},lt.R=function(n){fd(this);var e=[];if("string"==typeof n)l1(this,n)&&(e=CP(e,this.g.get(Wm(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=CP(e,n[t])}return e},lt.set=function(n,e){return fd(this),this.i=null,l1(this,n=Wm(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},lt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},lt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var c=i;""!==r[a]&&(c+="="+encodeURIComponent(String(r[a]))),n.push(c)}}return this.i=n.join("&")};var LB=10;function d1(n){return!!n.h||!!n.g&&n.g.size>=n.j}function h1(n){return n.h?1:n.g?n.g.size:0}function rM(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function iM(n,e){n.g?n.g.add(e):n.h=e}function f1(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function p1(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return TA(n.i)}function sM(){}function VB(){this.g=new sM}function BB(n,e,t){const r=t||"";try{tM(n,function(i,a){let c=i;Mv(i)&&(c=HA(i)),e.push(r+a+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function lC(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(a){}}function Hv(n){this.l=n.$b||null,this.j=n.ib||!1}function uC(n,e){Ai.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=oM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}c1.prototype.cancel=function(){if(this.i=p1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},sM.prototype.stringify=function(n){return $t.JSON.stringify(n,void 0)},sM.prototype.parse=function(n){return $t.JSON.parse(n,void 0)},zi(Hv,ZA),Hv.prototype.g=function(){return new uC(this.l,this.j)},Hv.prototype.i=function(n){return function(){return n}}({}),zi(uC,Ai);var oM=0;function m1(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function $v(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Gv(n)}function Gv(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(lt=uC.prototype).open=function(n,e){if(this.readyState!=oM)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Gv(this)},lt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||$t).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},lt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$v(this)),this.readyState=oM},lt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Gv(this)),this.g&&(this.readyState=3,Gv(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==$t.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;m1(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},lt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?$v(this):Gv(this),3==this.readyState&&m1(this)}},lt.Ua=function(n){this.g&&(this.response=this.responseText=n,$v(this))},lt.Ta=function(n){this.g&&(this.response=n,$v(this))},lt.ha=function(){this.g&&$v(this)},lt.setRequestHeader=function(n,e){this.v.append(n,e)},lt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},lt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(uC.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var jB=$t.JSON.parse;function Jr(n){Ai.call(this),this.headers=new zm,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=g1,this.K=this.L=!1}zi(Jr,Ai);var g1="",HB=/^https?$/i,$B=["POST","PUT"];function qB(n){return"content-type"==n.toLowerCase()}function _1(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,y1(n),cC(n)}function y1(n){n.D||(n.D=!0,Wi(n,"complete"),Wi(n,"error"))}function v1(n){if(n.h&&void 0!==EA&&(!n.C[1]||4!=Qu(n)||2!=n.ba()))if(n.v&&4==Qu(n))WA(n.Fa,0,n);else if(Wi(n,"readystatechange"),4==Qu(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(r1)[1]||null;if(!i&&$t.self&&$t.self.location){var a=$t.self.location.protocol;i=a.substr(0,a.length-1)}r=!HB.test(i?i.toLowerCase():"")}t=r}if(t)Wi(n,"complete"),Wi(n,"success");else{n.m=6;try{var c=2<Qu(n)?n.g.statusText:""}catch(g){c=""}n.j=c+" ["+n.ba()+"]",y1(n)}}finally{cC(n)}}}function cC(n,e){if(n.g){b1(n);const t=n.g,r=n.C[0]?GE:null;n.g=null,n.C=null,e||Wi(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function b1(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&($t.clearTimeout(n.A),n.A=null)}function Qu(n){return n.g?n.g.readyState:0}function w1(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case g1:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function aM(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function zB(n){let e="";return IA(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ur(n,e,t))}function qv(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function E1(n){this.za=0,this.l=[],this.h=new JE,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=qv("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=qv("baseRetryDelayMs",5e3,n),this.$a=qv("retryDelaySeedMs",1e4,n),this.Ya=qv("forwardChannelMaxRetries",2,n),this.ra=qv("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new c1(n&&n.concurrentRequestLimit),this.Ca=new VB,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function lM(n){if(C1(n),3==n.G){var e=n.V++,t=Yu(n.F);ur(t,"SID",n.J),ur(t,"RID",e),ur(t,"TYPE","terminate"),zv(n,t),(e=new Fv(n,n.h,e,void 0)).K=2,e.v=aC(Yu(t)),t=!1,$t.navigator&&$t.navigator.sendBeacon&&(t=$t.navigator.sendBeacon(e.v.toString(),"")),!t&&$t.Image&&((new Image).src=e.v,t=!0),t||(e.g=k1(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Lv(e)}x1(n)}function dC(n){n.g&&(dM(n),n.g.cancel(),n.g=null)}function C1(n){dC(n),n.u&&($t.clearTimeout(n.u),n.u=null),fC(n),n.i.cancel(),n.m&&("number"==typeof n.m&&$t.clearTimeout(n.m),n.m=null)}function uM(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&hC(n)}function hC(n){d1(n.i)||n.m||(n.m=!0,$A(n.Ha,n),n.C=0)}function D1(n,e){var t;t=e?e.m:n.V++;const r=Yu(n.F);ur(r,"SID",n.J),ur(r,"RID",t),ur(r,"AID",n.U),zv(n,r),n.o&&n.s&&aM(r,n.o,n.s),t=new Fv(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=T1(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),iM(n.i,t),XA(t,r,e)}function zv(n,e){n.j&&tM({},function(t,r){ur(e,r,t)})}function T1(n,e,t){t=Math.min(n.l.length,t);var r=n.j?qi(n.j.Oa,n.j,n):null;e:{var i=n.l;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=i[0].h,c.push("ofs="+a)):a=0:c.push("ofs="+a);let f=!0;for(let g=0;g<t;g++){let b=i[g].h;const T=i[g].g;if(b-=a,0>b)a=Math.max(0,i[g].h-100),f=!1;else try{BB(T,c,"req"+b+"_")}catch(A){r&&r(T)}}if(f){r=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function S1(n){n.g||n.u||(n.Y=1,$A(n.Ga,n),n.A=0)}function cM(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Pv(qi(n.Ga,n),M1(n,n.A)),n.A++,0))}function dM(n){null!=n.B&&($t.clearTimeout(n.B),n.B=null)}function I1(n){n.g=new Fv(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Yu(n.oa);ur(e,"RID","rpc"),ur(e,"SID",n.J),ur(e,"CI",n.N?"0":"1"),ur(e,"AID",n.U),zv(n,e),ur(e,"TYPE","xmlhttp"),n.o&&n.s&&aM(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=aC(Yu(e)),t.s=null,t.U=!0,XP(t,n)}function fC(n){null!=n.v&&($t.clearTimeout(n.v),n.v=null)}function A1(n,e){var t=null;if(n.g==e){fC(n),dM(n),n.g=null;var r=2}else{if(!rM(n.i,e))return;t=e.D,f1(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Wi(r=XE(),new ZP(r,t,e,i)),hC(n)}else S1(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function WB(n,e){return!(h1(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Pv(qi(n.Ha,n,e),M1(n,n.C)),n.C++,0)))}(n,e)||2==r&&cM(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:af(n,5);break;case 4:af(n,10);break;case 3:af(n,6);break;default:af(n,2)}}function M1(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function af(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=qi(n.jb,n);t||(t=new sf("//www.google.com/images/cleardot.gif"),$t.location&&"http"==$t.location.protocol||iC(t,"https"),aC(t)),function UB(n,e){const t=new JE;if($t.Image){const r=new Image;r.onload=qE(lC,t,r,"TestLoadImage: loaded",!0,e),r.onerror=qE(lC,t,r,"TestLoadImage: error",!1,e),r.onabort=qE(lC,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=qE(lC,t,r,"TestLoadImage: timeout",!1,e),$t.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Fs(2);n.G=0,n.j&&n.j.va(e),x1(n),C1(n)}function x1(n){n.G=0,n.I=-1,n.j&&((0!=p1(n.i).length||0!=n.l.length)&&(n.i.i.length=0,TA(n.l),n.l.length=0),n.j.ua())}function R1(n,e,t){let r=function AB(n){return n instanceof sf?Yu(n):new sf(n,void 0)}(t);if(""!=r.i)e&&sC(r,e+"."+r.i),oC(r,r.m);else{const i=$t.location;r=function MB(n,e,t,r){var i=new sf(null,void 0);return n&&iC(i,n),e&&sC(i,e),t&&oC(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&IA(n.aa,function(i,a){ur(r,a,i)}),t=n.sa,(e=n.D)&&t&&ur(r,e,t),ur(r,"VER",n.ma),zv(n,r),r}function k1(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Jr(t&&n.Ba&&!n.qa?new Hv({ib:!0}):n.qa)).L=n.H,e}function O1(){}function pC(){if(Gm&&!(10<=Number(oB)))throw Error("Environmental error: no available transport.")}function jo(n,e){Ai.call(this),this.g=new E1(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!zE(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!zE(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Zm(this)}function P1(n){KA.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function N1(){YA.call(this),this.status=1}function Zm(n){this.g=n}(lt=Jr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():QA.g(),this.C=function YP(n){return n.h||(n.h=n.i())}(this.u?this.u:QA),this.g.onreadystatechange=qi(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void _1(this,a)}n=t||"";const i=new zm(this.headers);r&&tM(r,function(a,c){i.set(c,a)}),r=function eB(n){e:{var e=qB;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=$t.FormData&&n instanceof $t.FormData,!(0<=wP($B,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(a,c){this.g.setRequestHeader(c,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{b1(this),0<this.B&&((this.K=function GB(n){return Gm&&function sB(){return function tB(n){var e=iB;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=DP(String(WE)).split("."),t=DP("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",a=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=SA(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||SA(0==i[2].length,0==a[2].length)||SA(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=qi(this.pa,this)):this.A=WA(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){_1(this,a)}},lt.pa=function(){void 0!==EA&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wi(this,"timeout"),this.abort(8))},lt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Wi(this,"complete"),Wi(this,"abort"),cC(this))},lt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),cC(this,!0)),Jr.Z.M.call(this)},lt.Fa=function(){this.s||(this.F||this.v||this.l?v1(this):this.cb())},lt.cb=function(){v1(this)},lt.ba=function(){try{return 2<Qu(this)?this.g.status:-1}catch(n){return-1}},lt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},lt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),jB(e)}},lt.Da=function(){return this.m},lt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(lt=E1.prototype).ma=8,lt.G=1,lt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},lt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Fv(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=IP(a),MP(a,this.P)):a=this.P),null===this.o&&(i.H=a),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=T1(this,i,e),ur(t=Yu(this.F),"RID",n),ur(t,"CVER",22),this.D&&ur(t,"X-HTTP-Session-Id",this.D),zv(this,t),this.o&&a&&aM(t,this.o,a),iM(this.i,i),this.Ra&&ur(t,"TYPE","init"),this.ja?(ur(t,"$req",e),ur(t,"SID","null"),i.$=!0,XA(i,t,null)):XA(i,t,e),this.G=2}}else 3==this.G&&(n?D1(this,n):0==this.l.length||d1(this.i)||D1(this))},lt.Ga=function(){if(this.u=null,I1(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Pv(qi(this.bb,this),n)}},lt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Fs(10),dC(this),I1(this))},lt.ab=function(){null!=this.v&&(this.v=null,dC(this),cM(this),Fs(19))},lt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Fs(2)):(this.h.info("Failed to ping google.com"),Fs(1))},(lt=O1.prototype).xa=function(){},lt.wa=function(){},lt.va=function(){},lt.ua=function(){},lt.Oa=function(){},pC.prototype.g=function(n,e){return new jo(n,e)},zi(jo,Ai),jo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),$A(qi(n.hb,n,e))),Fs(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=R1(n,null,n.W),hC(n)},jo.prototype.close=function(){lM(this.g)},jo.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,uM(this.g,e)}else this.v?((e={}).__data__=HA(n),uM(this.g,e)):uM(this.g,n)},jo.prototype.M=function(){this.g.j=null,delete this.j,lM(this.g),delete this.g,jo.Z.M.call(this)},zi(P1,KA),zi(N1,YA),zi(Zm,O1),Zm.prototype.xa=function(){Wi(this.g,"a")},Zm.prototype.wa=function(n){Wi(this.g,new P1(n))},Zm.prototype.va=function(n){Wi(this.g,new N1(n))},Zm.prototype.ua=function(){Wi(this.g,"b")},pC.prototype.createWebChannel=pC.prototype.g,jo.prototype.send=jo.prototype.u,jo.prototype.open=jo.prototype.m,jo.prototype.close=jo.prototype.close,eC.NO_ERROR=0,eC.TIMEOUT=8,eC.HTTP_ERROR=6,KP.COMPLETE="complete",QP.EventType=Nv,Nv.OPEN="a",Nv.CLOSE="b",Nv.ERROR="c",Nv.MESSAGE="d",Ai.prototype.listen=Ai.prototype.N,Jr.prototype.listenOnce=Jr.prototype.O,Jr.prototype.getLastError=Jr.prototype.La,Jr.prototype.getLastErrorCode=Jr.prototype.Da,Jr.prototype.getStatus=Jr.prototype.ba,Jr.prototype.getResponseJson=Jr.prototype.Qa,Jr.prototype.getResponseText=Jr.prototype.ga,Jr.prototype.send=Jr.prototype.ea;var ZB=Ku.createWebChannelTransport=function(){return new pC},KB=Ku.getStatEventTarget=function(){return XE()},hM=Ku.ErrorCode=eC,YB=Ku.EventType=KP,QB=Ku.Event=tf,F1=Ku.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},JB=Ku.FetchXmlHttpFactory=Hv,mC=Ku.WebChannel=QP,XB=Ku.XhrIo=Jr;const L1="@firebase/firestore";class Zi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zi.UNAUTHENTICATED=new Zi(null),Zi.GOOGLE_CREDENTIALS=new Zi("google-credentials-uid"),Zi.FIRST_PARTY=new Zi("first-party-uid"),Zi.MOCK_USER=new Zi("mock-user");let Km="9.6.10";const pd=new Ya.Yd("@firebase/firestore");function fM(){return pd.logLevel}function Ue(n,...e){if(pd.logLevel<=Ya.in.DEBUG){const t=e.map(pM);pd.debug(`Firestore (${Km}): ${n}`,...t)}}function Xr(n,...e){if(pd.logLevel<=Ya.in.ERROR){const t=e.map(pM);pd.error(`Firestore (${Km}): ${n}`,...t)}}function Wv(n,...e){if(pd.logLevel<=Ya.in.WARN){const t=e.map(pM);pd.warn(`Firestore (${Km}): ${n}`,...t)}}function pM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function dt(n="Unexpected state"){const e=`FIRESTORE (${Km}) INTERNAL ASSERTION FAILED: `+n;throw Xr(e),new Error(e)}function Ut(n,e){n||dt()}function tt(n,e){return n}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends yt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class V1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Zi.UNAUTHENTICATED))}shutdown(){}}class rU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class iU{constructor(e){this.t=e,this.currentUser=Zi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=b=>this.i!==i?(i=this.i,t(b)):Promise.resolve();let c=new Mi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Mi,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const b=c;e.enqueueRetryable((0,we.Z)(function*(){yield b.promise,yield a(r.currentUser)}))},g=b=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(b=>g(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?g(b):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Mi)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ut("string"==typeof r.accessToken),new V1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ut(null===e||"string"==typeof e),new Zi(e)}}class sU{constructor(e,t,r){this.type="FirstParty",this.user=Zi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class oU{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new sU(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Zi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class B1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aU{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=a=>{null!=a.error&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.p;return this.p=a.token,Ue("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?i(a):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ut("string"==typeof t.token),this.p=t.token,new B1(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Ho{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function lU(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Ho.A=-1;class U1{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=lU(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Xt(n,e){return n<e?-1:n>e?1:0}function Ym(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function j1(n){return n+"\0"}class Br{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oe(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oe(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Oe(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Br.fromMillis(Date.now())}static fromDate(e){return Br.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Br(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Xt(this.nanoseconds,e.nanoseconds):Xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ot{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ot(e)}static min(){return new Ot(new Br(0,0))}static max(){return new Ot(new Br(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function H1(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function lf(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function $1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Zv{constructor(e,t,r){void 0===t?t=0:t>e.length&&dt(),void 0===r?r=e.length-t:r>e.length-t&&dt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Zv.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Zv?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),c=t.get(i);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class cn extends Zv{construct(e,t,r){return new cn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Oe(pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new cn(t)}static emptyPath(){return new cn([])}}const uU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xi extends Zv{construct(e,t,r){return new xi(e,t,r)}static isValidIdentifier(e){return uU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new xi(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Oe(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Oe(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[i+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new Oe(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,i+=2}else"`"===f?(c=!c,i++):"."!==f||c?(r+=f,i++):(a(),i++)}if(a(),c)throw new Oe(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xi(t)}static emptyPath(){return new xi([])}}class Qm{constructor(e){this.fields=e,e.sort(xi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ym(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class hi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new hi(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new hi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hi.EMPTY_BYTE_STRING=new hi("");const dU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function md(n){if(Ut(!!n),"string"==typeof n){let e=0;const t=dU.exec(n);if(Ut(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Sr(n.seconds),nanos:Sr(n.nanos)}}function Sr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function uf(n){return"string"==typeof n?hi.fromBase64String(n):hi.fromUint8Array(n)}function mM(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function G1(n){const e=n.mapValue.fields.__previous_value__;return mM(e)?G1(e):e}function Kv(n){const e=md(n.mapValue.fields.__local_write_time__.timestampValue);return new Br(e.seconds,e.nanos)}class hU{constructor(e,t,r,i,a,c,f,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.useFetchStreams=g}}class Ju{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ju("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ju&&e.projectId===this.projectId&&e.database===this.database}}function cf(n){return null==n}function Yv(n){return 0===n&&1/n==-1/0}function q1(n){return"number"==typeof n&&Number.isInteger(n)&&!Yv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class We{constructor(e){this.path=e}static fromPath(e){return new We(cn.fromString(e))}static fromName(e){return new We(cn.fromString(e).popFirst(5))}static empty(){return new We(cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===cn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return cn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new We(new cn(e.slice()))}}const z1={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},W1={nullValue:"NULL_VALUE"};function df(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?mM(n)?4:Q1(n)?9:10:dt()}function eu(n,e){if(n===e)return!0;const t=df(n);if(t!==df(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Kv(n).isEqual(Kv(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=md(r.timestampValue),c=md(i.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,uf(n.bytesValue).isEqual(uf(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Sr(r.geoPointValue.latitude)===Sr(i.geoPointValue.latitude)&&Sr(r.geoPointValue.longitude)===Sr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Sr(r.integerValue)===Sr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Sr(r.doubleValue),c=Sr(i.doubleValue);return a===c?Yv(a)===Yv(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return Ym(n.arrayValue.values||[],e.arrayValue.values||[],eu);case 10:return function(r,i){const a=r.mapValue.fields||{},c=i.mapValue.fields||{};if(H1(a)!==H1(c))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===c[f]||!eu(a[f],c[f])))return!1;return!0}(n,e);default:return dt()}var i}function Qv(n,e){return void 0!==(n.values||[]).find(t=>eu(t,e))}function gd(n,e){if(n===e)return 0;const t=df(n),r=df(e);if(t!==r)return Xt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Xt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const c=Sr(i.integerValue||i.doubleValue),f=Sr(a.integerValue||a.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return Z1(n.timestampValue,e.timestampValue);case 4:return Z1(Kv(n),Kv(e));case 5:return Xt(n.stringValue,e.stringValue);case 6:return function(i,a){const c=uf(i),f=uf(a);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const c=i.split("/"),f=a.split("/");for(let g=0;g<c.length&&g<f.length;g++){const b=Xt(c[g],f[g]);if(0!==b)return b}return Xt(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const c=Xt(Sr(i.latitude),Sr(a.latitude));return 0!==c?c:Xt(Sr(i.longitude),Sr(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const c=i.values||[],f=a.values||[];for(let g=0;g<c.length&&g<f.length;++g){const b=gd(c[g],f[g]);if(b)return b}return Xt(c.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){const c=i.fields||{},f=Object.keys(c),g=a.fields||{},b=Object.keys(g);f.sort(),b.sort();for(let T=0;T<f.length&&T<b.length;++T){const A=Xt(f[T],b[T]);if(0!==A)return A;const O=gd(c[f[T]],g[b[T]]);if(0!==O)return O}return Xt(f.length,b.length)}(n.mapValue,e.mapValue);default:throw dt()}}function Z1(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Xt(n,e);const t=md(n),r=md(e),i=Xt(t.seconds,r.seconds);return 0!==i?i:Xt(t.nanos,r.nanos)}function Jm(n){return gM(n)}function gM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=md(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?uf(n.bytesValue).toBase64():"referenceValue"in n?We.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const c of r.values||[])a?a=!1:i+=",",i+=gM(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",c=!0;for(const f of i)c?c=!1:a+=",",a+=`${f}:${gM(r.fields[f])}`;return a+"}"}(n.mapValue):dt();var e}function Xm(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function _M(n){return!!n&&"integerValue"in n}function Jv(n){return!!n&&"arrayValue"in n}function K1(n){return!!n&&"nullValue"in n}function Y1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gC(n){return!!n&&"mapValue"in n}function Xv(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return lf(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Xv(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Xv(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Q1(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function J1(n,e){return void 0===n?e:void 0===e||gd(n,e)>0?n:e}function X1(n,e){return void 0===n?e:void 0===e||gd(n,e)<0?n:e}class ds{constructor(e){this.value=e}static empty(){return new ds({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!gC(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xv(t)}setAll(e){let t=xi.emptyPath(),r={},i=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,r,i),r={},i=[],t=f.popLast()}c?r[f.lastSegment()]=Xv(c):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());gC(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return eu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];gC(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){lf(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new ds(Xv(this.value))}}function eN(n){const e=[];return lf(n.fields,(t,r)=>{const i=new xi([t]);if(gC(r)){const a=eN(r.mapValue).fields;if(0===a.length)e.push(i);else for(const c of a)e.push(i.child(c))}else e.push(i)}),new Qm(e)}class rr{constructor(e,t,r,i,a,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=a,this.documentState=c}static newInvalidDocument(e){return new rr(e,0,Ot.min(),Ot.min(),ds.empty(),0)}static newFoundDocument(e,t,r){return new rr(e,1,t,Ot.min(),r,0)}static newNoDocument(e,t){return new rr(e,2,t,Ot.min(),ds.empty(),0)}static newUnknownDocument(e,t){return new rr(e,3,t,Ot.min(),ds.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ds.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ds.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof rr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _C{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function yM(n){return n.fields.find(e=>2===e.kind)}function eg(n){return n.fields.filter(e=>2!==e.kind)}_C.UNKNOWN_ID=-1;class yC{constructor(e,t){this.fieldPath=e,this.kind=t}}class eb{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new eb(0,Xu.min())}}function tN(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ot.fromTimestamp(1e9===r?new Br(t+1,0):new Br(t,r));return new Xu(i,We.empty(),e)}function fU(n){return new Xu(n.readTime,n.key,-1)}class Xu{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Xu(Ot.min(),We.empty(),-1)}static max(){return new Xu(Ot.max(),We.empty(),-1)}}function pU(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=We.comparator(n.documentKey,e.documentKey),0!==t?t:Xt(n.largestBatchId,e.largestBatchId))}class mU{constructor(e,t=null,r=[],i=[],a=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=c,this.endAt=f,this.P=null}}function nN(n,e=null,t=[],r=[],i=null,a=null,c=null){return new mU(n,e,t,r,i,a,c)}function hf(n){const e=tt(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Jm(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),cf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Jm(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Jm(r)).join(",")),e.P=t}return e.P}function tb(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!DU(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!eu(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!sN(n.startAt,e.startAt)&&sN(n.endAt,e.endAt)}function vC(n){return We.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function bC(n,e){return n.filters.filter(t=>t instanceof Ki&&t.field.isEqual(e))}class Ki extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new _U(e,t,r):"array-contains"===t?new bU(e,r):"in"===t?new wU(e,r):"not-in"===t?new EU(e,r):"array-contains-any"===t?new CU(e,r):new Ki(e,t,r)}static V(e,t,r){return"in"===t?new yU(e,r):new vU(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(gd(t,this.value)):null!==t&&df(this.value)===df(t)&&this.v(gd(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return dt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class _U extends Ki{constructor(e,t,r){super(e,t,r),this.key=We.fromName(r.referenceValue)}matches(e){const t=We.comparator(e.key,this.key);return this.v(t)}}class yU extends Ki{constructor(e,t){super(e,"in",t),this.keys=rN(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class vU extends Ki{constructor(e,t){super(e,"not-in",t),this.keys=rN(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function rN(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>We.fromName(r.referenceValue))}class bU extends Ki{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Jv(t)&&Qv(t.arrayValue,this.value)}}class wU extends Ki{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Qv(this.value.arrayValue,t)}}class EU extends Ki{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Qv(this.value.arrayValue,t)}}class CU extends Ki{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Jv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Qv(this.value.arrayValue,r))}}class _d{constructor(e,t){this.position=e,this.inclusive=t}}class tg{constructor(e,t="asc"){this.field=e,this.dir=t}}function DU(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function iN(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],c=n.position[i];if(r=a.field.isKeyField()?We.comparator(We.fromName(c.referenceValue),t.key):gd(c,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function sN(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!eu(n.position[t],e.position[t]))return!1;return!0}class ec{constructor(e,t=null,r=[],i=[],a=null,c="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=c,this.startAt=f,this.endAt=g,this.D=null,this.C=null}}function oN(n,e,t,r,i,a,c,f){return new ec(n,e,t,r,i,a,c,f)}function ng(n){return new ec(n)}function wC(n){return!cf(n.limit)&&"F"===n.limitType}function EC(n){return!cf(n.limit)&&"L"===n.limitType}function vM(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function bM(n){for(const e of n.filters)if(e.S())return e.field;return null}function wM(n){return null!==n.collectionGroup}function rg(n){const e=tt(n);if(null===e.D){e.D=[];const t=bM(e),r=vM(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new tg(t)),e.D.push(new tg(xi.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.D.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new tg(xi.keyField(),a))}}}return e.D}function Sa(n){const e=tt(n);if(!e.C)if("F"===e.limitType)e.C=nN(e.path,e.collectionGroup,rg(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of rg(e))t.push(new tg(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new _d(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new _d(e.startAt.position,!e.startAt.inclusive):null;e.C=nN(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function aN(n,e,t){return new ec(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function nb(n,e){return tb(Sa(n),Sa(e))&&n.limitType===e.limitType}function lN(n){return`${hf(Sa(n))}|lt:${n.limitType}`}function EM(n){return`Query(target=${function gU(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Jm(r.value)}`;var r}).join(", ")}]`),cf(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Jm(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Jm(t)).join(",")),`Target(${e})`}(Sa(n))}; limitType=${n.limitType})`}function CM(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):We.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,c){const f=iN(i,a,c);return i.inclusive?f<=0:f<0}(t.startAt,rg(t),r)||t.endAt&&!function(i,a,c){const f=iN(i,a,c);return i.inclusive?f>=0:f>0}(t.endAt,rg(t),r)));var t,r}function uN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function cN(n){return(e,t)=>{let r=!1;for(const i of rg(n)){const a=TU(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function TU(n,e,t){const r=n.field.isKeyField()?We.comparator(e.key,t.key):function(i,a,c){const f=a.data.field(i),g=c.data.field(i);return null!==f&&null!==g?gd(f,g):dt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return dt()}}function dN(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yv(e)?"-0":e}}function hN(n){return{integerValue:""+n}}function fN(n,e){return q1(e)?hN(e):dN(n,e)}class CC{constructor(){this._=void 0}}function SU(n,e,t){return n instanceof ig?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof ff?mN(n,e):n instanceof pf?gN(n,e):function(r,i){const a=pN(r,i),c=_N(a)+_N(r.k);return _M(a)&&_M(r.k)?hN(c):dN(r.M,c)}(n,e)}function IU(n,e,t){return n instanceof ff?mN(n,e):n instanceof pf?gN(n,e):t}function pN(n,e){return n instanceof sg?_M(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class ig extends CC{}class ff extends CC{constructor(e){super(),this.elements=e}}function mN(n,e){const t=yN(e);for(const r of n.elements)t.some(i=>eu(i,r))||t.push(r);return{arrayValue:{values:t}}}class pf extends CC{constructor(e){super(),this.elements=e}}function gN(n,e){let t=yN(e);for(const r of n.elements)t=t.filter(i=>!eu(i,r));return{arrayValue:{values:t}}}class sg extends CC{constructor(e,t){super(),this.M=e,this.k=t}}function _N(n){return Sr(n.integerValue||n.doubleValue)}function yN(n){return Jv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class rb{constructor(e,t){this.field=e,this.transform=t}}class MU{constructor(e,t){this.version=e,this.transformResults=t}}class ei{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ei}static exists(e){return new ei(void 0,e)}static updateTime(e){return new ei(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function DC(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class TC{}function xU(n,e,t){n instanceof ib?function(r,i,a){const c=r.value.clone(),f=EN(r.fieldTransforms,i,a.transformResults);c.setAll(f),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof mf?function(r,i,a){if(!DC(r.precondition,i))return void i.convertToUnknownDocument(a.version);const c=EN(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(wN(r)),f.setAll(c),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function DM(n,e,t){var i;n instanceof ib?function(r,i,a){if(!DC(r.precondition,i))return;const c=r.value.clone(),f=CN(r.fieldTransforms,a,i);c.setAll(f),i.convertToFoundDocument(bN(i),c).setHasLocalMutations()}(n,e,t):n instanceof mf?function(r,i,a){if(!DC(r.precondition,i))return;const c=CN(r.fieldTransforms,a,i),f=i.data;f.setAll(wN(r)),f.setAll(c),i.convertToFoundDocument(bN(i),f).setHasLocalMutations()}(n,e,t):DC(n.precondition,i=e)&&i.convertToNoDocument(Ot.min())}function RU(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=pN(r.transform,i||null);null!=a&&(null==t&&(t=ds.empty()),t.set(r.field,a))}return t||null}function vN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Ym(t,r,(i,a)=>function AU(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof ff&&r instanceof ff||t instanceof pf&&r instanceof pf?Ym(t.elements,r.elements,eu):t instanceof sg&&r instanceof sg?eu(t.k,r.k):t instanceof ig&&r instanceof ig);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function bN(n){return n.isFoundDocument()?n.version:Ot.min()}class ib extends TC{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class mf extends TC{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}}function wN(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function EN(n,e,t){const r=new Map;Ut(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],c=a.transform,f=e.data.field(a.field);r.set(a.field,IU(c,f,t[i]))}return r}function CN(n,e,t){const r=new Map;for(const i of n){const a=i.transform,c=t.data.field(i.field);r.set(i.field,SU(a,c,e))}return r}class sb extends TC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class TM extends TC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class kU{constructor(e){this.count=e}}var ti,dn;function DN(n){switch(n){default:return dt();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function TN(n){if(void 0===n)return Xr("GRPC error has no .code"),pe.UNKNOWN;switch(n){case ti.OK:return pe.OK;case ti.CANCELLED:return pe.CANCELLED;case ti.UNKNOWN:return pe.UNKNOWN;case ti.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case ti.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case ti.INTERNAL:return pe.INTERNAL;case ti.UNAVAILABLE:return pe.UNAVAILABLE;case ti.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case ti.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case ti.NOT_FOUND:return pe.NOT_FOUND;case ti.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case ti.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case ti.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case ti.ABORTED:return pe.ABORTED;case ti.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case ti.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case ti.DATA_LOSS:return pe.DATA_LOSS;default:return dt()}}(dn=ti||(ti={}))[dn.OK=0]="OK",dn[dn.CANCELLED=1]="CANCELLED",dn[dn.UNKNOWN=2]="UNKNOWN",dn[dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dn[dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dn[dn.NOT_FOUND=5]="NOT_FOUND",dn[dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",dn[dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",dn[dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",dn[dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dn[dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dn[dn.ABORTED=10]="ABORTED",dn[dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",dn[dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",dn[dn.INTERNAL=13]="INTERNAL",dn[dn.UNAVAILABLE=14]="UNAVAILABLE",dn[dn.DATA_LOSS=15]="DATA_LOSS";class yd{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){lf(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return $1(this.inner)}size(){return this.innerSize}}class Ur{constructor(e,t){this.comparator=e,this.root=t||Yi.EMPTY}insert(e,t){return new Ur(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yi.BLACK,null,null))}remove(e){return new Ur(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new SC(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new SC(this.root,e,this.comparator,!1)}getReverseIterator(){return new SC(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new SC(this.root,e,this.comparator,!0)}}class SC{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yi{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=null!=r?r:Yi.RED,this.left=null!=i?i:Yi.EMPTY,this.right=null!=a?a:Yi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Yi(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Yi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Yi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();const e=this.left.check();if(e!==this.right.check())throw dt();return e+(this.isRed()?0:1)}}Yi.EMPTY=null,Yi.RED=!0,Yi.BLACK=!1,Yi.EMPTY=new class{constructor(){this.size=0}get key(){throw dt()}get value(){throw dt()}get color(){throw dt()}get left(){throw dt()}get right(){throw dt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Yi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ir{constructor(e){this.comparator=e,this.data=new Ur(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new SN(this.data.getIterator())}getIteratorFrom(e){return new SN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ir)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ir(this.comparator);return t.data=e,t}}class SN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function og(n){return n.hasNext()?n.getNext():void 0}const OU=new Ur(We.comparator);function Ia(){return OU}const PU=new Ur(We.comparator);function SM(){return PU}function ob(){return new yd(n=>n.toString(),(n,e)=>n.isEqual(e))}const NU=new Ur(We.comparator),FU=new ir(We.comparator);function An(...n){let e=FU;for(const t of n)e=e.add(t);return e}const LU=new ir(Xt);function IC(){return LU}class ab{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,lb.createSynthesizedTargetChangeForCurrentChange(e,t)),new ab(Ot.min(),r,IC(),Ia(),An())}}class lb{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new lb(hi.EMPTY_BYTE_STRING,t,An(),An(),An())}}class AC{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class IN{constructor(e,t){this.targetId=e,this.$=t}}class AN{constructor(e,t,r=hi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class MN{constructor(){this.B=0,this.L=RN(),this.U=hi.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=An(),t=An(),r=An();return this.L.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:dt()}}),new lb(this.U,this.q,e,t,r)}J(){this.G=!1,this.L=RN()}Y(e,t){this.G=!0,this.L=this.L.insert(e,t)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class VU{constructor(e){this.nt=e,this.st=new Map,this.it=Ia(),this.rt=xN(),this.ot=new ir(Xt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:dt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const a=i.target;if(vC(a))if(0===r){const c=new We(a.path);this.ct(t,c,rr.newNoDocument(c,Ot.min()))}else Ut(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((a,c)=>{const f=this.wt(c);if(f){if(a.current&&vC(f.target)){const g=new We(f.target.path);null!==this.it.get(g)||this.It(c,g)||this.ct(c,g,rr.newNoDocument(g,e))}a.j&&(t.set(c,a.H()),a.J())}});let r=An();this.rt.forEach((a,c)=>{let f=!0;c.forEachWhile(g=>{const b=this.wt(g);return!b||2===b.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.it.forEach((a,c)=>c.setReadTime(e));const i=new ab(e,t,this.ot,this.it,r);return this.it=Ia(),this.rt=xN(),this.ot=new ir(Xt),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new MN,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new ir(Xt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Ue("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new MN),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function xN(){return new Ur(We.comparator)}function RN(){return new Ur(We.comparator)}const BU={asc:"ASCENDING",desc:"DESCENDING"},UU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class jU{constructor(e,t){this.databaseId=e,this.N=t}}function ub(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kN(n,e){return n.N?e.toBase64():e.toUint8Array()}function HU(n,e){return ub(n,e.toTimestamp())}function Ri(n){return Ut(!!n),Ot.fromTimestamp(function(e){const t=md(e);return new Br(t.seconds,t.nanos)}(n))}function IM(n,e){return(t=n,new cn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function ON(n){const e=cn.fromString(n);return Ut(HN(e)),e}function cb(n,e){return IM(n.databaseId,e.path)}function tu(n,e){const t=ON(e);if(t.get(1)!==n.databaseId.projectId)throw new Oe(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Oe(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new We(NN(t))}function AM(n,e){return IM(n.databaseId,e)}function PN(n){const e=ON(n);return 4===e.length?cn.emptyPath():NN(e)}function db(n){return new cn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function NN(n){return Ut(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function FN(n,e,t){return{name:cb(n,e),fields:t.value.mapValue.fields}}function LN(n,e,t){const r=tu(n,e.name),i=Ri(e.updateTime),a=new ds({mapValue:{fields:e.fields}}),c=rr.newFoundDocument(r,i,a);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function hb(n,e){let t;if(e instanceof ib)t={update:FN(n,e.key,e.value)};else if(e instanceof sb)t={delete:cb(n,e.key)};else if(e instanceof mf)t={update:FN(n,e.key,e.data),updateMask:QU(e.fieldMask)};else{if(!(e instanceof TM))return dt();t={verify:cb(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const c=a.transform;if(c instanceof ig)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof ff)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof pf)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof sg)return{fieldPath:a.field.canonicalString(),increment:c.k};throw dt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:HU(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:dt()),t;var i}function MM(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?ei.updateTime(Ri(i.updateTime)):void 0!==i.exists?ei.exists(i.exists):ei.none():ei.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,c){let f=null;"setToServerValue"in c?(Ut("REQUEST_TIME"===c.setToServerValue),f=new ig):"appendMissingElements"in c?f=new ff(c.appendMissingElements.values||[]):"removeAllFromArray"in c?f=new pf(c.removeAllFromArray.values||[]):"increment"in c?f=new sg(a,c.increment):dt();const g=xi.fromServerFormat(c.fieldPath);return new rb(g,f)}(n,i)):[];var i;if(e.update){const i=tu(n,e.update.name),a=new ds({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Qm((e.updateMask.fieldPaths||[]).map(b=>xi.fromServerFormat(b)));return new mf(i,a,c,t,r)}return new ib(i,a,t,r)}if(e.delete){const i=tu(n,e.delete);return new sb(i,t)}if(e.verify){const i=tu(n,e.verify);return new TM(i,t)}return dt()}function VN(n,e){return{documents:[AM(n,e.path)]}}function BN(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=AM(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=AM(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(g){if(0===g.length)return;const b=g.map(T=>function(A){if("=="===A.op){if(Y1(A.value))return{unaryFilter:{field:ag(A.field),op:"IS_NAN"}};if(K1(A.value))return{unaryFilter:{field:ag(A.field),op:"IS_NULL"}}}else if("!="===A.op){if(Y1(A.value))return{unaryFilter:{field:ag(A.field),op:"IS_NOT_NAN"}};if(K1(A.value))return{unaryFilter:{field:ag(A.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ag(A.field),op:ZU(A.op),value:A.value}}}(T));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);i&&(t.structuredQuery.where=i);const a=function(g){if(0!==g.length)return g.map(b=>{return{field:ag((T=b).field),direction:WU(T.dir)};var T})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=(b=e.limit,n.N||cf(b)?b:{value:b});var b,f,g;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(g=e.endAt).inclusive,values:g.position}),t}function UN(n){let e=PN(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ut(1===r);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let a=[];t.where&&(a=jN(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(T=>{return new tg(lg((A=T).field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let f=null;t.limit&&(f=function(T){let A;return A="object"==typeof T?T.value:T,cf(A)?null:A}(t.limit));let g=null;var T;t.startAt&&(g=new _d((T=t.startAt).values||[],!!T.before));let b=null;return t.endAt&&(b=function(T){return new _d(T.values||[],!T.before)}(t.endAt)),oN(e,i,c,a,f,"F",g,b)}function jN(n){return n?void 0!==n.unaryFilter?[YU(n)]:void 0!==n.fieldFilter?[KU(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>jN(e)).reduce((e,t)=>e.concat(t)):dt():[]}function WU(n){return BU[n]}function ZU(n){return UU[n]}function ag(n){return{fieldPath:n.canonicalString()}}function lg(n){return xi.fromServerFormat(n.fieldPath)}function KU(n){return Ki.create(lg(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dt()}}(n.fieldFilter.op),n.fieldFilter.value)}function YU(n){switch(n.unaryFilter.op){case"IS_NAN":const e=lg(n.unaryFilter.field);return Ki.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=lg(n.unaryFilter.field);return Ki.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=lg(n.unaryFilter.field);return Ki.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=lg(n.unaryFilter.field);return Ki.create(i,"!=",{nullValue:"NULL_VALUE"});default:return dt()}}function QU(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function HN(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function ki(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=$N(e)),e=JU(n.get(t),e);return $N(e)}function JU(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function $N(n){return n+"\x01\x01"}function el(n){const e=n.length;if(Ut(e>=2),2===e)return Ut("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),cn.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const c=n.indexOf("\x01",a);switch((c<0||c>t)&&dt(),n.charAt(c+1)){case"\x01":const f=n.substring(a,c);let g;0===i.length?g=f:(i+=f,g=i,i=""),r.push(g);break;case"\x10":i+=n.substring(a,c),i+="\0";break;case"\x11":i+=n.substring(a,c+1);break;default:dt()}a=c+2}return new cn(r)}const GN=["userId","batchId"];function MC(n,e){return[n,ki(e)]}function qN(n,e,t){return[n,ki(e),t]}const XU={},ej=["prefixPath","collectionGroup","readTime","documentId"],tj=["prefixPath","collectionGroup","documentId"],nj=["collectionGroup","readTime","prefixPath","documentId"],rj=["canonicalId","targetId"],ij=["targetId","path"],sj=["path","targetId"],oj=["collectionId","parent"],aj=["indexId","uid"],lj=["uid","sequenceNumber"],uj=["indexId","uid","arrayValue","directionalValue","documentKey"],cj=["indexId","uid","documentKey"],dj=["userId","collectionPath","documentId"],hj=["userId","collectionPath","largestBatchId"],fj=["userId","collectionGroup","largestBatchId"],zN=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],pj=[...zN,"documentOverlays"],WN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],mj=[...WN,"indexConfiguration","indexState","indexEntries"],ZN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ye((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ye?t:ye.resolve(t)}catch(t){return ye.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ye.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ye.reject(t)}static resolve(e){return new ye((t,r)=>{t(e)})}static reject(e){return new ye((t,r)=>{r(e)})}static waitFor(e){return new ye((t,r)=>{let i=0,a=0,c=!1;e.forEach(f=>{++i,f.next(()=>{++a,c&&a===i&&t()},g=>r(g))}),c=!0,a===i&&t()})}static or(e){let t=ye.resolve(!1);for(const r of e)t=t.next(i=>i?ye.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}}class xC{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Mi,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new fb(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=xM(r.target.error);this.At.reject(new fb(e,i))}}static open(e,t,r,i){try{return new xC(t,e.transaction(i,r))}catch(a){throw new fb(t,a)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Ue("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new _j(t)}}class tl{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===tl.Vt((0,yt.z$)())&&Xr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ue("SimpleDb","Removing database:",e),_f(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,yt.hl)())return!1;if(tl.St())return!0;const e=(0,yt.z$)(),t=tl.Vt(e),r=0<t&&t<10,i=tl.Dt(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,we.Z)(function*(){return t.db||(Ue("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=c=>{r(c.target.result)},a.onblocked=()=>{i(new fb(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=c=>{const f=c.target.error;i("VersionError"===f.name?new Oe(pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Oe(pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new fb(e,f))},a.onupgradeneeded=c=>{Ue("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.Pt.kt(c.target.result,a.transaction,c.oldVersion,t.version).next(()=>{Ue("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,we.Z)(function*(){const c="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.Nt(e);const g=xC.open(a.db,e,c?"readonly":"readwrite",r),b=i(g).next(T=>(g.bt(),T)).catch(T=>(g.abort(T),ye.reject(T))).toPromise();return b.catch(()=>{}),yield g.Rt,b}catch(g){const b="FirebaseError"!==g.name&&f<3;if(Ue("SimpleDb","Transaction failed with error:",g.message,"Retrying:",b),a.close(),!b)return Promise.reject(g)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class gj{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return _f(this.Ft.delete())}}class fb extends Oe{constructor(e,t){super(pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function gf(n){return"IndexedDbTransactionError"===n.name}class _j{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ue("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ue("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),_f(r)}add(e){return Ue("SimpleDb","ADD",this.store.name,e,e),_f(this.store.add(e))}get(e){return _f(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ue("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ue("SimpleDb","DELETE",this.store.name,e),_f(this.store.delete(e))}count(){return Ue("SimpleDb","COUNT",this.store.name),_f(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.Gt(i,(c,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new ye((a,c)=>{i.onerror=f=>{c(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}Kt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ye((i,a)=>{r.onerror=c=>{a(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}Qt(e,t){Ue("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Gt(i,(a,c,f)=>f.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Gt(i,t)}zt(e){const t=this.cursor({});return new ye((r,i)=>{t.onerror=a=>{const c=xM(a.target.error);i(c)},t.onsuccess=a=>{const c=a.target.result;c?e(c.primaryKey,c.value).next(f=>{f?c.continue():r()}):r()}})}Gt(e,t){const r=[];return new ye((i,a)=>{e.onerror=c=>{a(c.target.error)},e.onsuccess=c=>{const f=c.target.result;if(!f)return void i();const g=new gj(f),b=t(f.primaryKey,f.value,g);if(b instanceof ye){const T=b.catch(A=>(g.done(),ye.reject(A)));r.push(T)}g.isDone?i():null===g.Lt?f.continue():f.continue(g.Lt)}}).next(()=>ye.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function _f(n){return new ye((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=xM(r.target.error);t(i)}})}let YN=!1;function xM(n){const e=tl.Vt((0,yt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return YN||(YN=!0,setTimeout(()=>{throw r},0)),r}}return n}class QN extends KN{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Oi(n,e){const t=tt(n);return tl.xt(t.Ht,e)}class RM{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&xU(a,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&DM(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&DM(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Ot.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),An())}isEqual(e){return this.batchId===e.batchId&&Ym(this.mutations,e.mutations,(t,r)=>vN(t,r))&&Ym(this.baseMutations,e.baseMutations,(t,r)=>vN(t,r))}}class kM{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ut(e.mutations.length===r.length);let i=NU;const a=e.mutations;for(let c=0;c<a.length;c++)i=i.insert(a[c].key,r[c].version);return new kM(e,t,r,i)}}class OM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class vd{constructor(e,t,r,i,a=Ot.min(),c=Ot.min(),f=hi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f}withSequenceNumber(e){return new vd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new vd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new vd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class JN{constructor(e){this.Jt=e}}function XN(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:RC(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:cb(i=n.Jt,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:ub(i,a.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:yf(e.version)};else{if(!e.isUnknownDocument())return dt();r.unknownDocument={path:t.path.toArray(),version:yf(e.version)}}var i,a;return r}function RC(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function yf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function vf(n){const e=new Br(n.seconds,n.nanoseconds);return Ot.fromTimestamp(e)}function ug(n,e){const t=(e.baseMutations||[]).map(a=>MM(n.Jt,a));for(let a=0;a<e.mutations.length-1;++a){const c=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(c.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>MM(n.Jt,a)),i=Br.fromMillis(e.localWriteTimeMs);return new RM(e.batchId,i,t,r)}function pb(n){const e=vf(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?vf(n.lastLimboFreeSnapshotVersion):Ot.min();let r;var i;return void 0!==n.query.documents?(Ut(1===(i=n.query).documents.length),r=Sa(ng(PN(i.documents[0])))):r=Sa(UN(n.query)),new vd(r,n.targetId,0,n.lastListenSequenceNumber,e,t,hi.fromBase64String(n.resumeToken))}function eF(n,e){const t=yf(e.snapshotVersion),r=yf(e.lastLimboFreeSnapshotVersion);let i;i=vC(e.target)?VN(n.Jt,e.target):BN(n.Jt,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:hf(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function PM(n){const e=UN({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?aN(e,e.limit,"L"):e}function NM(n,e){return new OM(e.largestBatchId,MM(n.Jt,e.overlayMutation))}function tF(n,e){const t=e.path.lastSegment();return[n,ki(e.path.popLast()),t]}class vj{getBundleMetadata(e,t){return nF(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:vf(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return nF(e).put({bundleId:(r=t).id,createTime:yf(Ri(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return rF(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:PM(i.bundledQuery),readTime:vf(i.readTime)};var i})}saveNamedQuery(e,t){return rF(e).put({name:(r=t).name,readTime:yf(Ri(r.readTime)),bundledQuery:r.bundledQuery});var r}}function nF(n){return Oi(n,"bundles")}function rF(n){return Oi(n,"namedQueries")}class FM{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new FM(e,t.uid||"")}getOverlay(e,t){return mb(e).get(tF(this.userId,t)).next(r=>r?NM(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((a,c)=>{const f=new OM(t,c);i.push(this.Xt(e,f))}),ye.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(ki(c.getCollectionPath())));const a=[];return i.forEach(c=>{const f=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);a.push(mb(e).Qt("collectionPathOverlayIndex",f))}),ye.waitFor(a)}getOverlaysForCollection(e,t,r){const i=ob(),a=ki(t),c=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return mb(e).qt("collectionPathOverlayIndex",c).next(f=>{for(const g of f){const b=NM(this.M,g);i.set(b.getKey(),b)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=ob();let c;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return mb(e).Wt({index:"collectionGroupOverlayIndex",range:f},(g,b,T)=>{const A=NM(this.M,b);a.size()<i||A.largestBatchId===c?(a.set(A.getKey(),A),c=A.largestBatchId):T.done()}).next(()=>a)}Xt(e,t){return mb(e).put(function(r,i,a){const[c,f,g]=tF(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:g,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:hb(r.Jt,a.mutation)}}(this.M,this.userId,t))}}function mb(n){return Oi(n,"documentOverlays")}class cg{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Sr(e.integerValue));else if("doubleValue"in e){const r=Sr(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),Yv(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(uf(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?Q1(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):dt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),We.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function bj(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function iF(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=bj(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}cg.fe=new cg;class wj{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=iF(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=iF(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Ej{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class Cj{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class kC{constructor(){this.De=new wj,this.Ce=new Ej(this.De),this.xe=new Cj(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class bd{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new bd(this.indexId,this.documentKey,this.arrayValue,r)}}function bf(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=sF(n.arrayValue,e.arrayValue),0!==t?t:(t=sF(n.directionalValue,e.directionalValue),0!==t?t:We.comparator(n.documentKey,e.documentKey)))}function sF(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class Dj{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=yM(e);if(void 0!==t&&!this.Be(t))return!1;const r=eg(e);let i=0,a=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const c=r[i];if(!this.Le(this.Fe,c)||!this.Ue(this.Me[a++],c))return!1;++i}for(;i<r.length;++i){const c=r[i];if(a>=this.Me.length||!this.Ue(this.Me[a++],c))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Tj{constructor(){this.qe=new LM}addToCollectionParentIndex(e,t){return this.qe.add(t),ye.resolve()}getCollectionParents(e,t){return ye.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return ye.resolve()}deleteFieldIndex(e,t){return ye.resolve()}getDocumentsMatchingTarget(e,t){return ye.resolve(null)}getFieldIndex(e,t){return ye.resolve(null)}getFieldIndexes(e,t){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}updateCollectionGroup(e,t,r){return ye.resolve()}updateIndexEntries(e,t){return ye.resolve()}}class LM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ir(cn.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ir(cn.comparator)).toArray()}}const OC=new Uint8Array(0);class Sj{constructor(e){this.user=e,this.Ge=new LM,this.Ke=new yd(t=>hf(t),(t,r)=>tb(t,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ge.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ge.add(t)});const a={collectionId:r,parent:ki(i)};return oF(e).put(a)}return ye.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[j1(t),""],!1,!0);return oF(e).qt(i).next(a=>{for(const c of a){if(c.collectionId!==t)break;r.push(el(c.parent))}return r})}addFieldIndex(e,t){const r=PC(e),i={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=PC(e),i=NC(e),a=gb(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=gb(e);let i=!0;const a=new Map;return ye.forEach(this.Qe(t),c=>this.getFieldIndex(e,c).next(f=>{i&&(i=!!f),a.set(c,f)})).next(()=>{if(i){let c=An();return ye.forEach(a,(f,g)=>{var b;Ue("IndexedDbIndexManager",`Using index ${b=f,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(je=>`${je.fieldPath}:${je.kind}`).join(",")}`} to execute ${hf(t)}`);const T=function(je,Qe){const Fe=yM(Qe);if(void 0===Fe)return null;for(const St of bC(je,Fe.fieldPath))switch(St.op){case"array-contains-any":return St.value.arrayValue.values||[];case"array-contains":return[St.value]}return null}(g,f),A=function(je,Qe){const Fe=new Map;for(const St of eg(Qe))for(const Dt of bC(je,St.fieldPath))switch(Dt.op){case"==":case"in":Fe.set(St.fieldPath.canonicalString(),Dt.value);break;case"not-in":case"!=":return Fe.set(St.fieldPath.canonicalString(),Dt.value),Array.from(Fe.values())}return null}(g,f),O=function(je,Qe){const Fe=[];let St=!0;for(const Mn of eg(Qe)){let Rn,jr=!0;for(const kn of bC(je,Mn.fieldPath)){let Zn,Ma=!0;switch(kn.op){case"<":case"<=":Zn="nullValue"in(Dt=kn.value)?W1:"booleanValue"in Dt?{booleanValue:!1}:"integerValue"in Dt||"doubleValue"in Dt?{doubleValue:NaN}:"timestampValue"in Dt?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in Dt?{stringValue:""}:"bytesValue"in Dt?{bytesValue:""}:"referenceValue"in Dt?Xm(Ju.empty(),We.empty()):"geoPointValue"in Dt?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in Dt?{arrayValue:{}}:"mapValue"in Dt?{mapValue:{}}:dt();break;case"==":case"in":case">=":Zn=kn.value;break;case">":Zn=kn.value,Ma=!1;break;case"!=":case"not-in":Zn=W1}J1(Rn,Zn)===Zn&&(Rn=Zn,jr=Ma)}if(null!==je.startAt)for(let kn=0;kn<je.orderBy.length;++kn)if(je.orderBy[kn].field.isEqual(Mn.fieldPath)){const Zn=je.startAt.position[kn];J1(Rn,Zn)===Zn&&(Rn=Zn,jr=je.startAt.inclusive);break}if(void 0===Rn)return null;Fe.push(Rn),St&&(St=jr)}var Dt;return new _d(Fe,St)}(g,f),$=function(je,Qe){const Fe=[];let St=!0;for(const Mn of eg(Qe)){let Rn,jr=!0;for(const kn of bC(je,Mn.fieldPath)){let Zn,Ma=!0;switch(kn.op){case">=":case">":Zn="nullValue"in(Dt=kn.value)?{booleanValue:!1}:"booleanValue"in Dt?{doubleValue:NaN}:"integerValue"in Dt||"doubleValue"in Dt?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in Dt?{stringValue:""}:"stringValue"in Dt?{bytesValue:""}:"bytesValue"in Dt?Xm(Ju.empty(),We.empty()):"referenceValue"in Dt?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in Dt?{arrayValue:{}}:"arrayValue"in Dt?{mapValue:{}}:"mapValue"in Dt?z1:dt(),Ma=!1;break;case"==":case"in":case"<=":Zn=kn.value;break;case"<":Zn=kn.value,Ma=!1;break;case"!=":case"not-in":Zn=z1}X1(Rn,Zn)===Zn&&(Rn=Zn,jr=Ma)}if(null!==je.endAt)for(let kn=0;kn<je.orderBy.length;++kn)if(je.orderBy[kn].field.isEqual(Mn.fieldPath)){const Zn=je.endAt.position[kn];X1(Rn,Zn)===Zn&&(Rn=Zn,jr=je.endAt.inclusive);break}if(void 0===Rn)return null;Fe.push(Rn),St&&(St=jr)}var Dt;return new _d(Fe,St)}(g,f),z=this.je(f,g,O),ne=this.je(f,g,$),de=this.We(f,g,A),Ye=this.ze(f.indexId,T,z,!!O&&O.inclusive,ne,!!$&&$.inclusive,de);return ye.forEach(Ye,je=>r.Kt(je,t.limit).next(Qe=>{Qe.forEach(Fe=>{c=c.add(new We(el(Fe.documentKey)))})}))}).next(()=>c)}return ye.resolve(null)})}Qe(e){let t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}ze(e,t,r,i,a,c,f){const g=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=a?a.length:1),b=g/(null!=t?t.length:1),T=[];for(let A=0;A<g;++A){const O=t?this.He(t[A/b]):OC,$=r?this.Je(e,O,r[A%b],i):this.Ye(e),z=a?this.Xe(e,O,a[A%b],c):this.Ye(e+1);T.push(...this.createRange($,z,f.map(ne=>this.Je(e,O,ne,!0))))}return T}Je(e,t,r,i){const a=new bd(e,We.empty(),t,r);return i?a:a.ke()}Xe(e,t,r,i){const a=new bd(e,We.empty(),t,r);return i?a.ke():a}Ye(e){return new bd(e,We.empty(),OC,OC)}getFieldIndex(e,t){const r=new Dj(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{const c=a.filter(f=>r.$e(f));return c.sort((f,g)=>g.fields.length-f.fields.length),c.length>0?c[0]:null})}Ze(e,t){const r=new kC;for(const i of eg(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const c=r.Ne(i.kind);cg.fe.Zt(a,c)}return r.Se()}He(e){const t=new kC;return cg.fe.Zt(e,t.Ne(0)),t.Se()}We(e,t,r){if(null===r)return[];let i=[];i.push(new kC);let a=0;for(const c of eg(e)){const f=r[a++];for(const g of i)if(this.tn(t,c.fieldPath)&&Jv(f))i=this.en(i,c,f);else{const b=g.Ne(c.kind);cg.fe.Zt(f,b)}}return this.nn(i)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}nn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}en(e,t,r){const i=[...e],a=[];for(const c of r.arrayValue.values||[])for(const f of i){const g=new kC;g.seed(f.Se()),cg.fe.Zt(c,g.Ne(t.kind)),a.push(g)}return a}tn(e,t){return!!e.filters.find(r=>r instanceof Ki&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=PC(e),i=NC(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(a=>{const c=[];return ye.forEach(a,f=>i.get([f.indexId,this.uid]).next(g=>{c.push(function(b,T){const A=T?new eb(T.sequenceNumber,new Xu(vf(T.readTime),new We(el(T.documentKey)),T.largestBatchId)):eb.empty(),O=b.fields.map(([$,z])=>new yC(xi.fromServerFormat($),z));return new _C(b.indexId,b.collectionGroup,O,A)}(f,g))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Xt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=PC(e),a=NC(e);return this.sn(e).next(c=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ye.forEach(f,g=>{return a.put({indexId:g.indexId,uid:this.user.uid||"",sequenceNumber:c,readTime:yf((O=r).readTime),documentKey:ki(O.documentKey.path),largestBatchId:O.largestBatchId});var O})))}updateIndexEntries(e,t){const r=new Map;return ye.forEach(t,(i,a)=>{const c=r.get(i.collectionGroup);return(c?ye.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),ye.forEach(f,g=>this.rn(e,i,g).next(b=>{const T=this.on(a,g);return b.isEqual(T)?ye.resolve():this.un(e,a,b,T)}))))})}an(e,t,r){return gb(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,documentKey:ki(t.key.path)})}cn(e,t,r){return gb(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,ki(t.key.path)])}rn(e,t,r){const i=gb(e);let a=new ir(bf);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,ki(t.path)])},(c,f)=>{a=a.add(new bd(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}on(e,t){let r=new ir(bf);const i=this.Ze(t,e);if(null==i)return r;const a=yM(t);if(null!=a){const c=e.data.field(a.fieldPath);if(Jv(c))for(const f of c.arrayValue.values||[])r=r.add(new bd(t.indexId,e.key,this.He(f),i))}else r=r.add(new bd(t.indexId,e.key,OC,i));return r}un(e,t,r,i){Ue("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const a=[];return function(c,f,g,b,T){const A=c.getIterator(),O=f.getIterator();let $=og(A),z=og(O);for(;$||z;){let ne=!1,de=!1;if($&&z){const Ye=g($,z);Ye<0?de=!0:Ye>0&&(ne=!0)}else null!=$?de=!0:ne=!0;ne?(b(z),z=og(O)):de?(T($),$=og(A)):($=og(A),z=og(O))}}(r,i,bf,c=>{a.push(this.an(e,t,c))},c=>{a.push(this.cn(e,t,c))}),ye.waitFor(a)}sn(e){let t=1;return NC(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,f)=>bf(c,f)).filter((c,f,g)=>!f||0!==bf(c,g[f-1]));const i=[];i.push(e);for(const c of r){const f=bf(c,e),g=bf(c,t);if(0===f)i[0]=e.ke();else if(f>0&&g<0)i.push(c),i.push(c.ke());else if(g>0)break}i.push(t);const a=[];for(let c=0;c<i.length;c+=2)a.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,""],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,""]));return a}}function oF(n){return Oi(n,"collectionParents")}function gb(n){return Oi(n,"indexEntries")}function PC(n){return Oi(n,"indexConfiguration")}function NC(n){return Oi(n,"indexState")}const aF={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class mo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new mo(e,mo.DEFAULT_COLLECTION_PERCENTILE,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function lF(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],c=IDBKeyRange.only(t.batchId);let f=0;const g=r.Wt({range:c},(T,A,O)=>(f++,O.delete()));a.push(g.next(()=>{Ut(1===f)}));const b=[];for(const T of t.mutations){const A=qN(e,T.key.path,t.batchId);a.push(i.delete(A)),b.push(T.key)}return ye.waitFor(a).next(()=>b)}function FC(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw dt();e=n.noDocument}return JSON.stringify(e).length}mo.DEFAULT_COLLECTION_PERCENTILE=10,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mo.DEFAULT=new mo(41943040,mo.DEFAULT_COLLECTION_PERCENTILE,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mo.DISABLED=new mo(-1,0,0);class VM{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.hn={}}static Yt(e,t,r,i){Ut(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new VM(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wd(e).Wt({index:"userMutationsIndex",range:r},(i,a,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=dg(e),c=wd(e);return c.add({}).next(f=>{Ut("number"==typeof f);const g=new RM(f,t,r,i),b=function(O,$,z){const ne=z.baseMutations.map(Ye=>hb(O.Jt,Ye)),de=z.mutations.map(Ye=>hb(O.Jt,Ye));return{userId:$,batchId:z.batchId,localWriteTimeMs:z.localWriteTime.toMillis(),baseMutations:ne,mutations:de}}(this.M,this.userId,g),T=[];let A=new ir((O,$)=>Xt(O.canonicalString(),$.canonicalString()));for(const O of i){const $=qN(this.userId,O.key.path,f);A=A.add(O.key.path.popLast()),T.push(c.put(b)),T.push(a.put($,XU))}return A.forEach(O=>{T.push(this.indexManager.addToCollectionParentIndex(e,O))}),e.addOnCommittedListener(()=>{this.hn[f]=g.keys()}),ye.waitFor(T).next(()=>g)})}lookupMutationBatch(e,t){return wd(e).get(t).next(r=>r?(Ut(r.userId===this.userId),ug(this.M,r)):null)}ln(e,t){return this.hn[t]?ye.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.hn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return wd(e).Wt({index:"userMutationsIndex",range:i},(c,f,g)=>{f.userId===this.userId&&(Ut(f.batchId>=r),a=ug(this.M,f)),g.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return wd(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,a,c)=>{r=a.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return wd(e).qt("userMutationsIndex",t).next(r=>r.map(i=>ug(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=MC(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return dg(e).Wt({range:i},(c,f,g)=>{const[b,T,A]=c,O=el(T);if(b===this.userId&&t.path.isEqual(O))return wd(e).get(A).next($=>{if(!$)throw dt();Ut($.userId===this.userId),a.push(ug(this.M,$))});g.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ir(Xt);const i=[];return t.forEach(a=>{const c=MC(this.userId,a.path),f=IDBKeyRange.lowerBound(c),g=dg(e).Wt({range:f},(b,T,A)=>{const[O,$,z]=b,ne=el($);O===this.userId&&a.path.isEqual(ne)?r=r.add(z):A.done()});i.push(g)}),ye.waitFor(i).next(()=>this.fn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=MC(this.userId,r),c=IDBKeyRange.lowerBound(a);let f=new ir(Xt);return dg(e).Wt({range:c},(g,b,T)=>{const[A,O,$]=g,z=el(O);A===this.userId&&r.isPrefixOf(z)?z.length===i&&(f=f.add($)):T.done()}).next(()=>this.fn(e,f))}fn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(wd(e).get(a).next(c=>{if(null===c)throw dt();Ut(c.userId===this.userId),r.push(ug(this.M,c))}))}),ye.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return lF(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.dn(t.batchId)}),ye.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}dn(e){delete this.hn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ye.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return dg(e).Wt({range:r},(a,c,f)=>{if(a[0]===this.userId){const g=el(a[1]);i.push(g)}else f.done()}).next(()=>{Ut(0===i.length)})})}containsKey(e,t){return uF(e,this.userId,t)}_n(e){return cF(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function uF(n,e,t){const r=MC(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let c=!1;return dg(n).Wt({range:a,jt:!0},(f,g,b)=>{const[T,A,O]=f;T===e&&A===i&&(c=!0),b.done()}).next(()=>c)}function wd(n){return Oi(n,"mutations")}function dg(n){return Oi(n,"documentMutations")}function cF(n){return Oi(n,"mutationQueues")}class wf{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new wf(0)}static gn(){return new wf(-1)}}class Ij{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.yn(e).next(t=>{const r=new wf(t.highestTargetId);return t.highestTargetId=r.next(),this.pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.yn(e).next(t=>Ot.fromTimestamp(new Br(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.yn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.yn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.pn(e,i)))}addTargetData(e,t){return this.In(e,t).next(()=>this.yn(e).next(r=>(r.targetCount+=1,this.Tn(t,r),this.pn(e,r))))}updateTargetData(e,t){return this.In(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>hg(e).delete(t.targetId)).next(()=>this.yn(e)).next(r=>(Ut(r.targetCount>0),r.targetCount-=1,this.pn(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return hg(e).Wt((c,f)=>{const g=pb(f);g.sequenceNumber<=t&&null===r.get(g.targetId)&&(i++,a.push(this.removeTargetData(e,g)))}).next(()=>ye.waitFor(a)).next(()=>i)}forEachTarget(e,t){return hg(e).Wt((r,i)=>{const a=pb(i);t(a)})}yn(e){return dF(e).get("targetGlobalKey").next(t=>(Ut(null!==t),t))}pn(e,t){return dF(e).put("targetGlobalKey",t)}In(e,t){return hg(e).put(eF(this.M,t))}Tn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.yn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=hf(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return hg(e).Wt({range:i,index:"queryTargetsIndex"},(c,f,g)=>{const b=pb(f);tb(t,b.target)&&(a=b,g.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=Ed(e);return t.forEach(c=>{const f=ki(c.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,c))}),ye.waitFor(i)}removeMatchingKeys(e,t,r){const i=Ed(e);return ye.forEach(t,a=>{const c=ki(a.path);return ye.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Ed(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Ed(e);let a=An();return i.Wt({range:r,jt:!0},(c,f,g)=>{const b=el(c[1]),T=new We(b);a=a.add(T)}).next(()=>a)}containsKey(e,t){const r=ki(t.path),i=IDBKeyRange.bound([r],[j1(r)],!1,!0);let a=0;return Ed(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([c,f],g,b)=>{0!==c&&(a++,b.done())}).next(()=>a>0)}Et(e,t){return hg(e).get(t).next(r=>r?pb(r):null)}}function hg(n){return Oi(n,"targets")}function dF(n){return Oi(n,"targetGlobal")}function Ed(n){return Oi(n,"targetDocuments")}function Ef(n){return BM.apply(this,arguments)}function BM(){return BM=(0,we.Z)(function*(n){if(n.code!==pe.FAILED_PRECONDITION||n.message!==ZN)throw n;Ue("LocalStore","Unexpectedly lost primary lease")}),BM.apply(this,arguments)}function hF([n,e],[t,r]){const i=Xt(n,t);return 0===i?Xt(e,r):i}class Aj{constructor(e){this.En=e,this.buffer=new ir(hF),this.An=0}Rn(){return++this.An}bn(e){const t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();hF(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Mj{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Pn=!1,this.Vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(e){var t=this;const r=this.Pn?3e5:6e4;Ue("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,we.Z)(function*(){t.Vn=null,t.Pn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){gf(i)?Ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Ef(i)}yield t.vn(e)}))}}class xj{constructor(e,t){this.Sn=e,this.params=t}calculateTargetCount(e,t){return this.Sn.Dn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ye.resolve(Ho.A);const r=new Aj(t);return this.Sn.forEachTarget(e,i=>r.bn(i.sequenceNumber)).next(()=>this.Sn.Cn(e,i=>r.bn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Sn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Sn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(aF)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aF):this.xn(e,t))}getCacheSize(e){return this.Sn.getCacheSize(e)}xn(e,t){let r,i,a,c,f,g,b;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(Ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),i=this.params.maximumSequenceNumbersToCollect):i=A,c=Date.now(),this.nthSequenceNumber(e,i))).next(A=>(r=A,f=Date.now(),this.removeTargets(e,r,t))).next(A=>(a=A,g=Date.now(),this.removeOrphanedDocuments(e,r))).next(A=>(b=Date.now(),fM()<=Ya.in.DEBUG&&Ue("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-T}ms\n\tDetermined least recently used ${i} in `+(f-c)+`ms\n\tRemoved ${a} targets in `+(g-f)+`ms\n\tRemoved ${A} documents in `+(b-g)+`ms\nTotal Duration: ${b-T}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:A})))}}class Rj{constructor(e,t){this.db=e,this.garbageCollector=new xj(this,t)}Dn(e){const t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Nn(e){let t=0;return this.Cn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Cn(e,t){return this.kn(e,(r,i)=>t(i))}addReference(e,t,r){return LC(e,r)}removeReference(e,t,r){return LC(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return LC(e,t)}Mn(e,t){return function(r,i){let a=!1;return cF(r).zt(c=>uF(r,c,i).next(f=>(f&&(a=!0),ye.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.kn(e,(c,f)=>{if(f<=t){const g=this.Mn(e,c).next(b=>{if(!b)return a++,r.getEntry(e,c).next(()=>(r.removeEntry(c,Ot.min()),Ed(e).delete([0,ki(c.path)])))});i.push(g)}}).next(()=>ye.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return LC(e,t)}kn(e,t){const r=Ed(e);let i,a=Ho.A;return r.Wt({index:"documentTargetsIndex"},([c,f],{path:g,sequenceNumber:b})=>{0===c?(a!==Ho.A&&t(new We(el(i)),a),a=b,i=g):a=Ho.A}).next(()=>{a!==Ho.A&&t(new We(el(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function LC(n,e){return Ed(n).put((r=n.currentSequenceNumber,{targetId:0,path:ki(e.path),sequenceNumber:r}));var r}class fF{constructor(){this.changes=new yd(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ye.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class kj{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Cf(e).put(r)}removeEntry(e,t,r){return Cf(e).delete(function(i,a){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],RC(a),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.On(e,r)))}getEntry(e,t){let r=rr.newInvalidDocument(t);return Cf(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(_b(t))},(i,a)=>{r=this.Fn(t,a)}).next(()=>r)}$n(e,t){let r={size:0,document:rr.newInvalidDocument(t)};return Cf(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(_b(t))},(i,a)=>{r={document:this.Fn(t,a),size:FC(a)}}).next(()=>r)}getEntries(e,t){let r=Ia();return this.Bn(e,t,(i,a)=>{const c=this.Fn(i,a);r=r.insert(i,c)}).next(()=>r)}Ln(e,t){let r=Ia(),i=new Ur(We.comparator);return this.Bn(e,t,(a,c)=>{const f=this.Fn(a,c);r=r.insert(a,f),i=i.insert(a,FC(c))}).next(()=>({documents:r,Un:i}))}Bn(e,t,r){if(t.isEmpty())return ye.resolve();let i=new ir(gF);t.forEach(g=>i=i.add(g));const a=IDBKeyRange.bound(_b(i.first()),_b(i.last())),c=i.getIterator();let f=c.getNext();return Cf(e).Wt({index:"documentKeyIndex",range:a},(g,b,T)=>{const A=We.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;f&&gF(f,A)<0;)r(f,null),f=c.getNext();f&&f.isEqual(A)&&(r(f,b),f=c.hasNext()?c.getNext():null),f?T.Ut(_b(f)):T.done()}).next(()=>{for(;f;)r(f,null),f=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),RC(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Cf(e).qt(IDBKeyRange.bound(i,a,!0)).next(c=>{let f=Ia();for(const g of c){const b=this.Fn(We.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);f=f.insert(b.key,b)}return f})}getAllFromCollectionGroup(e,t,r,i){let a=Ia();const c=mF(t,r),f=mF(t,Xu.max());return Cf(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,f,!0)},(g,b,T)=>{const A=this.Fn(We.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);a=a.insert(A.key,A),a.size===i&&T.done()}).next(()=>a)}newChangeBuffer(e){return new Oj(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return pF(e).get("remoteDocumentGlobalKey").next(t=>(Ut(!!t),t))}On(e,t){return pF(e).put("remoteDocumentGlobalKey",t)}Fn(e,t){if(t){const r=function yj(n,e){let t;if(e.document)t=LN(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=We.fromSegments(e.noDocument.path),i=vf(e.noDocument.readTime);t=rr.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return dt();{const r=We.fromSegments(e.unknownDocument.path),i=vf(e.unknownDocument.version);t=rr.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Br(r[0],r[1]);return Ot.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(Ot.min()))return r}return rr.newInvalidDocument(e)}}class Oj extends fF{constructor(e,t){super(),this.qn=e,this.trackRemovals=t,this.Gn=new yd(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new ir((a,c)=>Xt(a.canonicalString(),c.canonicalString()));return this.changes.forEach((a,c)=>{const f=this.Gn.get(a);if(t.push(this.qn.removeEntry(e,a,f.readTime)),c.isValidDocument()){const g=XN(this.qn.M,c);i=i.add(a.path.popLast()),r+=FC(g)-f.size,t.push(this.qn.addEntry(e,a,g))}else if(r-=f.size,this.trackRemovals){const g=XN(this.qn.M,c.convertToNoDocument(Ot.min()));t.push(this.qn.addEntry(e,a,g))}}),i.forEach(a=>{t.push(this.qn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.qn.updateMetadata(e,r)),ye.waitFor(t)}getFromCache(e,t){return this.qn.$n(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.qn.Ln(e,t).next(({documents:r,Un:i})=>(i.forEach((a,c)=>{this.Gn.set(a,{size:c,readTime:r.get(a).readTime})}),r))}}function pF(n){return Oi(n,"remoteDocumentGlobal")}function Cf(n){return Oi(n,"remoteDocumentsV14")}function _b(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function mF(n,e){const t=e.documentKey.path.toArray();return[n,RC(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function gF(n,e){const t=n.path.length-e.path.length;return 0!==t?t:We.comparator(n,e)}class Pj{constructor(e){this.M=e}kt(e,t,r,i){const a=new xC("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",GN,{unique:!0}),f.createObjectStore("documentMutations"),_F(e),function(f){f.createObjectStore("remoteDocuments")}(e));let c=ye.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),_F(e)),c=c.next(()=>function(f){const g=f.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ot.min().toTimestamp(),targetCount:0};return g.put("targetGlobalKey",b)}(a))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(f,g){return g.store("mutations").qt().next(b=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",GN,{unique:!0});const T=g.store("mutations"),A=b.map(O=>T.put(O));return ye.waitFor(A)})}(e,a))),c=c.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Kn(a))),r<6&&i>=6&&(c=c.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Qn(a)))),r<7&&i>=7&&(c=c.next(()=>this.jn(a))),r<8&&i>=8&&(c=c.next(()=>this.Wn(e,a))),r<9&&i>=9&&(c=c.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.zn(a))),r<11&&i>=11&&(c=c.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(f){const g=f.createObjectStore("documentOverlays",{keyPath:dj});g.createIndex("collectionPathOverlayIndex",hj,{unique:!1}),g.createIndex("collectionGroupOverlayIndex",fj,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(f){const g=f.createObjectStore("remoteDocumentsV14",{keyPath:ej});g.createIndex("documentKeyIndex",tj),g.createIndex("collectionGroupIndex",nj)}(e)).next(()=>this.Hn(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>{!function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:aj}).createIndex("sequenceNumberIndex",lj,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:uj}).createIndex("documentKeyIndex",cj,{unique:!1})}(e)})),c}Qn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=FC(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Kn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>ye.forEach(i,a=>{const c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",c).next(f=>ye.forEach(f,g=>{Ut(g.userId===a.userId);const b=ug(this.M,g);return lF(e,a.userId,b).next(()=>{})}))}))}jn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.Wt((c,f)=>{const g=new cn(c),b=[0,ki(g)];a.push(t.get(b).next(T=>T?ye.resolve():t.put({targetId:0,path:ki(g),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ye.waitFor(a))})}Wn(e,t){e.createObjectStore("collectionParents",{keyPath:oj});const r=t.store("collectionParents"),i=new LM,a=c=>{if(i.add(c)){const f=c.lastSegment(),g=c.popLast();return r.put({collectionId:f,parent:ki(g)})}};return t.store("remoteDocuments").Wt({jt:!0},(c,f)=>{const g=new cn(c);return a(g.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([c,f,g],b)=>{const T=el(f);return a(T.popLast())}))}zn(e){const t=e.store("targets");return t.Wt((r,i)=>{const a=pb(i),c=eF(this.M,a);return t.put(c)})}Hn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((a,c)=>{const f=t.store("remoteDocumentsV14"),g=(b=c,b.document?new We(cn.fromString(b.document.name).popFirst(5)):b.noDocument?We.fromSegments(b.noDocument.path):b.unknownDocument?We.fromSegments(b.unknownDocument.path):dt()).path.toArray();var b;const T={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(f.put(T))}).next(()=>ye.waitFor(i))}}function _F(n){n.createObjectStore("targetDocuments",{keyPath:ij}).createIndex("documentTargetsIndex",sj,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",rj,{unique:!0}),n.createObjectStore("targetGlobal")}const UM="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class jM{constructor(e,t,r,i,a,c,f,g,b,T,A=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Jn=a,this.window=c,this.document=f,this.Yn=b,this.Xn=T,this.Zn=A,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=O=>Promise.resolve(),!jM.vt())throw new Oe(pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Rj(this,i),this.cs=t+"main",this.M=new JN(g),this.hs=new tl(this.cs,this.Zn,new Pj(this.M)),this.ls=new Ij(this.referenceDelegate,this.M),this.fs=new kj(this.M),this.ds=new vj,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===T&&Xr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(pe.FAILED_PRECONDITION,UM);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ls.getHighestSequenceNumber(e))}).then(e=>{this.ts=new Ho(e,this.Yn)}).then(()=>{this.es=!0}).catch(e=>(this.hs&&this.hs.close(),Promise.reject(e)))}Is(e){var t=this;return this.us=function(){var r=(0,we.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.hs.Ot(function(){var t=(0,we.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget((0,we.Z)(function*(){t.started&&(yield t.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>VC(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(e).next(t=>{t||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(e)).next(t=>this.isPrimary&&!t?this.As(e).next(()=>!1):!!t&&this.Rs(e).next(()=>!0))).catch(e=>{if(gf(e))return Ue("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ue("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Jn.enqueueRetryable(()=>this.us(e)),this.isPrimary=e})}Ts(e){return yb(e).get("owner").next(t=>ye.resolve(this.bs(t)))}Ps(e){return VC(e).delete(this.clientId)}Vs(){var e=this;return(0,we.Z)(function*(){if(e.isPrimary&&!e.vs(e.os,18e5)){e.os=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Oi(r,"clientMetadata");return i.qt().next(a=>{const c=e.Ss(a,18e5),f=a.filter(g=>-1===c.indexOf(g));return ye.forEach(f,g=>i.delete(g.clientId)).next(()=>f)})}).catch(()=>[]);if(e._s)for(const r of t)e._s.removeItem(e.Ds(r.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(e){return!!e&&e.ownerId===this.clientId}Es(e){return this.Xn?ye.resolve(!0):yb(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Oe(pe.FAILED_PRECONDITION,UM);return!1}}return!(!this.networkEnabled||!this.inForeground)||VC(e).qt().next(r=>void 0===this.Ss(r,5e3).find(i=>{if(this.clientId!==i.clientId){const c=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||c&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ue("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,we.Z)(function*(){e.es=!1,e.xs(),e.rs&&(e.rs.cancel(),e.rs=null),e.Ns(),e.ks(),yield e.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new QN(t,Ho.A);return e.As(r).next(()=>e.Ps(r))}),e.hs.close(),e.Ms()})()}Ss(e,t){return e.filter(r=>this.vs(r.updateTimeMs,t)&&!this.Cs(r.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",e=>VC(e).qt().next(t=>this.Ss(t,18e5).map(r=>r.clientId)))}get started(){return this.es}getMutationQueue(e,t){return VM.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(e){return new Sj(e)}getDocumentOverlayCache(e){return FM.Yt(this.M,e)}getBundleCache(){return this.ds}runTransaction(e,t,r){Ue("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=14===(c=this.Zn)?mj:13===c?WN:12===c?pj:11===c?zN:void dt();var c;let f;return this.hs.runTransaction(e,i,a,g=>(f=new QN(g,this.ts?this.ts.next():Ho.A),"readwrite-primary"===t?this.Ts(f).next(b=>!!b||this.Es(f)).next(b=>{if(!b)throw Xr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new Oe(pe.FAILED_PRECONDITION,ZN);return r(f)}).next(b=>this.Rs(f).next(()=>b)):this.Fs(f).next(()=>r(f)))).then(g=>(f.raiseOnCommittedEvent(),g))}Fs(e){return yb(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)&&!this.bs(t)&&!(this.Xn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Oe(pe.FAILED_PRECONDITION,UM)})}Rs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return yb(e).put("owner",t)}static vt(){return tl.vt()}As(e){const t=yb(e);return t.get("owner").next(r=>this.bs(r)?(Ue("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ye.resolve())}vs(e,t){const r=Date.now();return!(e<r-t||e>r&&(Xr(`Detected an update time that is in the future: ${e} > ${r}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=()=>{this.xs(),(0,yt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(e){var t;try{const r=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return Ue("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Xr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(e){Xr("Failed to set zombie client id.",e)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(e){}}Ds(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function yb(n){return Oi(n,"owner")}function VC(n){return Oi(n,"clientMetadata")}function HM(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Nj{constructor(e,t,r){this.fs=e,this.$s=t,this.indexManager=r}Bs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Ls(e,t,r))}Ls(e,t,r){return this.fs.getEntry(e,t).next(i=>{for(const a of r)a.applyToLocalView(i);return i})}Us(e,t){e.forEach((r,i)=>{for(const a of t)a.applyToLocalView(i)})}qs(e,t){return this.fs.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Us(t,r))}Ks(e,t,r){return We.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.Qs(e,t.path):wM(t)?this.js(e,t,r):this.Ws(e,t,r);var i}Qs(e,t){return this.Bs(e,new We(t)).next(r=>{let i=SM();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}js(e,t,r){const i=t.collectionGroup;let a=SM();return this.indexManager.getCollectionParents(e,i).next(c=>ye.forEach(c,f=>{const g=(b=t,T=f.child(i),new ec(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,T;return this.Ws(e,g,r).next(b=>{b.forEach((T,A)=>{a=a.insert(T,A)})})}).next(()=>a))}Ws(e,t,r){let i;return this.fs.getAllFromCollection(e,t.path,r).next(a=>(i=a,this.$s.getAllMutationBatchesAffectingQuery(e,t))).next(a=>{for(const c of a)for(const f of c.mutations){const g=f.key;let b=i.get(g);null==b&&(b=rr.newInvalidDocument(g),i=i.insert(g,b)),DM(f,b,c.localWriteTime),b.isFoundDocument()||(i=i.remove(g))}}).next(()=>(i.forEach((a,c)=>{CM(t,c)||(i=i.remove(a))}),i))}}class $M{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.zs=r,this.Hs=i}static Js(e,t){let r=An(),i=An();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new $M(e,t.fromCache,r,i)}}class yF{Ys(e){this.Xs=e}Ks(e,t,r,i){return 0===(a=t).filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())||r.isEqual(Ot.min())?this.Zs(e,t):this.Xs.qs(e,i).next(a=>{const c=this.ti(t,a);return(wC(t)||EC(t))&&this.ei(t.limitType,c,i,r)?this.Zs(e,t):(fM()<=Ya.in.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),EM(t)),this.Xs.Ks(e,t,tN(r,-1)).next(f=>(c.forEach(g=>{f=f.insert(g.key,g)}),f)))});var a}ti(e,t){let r=new ir(cN(e));return t.forEach((i,a)=>{CM(e,a)&&(r=r.add(a))}),r}ei(e,t,r,i){if(r.size!==t.size)return!0;const a="F"===e?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Zs(e,t){return fM()<=Ya.in.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",EM(t)),this.Xs.Ks(e,t,Xu.min())}}class Fj{constructor(e,t,r,i){this.persistence=e,this.ni=t,this.M=i,this.si=new Ur(Xt),this.ii=new yd(a=>hf(a),tb),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(r)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new Nj(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.si))}}function vF(n,e,t,r){return new Fj(n,e,t,r)}function bF(n,e){return GM.apply(this,arguments)}function GM(){return GM=(0,we.Z)(function*(n,e){const t=tt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.$s.getAllMutationBatches(r).next(a=>(i=a,t.ui(e),t.$s.getAllMutationBatches(r))).next(a=>{const c=[],f=[];let g=An();for(const b of i){c.push(b.batchId);for(const T of b.mutations)g=g.add(T.key)}for(const b of a){f.push(b.batchId);for(const T of b.mutations)g=g.add(T.key)}return t.ai.qs(r,g).next(b=>({ci:b,removedBatchIds:c,addedBatchIds:f}))})})}),GM.apply(this,arguments)}function Lj(n,e){const t=tt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.oi.newChangeBuffer({trackRemovals:!0});return function(c,f,g,b){const T=g.batch,A=T.keys();let O=ye.resolve();return A.forEach($=>{O=O.next(()=>b.getEntry(f,$)).next(z=>{const ne=g.docVersions.get($);Ut(null!==ne),z.version.compareTo(ne)<0&&(T.applyToRemoteDocument(z,g),z.isValidDocument()&&(z.setReadTime(g.commitVersion),b.addEntry(z)))})}),O.next(()=>c.$s.removeMutationBatch(f,T))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.$s.performConsistencyCheck(r)).next(()=>t.ai.qs(r,i))})}function wF(n){const e=tt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ls.getLastRemoteSnapshotVersion(t))}function Vj(n,e){const t=tt(n),r=e.snapshotVersion;let i=t.si;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.oi.newChangeBuffer({trackRemovals:!0});i=t.si;const f=[];e.targetChanges.forEach((b,T)=>{const A=i.get(T);if(!A)return;f.push(t.ls.removeMatchingKeys(a,b.removedDocuments,T).next(()=>t.ls.addMatchingKeys(a,b.addedDocuments,T)));let O=A.withSequenceNumber(a.currentSequenceNumber);var $,z,ne;e.targetMismatches.has(T)?O=O.withResumeToken(hi.EMPTY_BYTE_STRING,Ot.min()).withLastLimboFreeSnapshotVersion(Ot.min()):b.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(b.resumeToken,r)),i=i.insert(T,O),z=O,ne=b,(0===($=A).resumeToken.approximateByteSize()||z.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8||ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0)&&f.push(t.ls.updateTargetData(a,O))});let g=Ia();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,b))}),f.push(EF(a,c,e.documentUpdates).next(b=>{g=b})),!r.isEqual(Ot.min())){const b=t.ls.getLastRemoteSnapshotVersion(a).next(T=>t.ls.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(b)}return ye.waitFor(f).next(()=>c.apply(a)).next(()=>t.ai.Gs(a,g)).next(()=>g)}).then(a=>(t.si=i,a))}function EF(n,e,t){let r=An();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let a=Ia();return t.forEach((c,f)=>{const g=i.get(c);f.isNoDocument()&&f.version.isEqual(Ot.min())?(e.removeEntry(c,f.readTime),a=a.insert(c,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||0===f.version.compareTo(g.version)&&g.hasPendingWrites?(e.addEntry(f),a=a.insert(c,f)):Ue("LocalStore","Ignoring outdated watch update for ",c,". Current version:",g.version," Watch version:",f.version)}),a})}function Bj(n,e){const t=tt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.$s.getNextMutationBatchAfterBatchId(r,e)))}function fg(n,e){const t=tt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.ls.getTargetData(r,e).next(a=>a?(i=a,ye.resolve(i)):t.ls.allocateTargetId(r).next(c=>(i=new vd(e,c,0,r.currentSequenceNumber),t.ls.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.si.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.si=t.si.insert(r.targetId,r),t.ii.set(e,r.targetId)),r})}function pg(n,e,t){return qM.apply(this,arguments)}function qM(){return qM=(0,we.Z)(function*(n,e,t){const r=tt(n),i=r.si.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!gf(c))throw c;Ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.si=r.si.remove(e),r.ii.delete(i.target)}),qM.apply(this,arguments)}function BC(n,e,t){const r=tt(n);let i=Ot.min(),a=An();return r.persistence.runTransaction("Execute query","readonly",c=>function(f,g,b){const T=tt(f),A=T.ii.get(b);return void 0!==A?ye.resolve(T.si.get(A)):T.ls.getTargetData(g,b)}(r,c,Sa(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(c,f.targetId).next(g=>{a=g})}).next(()=>r.ni.Ks(c,e,t?i:Ot.min(),t?a:An())).next(f=>(TF(r,uN(e),f),{documents:f,hi:a})))}function CF(n,e){const t=tt(n),r=tt(t.ls),i=t.si.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.Et(a,e).next(c=>c?c.target:null))}function DF(n,e){const t=tt(n),r=t.ri.get(e)||Ot.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.oi.getAllFromCollectionGroup(i,e,tN(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(TF(t,e,i),i))}function TF(n,e,t){let r=Ot.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.ri.set(e,r)}function zM(){return zM=(0,we.Z)(function*(n,e,t,r){const i=tt(n);let a=An(),c=Ia();for(const b of t){const T=e.li(b.metadata.name);b.document&&(a=a.add(T));const A=e.fi(b);A.setReadTime(e.di(b.metadata.readTime)),c=c.insert(T,A)}const f=i.oi.newChangeBuffer({trackRemovals:!0}),g=yield fg(i,(b=r,Sa(ng(cn.fromString(`__bundle__/docs/${b}`)))));var b;return i.persistence.runTransaction("Apply bundle documents","readwrite",b=>EF(b,f,c).next(T=>(f.apply(b),T)).next(T=>i.ls.removeMatchingKeysForTargetId(b,g.targetId).next(()=>i.ls.addMatchingKeys(b,a,g.targetId)).next(()=>i.ai.Gs(b,T)).next(()=>T)))}),zM.apply(this,arguments)}function jj(n,e){return WM.apply(this,arguments)}function WM(){return WM=(0,we.Z)(function*(n,e,t=An()){const r=yield fg(n,Sa(PM(e.bundledQuery))),i=tt(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const c=Ri(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.ds.saveNamedQuery(a,e);const f=r.withResumeToken(hi.EMPTY_BYTE_STRING,c);return i.si=i.si.insert(f.targetId,f),i.ls.updateTargetData(a,f).next(()=>i.ls.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.ls.addMatchingKeys(a,t,r.targetId)).next(()=>i.ds.saveNamedQuery(a,e))})}),WM.apply(this,arguments)}class Hj{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return ye.resolve(this._i.get(t))}saveBundleMetadata(e,t){var r;return this._i.set(t.id,{id:(r=t).id,version:r.version,createTime:Ri(r.createTime)}),ye.resolve()}getNamedQuery(e,t){return ye.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(r=t).name,query:PM(r.bundledQuery),readTime:Ri(r.readTime)}),ye.resolve();var r}}class $j{constructor(){this.overlays=new Ur(We.comparator),this.mi=new Map}getOverlay(e,t){return ye.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.Xt(e,t,a)}),ye.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.mi.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.mi.delete(r)),ye.resolve()}getOverlaysForCollection(e,t,r){const i=ob(),a=t.length+1,c=new We(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const g=f.getNext().value,b=g.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===a&&g.largestBatchId>r&&i.set(g.getKey(),g)}return ye.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Ur((b,T)=>b-T);const c=this.overlays.getIterator();for(;c.hasNext();){const b=c.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let T=a.get(b.largestBatchId);null===T&&(T=ob(),a=a.insert(b.largestBatchId,T)),T.set(b.getKey(),b)}}const f=ob(),g=a.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((b,T)=>f.set(b,T)),!(f.size()>=i)););return ye.resolve(f)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const c=this.mi.get(i.largestBatchId).delete(r.key);this.mi.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new OM(t,r));let a=this.mi.get(t);void 0===a&&(a=An(),this.mi.set(t,a)),this.mi.set(t,a.add(r.key))}}class ZM{constructor(){this.gi=new ir(Pi.yi),this.pi=new ir(Pi.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const r=new Pi(e,t);this.gi=this.gi.add(r),this.pi=this.pi.add(r)}Ti(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ei(new Pi(e,t))}Ai(e,t){e.forEach(r=>this.removeReference(r,t))}Ri(e){const t=new We(new cn([])),r=new Pi(t,e),i=new Pi(t,e+1),a=[];return this.pi.forEachInRange([r,i],c=>{this.Ei(c),a.push(c.key)}),a}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new We(new cn([])),r=new Pi(t,e),i=new Pi(t,e+1);let a=An();return this.pi.forEachInRange([r,i],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new Pi(e,0),r=this.gi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Pi{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return We.comparator(e.key,t.key)||Xt(e.Vi,t.Vi)}static Ii(e,t){return Xt(e.Vi,t.Vi)||We.comparator(e.key,t.key)}}class Gj{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.$s=[],this.vi=1,this.Si=new ir(Pi.yi)}checkEmpty(e){return ye.resolve(0===this.$s.length)}addMutationBatch(e,t,r,i){const a=this.vi;this.vi++;const c=new RM(a,t,r,i);this.$s.push(c);for(const f of i)this.Si=this.Si.add(new Pi(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ye.resolve(c)}lookupMutationBatch(e,t){return ye.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Ci(t+1),a=i<0?0:i;return ye.resolve(this.$s.length>a?this.$s[a]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return ye.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Pi(t,0),i=new Pi(t,Number.POSITIVE_INFINITY),a=[];return this.Si.forEachInRange([r,i],c=>{const f=this.Di(c.Vi);a.push(f)}),ye.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ir(Xt);return t.forEach(i=>{const a=new Pi(i,0),c=new Pi(i,Number.POSITIVE_INFINITY);this.Si.forEachInRange([a,c],f=>{r=r.add(f.Vi)})}),ye.resolve(this.xi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;We.isDocumentKey(a)||(a=a.child(""));const c=new Pi(new We(a),0);let f=new ir(Xt);return this.Si.forEachWhile(g=>{const b=g.key.path;return!!r.isPrefixOf(b)&&(b.length===i&&(f=f.add(g.Vi)),!0)},c),ye.resolve(this.xi(f))}xi(e){const t=[];return e.forEach(r=>{const i=this.Di(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Ut(0===this.Ni(t.batchId,"removed")),this.$s.shift();let r=this.Si;return ye.forEach(t.mutations,i=>{const a=new Pi(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Si=r})}dn(e){}containsKey(e,t){const r=new Pi(t,0),i=this.Si.firstAfterOrEqual(r);return ye.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ye.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}class qj{constructor(e){this.ki=e,this.docs=new Ur(We.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,c=this.ki(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ye.resolve(r?r.document.mutableCopy():rr.newInvalidDocument(t))}getEntries(e,t){let r=Ia();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():rr.newInvalidDocument(i))}),ye.resolve(r)}getAllFromCollection(e,t,r){let i=Ia();const a=new We(t.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:f,value:{document:g}}=c.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||pU(fU(g),r)<=0||(i=i.insert(g.key,g.mutableCopy()))}return ye.resolve(i)}getAllFromCollectionGroup(e,t,r,i){dt()}Mi(e,t){return ye.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new zj(this)}getSize(e){return ye.resolve(this.size)}}class zj extends fF{constructor(e){super(),this.qn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.qn.addEntry(e,i)):this.qn.removeEntry(r)}),ye.waitFor(t)}getFromCache(e,t){return this.qn.getEntry(e,t)}getAllFromCache(e,t){return this.qn.getEntries(e,t)}}class Wj{constructor(e){this.persistence=e,this.Oi=new yd(t=>hf(t),tb),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this.Fi=0,this.$i=new ZM,this.targetCount=0,this.Bi=wf.mn()}forEachTarget(e,t){return this.Oi.forEach((r,i)=>t(i)),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Fi&&(this.Fi=t),ye.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new wf(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,ye.resolve()}updateTargetData(e,t){return this.In(t),ye.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Oi.forEach((c,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Oi.delete(c),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),ye.waitFor(a).next(()=>i)}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,t){const r=this.Oi.get(t)||null;return ye.resolve(r)}addMatchingKeys(e,t,r){return this.$i.Ti(t,r),ye.resolve()}removeMatchingKeys(e,t,r){this.$i.Ai(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(c=>{a.push(i.markPotentiallyOrphaned(e,c))}),ye.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.$i.Ri(t),ye.resolve()}getMatchingKeysForTargetId(e,t){const r=this.$i.Pi(t);return ye.resolve(r)}containsKey(e,t){return ye.resolve(this.$i.containsKey(t))}}class Zj{constructor(e,t){this.Li={},this.overlays={},this.ts=new Ho(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new Wj(this),this.indexManager=new Tj,this.fs=new qj(r=>this.referenceDelegate.Ui(r)),this.M=new JN(t),this.ds=new Hj(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $j,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Li[e.toKey()];return r||(r=new Gj(t,this.referenceDelegate),this.Li[e.toKey()]=r),r}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,t,r){Ue("MemoryPersistence","Starting transaction:",e);const i=new Kj(this.ts.next());return this.referenceDelegate.qi(),r(i).next(a=>this.referenceDelegate.Gi(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ki(e,t){return ye.or(Object.values(this.Li).map(r=>()=>r.containsKey(e,t)))}}class Kj extends KN{constructor(e){super(),this.currentSequenceNumber=e}}class KM{constructor(e){this.persistence=e,this.Qi=new ZM,this.ji=null}static Wi(e){return new KM(e)}get zi(){if(this.ji)return this.ji;throw dt()}addReference(e,t,r){return this.Qi.addReference(r,t),this.zi.delete(r.toString()),ye.resolve()}removeReference(e,t,r){return this.Qi.removeReference(r,t),this.zi.add(r.toString()),ye.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),ye.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(i=>this.zi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.zi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}qi(){this.ji=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.zi,r=>{const i=We.fromPath(r);return this.Hi(e,i).next(a=>{a||t.removeEntry(i,Ot.min())})}).next(()=>(this.ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hi(e,t).next(r=>{r?this.zi.delete(t.toString()):this.zi.add(t.toString())})}Ui(e){return 0}Hi(e,t){return ye.or([()=>ye.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ki(e,t)])}}function SF(n,e){return`firestore_clients_${n}_${e}`}function IF(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function YM(n,e){return`firestore_targets_${n}_${e}`}class UC{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ji(e,t,r){const i=JSON.parse(r);let a,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(a=new Oe(i.error.code,i.error.message))),c?new UC(e,t,i.state,a):(Xr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vb{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Oe(r.error.code,r.error.message))),a?new vb(e,r.state,i):(Xr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class jC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=IC();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=q1(r.activeTargetIds[c]),a=a.add(r.activeTargetIds[c]);return i?new jC(e,a):(Xr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class QM{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new QM(t.clientId,t.onlineState):(Xr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class JM{constructor(){this.activeTargetIds=IC()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XM{constructor(e,t,r,i,a){this.window=e,this.Jn=t,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Ur(Xt),this.started=!1,this.ir=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=SF(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new JM),this.ar=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,we.Z)(function*(){const t=yield e.syncEngine.Os();for(const i of t){if(i===e.tr)continue;const a=e.getItem(SF(e.persistenceKey,i));if(a){const c=jC.Ji(i,a);c&&(e.sr=e.sr.insert(c.clientId,c))}}e._r();const r=e.storage.getItem(e.lr);if(r){const i=e.wr(r);i&&e.mr(i)}for(const i of e.ir)e.nr(i);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(YM(this.persistenceKey,e));if(r){const i=vb.Ji(e,r);i&&(t=i.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(YM(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.pr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ue("SharedClientState","READ",e,t),t}setItem(e,t){Ue("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ue("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ue("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void Xr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,we.Z)(function*(){if(t.started){if(null!==r.key)if(t.ar.test(r.key)){if(null==r.newValue){const i=t.Rr(r.key);return t.br(i,null)}{const i=t.Pr(r.key,r.newValue);if(i)return t.br(i.clientId,i)}}else if(t.cr.test(r.key)){if(null!==r.newValue){const i=t.Vr(r.key,r.newValue);if(i)return t.vr(i)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const i=t.Sr(r.key,r.newValue);if(i)return t.Dr(i)}}else if(r.key===t.lr){if(null!==r.newValue){const i=t.wr(r.newValue);if(i)return t.mr(i)}}else if(r.key===t.ur){const i=function(a){let c=Ho.A;if(null!=a)try{const f=JSON.parse(a);Ut("number"==typeof f),c=f}catch(f){Xr("SharedClientState","Failed to read sequence number from WebStorage",f)}return c}(r.newValue);i!==Ho.A&&t.sequenceNumberHandler(i)}else if(r.key===t.dr){const i=t.Cr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Nr(a)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const i=new UC(this.currentUser,e,t,r),a=IF(this.persistenceKey,this.currentUser,e);this.setItem(a,i.Yi())}pr(e){const t=IF(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const i=YM(this.persistenceKey,e),a=new vb(e,t,r);this.setItem(i,a.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.ar.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return jC.Ji(r,t)}Vr(e,t){const r=this.cr.exec(e),i=Number(r[1]);return UC.Ji(new Zi(void 0!==r[2]?r[2]:null),i,t)}Sr(e,t){const r=this.hr.exec(e),i=Number(r[1]);return vb.Ji(i,t)}wr(e){return QM.Ji(e)}Cr(e){return JSON.parse(e)}vr(e){var t=this;return(0,we.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Ue("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),c=[],f=[];return a.forEach(g=>{i.has(g)||c.push(g)}),i.forEach(g=>{a.has(g)||f.push(g)}),this.syncEngine.Or(c,f).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=IC();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class AF{constructor(){this.Fr=new JM,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new JM,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Yj{Br(e){}shutdown(){}}class MF{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Qj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Jj{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class Xj extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,i,a){const c=this.oo(e,t);Ue("RestConnection","Sending: ",c,r);const f={};return this.uo(f,i,a),this.ao(e,c,f,r).then(g=>(Ue("RestConnection","Received: ",g),g),g=>{throw Wv("RestConnection",`${e} failed with error: `,g,"url: ",c,"request:",r),g})}co(e,t,r,i,a){return this.ro(e,t,r,i,a)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Km,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}oo(e,t){return`${this.so}/v1/${t}:${Qj[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,t,r,i){return new Promise((a,c)=>{const f=new XB;f.listenOnce(YB.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case hM.NO_ERROR:const b=f.getResponseJson();Ue("Connection","XHR received:",JSON.stringify(b)),a(b);break;case hM.TIMEOUT:Ue("Connection",'RPC "'+e+'" timed out'),c(new Oe(pe.DEADLINE_EXCEEDED,"Request time out"));break;case hM.HTTP_ERROR:const T=f.getStatus();if(Ue("Connection",'RPC "'+e+'" failed with status:',T,"response text:",f.getResponseText()),T>0){const A=f.getResponseJson().error;if(A&&A.status&&A.message){const O=function($){const z=$.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(z)>=0?z:pe.UNKNOWN}(A.status);c(new Oe(O,A.message))}else c(new Oe(pe.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new Oe(pe.UNAVAILABLE,"Connection failed."));break;default:dt()}}finally{Ue("Connection",'RPC "'+e+'" completed.')}});const g=JSON.stringify(i);f.send(t,"POST",g,r,15)})}ho(e,t,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=ZB(),c=KB(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new JB({})),this.uo(f.initMessageHeaders,t,r),(0,yt.uI)()||(0,yt.b$)()||(0,yt.d)()||(0,yt.w1)()||(0,yt.Mn)()||(0,yt.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const g=i.join("");Ue("Connection","Creating WebChannel: "+g,f);const b=a.createWebChannel(g,f);let T=!1,A=!1;const O=new Jj({jr:z=>{A?Ue("Connection","Not sending because WebChannel is closed:",z):(T||(Ue("Connection","Opening WebChannel transport."),b.open(),T=!0),Ue("Connection","WebChannel sending:",z),b.send(z))},Wr:()=>b.close()}),$=(z,ne,de)=>{z.listen(ne,Ye=>{try{de(Ye)}catch(je){setTimeout(()=>{throw je},0)}})};return $(b,mC.EventType.OPEN,()=>{A||Ue("Connection","WebChannel transport opened.")}),$(b,mC.EventType.CLOSE,()=>{A||(A=!0,Ue("Connection","WebChannel transport closed"),O.eo())}),$(b,mC.EventType.ERROR,z=>{A||(A=!0,Wv("Connection","WebChannel transport errored:",z),O.eo(new Oe(pe.UNAVAILABLE,"The operation could not be completed")))}),$(b,mC.EventType.MESSAGE,z=>{var ne;if(!A){const de=z.data[0];Ut(!!de);const Ye=de,je=Ye.error||(null===(ne=Ye[0])||void 0===ne?void 0:ne.error);if(je){Ue("Connection","WebChannel received error:",je);const Qe=je.status;let Fe=function(Dt){const Mn=ti[Dt];if(void 0!==Mn)return TN(Mn)}(Qe),St=je.message;void 0===Fe&&(Fe=pe.INTERNAL,St="Unknown error status: "+Qe+" with message "+je.message),A=!0,O.eo(new Oe(Fe,St)),b.close()}else Ue("Connection","WebChannel received:",de),O.no(de)}}),$(c,QB.STAT_EVENT,z=>{z.stat===F1.PROXY?Ue("Connection","Detected buffering proxy"):z.stat===F1.NOPROXY&&Ue("Connection","Detected no buffering proxy")}),setTimeout(()=>{O.Zr()},0),O}}function xF(){return"undefined"!=typeof window?window:null}function HC(){return"undefined"!=typeof document?document:null}function bb(n){return new jU(n,!0)}class ex{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Jn=e,this.timerId=t,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,t-r);i>0&&Ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class RF{constructor(e,t,r,i,a,c,f,g){this.Jn=e,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new ex(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,we.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,we.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,t){var r=this;return(0,we.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===pe.RESOURCE_EXHAUSTED?(Xr(t.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===pe.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===t&&this.Uo(r,i)},r=>{e(()=>{const i=new Oe(pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){var e=this;this.state=5,this.So.Io((0,we.Z)(function*(){e.state=0,e.start()}))}qo(e){return Ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.Jn.enqueueAndForget(()=>this.Po===e?t():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eH extends RF{constructor(e,t,r,i,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.M=a}Go(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function GU(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(g=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:dt(),i=e.targetChange.targetIds||[],a=function(g,b){return g.N?(Ut(void 0===b||"string"==typeof b),hi.fromBase64String(b||"")):(Ut(void 0===b||b instanceof Uint8Array),hi.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(g){const b=void 0===g.code?pe.UNKNOWN:TN(g.code);return new Oe(b,g.message||"")}(c);t=new AN(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=tu(n,r.document.name),a=Ri(r.document.updateTime),c=new ds({mapValue:{fields:r.document.fields}}),f=rr.newFoundDocument(i,a,c);t=new AC(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=tu(n,r.document),a=r.readTime?Ri(r.readTime):Ot.min(),c=rr.newNoDocument(i,a);t=new AC([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=tu(n,r.document);t=new AC([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return dt();{const r=e.filter,a=new kU(r.count||0);t=new IN(r.targetId,a)}}var g;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return Ot.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Ot.min():a.readTime?Ri(a.readTime):Ot.min()}(e);return this.listener.Ko(t,r)}Qo(e){const t={};t.database=db(this.M),t.addTarget=function(i,a){let c;const f=a.target;return c=vC(f)?{documents:VN(i,f)}:{query:BN(i,f)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?c.resumeToken=kN(i,a.resumeToken):a.snapshotVersion.compareTo(Ot.min())>0&&(c.readTime=ub(i,a.snapshotVersion.toTimestamp())),c}(this.M,e);const r=function zU(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return dt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Oo(t)}jo(e){const t={};t.database=db(this.M),t.removeTarget=e,this.Oo(t)}}class tH extends RF{constructor(e,t,r,i,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.M=a,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function qU(n,e){return n&&n.length>0?(Ut(void 0!==e),n.map(t=>function(r,i){let a=Ri(r.updateTime?r.updateTime:i);return a.isEqual(Ot.min())&&(a=Ri(i)),new MU(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Ri(e.commitTime);return this.listener.Jo(r,t)}return Ut(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=db(this.M),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>hb(this.M,r))};this.Oo(t)}}class nH extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=i,this.Zo=!1}tu(){if(this.Zo)throw new Oe(pe.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.bo.ro(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Oe(pe.UNKNOWN,i.toString())})}co(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.bo.co(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Oe(pe.UNKNOWN,i.toString())})}terminate(){this.Zo=!0}}class rH{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Xr(t),this.su=!1):Ue("OnlineStateTracker",t)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class iH{constructor(e,t,r,i,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br(f=>{r.enqueueAndForget((0,we.Z)(function*(){var g;Cd(c)&&(Ue("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,we.Z)(function*(b){const T=tt(b);T.lu.add(4),yield mg(T),T._u.set("Unknown"),T.lu.delete(4),yield wb(T)}),function(b){return g.apply(this,arguments)})(c))}))}),this._u=new rH(r,i)}}function wb(n){return tx.apply(this,arguments)}function tx(){return tx=(0,we.Z)(function*(n){if(Cd(n))for(const e of n.fu)yield e(!0)}),tx.apply(this,arguments)}function mg(n){return nx.apply(this,arguments)}function nx(){return nx=(0,we.Z)(function*(n){for(const e of n.fu)yield e(!1)}),nx.apply(this,arguments)}function $C(n,e){const t=tt(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),sx(t)?ix(t):_g(t).Co()&&rx(t,e))}function Eb(n,e){const t=tt(n),r=_g(t);t.hu.delete(e),r.Co()&&kF(t,e),0===t.hu.size&&(r.Co()?r.ko():Cd(t)&&t._u.set("Unknown"))}function rx(n,e){n.wu.Z(e.targetId),_g(n).Qo(e)}function kF(n,e){n.wu.Z(e),_g(n).jo(e)}function ix(n){n.wu=new VU({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.hu.get(e)||null}),_g(n).start(),n._u.iu()}function sx(n){return Cd(n)&&!_g(n).Do()&&n.hu.size>0}function Cd(n){return 0===tt(n).lu.size}function OF(n){n.wu=void 0}function sH(n){return ox.apply(this,arguments)}function ox(){return ox=(0,we.Z)(function*(n){n.hu.forEach((e,t)=>{rx(n,e)})}),ox.apply(this,arguments)}function oH(n,e){return ax.apply(this,arguments)}function ax(){return ax=(0,we.Z)(function*(n,e){OF(n),sx(n)?(n._u.uu(e),ix(n)):n._u.set("Unknown")}),ax.apply(this,arguments)}function aH(n,e,t){return lx.apply(this,arguments)}function lx(){return lx=(0,we.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof AN&&2===e.state&&e.cause)try{yield(r=(0,we.Z)(function*(i,a){const c=a.cause;for(const f of a.targetIds)i.hu.has(f)&&(yield i.remoteSyncer.rejectListen(f,c),i.hu.delete(f),i.wu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){Ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield GC(n,r)}else if(e instanceof AC?n.wu.ut(e):e instanceof IN?n.wu._t(e):n.wu.ht(e),!t.isEqual(Ot.min()))try{const r=yield wF(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const c=i.wu.yt(a);return c.targetChanges.forEach((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const b=i.hu.get(g);b&&i.hu.set(g,b.withResumeToken(f.resumeToken,a))}}),c.targetMismatches.forEach(f=>{const g=i.hu.get(f);if(!g)return;i.hu.set(f,g.withResumeToken(hi.EMPTY_BYTE_STRING,g.snapshotVersion)),kF(i,f);const b=new vd(g.target,f,1,g.sequenceNumber);rx(i,b)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Ue("RemoteStore","Failed to raise snapshot:",r),yield GC(n,r)}var r}),lx.apply(this,arguments)}function GC(n,e,t){return ux.apply(this,arguments)}function ux(){return ux=(0,we.Z)(function*(n,e,t){if(!gf(e))throw e;n.lu.add(1),yield mg(n),n._u.set("Offline"),t||(t=()=>wF(n.localStore)),n.asyncQueue.enqueueRetryable((0,we.Z)(function*(){Ue("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield wb(n)}))}),ux.apply(this,arguments)}function PF(n,e){return e().catch(t=>GC(n,t,e))}function gg(n){return cx.apply(this,arguments)}function cx(){return cx=(0,we.Z)(function*(n){const e=tt(n),t=Dd(e);let r=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;lH(e);)try{const i=yield Bj(e.localStore,r);if(null===i){0===e.cu.length&&t.ko();break}r=i.batchId,uH(e,i)}catch(i){yield GC(e,i)}NF(e)&&FF(e)}),cx.apply(this,arguments)}function lH(n){return Cd(n)&&n.cu.length<10}function uH(n,e){n.cu.push(e);const t=Dd(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function NF(n){return Cd(n)&&!Dd(n).Do()&&n.cu.length>0}function FF(n){Dd(n).start()}function cH(n){return dx.apply(this,arguments)}function dx(){return dx=(0,we.Z)(function*(n){Dd(n).Xo()}),dx.apply(this,arguments)}function dH(n){return hx.apply(this,arguments)}function hx(){return hx=(0,we.Z)(function*(n){const e=Dd(n);for(const t of n.cu)e.Ho(t.mutations)}),hx.apply(this,arguments)}function hH(n,e,t){return fx.apply(this,arguments)}function fx(){return fx=(0,we.Z)(function*(n,e,t){const r=n.cu.shift(),i=kM.from(r,e,t);yield PF(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield gg(n)}),fx.apply(this,arguments)}function fH(n,e){return px.apply(this,arguments)}function px(){return px=(0,we.Z)(function*(n,e){var t;e&&Dd(n).zo&&(yield(t=(0,we.Z)(function*(r,i){if(DN(a=i.code)&&a!==pe.ABORTED){const c=r.cu.shift();Dd(r).No(),yield PF(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield gg(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),NF(n)&&FF(n)}),px.apply(this,arguments)}function LF(n,e){return mx.apply(this,arguments)}function mx(){return mx=(0,we.Z)(function*(n,e){const t=tt(n);t.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const r=Cd(t);t.lu.add(3),yield mg(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield wb(t)}),mx.apply(this,arguments)}function gx(n,e){return _x.apply(this,arguments)}function _x(){return _x=(0,we.Z)(function*(n,e){const t=tt(n);e?(t.lu.delete(2),yield wb(t)):e||(t.lu.add(2),yield mg(t),t._u.set("Unknown"))}),_x.apply(this,arguments)}function _g(n){return n.mu||(n.mu=function(e,t,r){const i=tt(e);return i.tu(),new eH(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{zr:sH.bind(null,n),Jr:oH.bind(null,n),Ko:aH.bind(null,n)}),n.fu.push(function(){var e=(0,we.Z)(function*(t){t?(n.mu.No(),sx(n)?ix(n):n._u.set("Unknown")):(yield n.mu.stop(),OF(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function Dd(n){return n.gu||(n.gu=function(e,t,r){const i=tt(e);return i.tu(),new tH(t,i.bo,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{zr:cH.bind(null,n),Jr:fH.bind(null,n),Yo:dH.bind(null,n),Jo:hH.bind(null,n)}),n.fu.push(function(){var e=(0,we.Z)(function*(t){t?(n.gu.No(),yield gg(n)):(yield n.gu.stop(),n.cu.length>0&&(Ue("RemoteStore",`Stopping write stream with ${n.cu.length} pending writes`),n.cu=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class yx{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,a){const c=Date.now()+r,f=new yx(e,t,c,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yg(n,e){if(Xr("AsyncQueue",`${e}: ${n}`),gf(n))return new Oe(pe.UNAVAILABLE,`${e}: ${n}`);throw n}class vg{constructor(e){this.comparator=e?(t,r)=>e(t,r)||We.comparator(t.key,r.key):(t,r)=>We.comparator(t.key,r.key),this.keyedMap=SM(),this.sortedSet=new Ur(this.comparator)}static emptySet(e){return new vg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof vg)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new vg;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class VF{constructor(){this.yu=new Ur(We.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):dt():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class bg{constructor(e,t,r,i,a,c,f,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=g}static fromInitialDocuments(e,t,r,i){const a=[];return t.forEach(c=>{a.push({type:0,doc:c})}),new bg(e,t,vg.emptySet(t),a,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class pH{constructor(){this.Iu=void 0,this.listeners=[]}}class mH{constructor(){this.queries=new yd(e=>lN(e),nb),this.onlineState="Unknown",this.Tu=new Set}}function vx(n,e){return bx.apply(this,arguments)}function bx(){return bx=(0,we.Z)(function*(n,e){const t=tt(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new pH),i)try{a.Iu=yield t.onListen(r)}catch(c){const f=yg(c,`Initialization of query '${EM(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.Eu(t.onlineState),a.Iu&&e.Au(a.Iu)&&Cx(t)}),bx.apply(this,arguments)}function wx(n,e){return Ex.apply(this,arguments)}function Ex(){return Ex=(0,we.Z)(function*(n,e){const t=tt(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),Ex.apply(this,arguments)}function gH(n,e){const t=tt(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const f of c.listeners)f.Au(i)&&(r=!0);c.Iu=i}}r&&Cx(t)}function _H(n,e,t){const r=tt(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function Cx(n){n.Tu.forEach(e=>{e.next()})}class Dx{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new bg(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),t=!0):this.vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=bg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class yH{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class BF{constructor(e){this.M=e}li(e){return tu(this.M,e)}fi(e){return e.metadata.exists?LN(this.M,e.document,!1):rr.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}di(e){return Ri(e)}}class vH{constructor(e,t,r){this.xu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=UF(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=cn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new BF(this.M);for(const i of e)if(i.metadata.queries){const a=r.li(i.metadata.name);for(const c of i.metadata.queries){const f=(t.get(c)||An()).add(a);t.set(c,f)}}return t}complete(){var e=this;return(0,we.Z)(function*(){const t=yield function Uj(n,e,t,r){return zM.apply(this,arguments)}(e.localStore,new BF(e.M),e.documents,e.xu.id),r=e.ku(e.documents);for(const i of e.queries)yield jj(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function UF(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class jF{constructor(e){this.key=e}}class HF{constructor(e){this.key=e}}class $F{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=An(),this.mutatedKeys=An(),this.Lu=cN(e),this.Uu=new vg(this.Lu)}get qu(){return this.Fu}Gu(e,t){const r=t?t.Ku:new VF,i=t?t.Uu:this.Uu;let a=t?t.mutatedKeys:this.mutatedKeys,c=i,f=!1;const g=wC(this.query)&&i.size===this.query.limit?i.last():null,b=EC(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,A)=>{const O=i.get(T),$=CM(this.query,A)?A:null,z=!!O&&this.mutatedKeys.has(O.key),ne=!!$&&($.hasLocalMutations||this.mutatedKeys.has($.key)&&$.hasCommittedMutations);let de=!1;O&&$?O.data.isEqual($.data)?z!==ne&&(r.track({type:3,doc:$}),de=!0):this.Qu(O,$)||(r.track({type:2,doc:$}),de=!0,(g&&this.Lu($,g)>0||b&&this.Lu($,b)<0)&&(f=!0)):!O&&$?(r.track({type:0,doc:$}),de=!0):O&&!$&&(r.track({type:1,doc:O}),de=!0,(g||b)&&(f=!0)),de&&($?(c=c.add($),a=ne?a.add(T):a.delete(T)):(c=c.delete(T),a=a.delete(T)))}),wC(this.query)||EC(this.query))for(;c.size>this.query.limit;){const T=wC(this.query)?c.last():c.first();c=c.delete(T.key),a=a.delete(T.key),r.track({type:1,doc:T})}return{Uu:c,Ku:r,ei:f,mutatedKeys:a}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const a=e.Ku.pu();a.sort((b,T)=>function(A,O){const $=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt()}};return $(A)-$(O)}(b.type,T.type)||this.Lu(b.doc,T.doc)),this.ju(r);const c=t?this.Wu():[],f=0===this.Bu.size&&this.current?1:0,g=f!==this.$u;return this.$u=f,0!==a.length||g?{snapshot:new bg(this.query,e.Uu,i,a,e.mutatedKeys,0===f,g,!1),zu:c}:{zu:c}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new VF,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=An(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new HF(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new jF(r))}),t}Ju(e){this.Fu=e.hi,this.Bu=An();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Yu(){return bg.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class bH{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class wH{constructor(e){this.key=e,this.Xu=!1}}class EH{constructor(e,t,r,i,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Zu={},this.ta=new yd(f=>lN(f),nb),this.ea=new Map,this.na=new Set,this.sa=new Ur(We.comparator),this.ia=new Map,this.ra=new ZM,this.oa={},this.ua=new Map,this.aa=wf.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function CH(n,e){return Tx.apply(this,arguments)}function Tx(){return Tx=(0,we.Z)(function*(n,e){const t=Zx(n);let r,i;const a=t.ta.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.Yu();else{const c=yield fg(t.localStore,Sa(e));t.isPrimaryClient&&$C(t.remoteStore,c);const f=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield Sx(t,e,r,"current"===f)}return i}),Tx.apply(this,arguments)}function Sx(n,e,t,r){return Ix.apply(this,arguments)}function Ix(){return Ix=(0,we.Z)(function*(n,e,t,r){n.ha=(T,A,O)=>{return($=(0,we.Z)(function*(z,ne,de,Ye){let je=ne.view.Gu(de);je.ei&&(je=yield BC(z.localStore,ne.query,!1).then(({documents:St})=>ne.view.Gu(St,je)));const Qe=Ye&&Ye.targetChanges.get(ne.targetId),Fe=ne.view.applyChanges(je,z.isPrimaryClient,Qe);return Lx(z,ne.targetId,Fe.zu),Fe.snapshot}),function(z,ne,de,Ye){return $.apply(this,arguments)})(n,T,A,O);var $};const i=yield BC(n.localStore,e,!0),a=new $F(e,i.hi),c=a.Gu(i.documents),f=lb.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),g=a.applyChanges(c,n.isPrimaryClient,f);Lx(n,t,g.zu);const b=new bH(e,t,a);return n.ta.set(e,b),n.ea.has(t)?n.ea.get(t).push(e):n.ea.set(t,[e]),g.snapshot}),Ix.apply(this,arguments)}function DH(n,e){return Ax.apply(this,arguments)}function Ax(){return Ax=(0,we.Z)(function*(n,e){const t=tt(n),r=t.ta.get(e),i=t.ea.get(r.targetId);if(i.length>1)return t.ea.set(r.targetId,i.filter(a=>!nb(a,e))),void t.ta.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield pg(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Eb(t.remoteStore,r.targetId),wg(t,r.targetId)}).catch(Ef))):(wg(t,r.targetId),yield pg(t.localStore,r.targetId,!0))}),Ax.apply(this,arguments)}function Mx(){return Mx=(0,we.Z)(function*(n,e,t){const r=Kx(n);try{const i=yield function(a,c){const f=tt(a),g=Br.now(),b=c.reduce((A,O)=>A.add(O.key),An());let T;return f.persistence.runTransaction("Locally write mutations","readwrite",A=>f.ai.qs(A,b).next(O=>{T=O;const $=[];for(const z of c){const ne=RU(z,T.get(z.key));null!=ne&&$.push(new mf(z.key,ne,eN(ne.value.mapValue),ei.exists(!0)))}return f.$s.addMutationBatch(A,g,$,c)})).then(A=>(A.applyToLocalDocumentSet(T),{batchId:A.batchId,changes:T}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,f){let g=a.oa[a.currentUser.toKey()];g||(g=new Ur(Xt)),g=g.insert(c,f),a.oa[a.currentUser.toKey()]=g}(r,i.batchId,t),yield tc(r,i.changes),yield gg(r.remoteStore)}catch(i){const a=yg(i,"Failed to persist write");t.reject(a)}}),Mx.apply(this,arguments)}function GF(n,e){return xx.apply(this,arguments)}function xx(){return xx=(0,we.Z)(function*(n,e){const t=tt(n);try{const r=yield Vj(t.localStore,e);e.targetChanges.forEach((i,a)=>{const c=t.ia.get(a);c&&(Ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.Xu=!0:i.modifiedDocuments.size>0?Ut(c.Xu):i.removedDocuments.size>0&&(Ut(c.Xu),c.Xu=!1))}),yield tc(t,r,e)}catch(r){yield Ef(r)}}),xx.apply(this,arguments)}function qF(n,e,t){const r=tt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ta.forEach((a,c)=>{const f=c.view.Eu(e);f.snapshot&&i.push(f.snapshot)}),function(a,c){const f=tt(a);f.onlineState=c;let g=!1;f.queries.forEach((b,T)=>{for(const A of T.listeners)A.Eu(c)&&(g=!0)}),g&&Cx(f)}(r.eventManager,e),i.length&&r.Zu.Ko(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function SH(n,e,t){return Rx.apply(this,arguments)}function Rx(){return Rx=(0,we.Z)(function*(n,e,t){const r=tt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ia.get(e),a=i&&i.key;if(a){let c=new Ur(We.comparator);c=c.insert(a,rr.newNoDocument(a,Ot.min()));const f=An().add(a),g=new ab(Ot.min(),new Map,new ir(Xt),c,f);yield GF(r,g),r.sa=r.sa.remove(a),r.ia.delete(e),Vx(r)}else yield pg(r.localStore,e,!1).then(()=>wg(r,e,t)).catch(Ef)}),Rx.apply(this,arguments)}function IH(n,e){return kx.apply(this,arguments)}function kx(){return kx=(0,we.Z)(function*(n,e){const t=tt(n),r=e.batch.batchId;try{const i=yield Lj(t.localStore,e);Fx(t,r,null),Nx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield tc(t,i)}catch(i){yield Ef(i)}}),kx.apply(this,arguments)}function AH(n,e,t){return Ox.apply(this,arguments)}function Ox(){return Ox=(0,we.Z)(function*(n,e,t){const r=tt(n);try{const i=yield function(a,c){const f=tt(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let b;return f.$s.lookupMutationBatch(g,c).next(T=>(Ut(null!==T),b=T.keys(),f.$s.removeMutationBatch(g,T))).next(()=>f.$s.performConsistencyCheck(g)).next(()=>f.ai.qs(g,b))})}(r.localStore,e);Fx(r,e,t),Nx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield tc(r,i)}catch(i){yield Ef(i)}}),Ox.apply(this,arguments)}function Px(){return Px=(0,we.Z)(function*(n,e){const t=tt(n);Cd(t.remoteStore)||Ue("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const c=tt(a);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>c.$s.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.ua.get(r)||[];i.push(e),t.ua.set(r,i)}catch(r){const i=yg(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),Px.apply(this,arguments)}function Nx(n,e){(n.ua.get(e)||[]).forEach(t=>{t.resolve()}),n.ua.delete(e)}function Fx(n,e,t){const r=tt(n);let i=r.oa[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.oa[r.currentUser.toKey()]=i}}function wg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ea.get(e))n.ta.delete(r),t&&n.Zu.la(r,t);n.ea.delete(e),n.isPrimaryClient&&n.ra.Ri(e).forEach(r=>{n.ra.containsKey(r)||zF(n,r)})}function zF(n,e){n.na.delete(e.path.canonicalString());const t=n.sa.get(e);null!==t&&(Eb(n.remoteStore,t),n.sa=n.sa.remove(e),n.ia.delete(t),Vx(n))}function Lx(n,e,t){for(const r of t)r instanceof jF?(n.ra.addReference(r.key,e),xH(n,r)):r instanceof HF?(Ue("SyncEngine","Document no longer in limbo: "+r.key),n.ra.removeReference(r.key,e),n.ra.containsKey(r.key)||zF(n,r.key)):dt()}function xH(n,e){const t=e.key,r=t.path.canonicalString();n.sa.get(t)||n.na.has(r)||(Ue("SyncEngine","New document in limbo: "+t),n.na.add(r),Vx(n))}function Vx(n){for(;n.na.size>0&&n.sa.size<n.maxConcurrentLimboResolutions;){const e=n.na.values().next().value;n.na.delete(e);const t=new We(cn.fromString(e)),r=n.aa.next();n.ia.set(r,new wH(t)),n.sa=n.sa.insert(t,r),$C(n.remoteStore,new vd(Sa(ng(t.path)),r,2,Ho.A))}}function tc(n,e,t){return Bx.apply(this,arguments)}function Bx(){return Bx=(0,we.Z)(function*(n,e,t){const r=tt(n),i=[],a=[],c=[];var f;r.ta.isEmpty()||(r.ta.forEach((f,g)=>{c.push(r.ha(g,e,t).then(b=>{if(b){r.isPrimaryClient&&r.sharedClientState.updateQueryState(g.targetId,b.fromCache?"not-current":"current"),i.push(b);const T=$M.Js(g.targetId,b);a.push(T)}}))}),yield Promise.all(c),r.Zu.Ko(i),yield(f=(0,we.Z)(function*(g,b){const T=tt(g);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>ye.forEach(b,O=>ye.forEach(O.zs,$=>T.persistence.referenceDelegate.addReference(A,O.targetId,$)).next(()=>ye.forEach(O.Hs,$=>T.persistence.referenceDelegate.removeReference(A,O.targetId,$)))))}catch(A){if(!gf(A))throw A;Ue("LocalStore","Failed to update sequence numbers: "+A)}for(const A of b){const O=A.targetId;if(!A.fromCache){const $=T.si.get(O),ne=$.withLastLimboFreeSnapshotVersion($.snapshotVersion);T.si=T.si.insert(O,ne)}}}),function(g,b){return f.apply(this,arguments)})(r.localStore,a))}),Bx.apply(this,arguments)}function RH(n,e){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,we.Z)(function*(n,e){const t=tt(n);if(!t.currentUser.isEqual(e)){Ue("SyncEngine","User change. New user:",e.toKey());const r=yield bF(t.localStore,e);t.currentUser=e,(i=t).ua.forEach(c=>{c.forEach(f=>{f.reject(new Oe(pe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.ua.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield tc(t,r.ci)}var i}),Ux.apply(this,arguments)}function kH(n,e){const t=tt(n),r=t.ia.get(e);if(r&&r.Xu)return An().add(r.key);{let i=An();const a=t.ea.get(e);if(!a)return i;for(const c of a){const f=t.ta.get(c);i=i.unionWith(f.view.qu)}return i}}function OH(n,e){return jx.apply(this,arguments)}function jx(){return jx=(0,we.Z)(function*(n,e){const t=tt(n),r=yield BC(t.localStore,e.query,!0),i=e.view.Ju(r);return t.isPrimaryClient&&Lx(t,e.targetId,i.zu),i}),jx.apply(this,arguments)}function PH(n,e){return Hx.apply(this,arguments)}function Hx(){return Hx=(0,we.Z)(function*(n,e){const t=tt(n);return DF(t.localStore,e).then(r=>tc(t,r))}),Hx.apply(this,arguments)}function NH(n,e,t,r){return $x.apply(this,arguments)}function $x(){return $x=(0,we.Z)(function*(n,e,t,r){const i=tt(n),a=yield function(c,f){const g=tt(c),b=tt(g.$s);return g.persistence.runTransaction("Lookup mutation documents","readonly",T=>b.ln(T,f).next(A=>A?g.ai.qs(T,A):ye.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===t?yield gg(i.remoteStore):"acknowledged"===t||"rejected"===t?(Fx(i,e,r||null),Nx(i,e),f=e,tt(tt(i.localStore).$s).dn(f)):dt(),yield tc(i,a)):Ue("SyncEngine","Cannot apply mutation batch with id: "+e)}),$x.apply(this,arguments)}function Gx(){return Gx=(0,we.Z)(function*(n,e){const t=tt(n);if(Zx(t),Kx(t),!0===e&&!0!==t.ca){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield WF(t,r.toArray());t.ca=!0,yield gx(t.remoteStore,!0);for(const a of i)$C(t.remoteStore,a)}else if(!1===e&&!1!==t.ca){const r=[];let i=Promise.resolve();t.ea.forEach((a,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(wg(t,c),pg(t.localStore,c,!0))),Eb(t.remoteStore,c)}),yield i,yield WF(t,r),function(a){const c=tt(a);c.ia.forEach((f,g)=>{Eb(c.remoteStore,g)}),c.ra.bi(),c.ia=new Map,c.sa=new Ur(We.comparator)}(t),t.ca=!1,yield gx(t.remoteStore,!1)}}),Gx.apply(this,arguments)}function WF(n,e,t){return qx.apply(this,arguments)}function qx(){return qx=(0,we.Z)(function*(n,e,t){const r=tt(n),i=[],a=[];for(const c of e){let f;const g=r.ea.get(c);if(g&&0!==g.length){f=yield fg(r.localStore,Sa(g[0]));for(const b of g){const T=r.ta.get(b),A=yield OH(r,T);A.snapshot&&a.push(A.snapshot)}}else{const b=yield CF(r.localStore,c);f=yield fg(r.localStore,b),yield Sx(r,ZF(b),c,!1)}i.push(f)}return r.Zu.Ko(a),i}),qx.apply(this,arguments)}function ZF(n){return oN(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function LH(n){const e=tt(n);return tt(tt(e.localStore).persistence).Os()}function VH(n,e,t,r){return zx.apply(this,arguments)}function zx(){return zx=(0,we.Z)(function*(n,e,t,r){const i=tt(n);if(i.ca)return void Ue("SyncEngine","Ignoring unexpected query state notification.");const a=i.ea.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const c=yield DF(i.localStore,uN(a[0])),f=ab.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield tc(i,c,f);break}case"rejected":yield pg(i.localStore,e,!0),wg(i,e,r);break;default:dt()}}),zx.apply(this,arguments)}function BH(n,e,t){return Wx.apply(this,arguments)}function Wx(){return Wx=(0,we.Z)(function*(n,e,t){const r=Zx(n);if(r.ca){for(const i of e){if(r.ea.has(i)){Ue("SyncEngine","Adding an already active target "+i);continue}const a=yield CF(r.localStore,i),c=yield fg(r.localStore,a);yield Sx(r,ZF(a),c.targetId,!1),$C(r.remoteStore,c)}for(const i of t)r.ea.has(i)&&(yield pg(r.localStore,i,!1).then(()=>{Eb(r.remoteStore,i),wg(r,i)}).catch(Ef))}}),Wx.apply(this,arguments)}function Zx(n){const e=tt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=GF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SH.bind(null,e),e.Zu.Ko=gH.bind(null,e.eventManager),e.Zu.la=_H.bind(null,e.eventManager),e}function Kx(n){const e=tt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AH.bind(null,e),e}class KF{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,we.Z)(function*(){t.M=bb(e.databaseInfo.databaseId),t.sharedClientState=t.da(e),t.persistence=t._a(e),yield t.persistence.start(),t.gcScheduler=t.wa(e),t.localStore=t.ma(e)})()}wa(e){return null}ma(e){return vF(this.persistence,new yF,e.initialUser,this.M)}_a(e){return new Zj(KM.Wi,this.M)}da(e){return new AF}terminate(){var e=this;return(0,we.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class YF extends KF{constructor(e,t,r){super(),this.ga=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,we.Z)(function*(){yield t().call(r,e),yield r.ga.initialize(r,e),yield Kx(r.ga.syncEngine),yield gg(r.ga.remoteStore),yield r.persistence.Is(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ma(e){return vF(this.persistence,new yF,e.initialUser,this.M)}wa(e){return new Mj(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}_a(e){const t=HM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?mo.withCacheSize(this.cacheSizeBytes):mo.DEFAULT;return new jM(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,xF(),HC(),this.M,this.sharedClientState,!!this.forceOwnership)}da(e){return new AF}}class jH extends YF{constructor(e,t){super(e,t,!1),this.ga=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,we.Z)(function*(){yield t().call(r,e);const i=r.ga.syncEngine;r.sharedClientState instanceof XM&&(r.sharedClientState.syncEngine={kr:NH.bind(null,i),Mr:VH.bind(null,i),Or:BH.bind(null,i),Os:LH.bind(null,i),Nr:PH.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Is(function(){var a=(0,we.Z)(function*(c){yield function FH(n,e){return Gx.apply(this,arguments)}(r.ga.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):c||r.gcScheduler.stop())});return function(c){return a.apply(this,arguments)}}())})()}da(e){const t=xF();if(!XM.vt(t))throw new Oe(pe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=HM(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new XM(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Yx{initialize(e,t){var r=this;return(0,we.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>qF(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=RH.bind(null,r.syncEngine),yield gx(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new mH}createDatastore(e){const t=bb(e.databaseInfo.databaseId),r=new Xj(e.databaseInfo);return new nH(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>qF(this.syncEngine,f,0),c=MF.vt()?new MF:new Yj,new iH(t,r,i,a,c);var t,r,i,a,c}createSyncEngine(e,t){return function(r,i,a,c,f,g,b){const T=new EH(r,i,a,c,f,g);return b&&(T.ca=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,we.Z)(function*(t){const r=tt(t);Ue("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield mg(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function QF(n,e=10240){let t=0;return{read:()=>(0,we.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,we.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class qC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class HH{constructor(e,t){this.Ia=e,this.M=t,this.metadata=new Mi,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ia.cancel()}getMetadata(){var e=this;return(0,we.Z)(function*(){return e.metadata.promise})()}fa(){var e=this;return(0,we.Z)(function*(){return yield e.getMetadata(),e.Ea()})()}Ea(){var e=this;return(0,we.Z)(function*(){const t=yield e.Aa();if(null===t)return null;const r=e.Ta.decode(t),i=Number(r);isNaN(i)&&e.Ra(`length string (${r}) is not valid number`);const a=yield e.ba(i);return new yH(JSON.parse(a),t.length+i)})()}Pa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Aa(){var e=this;return(0,we.Z)(function*(){for(;e.Pa()<0&&!(yield e.Va()););if(0===e.buffer.length)return null;const t=e.Pa();t<0&&e.Ra("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,we.Z)(function*(){for(;t.buffer.length<e;)(yield t.Va())&&t.Ra("Reached the end of bundle when more is expected.");const r=t.Ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Ra(e){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${e}`)}Va(){var e=this;return(0,we.Z)(function*(){const t=yield e.Ia.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class $H{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,we.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Oe(pe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,we.Z)(function*(a,c){const f=tt(a),g=db(f.M)+"/documents",b={documents:c.map($=>cb(f.M,$))},T=yield f.co("BatchGetDocuments",g,b),A=new Map;T.forEach($=>{const z=function $U(n,e){return"found"in e?function(t,r){Ut(!!r.found);const i=tu(t,r.found.name),a=Ri(r.found.updateTime),c=new ds({mapValue:{fields:r.found.fields}});return rr.newFoundDocument(i,a,c)}(n,e):"missing"in e?function(t,r){Ut(!!r.missing),Ut(!!r.readTime);const i=tu(t,r.missing),a=Ri(r.readTime);return rr.newNoDocument(i,a)}(n,e):dt()}(f.M,$);A.set(z.key.toString(),z)});const O=[];return c.forEach($=>{const z=A.get($.toString());Ut(!!z),O.push(z)}),O}),function(a,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new sb(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,we.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=We.fromPath(i);e.mutations.push(new TM(a,e.precondition(a)))}),yield(r=(0,we.Z)(function*(i,a){const c=tt(i),f=db(c.M)+"/documents",g={writes:a.map(b=>hb(c.M,b))};yield c.ro("Commit",f,g)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw dt();t=Ot.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Oe(pe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?ei.updateTime(t):ei.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ot.min()))throw new Oe(pe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ei.updateTime(t)}return ei.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class GH{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.va=5,this.So=new ex(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var e=this;this.So.Io((0,we.Z)(function*(){const t=new $H(e.datastore),r=e.Da(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Ca(a)}))}).catch(i=>{e.Ca(i)})}))}Da(e){try{const t=this.updateFunction(e);return!cf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ca(e){this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(e)}xa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!DN(t)}return!1}}class qH{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Zi.UNAUTHENTICATED,this.clientId=U1.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,we.Z)(function*(f){Ue("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Ue("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,we.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=yg(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function JF(n,e){return Qx.apply(this,arguments)}function Qx(){return Qx=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,we.Z)(function*(a){r.isEqual(a)||(yield bF(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Qx.apply(this,arguments)}function XF(n,e){return Jx.apply(this,arguments)}function Jx(){return Jx=(0,we.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Xx(n);Ue("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>LF(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>LF(e.remoteStore,a)),n.onlineComponents=e}),Jx.apply(this,arguments)}function Xx(n){return eR.apply(this,arguments)}function eR(){return eR=(0,we.Z)(function*(n){return n.offlineComponents||(Ue("FirestoreClient","Using default OfflineComponentProvider"),yield JF(n,new KF)),n.offlineComponents}),eR.apply(this,arguments)}function zC(n){return tR.apply(this,arguments)}function tR(){return tR=(0,we.Z)(function*(n){return n.onlineComponents||(Ue("FirestoreClient","Using default OnlineComponentProvider"),yield XF(n,new Yx)),n.onlineComponents}),tR.apply(this,arguments)}function eL(n){return Xx(n).then(e=>e.persistence)}function nR(n){return Xx(n).then(e=>e.localStore)}function tL(n){return zC(n).then(e=>e.remoteStore)}function rR(n){return zC(n).then(e=>e.syncEngine)}function Eg(n){return iR.apply(this,arguments)}function iR(){return iR=(0,we.Z)(function*(n){const e=yield zC(n),t=e.eventManager;return t.onListen=CH.bind(null,e.syncEngine),t.onUnlisten=DH.bind(null,e.syncEngine),t}),iR.apply(this,arguments)}function nL(n,e,t={}){const r=new Mi;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(i,a,c,f,g){const b=new qC({next:A=>{a.enqueueAndForget(()=>wx(i,T));const O=A.docs.has(c);!O&&A.fromCache?g.reject(new Oe(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&A.fromCache&&f&&"server"===f.source?g.reject(new Oe(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new Dx(ng(c.path),b,{includeMetadataChanges:!0,Du:!0});return vx(i,T)}(yield Eg(n),n.asyncQueue,e,t,r)})),r.promise}function rL(n,e,t={}){const r=new Mi;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(i,a,c,f,g){const b=new qC({next:A=>{a.enqueueAndForget(()=>wx(i,T)),A.fromCache&&"server"===f.source?g.reject(new Oe(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new Dx(c,b,{includeMetadataChanges:!0,Du:!0});return vx(i,T)}(yield Eg(n),n.asyncQueue,e,t,r)})),r.promise}const iL=new Map;function sR(n,e,t){if(!t)throw new Oe(pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function sL(n,e,t,r){if(!0===e&&!0===r)throw new Oe(pe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function oL(n){if(!We.isDocumentKey(n))throw new Oe(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function aL(n){if(We.isDocumentKey(n))throw new Oe(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function WC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":dt()}function an(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Oe(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=WC(n);throw new Oe(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function lL(n,e){if(e<=0)throw new Oe(pe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class uL{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Oe(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oe(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,sL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cb{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uL({}),this._settingsFrozen=!1,e instanceof Ju?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Oe(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ju(i.options.projectId)}(e))}get app(){if(!this._app)throw new Oe(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Oe(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uL(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new nU;switch(t.type){case"gapi":const r=t.client;return Ut(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new oU(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Oe(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=iL.get(e);t&&(Ue("ComponentProvider","Removing Datastore"),iL.delete(e),t.terminate())}(this),Promise.resolve()}}class sr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sr(this.firestore,e,this._key)}}class hs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hs(this.firestore,e,this._query)}}class nu extends hs{constructor(e,t,r){super(e,t,ng(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sr(this.firestore,null,new We(e))}withConverter(e){return new nu(this.firestore,e,this._path)}}function cL(n,e,...t){if(n=(0,yt.m9)(n),sR("collection","path",e),n instanceof Cb){const r=cn.fromString(e,...t);return aL(r),new nu(n,null,r)}{if(!(n instanceof sr||n instanceof nu))throw new Oe(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(cn.fromString(e,...t));return aL(r),new nu(n.firestore,null,r)}}function ZC(n,e,...t){if(n=(0,yt.m9)(n),1===arguments.length&&(e=U1.R()),sR("doc","path",e),n instanceof Cb){const r=cn.fromString(e,...t);return oL(r),new sr(n,null,new We(r))}{if(!(n instanceof sr||n instanceof nu))throw new Oe(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(cn.fromString(e,...t));return oL(r),new sr(n.firestore,n instanceof nu?n.converter:null,new We(r))}}function dL(n,e){return n=(0,yt.m9)(n),e=(0,yt.m9)(e),(n instanceof sr||n instanceof nu)&&(e instanceof sr||e instanceof nu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function hL(n,e){return n=(0,yt.m9)(n),e=(0,yt.m9)(e),n instanceof hs&&e instanceof hs&&n.firestore===e.firestore&&nb(n._query,e._query)&&n.converter===e.converter}class n${constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new ex(this,"async_queue_retry"),this.Ua=()=>{const t=HC();t&&Ue("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=HC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const t=HC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const t=new Mi;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return(0,we.Z)(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(t){if(!gf(t))throw t;Ue("AsyncQueue","Operation failed with retryable error: "+t)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const t=this.Na.then(()=>(this.$a=!0,e().catch(r=>{throw this.Fa=r,this.$a=!1,Xr("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(r)),r}).then(r=>(this.$a=!1,r))));return this.Na=t,t}enqueueAfterDelay(e,t,r){this.qa(),this.La.indexOf(e)>-1&&(t=0);const i=yx.createAndSchedule(this,e,t,r,a=>this.Qa(a));return this.Oa.push(i),i}qa(){this.Fa&&dt()}verifyOperationInProgress(){}ja(){var e=this;return(0,we.Z)(function*(){let t;do{t=e.Na,yield t}while(t!==e.Na)})()}Wa(e){for(const t of this.Oa)if(t.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Oa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}function oR(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class r${constructor(){this._progressObserver={},this._taskCompletionResolver=new Mi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class cr extends Cb{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new n$,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||fL(this),this._firestoreClient.terminate()}}function ni(n){return n._firestoreClient||fL(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function fL(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new hU(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new qH(n._authCredentials,n._appCheckCredentials,n._queue,r)}function pL(n,e,t){const r=new Mi;return n.asyncQueue.enqueue((0,we.Z)(function*(){try{yield JF(n,t),yield XF(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(a=i).name?a.code===pe.FAILED_PRECONDITION||a.code===pe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var a})).then(()=>r.promise)}function mL(n){if(n._initialized||n._terminated)throw new Oe(pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class nc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Oe(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ru{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ru(hi.fromBase64String(e))}catch(t){throw new Oe(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ru(hi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Df{constructor(e){this._methodName=e}}class KC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oe(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oe(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Xt(this._lat,e._lat)||Xt(this._long,e._long)}}const f$=/^__.*__$/;class p${constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new mf(e,this.data,this.fieldMask,t,this.fieldTransforms):new ib(e,this.data,t,this.fieldTransforms)}}class gL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new mf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function _L(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt()}}class YC{constructor(e,t,r,i,a,c){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ja(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new YC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Xa({path:r,tc:!1});return i.ec(e),i}nc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Xa({path:r,tc:!1});return i.Ja(),i}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return XC(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(_L(this.Ya)&&f$.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class m${constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||bb(e)}uc(e,t,r,i=!1){return new YC({Ya:e,methodName:t,oc:r,path:xi.emptyPath(),tc:!1,rc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Tf(n){const e=n._freezeSettings(),t=bb(n._databaseId);return new m$(n._databaseId,!!e.ignoreUndefinedProperties,t)}function QC(n,e,t,r,i,a={}){const c=n.uc(a.merge||a.mergeFields?2:0,e,t,i);cR("Data must be an object, but it was:",c,r);const f=bL(r,c);let g,b;if(a.merge)g=new Qm(c.fieldMask),b=c.fieldTransforms;else if(a.mergeFields){const T=[];for(const A of a.mergeFields){const O=dR(e,A,t);if(!c.contains(O))throw new Oe(pe.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);EL(T,O)||T.push(O)}g=new Qm(T),b=c.fieldTransforms.filter(A=>g.covers(A.field))}else g=null,b=c.fieldTransforms;return new p$(new ds(f),g,b)}class Db extends Df{_toFieldTransform(e){if(2!==e.Ya)throw e.ic(1===e.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Db}}function yL(n,e,t){return new YC({Ya:3,oc:e.settings.oc,methodName:n._methodName,tc:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class aR extends Df{_toFieldTransform(e){return new rb(e.path,new ig)}isEqual(e){return e instanceof aR}}class g$ extends Df{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=yL(this,e,!0),r=this.ac.map(a=>Sf(a,t)),i=new ff(r);return new rb(e.path,i)}isEqual(e){return this===e}}class _$ extends Df{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=yL(this,e,!0),r=this.ac.map(a=>Sf(a,t)),i=new pf(r);return new rb(e.path,i)}isEqual(e){return this===e}}class y$ extends Df{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=new sg(e.M,fN(e.M,this.cc));return new rb(e.path,t)}isEqual(e){return this===e}}function lR(n,e,t,r){const i=n.uc(1,e,t);cR("Data must be an object, but it was:",i,r);const a=[],c=ds.empty();lf(r,(g,b)=>{const T=JC(e,g,t);b=(0,yt.m9)(b);const A=i.nc(T);if(b instanceof Db)a.push(T);else{const O=Sf(b,A);null!=O&&(a.push(T),c.set(T,O))}});const f=new Qm(a);return new gL(c,f,i.fieldTransforms)}function uR(n,e,t,r,i,a){const c=n.uc(1,e,t),f=[dR(e,r,t)],g=[i];if(a.length%2!=0)throw new Oe(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<a.length;O+=2)f.push(dR(e,a[O])),g.push(a[O+1]);const b=[],T=ds.empty();for(let O=f.length-1;O>=0;--O)if(!EL(b,f[O])){const $=f[O];let z=g[O];z=(0,yt.m9)(z);const ne=c.nc($);if(z instanceof Db)b.push($);else{const de=Sf(z,ne);null!=de&&(b.push($),T.set($,de))}}const A=new Qm(b);return new gL(T,A,c.fieldTransforms)}function vL(n,e,t,r=!1){return Sf(t,n.uc(r?4:3,e))}function Sf(n,e){if(wL(n=(0,yt.m9)(n)))return cR("Unsupported field value:",e,n),bL(n,e);if(n instanceof Df)return function(t,r){if(!_L(r.Ya))throw r.ic(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ic(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const c of t){let f=Sf(c,r.sc(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,yt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return fN(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Br.fromDate(t);return{timestampValue:ub(r.M,i)}}if(t instanceof Br){const i=new Br(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ub(r.M,i)}}if(t instanceof KC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ru)return{bytesValue:kN(r.M,t._byteString)};if(t instanceof sr){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.ic(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:IM(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ic(`Unsupported field value: ${WC(t)}`)}(n,e)}function bL(n,e){const t={};return $1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lf(n,(r,i)=>{const a=Sf(i,e.Za(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function wL(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Br||n instanceof KC||n instanceof ru||n instanceof sr||n instanceof Df)}function cR(n,e,t){if(!wL(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=WC(t);throw e.ic("an object"===r?n+" a custom object":n+" "+r)}var r}function dR(n,e,t){if((e=(0,yt.m9)(e))instanceof nc)return e._internalPath;if("string"==typeof e)return JC(n,e);throw XC("Field path arguments must be of type string or ",n,!1,void 0,t)}const v$=new RegExp("[~\\*/\\[\\]]");function JC(n,e,t){if(e.search(v$)>=0)throw XC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new nc(...e.split("."))._internalPath}catch(r){throw XC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function XC(n,e,t,r,i){const a=r&&!r.isEmpty(),c=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(a||c)&&(g+=" (found",a&&(g+=` in field ${r}`),c&&(g+=` in document ${i}`),g+=")"),new Oe(pe.INVALID_ARGUMENT,f+n+g)}function EL(n,e){return n.some(t=>t.isEqual(e))}class Tb{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new sr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new b$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(eD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class b$ extends Tb{data(){return super.data()}}function eD(n,e){return"string"==typeof e?JC(n,e):e instanceof nc?e._internalPath:e._delegate._internalPath}class If{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rc extends Tb{constructor(e,t,r,i,a,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Sb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(eD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Sb extends rc{data(e={}){return super.data(e)}}class Td{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new If(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Sb(this._firestore,this._userDataWriter,r.key,r,new If(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oe(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new Sb(r._firestore,r._userDataWriter,c.doc.key,c.doc,new If(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const f=new Sb(r._firestore,r._userDataWriter,c.doc.key,c.doc,new If(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let g=-1,b=-1;return 0!==c.type&&(g=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),b=a.indexOf(c.doc.key)),{type:w$(c.type),doc:f,oldIndex:g,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function w$(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt()}}function CL(n,e){return n instanceof rc&&e instanceof rc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Td&&e instanceof Td&&n._firestore===e._firestore&&hL(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function DL(n){if(EC(n)&&0===n.explicitOrderBy.length)throw new Oe(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ib{}function Sd(n,...e){for(const t of e)n=t._apply(n);return n}class E$ extends Ib{constructor(e,t,r){super(),this.hc=e,this.lc=t,this.fc=r,this.type="where"}_apply(e){const t=Tf(e.firestore),r=function(i,a,c,f,g,b,T){let A;if(g.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Oe(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){xL(T,b);const $=[];for(const z of T)$.push(ML(f,i,z));A={arrayValue:{values:$}}}else A=ML(f,i,T)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||xL(T,b),A=vL(c,"where",T,"in"===b||"not-in"===b);const O=Ki.create(g,b,A);return function($,z){if(z.S()){const de=bM($);if(null!==de&&!de.isEqual(z.field))throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${de.toString()}' and '${z.field.toString()}'`);const Ye=vM($);null!==Ye&&RL(0,z.field,Ye)}const ne=function(de,Ye){for(const je of de.filters)if(Ye.indexOf(je.op)>=0)return je.op;return null}($,function(de){switch(de){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(z.op));if(null!==ne)throw new Oe(pe.INVALID_ARGUMENT,ne===z.op?`Invalid query. You cannot use more than one '${z.op.toString()}' filter.`:`Invalid query. You cannot use '${z.op.toString()}' filters with '${ne.toString()}' filters.`)}(i,O),O}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new hs(e.firestore,e.converter,function(i,a){const c=i.filters.concat([a]);return new ec(i.path,i.collectionGroup,i.explicitOrderBy.slice(),c,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class D$ extends Ib{constructor(e,t){super(),this.hc=e,this.dc=t,this.type="orderBy"}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Oe(pe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Oe(pe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new tg(i,a);return function(f,g){if(null===vM(f)){const b=bM(f);null!==b&&RL(0,b,g.field)}}(r,c),c}(e._query,this.hc,this.dc);return new hs(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new ec(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class TL extends Ib{constructor(e,t,r){super(),this.type=e,this._c=t,this.wc=r}_apply(e){return new hs(e.firestore,e.converter,aN(e._query,this._c,this.wc))}}class SL extends Ib{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=AL(e,this.type,this.mc,this.gc);return new hs(e.firestore,e.converter,(i=t,new ec((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class IL extends Ib{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=AL(e,this.type,this.mc,this.gc);return new hs(e.firestore,e.converter,(i=t,new ec((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function AL(n,e,t,r){if(t[0]=(0,yt.m9)(t[0]),t[0]instanceof Tb)return function(i,a,c,f,g){if(!f)throw new Oe(pe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const b=[];for(const T of rg(i))if(T.field.isKeyField())b.push(Xm(a,f.key));else{const A=f.data.field(T.field);if(mM(A))throw new Oe(pe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===A){const O=T.field.canonicalString();throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${O}' (used as the orderBy) does not exist.`)}b.push(A)}return new _d(b,g)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Tf(n.firestore);return function(a,c,f,g,b,T){const A=a.explicitOrderBy;if(b.length>A.length)throw new Oe(pe.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const O=[];for(let $=0;$<b.length;$++){const z=b[$];if(A[$].field.isKeyField()){if("string"!=typeof z)throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof z}`);if(!wM(a)&&-1!==z.indexOf("/"))throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${z}' contains a slash.`);const ne=a.path.child(cn.fromString(z));if(!We.isDocumentKey(ne))throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${ne}' is not because it contains an odd number of segments.`);const de=new We(ne);O.push(Xm(c,de))}else{const ne=vL(f,g,z);O.push(ne)}}return new _d(O,T)}(n._query,n.firestore._databaseId,i,e,t,r)}}function ML(n,e,t){if("string"==typeof(t=(0,yt.m9)(t))){if(""===t)throw new Oe(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wM(e)&&-1!==t.indexOf("/"))throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(cn.fromString(t));if(!We.isDocumentKey(r))throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xm(n,new We(r))}if(t instanceof sr)return Xm(n,t._key);throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${WC(t)}.`)}function xL(n,e){if(!Array.isArray(n)||0===n.length)throw new Oe(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Oe(pe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function RL(n,e,t){if(!t.isEqual(e))throw new Oe(pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class hR{convertValue(e,t="none"){switch(df(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Sr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(uf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw dt()}}convertObject(e,t){const r={};return lf(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new KC(Sr(e.latitude),Sr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=G1(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Kv(e));default:return null}}convertTimestamp(e){const t=md(e);return new Br(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=cn.fromString(e);Ut(HN(r));const i=new Ju(r.get(1),r.get(3)),a=new We(r.popFirst(5));return i.isEqual(t)||Xr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function tD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class k$ extends hR{constructor(e){super(),this.firestore=e}convertBytes(e){return new ru(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new sr(this.firestore,null,t)}}class kL{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Tf(e)}set(e,t,r){this._verifyNotCommitted();const i=Id(e,this._firestore),a=tD(i.converter,t,r),c=QC(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,ei.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=Id(e,this._firestore);let c;return c="string"==typeof(t=(0,yt.m9)(t))||t instanceof nc?uR(this._dataReader,"WriteBatch.update",a._key,t,r,i):lR(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(c.toMutation(a._key,ei.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Id(e,this._firestore);return this._mutations=this._mutations.concat(new sb(t._key,ei.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(pe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Id(n,e){if((n=(0,yt.m9)(n)).firestore!==e)throw new Oe(pe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Af extends hR{constructor(e){super(),this.firestore=e}convertBytes(e){return new ru(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new sr(this.firestore,null,t)}}function OL(n,e,t){n=an(n,sr);const r=an(n.firestore,cr),i=tD(n.converter,e,t);return Cg(r,[QC(Tf(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,ei.none())])}function PL(n,e,t,...r){n=an(n,sr);const i=an(n.firestore,cr),a=Tf(i);let c;return c="string"==typeof(e=(0,yt.m9)(e))||e instanceof nc?uR(a,"updateDoc",n._key,e,t,r):lR(a,"updateDoc",n._key,e),Cg(i,[c.toMutation(n._key,ei.exists(!0))])}function NL(n,...e){var t,r,i;n=(0,yt.m9)(n);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||oR(e[c])||(a=e[c],c++);const f={includeMetadataChanges:a.includeMetadataChanges};if(oR(e[c])){const A=e[c];e[c]=null===(t=A.next)||void 0===t?void 0:t.bind(A),e[c+1]=null===(r=A.error)||void 0===r?void 0:r.bind(A),e[c+2]=null===(i=A.complete)||void 0===i?void 0:i.bind(A)}let g,b,T;if(n instanceof sr)b=an(n.firestore,cr),T=ng(n._key.path),g={next:A=>{e[c]&&e[c](fR(b,n,A))},error:e[c+1],complete:e[c+2]};else{const A=an(n,hs);b=an(A.firestore,cr),T=A._query;const O=new Af(b);g={next:$=>{e[c]&&e[c](new Td(b,O,A,$))},error:e[c+1],complete:e[c+2]},DL(n._query)}return function(A,O,$,z){const ne=new qC(z),de=new Dx(O,ne,$);return A.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return vx(yield Eg(A),de)})),()=>{ne.pa(),A.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return wx(yield Eg(A),de)}))}}(ni(b),T,f,g)}function Cg(n,e){return function(t,r){const i=new Mi;return t.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function TH(n,e,t){return Mx.apply(this,arguments)}(yield rR(t),r,i)})),i.promise}(ni(n),e)}function fR(n,e,t){const r=t.docs.get(e._key),i=new Af(n);return new rc(n,i,e._key,r,new If(t.hasPendingWrites,t.fromCache),e.converter)}class H$ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Tf(e)}get(e){const t=Id(e,this._firestore),r=new k$(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return dt();const a=i[0];if(a.isFoundDocument())return new Tb(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new Tb(this._firestore,r,t._key,null,t.converter);throw dt()})}set(e,t,r){const i=Id(e,this._firestore),a=tD(i.converter,t,r),c=QC(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const a=Id(e,this._firestore);let c;return c="string"==typeof(t=(0,yt.m9)(t))||t instanceof nc?uR(this._dataReader,"Transaction.update",a._key,t,r,i):lR(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,c),this}delete(e){const t=Id(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Id(e,this._firestore),r=new Af(this._firestore);return super.get(e).then(i=>new rc(this._firestore,r,t._key,i._document,new If(!1,!1),t.converter))}}function pR(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function LL(){if("undefined"==typeof Uint8Array)throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function VL(){if(!function cU(){return"undefined"!=typeof atob}())throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Km=As.SDK_VERSION,(0,As._registerComponent)(new ju.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),a=new cr(i,new iU(t.getProvider("auth-internal")),new aU(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),a._setSettings(r),a},"PUBLIC")),(0,As.registerVersion)(L1,"3.4.7",n),(0,As.registerVersion)(L1,"3.4.7","esm2017")}();class Ab{constructor(e){this._delegate=e}static fromBase64String(e){return VL(),new Ab(ru.fromBase64String(e))}static fromUint8Array(e){return LL(),new Ab(ru.fromUint8Array(e))}toBase64(){return VL(),this._delegate.toBase64()}toUint8Array(){return LL(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function mR(n){return function Q$(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class J${enableIndexedDbPersistence(e,t){return function s$(n,e){mL(n=an(n,cr));const t=ni(n),r=n._freezeSettings(),i=new Yx;return pL(t,i,new YF(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function o$(n){mL(n=an(n,cr));const e=ni(n),t=n._freezeSettings(),r=new Yx;return pL(e,r,new jH(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function a$(n){if(n._initialized&&!n._terminated)throw new Oe(pe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Mi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{yield(t=(0,we.Z)(function*(r){if(!tl.vt())return Promise.resolve();const i=r+"main";yield tl.delete(i)}),function(r){return t.apply(this,arguments)})(HM(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class BL{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ju||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Wv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function e$(n,e,t,r={}){var i;const a=(n=an(n,Cb))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Wv("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,f;if("string"==typeof r.mockUserToken)c=r.mockUserToken,f=Zi.MOCK_USER;else{c=(0,yt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Oe(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Zi(g)}n._authCredentials=new rU(new V1(c,f))}}(this._delegate,e,t,r)}enableNetwork(){return function u$(n){return function zH(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield eL(n),t=yield tL(n);return e.setNetworkEnabled(!0),function(r){const i=tt(r);return i.lu.delete(0),wb(i)}(t)}))}(ni(n=an(n,cr)))}(this._delegate)}disableNetwork(){return function c$(n){return function WH(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const e=yield eL(n),t=yield tL(n);return e.setNetworkEnabled(!1),(r=(0,we.Z)(function*(i){const a=tt(i);a.lu.add(0),yield mg(a),a._u.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(ni(n=an(n,cr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,sL("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function l$(n){return function(e){const t=new Mi;return e.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function MH(n,e){return Px.apply(this,arguments)}(yield rR(e),t)})),t.promise}(ni(n=an(n,cr)))}(this._delegate)}onSnapshotsInSync(e){return function j$(n,e){return function YH(n,e){const t=new qC(e);return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return r=yield Eg(n),i=t,tt(r).Tu.add(i),void i.next();var r,i})),()=>{t.pa(),n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return r=yield Eg(n),i=t,void tt(r).Tu.delete(i);var r,i}))}}(ni(n=an(n,cr)),oR(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Dg(this,cL(this._delegate,e))}catch(t){throw Ls(t,"collection()","Firestore.collection()")}}doc(e){try{return new Aa(this,ZC(this._delegate,e))}catch(t){throw Ls(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Vs(this,function t$(n,e){if(n=an(n,Cb),sR("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Oe(pe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new hs(n,null,(t=e,new ec(cn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ls(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function $$(n,e){return function QH(n,e){const t=new Mi;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){const r=yield(i=n,zC(i).then(a=>a.datastore));var i;new GH(n.asyncQueue,r,e,t).run()})),t.promise}(ni(n=an(n,cr)),t=>e(new H$(n,t)))}(this._delegate,t=>e(new UL(this,t)))}batch(){return ni(this._delegate),new jL(new kL(this._delegate,e=>Cg(this._delegate,e)))}loadBundle(e){return function d$(n,e){const t=ni(n=an(n,cr)),r=new r$;return function JH(n,e,t,r){const i=function(a,c){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,g=function(g,b){if(g instanceof Uint8Array)return QF(g,b);if(g instanceof ArrayBuffer)return QF(new Uint8Array(g),b);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new HH(g,c);var g}(t,bb(e));n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){!function UH(n,e,t){const r=tt(n);var i;(i=(0,we.Z)(function*(a,c,f){try{const g=yield c.getMetadata();if(yield function(O,$){const z=tt(O),ne=Ri($.createTime);return z.persistence.runTransaction("hasNewerBundle","readonly",de=>z.ds.getBundleMetadata(de,$.id)).then(de=>!!de&&de.createTime.compareTo(ne)>=0)}(a.localStore,g))return yield c.close(),f._completeWith({taskState:"Success",documentsLoaded:(O=g).totalDocuments,bytesLoaded:O.totalBytes,totalDocuments:O.totalDocuments,totalBytes:O.totalBytes}),Promise.resolve(new Set);f._updateProgress(UF(g));const b=new vH(g,a.localStore,c.M);let T=yield c.fa();for(;T;){const O=yield b.Nu(T);O&&f._updateProgress(O),T=yield c.fa()}const A=yield b.complete();return yield tc(a,A.Ou,void 0),yield function(O,$){const z=tt(O);return z.persistence.runTransaction("Save bundle","readwrite",ne=>z.ds.saveBundleMetadata(ne,$))}(a.localStore,g),f._completeWith(A.progress),Promise.resolve(A.Mu)}catch(g){return Wv("SyncEngine",`Loading bundle failed with ${g}`),f._failWith(g),Promise.resolve(new Set)}var O}),function(a,c,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield rR(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function h$(n,e){return function XH(n,e){return n.asyncQueue.enqueue((0,we.Z)(function*(){return function(t,r){const i=tt(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.ds.getNamedQuery(a,r))}(yield nR(n),e)}))}(ni(n=an(n,cr)),e).then(t=>t?new hs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Vs(this,t):null)}}class nD extends hR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ab(new ru(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Aa.forKey(t,this.firestore,null)}}class UL{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new nD(e)}get(e){const t=xf(e);return this._delegate.get(t).then(r=>new Mb(this._firestore,new rc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=xf(e);return r?(pR("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=xf(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=xf(e);return this._delegate.delete(t),this}}class jL{constructor(e){this._delegate=e}set(e,t,r){const i=xf(e);return r?(pR("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=xf(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=xf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Mf{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Sb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new xb(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Mf.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new Mf(e,new nD(e),t),i.set(t,a)),a}}Mf.INSTANCES=new WeakMap;class Aa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new nD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Aa(t,new sr(t._delegate,r,new We(e)))}static forKey(e,t,r){return new Aa(t,new sr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Dg(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Dg(this.firestore,cL(this._delegate,e))}catch(t){throw Ls(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,yt.m9)(e))instanceof sr&&dL(this._delegate,e)}set(e,t){t=pR("DocumentReference.set",t);try{return t?OL(this._delegate,e,t):OL(this._delegate,e)}catch(r){throw Ls(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?PL(this._delegate,e):PL(this._delegate,e,t,...r)}catch(i){throw Ls(i,"updateDoc()","DocumentReference.update()")}}delete(){return function B$(n){return Cg(an(n.firestore,cr),[new sb(n._key,ei.none())])}(this._delegate)}onSnapshot(...e){const t=HL(e),r=$L(e,i=>new Mb(this.firestore,new rc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return NL(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function P$(n){n=an(n,sr);const e=an(n.firestore,cr),t=ni(e),r=new Af(e);return function ZH(n,e){const t=new Mi;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(r=(0,we.Z)(function*(i,a,c){try{const f=yield function(g,b){const T=tt(g);return T.persistence.runTransaction("read document","readonly",A=>T.ai.Bs(A,b))}(i,a);f.isFoundDocument()?c.resolve(f):f.isNoDocument()?c.resolve(null):c.reject(new Oe(pe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const g=yg(f,`Failed to get document '${a} from cache`);c.reject(g)}}),function(i,a,c){return r.apply(this,arguments)})(yield nR(n),e,t);var r})),t.promise}(t,n._key).then(i=>new rc(e,r,n._key,i,new If(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function N$(n){n=an(n,sr);const e=an(n.firestore,cr);return nL(ni(e),n._key,{source:"server"}).then(t=>fR(e,n,t))}(this._delegate):function O$(n){n=an(n,sr);const e=an(n.firestore,cr);return nL(ni(e),n._key).then(t=>fR(e,n,t))}(this._delegate),t.then(r=>new Mb(this.firestore,new rc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Aa(this.firestore,this._delegate.withConverter(e?Mf.getInstance(this.firestore,e):null))}}function Ls(n,e,t){return n.message=n.message.replace(e,t),n}function HL(n){for(const e of n)if("object"==typeof e&&!mR(e))return e;return{}}function $L(n,e){var t,r;let i;return i=mR(n[0])?n[0]:mR(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Mb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Aa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return CL(this._delegate,e._delegate)}}class xb extends Mb{data(e){const t=this._delegate.data(e);return function tU(n,e){n||dt()}(void 0!==t),t}}class Vs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new nD(e)}where(e,t,r){try{return new Vs(this.firestore,Sd(this._delegate,function C$(n,e,t){const r=e,i=eD("where",n);return new E$(i,r,t)}(e,t,r)))}catch(i){throw Ls(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Vs(this.firestore,Sd(this._delegate,function T$(n,e="asc"){const t=e,r=eD("orderBy",n);return new D$(r,t)}(e,t)))}catch(r){throw Ls(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Vs(this.firestore,Sd(this._delegate,function S$(n){return lL("limit",n),new TL("limit",n,"F")}(e)))}catch(t){throw Ls(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Vs(this.firestore,Sd(this._delegate,function I$(n){return lL("limitToLast",n),new TL("limitToLast",n,"L")}(e)))}catch(t){throw Ls(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Vs(this.firestore,Sd(this._delegate,function A$(...n){return new SL("startAt",n,!0)}(...e)))}catch(t){throw Ls(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Vs(this.firestore,Sd(this._delegate,function M$(...n){return new SL("startAfter",n,!1)}(...e)))}catch(t){throw Ls(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Vs(this.firestore,Sd(this._delegate,function x$(...n){return new IL("endBefore",n,!1)}(...e)))}catch(t){throw Ls(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Vs(this.firestore,Sd(this._delegate,function R$(...n){return new IL("endAt",n,!0)}(...e)))}catch(t){throw Ls(t,"endAt()","Query.endAt()")}}isEqual(e){return hL(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function L$(n){n=an(n,hs);const e=an(n.firestore,cr),t=ni(e),r=new Af(e);return function KH(n,e){const t=new Mi;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(r=(0,we.Z)(function*(i,a,c){try{const f=yield BC(i,a,!0),g=new $F(a,f.hi),b=g.Gu(f.documents),T=g.applyChanges(b,!1);c.resolve(T.snapshot)}catch(f){const g=yg(f,`Failed to execute query '${a} against cache`);c.reject(g)}}),function(i,a,c){return r.apply(this,arguments)})(yield nR(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Td(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function V$(n){n=an(n,hs);const e=an(n.firestore,cr),t=ni(e),r=new Af(e);return rL(t,n._query,{source:"server"}).then(i=>new Td(e,r,n,i))}(this._delegate):function F$(n){n=an(n,hs);const e=an(n.firestore,cr),t=ni(e),r=new Af(e);return DL(n._query),rL(t,n._query).then(i=>new Td(e,r,n,i))}(this._delegate),t.then(r=>new gR(this.firestore,new Td(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=HL(e),r=$L(e,i=>new gR(this.firestore,new Td(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return NL(this._delegate,t,r)}withConverter(e){return new Vs(this.firestore,this._delegate.withConverter(e?Mf.getInstance(this.firestore,e):null))}}class eG{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new xb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class gR{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Vs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new xb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new eG(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new xb(this._firestore,r))})}isEqual(e){return CL(this._delegate,e._delegate)}}class Dg extends Vs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Aa(this.firestore,e):null}doc(e){try{return new Aa(this.firestore,void 0===e?ZC(this._delegate):ZC(this._delegate,e))}catch(t){throw Ls(t,"doc()","CollectionReference.doc()")}}add(e){return function U$(n,e){const t=an(n.firestore,cr),r=ZC(n),i=tD(n.converter,e);return Cg(t,[QC(Tf(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,ei.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Aa(this.firestore,t))}isEqual(e){return dL(this._delegate,e._delegate)}withConverter(e){return new Dg(this.firestore,this._delegate.withConverter(e?Mf.getInstance(this.firestore,e):null))}}function xf(n){return an(n,sr)}class _R{constructor(...e){this._delegate=new nc(...e)}static documentId(){return new _R(xi.keyField().canonicalString())}isEqual(e){return(e=(0,yt.m9)(e))instanceof nc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Rf{constructor(e){this._delegate=e}static serverTimestamp(){const e=function q$(){return new aR("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Rf(e)}static delete(){const e=function G$(){return new Db("deleteField")}();return e._methodName="FieldValue.delete",new Rf(e)}static arrayUnion(...e){const t=function z$(...n){return new g$("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Rf(t)}static arrayRemove(...e){const t=function W$(...n){return new _$("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Rf(t)}static increment(e){const t=function Z$(n){return new y$("increment",n)}(e);return t._methodName="FieldValue.increment",new Rf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const tG={Firestore:BL,GeoPoint:KC,Timestamp:Br,Blob:Ab,Transaction:UL,WriteBatch:jL,DocumentReference:Aa,DocumentSnapshot:Mb,Query:Vs,QueryDocumentSnapshot:xb,QuerySnapshot:gR,CollectionReference:Dg,FieldPath:_R,FieldValue:Rf,setLogLevel:function X$(n){!function eU(n){pd.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function GL(n,e){return function iG(n,e=om.z){return new wn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function yR(n,e){return GL(n,e).pipe((0,Vt.U)(t=>({payload:t,type:"query"})))}function rD(n,e){return yR(n,e).pipe(Wr(void 0),wA(),(0,Vt.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,f)=>{const g=i.find(T=>T.doc.ref.isEqual(c.ref)),b=null==t?void 0:t.payload.docs.find(T=>T.ref.isEqual(c.ref));g&&JSON.stringify(g.doc.metadata)===JSON.stringify(c.metadata)||!g&&b&&JSON.stringify(b.metadata)===JSON.stringify(c.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:c}})}),a}))}function qL(n,e,t){return rD(n,t).pipe(bi((r,i)=>function oG(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function aG(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return vR(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return vR(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return vR(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),am(),(0,Vt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function vR(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function zL(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function rG(n){(function nG(n,e){n.INTERNAL.registerComponent(new ju.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},tG)))})(n,(e,t)=>new BL(e,t,new J$)),n.registerVersion("@firebase/firestore-compat","0.1.16")}(bP.Z);class WL{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=rD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Vt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Wr(void 0),wA(),Nn(([r,i])=>i.length>0||!r),(0,Vt.U)(([r,i])=>i),qn.iC)}auditTrail(e){return this.stateChanges(e).pipe(bi((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=zL(e);return qL(this.query,t,this.afs.schedulers.outsideAngular).pipe(qn.iC)}valueChanges(e={}){return yR(this.query,this.afs.schedulers.outsideAngular).pipe((0,Vt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),qn.iC)}get(e){return(0,gn.D)(this.query.get(e)).pipe(qn.iC)}add(e){return this.ref.add(e)}doc(e){return new ZL(this.ref.doc(e),this.afs)}}class ZL{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=QL(r,t);return new WL(i,a,this.afs)}snapshotChanges(){return function sG(n,e){return GL(n,e).pipe(Wr(void 0),wA(),(0,Vt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(qn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Vt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,gn.D)(this.ref.get(e)).pipe(qn.iC)}}class lG{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?rD(this.query,this.afs.schedulers.outsideAngular).pipe((0,Vt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Nn(t=>t.length>0),qn.iC):rD(this.query,this.afs.schedulers.outsideAngular).pipe(qn.iC)}auditTrail(e){return this.stateChanges(e).pipe(bi((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=zL(e);return qL(this.query,t,this.afs.schedulers.outsideAngular).pipe(qn.iC)}valueChanges(e={}){return yR(this.query,this.afs.schedulers.outsideAngular).pipe((0,Vt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),qn.iC)}get(e){return(0,gn.D)(this.query.get(e)).pipe(qn.iC)}}const KL=new u.OlP("angularfire2.enableFirestorePersistence"),YL=new u.OlP("angularfire2.firestore.persistenceSettings"),uG=new u.OlP("angularfire2.firestore.settings"),cG=new u.OlP("angularfire2.firestore.use-emulator");function QL(n,e=(t=>t)){return{query:e(n),ref:n}}let JL=(()=>{class n{constructor(t,r,i,a,c,f,g,b,T,A,O,$,z,ne,de,Ye,je){this.schedulers=g;const Qe=(0,$i.on)(t,f,r),Fe=T;A&&dy(Qe,f,O,z,ne,de,$,Ye),[this.firestore,this.persistenceEnabled$]=(0,$i.cc)(`${Qe.name}.firestore`,"AngularFirestore",Qe.name,()=>{const St=f.runOutsideAngular(()=>Qe.firestore());if(a&&St.settings(a),Fe&&St.useEmulator(...Fe),i&&!Qo(c)){const Dt=()=>{try{return(0,gn.D)(St.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(Mn){return"undefined"!=typeof console&&console.warn(Mn),ct(!1)}};return[St,f.runOutsideAngular(Dt)]}return[St,ct(!1)]},[a,Fe,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:c}=QL(i,r),f=this.schedulers.ngZone.run(()=>a);return new WL(f,c,this)}collectionGroup(t,r){const i=r||(c=>c),a=this.firestore.collectionGroup(t);return new lG(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new ZL(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG($i.Dh),u.LFG($i.xv,8),u.LFG(KL,8),u.LFG(uG,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(qn.HU),u.LFG(YL,8),u.LFG(cG,8),u.LFG(kh,8),u.LFG(oy,8),u.LFG(Zp,8),u.LFG(ay,8),u.LFG(ly,8),u.LFG(uy,8),u.LFG(cy,8),u.LFG(zp,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),dG=(()=>{class n{constructor(){Wp.Z.registerVersion("angularfire",qn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:KL,useValue:!0},{provide:YL,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[JL]}),n})(),bR=(()=>{class n{constructor(t){this.angularFirestore=t,this._PATH="Personagens"}getPersonagem(t){return this.angularFirestore.collection(this._PATH).doc(t).valueChanges()}getPersonagems(){return this.angularFirestore.collection(this._PATH).snapshotChanges()}criarPersonagem(t){return this.angularFirestore.collection(this._PATH).add(t)}deletarPersonagem(t){return this.angularFirestore.collection(this._PATH).doc(t.id).delete()}editarPersonagem(t,r){return this.angularFirestore.collection(this._PATH).doc(r).update({funcao:t.funcao,principal:t.principal,secundaria:t.secundaria,magia:t.magia,orientacao:t.orientacao,orientacao2:t.orientacao2,equipamento:t.equipamento})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(JL))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XL=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hG=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=Kl(t);return new wn.y(i=>{const c=this._observeElement(r).subscribe(i);return()=>{c.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new nn.x,i=this._mutationObserverFactory.create(a=>r.next(a));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(XL))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fG=(()=>{class n{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new u.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=di(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=lm(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Cy(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(hG),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),pG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[XL]}),n})();var mG=P(1144);const gG=["addListener","removeListener"],_G=["addEventListener","removeEventListener"],yG=["on","off"];function iD(n,e,t,r){if((0,oi.m)(t)&&(r=t,t=void 0),r)return iD(n,e,t).pipe(ca(r));const[i,a]=function wG(n){return(0,oi.m)(n.addEventListener)&&(0,oi.m)(n.removeEventListener)}(n)?_G.map(c=>f=>n[c](e,f,t)):function vG(n){return(0,oi.m)(n.addListener)&&(0,oi.m)(n.removeListener)}(n)?gG.map(eV(n,e)):function bG(n){return(0,oi.m)(n.on)&&(0,oi.m)(n.off)}(n)?yG.map(eV(n,e)):[];if(!i&&(0,mG.z)(n))return(0,mr.z)(c=>iD(c,e,t))((0,Cs.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new wn.y(c=>{const f=(...g)=>c.next(1<g.length?g:g[0]);return i(f),()=>a(f)})}function eV(n,e){return t=>r=>n[t](e,r)}const EG=["connectionContainer"],CG=["inputContainer"],DG=["label"];function TG(n,e){1&n&&(u.ynx(0),u.TgZ(1,"div",14),u._UZ(2,"div",15)(3,"div",16)(4,"div",17),u.qZA(),u.TgZ(5,"div",18),u._UZ(6,"div",15)(7,"div",16)(8,"div",17),u.qZA(),u.BQk())}function SG(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",19),u.NdJ("cdkObserveContent",function(){return u.CHM(t),u.oxw().updateOutlineGap()}),u.Hsn(1,1),u.qZA()}if(2&n){const t=u.oxw();u.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function IG(n,e){if(1&n&&(u.ynx(0),u.Hsn(1,2),u.TgZ(2,"span"),u._uU(3),u.qZA(),u.BQk()),2&n){const t=u.oxw(2);u.xp6(3),u.Oqu(t._control.placeholder)}}function AG(n,e){1&n&&u.Hsn(0,3,["*ngSwitchCase","true"])}function MG(n,e){1&n&&(u.TgZ(0,"span",23),u._uU(1," *"),u.qZA())}function xG(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"label",20,21),u.NdJ("cdkObserveContent",function(){return u.CHM(t),u.oxw().updateOutlineGap()}),u.YNc(2,IG,4,1,"ng-container",12),u.YNc(3,AG,1,0,"ng-content",12),u.YNc(4,MG,2,0,"span",22),u.qZA()}if(2&n){const t=u.oxw();u.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),u.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),u.uIk("for",t._control.id)("aria-owns",t._control.id),u.xp6(2),u.Q6J("ngSwitchCase",!1),u.xp6(1),u.Q6J("ngSwitchCase",!0),u.xp6(1),u.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function RG(n,e){1&n&&(u.TgZ(0,"div",24),u.Hsn(1,4),u.qZA())}function kG(n,e){if(1&n&&(u.TgZ(0,"div",25),u._UZ(1,"span",26),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function OG(n,e){if(1&n&&(u.TgZ(0,"div"),u.Hsn(1,5),u.qZA()),2&n){const t=u.oxw();u.Q6J("@transitionMessages",t._subscriptAnimationState)}}function PG(n,e){if(1&n&&(u.TgZ(0,"div",30),u._uU(1),u.qZA()),2&n){const t=u.oxw(2);u.Q6J("id",t._hintLabelId),u.xp6(1),u.Oqu(t.hintLabel)}}function NG(n,e){if(1&n&&(u.TgZ(0,"div",27),u.YNc(1,PG,2,2,"div",28),u.Hsn(2,6),u._UZ(3,"div",29),u.Hsn(4,7),u.qZA()),2&n){const t=u.oxw();u.Q6J("@transitionMessages",t._subscriptAnimationState),u.xp6(1),u.Q6J("ngIf",t.hintLabel)}}const FG=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],LG=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],VG=new u.OlP("MatError"),BG={transitionMessages:xy("transitionMessages",[ky("enter",Yl({opacity:1,transform:"translateY(0%)"})),pm("void => enter",[Yl({opacity:0,transform:"translateY(-5px)"}),Ry("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let wR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n}),n})();const UG=new u.OlP("MatHint");let sD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-label"]]}),n})(),jG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const HG=new u.OlP("MatPrefix"),$G=new u.OlP("MatSuffix");let tV=0;const qG=$m(class{constructor(n){this._elementRef=n}},"primary"),zG=new u.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),rV=new u.OlP("MatFormField");let iV=(()=>{class n extends qG{constructor(t,r,i,a,c,f,g){super(t),this._changeDetectorRef=r,this._dir=i,this._defaults=a,this._platform=c,this._ngZone=f,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new nn.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+tV++,this._labelId="mat-form-field-label-"+tV++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==g,this.appearance=a&&a.appearance?a.appearance:"legacy",this._hideRequiredMarker=!(!a||null==a.hideRequiredMarker)&&a.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=di(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Wr(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(nr(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(nr(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Hu.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Wr(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Wr(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(nr(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,iD(this._label.nativeElement,"transitionend").pipe((0,vi.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,i=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),i&&t.push(i.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,r=this._connectionContainerRef.nativeElement,i=".mat-form-field-outline-start",a=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const T=r.querySelectorAll(`${i}, ${a}`);for(let A=0;A<T.length;A++)T[A].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let c=0,f=0;const g=r.querySelectorAll(i),b=r.querySelectorAll(a);if(this._label&&this._label.nativeElement.children.length){const T=r.getBoundingClientRect();if(0===T.width&&0===T.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const A=this._getStartEnd(T),O=t.children,$=this._getStartEnd(O[0].getBoundingClientRect());let z=0;for(let ne=0;ne<O.length;ne++)z+=O[ne].offsetWidth;c=Math.abs($-A)-5,f=z>0?.75*z+10:0}for(let T=0;T<g.length;T++)g[T].style.width=`${c}px`;for(let T=0;T<b.length;T++)b[T].style.width=`${f}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(Oh,8),u.Y36(zG,8),u.Y36(Ms),u.Y36(u.R0b),u.Y36(dd,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,i){if(1&t&&(u.Suo(i,wR,5),u.Suo(i,wR,7),u.Suo(i,sD,5),u.Suo(i,sD,7),u.Suo(i,jG,5),u.Suo(i,VG,5),u.Suo(i,UG,5),u.Suo(i,HG,5),u.Suo(i,$G,5)),2&t){let a;u.iGM(a=u.CRH())&&(r._controlNonStatic=a.first),u.iGM(a=u.CRH())&&(r._controlStatic=a.first),u.iGM(a=u.CRH())&&(r._labelChildNonStatic=a.first),u.iGM(a=u.CRH())&&(r._labelChildStatic=a.first),u.iGM(a=u.CRH())&&(r._placeholderChild=a.first),u.iGM(a=u.CRH())&&(r._errorChildren=a),u.iGM(a=u.CRH())&&(r._hintChildren=a),u.iGM(a=u.CRH())&&(r._prefixChildren=a),u.iGM(a=u.CRH())&&(r._suffixChildren=a)}},viewQuery:function(t,r){if(1&t&&(u.Gf(EG,7),u.Gf(CG,5),u.Gf(DG,5)),2&t){let i;u.iGM(i=u.CRH())&&(r._connectionContainerRef=i.first),u.iGM(i=u.CRH())&&(r._inputContainerRef=i.first),u.iGM(i=u.CRH())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&u.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[u._Bn([{provide:rV,useExisting:n}]),u.qOj],ngContentSelectors:LG,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(u.F$t(FG),u.TgZ(0,"div",0)(1,"div",1,2),u.NdJ("click",function(a){return r._control.onContainerClick&&r._control.onContainerClick(a)}),u.YNc(3,TG,9,0,"ng-container",3),u.YNc(4,SG,2,1,"div",4),u.TgZ(5,"div",5,6),u.Hsn(7),u.TgZ(8,"span",7),u.YNc(9,xG,5,16,"label",8),u.qZA()(),u.YNc(10,RG,2,0,"div",9),u.qZA(),u.YNc(11,kG,2,4,"div",10),u.TgZ(12,"div",11),u.YNc(13,OG,2,1,"div",12),u.YNc(14,NG,5,2,"div",13),u.qZA()()),2&t&&(u.xp6(3),u.Q6J("ngIf","outline"==r.appearance),u.xp6(1),u.Q6J("ngIf",r._prefixChildren.length),u.xp6(5),u.Q6J("ngIf",r._hasFloatingLabel()),u.xp6(1),u.Q6J("ngIf",r._suffixChildren.length),u.xp6(1),u.Q6J("ngIf","outline"!=r.appearance),u.xp6(1),u.Q6J("ngSwitch",r._getDisplayedMessages()),u.xp6(1),u.Q6J("ngSwitchCase","error"),u.xp6(1),u.Q6J("ngSwitchCase","hint"))},directives:[fr,fG,Or,gi],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[BG.transitionMessages]},changeDetection:0}),n})(),sV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[ll,Ii,pG],Ii]}),n})();var oV=P(4408);const Rb={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Rb;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(a=>{t=void 0,n(a)});return new zr.w0(()=>null==t?void 0:t(i))},requestAnimationFrame(...n){const{delegate:e}=Rb;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Rb;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var aV=P(7565);new class ZG extends aV.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class WG extends oV.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Rb.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(Rb.cancelAnimationFrame(t),e._scheduled=void 0)}});let ER,YG=1;const oD={};function lV(n){return n in oD&&(delete oD[n],!0)}const QG={setImmediate(n){const e=YG++;return oD[e]=!0,ER||(ER=Promise.resolve()),ER.then(()=>lV(e)&&n()),e},clearImmediate(n){lV(n)}},{setImmediate:JG,clearImmediate:XG}=QG,aD={setImmediate(...n){const{delegate:e}=aD;return((null==e?void 0:e.setImmediate)||JG)(...n)},clearImmediate(n){const{delegate:e}=aD;return((null==e?void 0:e.clearImmediate)||XG)(n)},delegate:void 0};new class t3 extends aV.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class e3 extends oV.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=aD.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){if(null!=r&&r>0||null==r&&this.delay>0)return super.recycleAsyncId(e,t,r);e.actions.some(i=>i.id===t)||(aD.clearImmediate(t),e._scheduled=void 0)}});var i3=P(3532);function uV(n,e=om.z){return function r3(n){return(0,pr.e)((e,t)=>{let r=!1,i=null,a=null,c=!1;const f=()=>{if(null==a||a.unsubscribe(),a=null,r){r=!1;const b=i;i=null,t.next(b)}c&&t.complete()},g=()=>{a=null,c&&t.complete()};e.subscribe((0,_n.x)(t,b=>{r=!0,i=b,a||(0,Cs.Xf)(n(b)).subscribe(a=(0,_n.x)(t,f,g))},()=>{c=!0,(!r||!a||a.closed)&&t.complete()}))})}(()=>function o3(n=0,e,t=om.P){let r=-1;return null!=e&&((0,i3.K)(e)?t=e:r=e),new wn.y(i=>{let a=function s3(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},a)})}(n,e))}let l3=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new nn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new wn.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(uV(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ct()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Nn(a=>!a||i.indexOf(a)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,a)=>{this._scrollableContainsElement(a,t)&&r.push(a)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=Kl(r),a=t.getElementRef().nativeElement;do{if(i==a)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>iD(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.R0b),u.LFG(Ms),u.LFG(ie,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lD=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new nn.x,this._changeListener=a=>{this._change.next(a)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,a=i.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-a.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(uV(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ms),u.LFG(u.R0b),u.LFG(ie,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),DR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[td,CR],td,CR]}),n})();class TR{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class c3 extends TR{constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i}}class cV extends TR{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class d3 extends TR{constructor(e){super(),this.element=e instanceof u.SBq?e.nativeElement:e}}class f3 extends class h3{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof c3?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof cV?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof d3?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(e,t,r,i,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=c=>{const f=c.element,g=this._document.createComment("dom-portal");f.parentNode.insertBefore(g,f),this.outletElement.appendChild(f),this._attachedPortal=c,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(f,g)})},this._document=a}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let p3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const dV=Ak();class g3{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Tr(-this._previousScrollPosition.left),e.style.top=Tr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,a=r.scrollBehavior||"",c=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),dV&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),dV&&(r.scrollBehavior=a,i.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class _3{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class hV{enable(){}disable(){}attach(){}}function SR(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function fV(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class y3{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();SR(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let v3=(()=>{class n{constructor(t,r,i,a){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new hV,this.close=c=>new _3(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new g3(this._viewportRuler,this._document),this.reposition=c=>new y3(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(l3),u.LFG(lD),u.LFG(u.R0b),u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class pV{constructor(e){if(this.scrollStrategy=new hV,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class b3{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class w3{constructor(e,t,r,i,a,c,f,g,b){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=a,this._keyboardDispatcher=c,this._document=f,this._location=g,this._outsideClickDispatcher=b,this._backdropElement=null,this._backdropClick=new nn.x,this._attachments=new nn.x,this._detachments=new nn.x,this._locationChanges=zr.w0.EMPTY,this._backdropClickHandler=T=>this._backdropClick.next(T),this._keydownEvents=new nn.x,this._outsidePointerEvents=new nn.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,vi.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Tr(this._config.width),e.height=Tr(this._config.height),e.minWidth=Tr(this._config.minWidth),e.minHeight=Tr(this._config.minHeight),e.maxWidth=Tr(this._config.maxWidth),e.maxHeight=Tr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const r=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",r),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",r)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(r,500))}_toggleClasses(e,t,r){const i=Dy(t||[]).filter(a=>!!a);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(nr((0,Hu.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.remove(),this._backdropElement===e&&(this._backdropElement=null))}}let mV=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||xs()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<i.length;a++)i[a].remove()}const r=this._document.createElement("div");r.classList.add(t),xs()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie),u.LFG(Ms))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gV="cdk-overlay-connected-position-bounding-box",E3=/([A-Za-z%]+)$/;class C3{constructor(e,t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new nn.x,this._resizeSubscription=zr.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(gV),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,a=[];let c;for(let f of this._preferredPositions){let g=this._getOriginPoint(e,i,f),b=this._getOverlayPoint(g,t,f),T=this._getOverlayFit(b,t,r,f);if(T.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,g);this._canFitWithFlexibleDimensions(T,b,r)?a.push({position:f,origin:g,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(g,f)}):(!c||c.overlayFit.visibleArea<T.visibleArea)&&(c={overlayFit:T,overlayPoint:b,originPoint:g,position:f,overlayRect:t})}if(a.length){let f=null,g=-1;for(const b of a){const T=b.boundingBoxRect.width*b.boundingBoxRect.height*(b.position.weight||1);T>g&&(g=T,f=b)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&kf(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(gV),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,a;if("center"==r.originX)i=e.left+e.width/2;else{const c=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;i="start"==r.originX?c:f}return t.left<0&&(i-=t.left),a="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:i,y:a}}_getOverlayPoint(e,t,r){let i,a;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+a}}_getOverlayFit(e,t,r,i){const a=yV(t);let{x:c,y:f}=e,g=this._getOffset(i,"x"),b=this._getOffset(i,"y");g&&(c+=g),b&&(f+=b);let O=0-f,$=f+a.height-r.height,z=this._subtractOverflows(a.width,0-c,c+a.width-r.width),ne=this._subtractOverflows(a.height,O,$),de=z*ne;return{visibleArea:de,isCompletelyWithinViewport:a.width*a.height===de,fitsInViewportVertically:ne===a.height,fitsInViewportHorizontally:z==a.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,a=r.right-t.x,c=_V(this._overlayRef.getConfig().minHeight),f=_V(this._overlayRef.getConfig().minWidth),b=e.fitsInViewportHorizontally||null!=f&&f<=a;return(e.fitsInViewportVertically||null!=c&&c<=i)&&b}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=yV(t),a=this._viewportRect,c=Math.max(e.x+i.width-a.width,0),f=Math.max(e.y+i.height-a.height,0),g=Math.max(a.top-r.top-e.y,0),b=Math.max(a.left-r.left-e.x,0);let T=0,A=0;return T=i.width<=a.width?b||-c:e.x<this._viewportMargin?a.left-r.left-e.x:0,A=i.height<=a.height?g||-f:e.y<this._viewportMargin?a.top-r.top-e.y:0,this._previousPushAmount={x:T,y:A},{x:e.x+T,y:e.y+A}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new b3(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let a,c,f,T,A,O;if("top"===t.overlayY)c=e.y,a=r.height-c+this._viewportMargin;else if("bottom"===t.overlayY)f=r.height-e.y+2*this._viewportMargin,a=r.height-f+this._viewportMargin;else{const $=Math.min(r.bottom-e.y+r.top,e.y),z=this._lastBoundingBoxSize.height;a=2*$,c=e.y-$,a>z&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.y-z/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)O=r.width-e.x+this._viewportMargin,T=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)A=e.x,T=r.right-e.x;else{const $=Math.min(r.right-e.x+r.left,e.x),z=this._lastBoundingBoxSize.width;T=2*$,A=e.x-$,T>z&&!this._isInitialRender&&!this._growAfterOpen&&(A=e.x-z/2)}return{top:c,left:A,bottom:f,right:O,width:T,height:a}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;i.height=Tr(r.height),i.top=Tr(r.top),i.bottom=Tr(r.bottom),i.width=Tr(r.width),i.left=Tr(r.left),i.right=Tr(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(i.maxHeight=Tr(a)),c&&(i.maxWidth=Tr(c))}this._lastBoundingBoxSize=r,kf(this._boundingBox.style,i)}_resetBoundingBoxStyles(){kf(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){kf(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),a=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(i){const T=this._viewportRuler.getViewportScrollPosition();kf(r,this._getExactOverlayY(t,e,T)),kf(r,this._getExactOverlayX(t,e,T))}else r.position="static";let f="",g=this._getOffset(t,"x"),b=this._getOffset(t,"y");g&&(f+=`translateX(${g}px) `),b&&(f+=`translateY(${b}px)`),r.transform=f.trim(),c.maxHeight&&(i?r.maxHeight=Tr(c.maxHeight):a&&(r.maxHeight="")),c.maxWidth&&(i?r.maxWidth=Tr(c.maxWidth):a&&(r.maxWidth="")),kf(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":i.top=Tr(a.y),i}_getExactOverlayX(e,t,r){let c,i={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),c=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===c?i.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":i.left=Tr(a.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:fV(e,r),isOriginOutsideView:SR(e,r),isOverlayClipped:fV(t,r),isOverlayOutsideView:SR(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Dy(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof u.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function kf(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function _V(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(E3);return t&&"px"!==t?null:parseFloat(e)}return n||null}function yV(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const vV="cdk-global-overlay-wrapper";class D3{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(vV),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:a,maxWidth:c,maxHeight:f}=r,g=!("100%"!==i&&"100vw"!==i||c&&"100%"!==c&&"100vw"!==c),b=!("100%"!==a&&"100vh"!==a||f&&"100%"!==f&&"100vh"!==f);e.position=this._cssPosition,e.marginLeft=g?"0":this._leftOffset,e.marginTop=b?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,g?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=b?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(vV),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let T3=(()=>{class n{constructor(t,r,i,a){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=a}global(){return new D3}flexibleConnectedTo(t){return new C3(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(lD),u.LFG(ie),u.LFG(Ms),u.LFG(mV))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bV=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),S3=(()=>{class n extends bV{constructor(t){super(t),this._keydownListener=r=>{const i=this._attachedOverlays;for(let a=i.length-1;a>-1;a--)if(i[a]._keydownEvents.observers.length>0){i[a]._keydownEvents.next(r);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),I3=(()=>{class n extends bV{constructor(t,r){super(t),this._platform=r,this._cursorStyleIsSet=!1,this._pointerDownListener=i=>{this._pointerDownEventTarget=Ti(i)},this._clickListener=i=>{const a=Ti(i),c="click"===i.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const f=this._attachedOverlays.slice();for(let g=f.length-1;g>-1;g--){const b=f[g];if(!(b._outsidePointerEvents.observers.length<1)&&b.hasAttached()){if(b.overlayElement.contains(a)||b.overlayElement.contains(c))break;b._outsidePointerEvents.next(i)}}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ie),u.LFG(Ms))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),A3=0,uD=(()=>{class n{constructor(t,r,i,a,c,f,g,b,T,A,O){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=a,this._keyboardDispatcher=c,this._injector=f,this._ngZone=g,this._document=b,this._directionality=T,this._location=A,this._outsideClickDispatcher=O}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),a=this._createPortalOutlet(i),c=new pV(t);return c.direction=c.direction||this._directionality.value,new w3(a,r,i,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+A3++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(u.z2F)),new f3(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(v3),u.LFG(mV),u.LFG(u._Vd),u.LFG(T3),u.LFG(S3),u.LFG(u.zs3),u.LFG(u.R0b),u.LFG(ie),u.LFG(Oh),u.LFG(Ae),u.LFG(I3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const M3=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],wV=new u.OlP("cdk-connected-overlay-scroll-strategy");let EV=(()=>{class n{constructor(t){this.elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),CV=(()=>{class n{constructor(t,r,i,a,c){this._overlay=t,this._dir=c,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=zr.w0.EMPTY,this._attachSubscription=zr.w0.EMPTY,this._detachSubscription=zr.w0.EMPTY,this._positionSubscription=zr.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new u.vpe,this.positionChange=new u.vpe,this.attach=new u.vpe,this.detach=new u.vpe,this.overlayKeydown=new u.vpe,this.overlayOutsideClick=new u.vpe,this._templatePortal=new cV(r,i),this._scrollStrategyFactory=a,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=di(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=di(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=di(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=di(t)}get push(){return this._push}set push(t){this._push=di(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=M3);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),27===r.keyCode&&!this.disableClose&&!Vh(r)&&(r.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{this.overlayOutsideClick.next(r)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),r=new pV({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(r.width=this.width),(this.height||0===this.height)&&(r.height=this.height),(this.minWidth||0===this.minWidth)&&(r.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(t){const r=this.positions.map(i=>({originX:i.originX,originY:i.originY,overlayX:i.overlayX,overlayY:i.overlayY,offsetX:i.offsetX||this.offsetX,offsetY:i.offsetY||this.offsetY,panelClass:i.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof EV?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function m3(n,e=!1){return(0,pr.e)((t,r)=>{let i=0;t.subscribe((0,_n.x)(r,a=>{const c=n(a,i++);(c||e)&&r.next(a),!c&&r.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(uD),u.Y36(u.Rgc),u.Y36(u.s_b),u.Y36(wV),u.Y36(Oh,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[u.TTD]}),n})();const R3={provide:wV,deps:[uD],useFactory:function x3(n){return()=>n.scrollStrategies.reposition()}};let k3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[uD,R3],imports:[[td,p3,DR],DR]}),n})();class O3{constructor(e=!1,t,r=!0){this._multiple=e,this._emitChanges=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new nn.x,t&&t.length&&(e?t.forEach(i=>this._markSelected(i)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}const P3=["trigger"],N3=["panel"];function F3(n,e){if(1&n&&(u.TgZ(0,"span",8),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Oqu(t.placeholder)}}function L3(n,e){if(1&n&&(u.TgZ(0,"span",12),u._uU(1),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Oqu(t.triggerValue)}}function V3(n,e){1&n&&u.Hsn(0,0,["*ngSwitchCase","true"])}function B3(n,e){if(1&n&&(u.TgZ(0,"span",9),u.YNc(1,L3,2,1,"span",10),u.YNc(2,V3,1,0,"ng-content",11),u.qZA()),2&n){const t=u.oxw();u.Q6J("ngSwitch",!!t.customTrigger),u.xp6(2),u.Q6J("ngSwitchCase",!0)}}function U3(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",13)(1,"div",14,15),u.NdJ("@transformPanel.done",function(i){return u.CHM(t),u.oxw()._panelDoneAnimatingStream.next(i.toState)})("keydown",function(i){return u.CHM(t),u.oxw()._handleKeydown(i)}),u.Hsn(3,1),u.qZA()()}if(2&n){const t=u.oxw();u.Q6J("@transformPanelWrap",void 0),u.xp6(1),u.Gre("mat-select-panel ",t._getPanelTheme(),""),u.Udp("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),u.Q6J("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),u.uIk("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const j3=[[["mat-select-trigger"]],"*"],H3=["mat-select-trigger","*"],SV={transformPanelWrap:xy("transformPanelWrap",[pm("* => void",BO("@transformPanel",[Y0()],{optional:!0}))]),transformPanel:xy("transformPanel",[ky("void",Yl({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),ky("showing",Yl({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),ky("showing-multiple",Yl({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),pm("void => *",Ry("120ms cubic-bezier(0, 0, 0.2, 1)")),pm("* => void",Ry("100ms 25ms linear",Yl({opacity:0})))])};let IV=0;const MV=new u.OlP("mat-select-scroll-strategy"),z3=new u.OlP("MAT_SELECT_CONFIG"),W3={provide:MV,deps:[uD],useFactory:function q3(n){return()=>n.scrollStrategies.reposition()}};class Z3{constructor(e,t){this.source=e,this.value=t}}const K3=_v(dA(gv(hA(class{constructor(n,e,t,r,i){this._elementRef=n,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=r,this.ngControl=i}})))),Y3=new u.OlP("MatSelectTrigger");let Q3=(()=>{class n extends K3{constructor(t,r,i,a,c,f,g,b,T,A,O,$,z,ne){var de,Ye,je;super(c,a,g,b,A),this._viewportRuler=t,this._changeDetectorRef=r,this._ngZone=i,this._dir=f,this._parentFormField=T,this._liveAnnouncer=z,this._defaultOptions=ne,this._panelOpen=!1,this._compareWith=(Qe,Fe)=>Qe===Fe,this._uid="mat-select-"+IV++,this._triggerAriaLabelledBy=null,this._destroy=new nn.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+IV++,this._panelDoneAnimatingStream=new nn.x,this._overlayPanelClass=(null===(de=this._defaultOptions)||void 0===de?void 0:de.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(je=null===(Ye=this._defaultOptions)||void 0===Ye?void 0:Ye.disableOptionCentering)&&void 0!==je&&je,this.ariaLabel="",this.optionSelectionChanges=jd(()=>{const Qe=this.options;return Qe?Qe.changes.pipe(Wr(Qe),En(()=>(0,Hu.T)(...Qe.map(Fe=>Fe.onSelectionChange)))):this._ngZone.onStable.pipe((0,vi.q)(1),En(()=>this.optionSelectionChanges))}),this.openedChange=new u.vpe,this._openedStream=this.openedChange.pipe(Nn(Qe=>Qe),(0,Vt.U)(()=>{})),this._closedStream=this.openedChange.pipe(Nn(Qe=>!Qe),(0,Vt.U)(()=>{})),this.selectionChange=new u.vpe,this.valueChange=new u.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==ne?void 0:ne.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=ne.typeaheadDebounceInterval),this._scrollStrategyFactory=$,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(O)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){var t,r,i,a;return null!==(a=null!==(t=this._required)&&void 0!==t?t:null===(i=null===(r=this.ngControl)||void 0===r?void 0:r.control)||void 0===i?void 0:i.hasValidator(un.required))&&void 0!==a&&a}set required(t){this._required=di(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=di(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=di(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=lm(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new O3(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(am(),nr(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(nr(this._destroy)).subscribe(t=>{t.added.forEach(r=>r.select()),t.removed.forEach(r=>r.deselect())}),this.options.changes.pipe(Wr(null),nr(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?r.setAttribute("aria-labelledby",t):r.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var t,r;return this.multiple?(null===(t=this._selectionModel)||void 0===t?void 0:t.selected)||[]:null===(r=this._selectionModel)||void 0===r?void 0:r.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(r=>r.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const r=t.keyCode,i=40===r||38===r||37===r||39===r,a=13===r||32===r,c=this._keyManager;if(!c.isTyping()&&a&&!Vh(t)||(this.multiple||t.altKey)&&i)t.preventDefault(),this.open();else if(!this.multiple){const f=this.selected;c.onKeydown(t);const g=this.selected;g&&f!==g&&this._liveAnnouncer.announce(g.viewValue,1e4)}}_handleOpenKeydown(t){const r=this._keyManager,i=t.keyCode,a=40===i||38===i,c=r.isTyping();if(a&&t.altKey)t.preventDefault(),this.close();else if(c||13!==i&&32!==i||!r.activeItem||Vh(t))if(!c&&this._multiple&&65===i&&t.ctrlKey){t.preventDefault();const f=this.options.some(g=>!g.disabled&&!g.selected);this.options.forEach(g=>{g.disabled||(f?g.select():g.deselect())})}else{const f=r.activeItemIndex;r.onKeydown(t),this._multiple&&a&&t.shiftKey&&r.activeItem&&r.activeItemIndex!==f&&r.activeItem._selectViaInteraction()}else t.preventDefault(),r.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,vi.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(r=>r.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(r=>this._selectValue(r)),this._sortValues();else{const r=this._selectValue(t);r?this._keyManager.updateActiveItem(r):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const r=this.options.find(i=>{if(this._selectionModel.isSelected(i))return!1;try{return null!=i.value&&this._compareWith(i.value,t)}catch(a){return!1}});return r&&this._selectionModel.select(r),r}_initKeyManager(){this._keyManager=new iI(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(nr(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(nr(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=(0,Hu.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(nr(t)).subscribe(r=>{this._onSelect(r.source,r.isUserInput),r.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Hu.T)(...this.options.map(r=>r._stateChanges)).pipe(nr(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,r){const i=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(i!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),r&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),r&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),i!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((r,i)=>this.sortComparator?this.sortComparator(r,i,t):t.indexOf(r)-t.indexOf(i)),this.stateChanges.next()}}_propagateChanges(t){let r=null;r=this.multiple?this.selected.map(i=>i.value):this.selected?this.selected.value:t,this._value=r,this.valueChange.emit(r),this._onChange(r),this.selectionChange.emit(this._getChangeEvent(r)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var t;if(this.ariaLabel)return null;const r=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();return this.ariaLabelledby?(r?r+" ":"")+this.ariaLabelledby:r}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var t;if(this.ariaLabel)return null;const r=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();let i=(r?r+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(lD),u.Y36(u.sBO),u.Y36(u.R0b),u.Y36(mA),u.Y36(u.SBq),u.Y36(Oh,8),u.Y36(A_,8),u.Y36(Gl,8),u.Y36(rV,8),u.Y36(Po,10),u.$8M("tabindex"),u.Y36(MV),u.Y36(NO),u.Y36(z3,8))},n.\u0275dir=u.lG2({type:n,viewQuery:function(t,r){if(1&t&&(u.Gf(P3,5),u.Gf(N3,5),u.Gf(CV,5)),2&t){let i;u.iGM(i=u.CRH())&&(r.trigger=i.first),u.iGM(i=u.CRH())&&(r.panel=i.first),u.iGM(i=u.CRH())&&(r._overlayDir=i.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[u.qOj,u.TTD]}),n})(),xV=(()=>{class n extends Q3{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,r,i){const a=this._getItemHeight();return Math.min(Math.max(0,a*t-r+a/2),i)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(nr(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,vi.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const r=J(t,this.options,this.optionGroups),i=this._getItemHeight();this.panel.nativeElement.scrollTop=0===t&&1===r?0:function Ee(n,e,t,r){return n<t?n:n+e>t+r?Math.max(0,n-r+e):t}((t+r)*i,i,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new Z3(this,t)}_calculateOverlayOffsetX(){const t=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),r=this._viewportRuler.getViewportSize(),i=this._isRtl(),a=this.multiple?56:32;let c;if(this.multiple)c=40;else if(this.disableOptionCentering)c=16;else{let b=this._selectionModel.selected[0]||this.options.first;c=b&&b.group?32:16}i||(c*=-1);const f=0-(t.left+c-(i?a:0)),g=t.right+c-r.width+(i?0:a);f>0?c+=f+8:g>0&&(c-=g+8),this._overlayDir.offsetX=Math.round(c),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,r,i){const a=this._getItemHeight(),c=(a-this._triggerRect.height)/2,f=Math.floor(256/a);let g;return this.disableOptionCentering?0:(g=0===this._scrollTop?t*a:this._scrollTop===i?(t-(this._getItemCount()-f))*a+(a-(this._getItemCount()*a-256)%a):r-a/2,Math.round(-1*g-c))}_checkOverlayWithinViewport(t){const r=this._getItemHeight(),i=this._viewportRuler.getViewportSize(),a=this._triggerRect.top-8,c=i.height-this._triggerRect.bottom-8,f=Math.abs(this._offsetY),b=Math.min(this._getItemCount()*r,256)-f-this._triggerRect.height;b>c?this._adjustPanelUp(b,c):f>a?this._adjustPanelDown(f,a,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,r){const i=Math.round(t-r);this._scrollTop-=i,this._offsetY-=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,r,i){const a=Math.round(t-r);if(this._scrollTop+=a,this._offsetY+=a,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=i)return this._scrollTop=i,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),r=this._getItemCount(),i=Math.min(r*t,256),c=r*t-i;let f;f=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),f+=J(f,this.options,this.optionGroups);const g=i/2;this._scrollTop=this._calculateOverlayScroll(f,g,c),this._offsetY=this._calculateOverlayOffsetY(f,g,c),this._checkOverlayWithinViewport(c)}_getOriginBasedOnOption(){const t=this._getItemHeight(),r=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-r+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275cmp=u.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(t,r,i){if(1&t&&(u.Suo(i,Y3,5),u.Suo(i,G,5),u.Suo(i,w,5)),2&t){let a;u.iGM(a=u.CRH())&&(r.customTrigger=a.first),u.iGM(a=u.CRH())&&(r.options=a),u.iGM(a=u.CRH())&&(r.optionGroups=a)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,r){1&t&&u.NdJ("keydown",function(a){return r._handleKeydown(a)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&t&&(u.uIk("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-describedby",r._ariaDescribedby||null)("aria-activedescendant",r._getAriaActiveDescendant()),u.ekj("mat-select-disabled",r.disabled)("mat-select-invalid",r.errorState)("mat-select-required",r.required)("mat-select-empty",r.empty)("mat-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[u._Bn([{provide:wR,useExisting:n},{provide:d,useExisting:n}]),u.qOj],ngContentSelectors:H3,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,r){if(1&t&&(u.F$t(j3),u.TgZ(0,"div",0,1),u.NdJ("click",function(){return r.toggle()}),u.TgZ(3,"div",2),u.YNc(4,F3,2,1,"span",3),u.YNc(5,B3,3,2,"span",4),u.qZA(),u.TgZ(6,"div",5),u._UZ(7,"div",6),u.qZA()(),u.YNc(8,U3,4,14,"ng-template",7),u.NdJ("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&t){const i=u.MAs(1);u.uIk("aria-owns",r.panelOpen?r.id+"-panel":null),u.xp6(3),u.Q6J("ngSwitch",r.empty),u.uIk("id",r._valueId),u.xp6(1),u.Q6J("ngSwitchCase",!0),u.xp6(1),u.Q6J("ngSwitchCase",!1),u.xp6(3),u.Q6J("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",i)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayMinWidth",null==r._triggerRect?null:r._triggerRect.width)("cdkConnectedOverlayOffsetY",r._offsetY)}},directives:[EV,Or,gi,xa,CV,es],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[SV.transformPanelWrap,SV.transformPanel]},changeDetection:0}),n})(),J3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[W3],imports:[[ll,k3,Ve,Ii],CR,sV,Ve,Ii]}),n})();const X3=["mat-button",""],eq=["*"],nq=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],rq=$m(gv(_v(class{constructor(n){this._elementRef=n}})));let AR=(()=>{class n extends rq{constructor(t,r,i){super(t),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of nq)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(fI),u.Y36(dd,8))},n.\u0275cmp=u.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&u.Gf($E,5),2&t){let i;u.iGM(i=u.CRH())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(u.uIk("disabled",r.disabled||null),u.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[u.qOj],attrs:X3,ngContentSelectors:eq,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(u.F$t(),u.TgZ(0,"span",0),u.Hsn(1),u.qZA(),u._UZ(2,"span",1)(3,"span",2)),2&t&&(u.xp6(2),u.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),u.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[$E],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),iq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[s,Ii],Ii]}),n})();function sq(n,e){if(1&n&&(u.TgZ(0,"mat-option",12),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.Q6J("value",t.value),u.xp6(1),u.hij(" ",t.viewValue," ")}}function oq(n,e){if(1&n&&(u.TgZ(0,"mat-option",12),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.Q6J("value",t.value),u.xp6(1),u.hij(" ",t.viewValue," ")}}function aq(n,e){if(1&n&&(u.TgZ(0,"mat-option",12),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.Q6J("value",t.value),u.xp6(1),u.hij(" ",t.viewValue," ")}}function lq(n,e){if(1&n&&(u.TgZ(0,"mat-option",12),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.Q6J("value",t.value),u.xp6(1),u.hij(" ",t.viewValue," ")}}function uq(n,e){if(1&n&&(u.TgZ(0,"mat-option",12),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.Q6J("value",t.value),u.xp6(1),u.hij(" ",t.viewValue," ")}}function cq(n,e){if(1&n&&(u.TgZ(0,"mat-option",12),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.Q6J("value",t.value),u.xp6(1),u.hij(" ",t.viewValue," ")}}function dq(n,e){if(1&n&&(u.TgZ(0,"mat-option",12),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.Q6J("value",t.value),u.xp6(1),u.hij(" ",t.viewValue," ")}}let hq=(()=>{class n{constructor(t,r,i){this._router=t,this._personagensService=r,this._formBuilder=i,this.principal=[{value:"Combatente",viewValue:"Combatente"},{value:"Usu\xe1rio de magia",viewValue:"Usu\xe1rio de magia"},{value:"Suporte",viewValue:"Suporte"},{value:"Defensor",viewValue:"Defensor"}],this.secundarias=[{value:"Usu\xe1rio de magia leve",viewValue:"Usu\xe1rio de magia leve"},{value:"Utilidade intera\xe7\xe3o",viewValue:"Utilidade intera\xe7\xe3o"},{value:"Utilidade com itens",viewValue:"Utilidade com itens"},{value:"Controle",viewValue:"Controle"}],this.magias=[{value:"Origem divina",viewValue:"Origem divina"},{value:"Origem arcana",viewValue:"Origem arcana"},{value:"Origem de pacto",viewValue:"Origem de pacto"}],this.orientacaos=[{value:"Bom",viewValue:"Bom"},{value:"Neutro",viewValue:"Neutro"},{value:"Mal",viewValue:"Mal"}],this.funcaos=[{value:"Magico combatente",viewValue:"Magico combatente"},{value:"Magico utilidade",viewValue:"Magico utilidade"},{value:"Combatente corpo a corpo",viewValue:"Combatente corpo a corpo"},{value:"Combatente a distancia",viewValue:"Combatente a distancia"},{value:"Curador",viewValue:"Curador"},{value:"Tanque",viewValue:"Tanque"}],this.orientacaos2=[{value:"Leal",viewValue:"Leal"},{value:"Neutro",viewValue:"Neutro"},{value:"Caos",viewValue:"Caos"}],this.equipamentos=[{value:"Arma uma m\xe3o, armadura, escudo",viewValue:"Arma uma m\xe3o, armadura, escudo"},{value:"Arma duas m\xe3os, armadura",viewValue:"Arma duas m\xe3os, armadura"},{value:"Arco e flecha, armadura leve, adaga",viewValue:"Arco e flecha, armadura leve, adaga"},{value:"Foco, adaga",viewValue:"Foco, adaga"}],this.formCriar=this._formBuilder.group({funcao:["",[un.required]],principal:["",[un.required]],secundaria:["",[un.required]],magia:["",[un.required]],orientacao:["",[un.required]],orientacao2:["",[un.required]],equipamento:["",[un.required]]})}ngOnInit(){}validarFormulario(){for(let t in this.formCriar.controls)this.formCriar.controls[t].markAsTouched()}submitForm(){this.validarFormulario(),this.formCriar.valid&&this.salvar()}salvar(){this._personagensService.criarPersonagem(this.formCriar.value).then(()=>{this._router.navigate(["/listaDePersonagens"])}).catch(t=>{console.log(t),alert("deu ruim")})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(yr),u.Y36(bR),u.Y36(xp))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-criar"]],decls:49,vars:8,consts:[["color","primary"],[3,"formGroup","ngSubmit"],["appearance","fill",2,"background-color","rgb(8, 8, 61) !important"],["formControlName","principal","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","secundaria","required",""],["formControlName","magia","required",""],["formControlName","orientacao","required",""],["formControlName","orientacao2","required",""],["formControlName","funcao","required",""],["formControlName","equipamento","required",""],["mat-raised-button","","type","submit"],[3,"value"]],template:function(t,r){1&t&&(u.TgZ(0,"body")(1,"mat-toolbar",0)(2,"span"),u._uU(3,"Cria\xe7\xe3o de Nova Ideia"),u.qZA()(),u.TgZ(4,"form",1),u.NdJ("ngSubmit",function(){return r.submitForm()}),u.TgZ(5,"mat-form-field",2)(6,"mat-label"),u._uU(7,"Ideia principal"),u.qZA(),u.TgZ(8,"mat-select",3),u.YNc(9,sq,2,2,"mat-option",4),u.qZA()(),u._UZ(10,"br"),u.TgZ(11,"mat-form-field",2)(12,"mat-label"),u._uU(13,"Ideia secundaria"),u.qZA(),u.TgZ(14,"mat-select",5),u.YNc(15,oq,2,2,"mat-option",4),u.qZA()(),u._UZ(16,"br"),u.TgZ(17,"mat-form-field",2)(18,"mat-label"),u._uU(19,"Magia"),u.qZA(),u.TgZ(20,"mat-select",6),u.YNc(21,aq,2,2,"mat-option",4),u.qZA()(),u._UZ(22,"br"),u.TgZ(23,"mat-form-field",2)(24,"mat-label"),u._uU(25,"Orientacao"),u.qZA(),u.TgZ(26,"mat-select",7),u.YNc(27,lq,2,2,"mat-option",4),u.qZA()(),u._UZ(28,"br"),u.TgZ(29,"mat-form-field",2)(30,"mat-label"),u._uU(31,"Orientacao 2"),u.qZA(),u.TgZ(32,"mat-select",8),u.YNc(33,uq,2,2,"mat-option",4),u.qZA()(),u._UZ(34,"br"),u.TgZ(35,"mat-form-field",2)(36,"mat-label"),u._uU(37,"Funcao"),u.qZA(),u.TgZ(38,"mat-select",9),u.YNc(39,cq,2,2,"mat-option",4),u.qZA()(),u._UZ(40,"br"),u.TgZ(41,"mat-form-field",2)(42,"mat-label"),u._uU(43,"Equipamento"),u.qZA(),u.TgZ(44,"mat-select",10),u.YNc(45,dq,2,2,"mat-option",4),u.qZA()(),u._UZ(46,"br"),u.TgZ(47,"button",11),u._uU(48,"Criar"),u.qZA()()()),2&t&&(u.xp6(4),u.Q6J("formGroup",r.formCriar),u.xp6(5),u.Q6J("ngForOf",r.principal),u.xp6(6),u.Q6J("ngForOf",r.secundarias),u.xp6(6),u.Q6J("ngForOf",r.magias),u.xp6(6),u.Q6J("ngForOf",r.orientacaos),u.xp6(6),u.Q6J("ngForOf",r.orientacaos2),u.xp6(6),u.Q6J("ngForOf",r.funcaos),u.xp6(6),u.Q6J("ngForOf",r.equipamentos))},directives:[Zt,wh,hh,Gl,iV,sD,xV,dh,$c,Vo,Yn,G,AR],styles:["body[_ngcontent-%COMP%]{background-color:#08083d!important}"]}),n})();function fq(n,e){if(1&n&&(u.TgZ(0,"mat-option",12),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.Q6J("value",t.value),u.xp6(1),u.hij(" ",t.viewValue," ")}}function pq(n,e){if(1&n&&(u.TgZ(0,"mat-option",12),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.Q6J("value",t.value),u.xp6(1),u.hij(" ",t.viewValue," ")}}function mq(n,e){if(1&n&&(u.TgZ(0,"mat-option",12),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.Q6J("value",t.value),u.xp6(1),u.hij(" ",t.viewValue," ")}}function gq(n,e){if(1&n&&(u.TgZ(0,"mat-option",12),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.Q6J("value",t.value),u.xp6(1),u.hij(" ",t.viewValue," ")}}function _q(n,e){if(1&n&&(u.TgZ(0,"mat-option",12),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.Q6J("value",t.value),u.xp6(1),u.hij(" ",t.viewValue," ")}}function yq(n,e){if(1&n&&(u.TgZ(0,"mat-option",12),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.Q6J("value",t.value),u.xp6(1),u.hij(" ",t.viewValue," ")}}function vq(n,e){if(1&n&&(u.TgZ(0,"mat-option",12),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.Q6J("value",t.value),u.xp6(1),u.hij(" ",t.viewValue," ")}}let bq=(()=>{class n{constructor(t,r,i,a){this._router=t,this._actRoute=r,this._personagemService=i,this._formBuilder=a,this.principal=[{value:"Combatente",viewValue:"Combatente"},{value:"Usu\xe1rio de magia",viewValue:"Usu\xe1rio de magia"},{value:"Suporte",viewValue:"Suporte"},{value:"Defensor",viewValue:"Defensor"}],this.secundarias=[{value:"Usu\xe1rio de magia leve",viewValue:"Usu\xe1rio de magia leve"},{value:"Utilidade intera\xe7\xe3o",viewValue:"Utilidade intera\xe7\xe3o"},{value:"Utilidade com itens",viewValue:"Utilidade com itens"},{value:"Controle",viewValue:"Controle"}],this.magias=[{value:"Origem divina",viewValue:"Origem divina"},{value:"Origem arcana",viewValue:"Origem arcana"},{value:"Origem de pacto",viewValue:"Origem de pacto"}],this.orientacaos=[{value:"Bom",viewValue:"Bom"},{value:"Neutro",viewValue:"Neutro"},{value:"Mal",viewValue:"Mal"}],this.funcaos=[{value:"Magico combatente",viewValue:"Magico combatente"},{value:"Magico utilidade",viewValue:"Magico utilidade"},{value:"Combatente corpo a corpo",viewValue:"Combatente corpo a corpo"},{value:"Combatente a distancia",viewValue:"Combatente a distancia"},{value:"Curador",viewValue:"Curador"},{value:"Tanque",viewValue:"Tanque"}],this.orientacaos2=[{value:"Leal",viewValue:"Leal"},{value:"Neutro",viewValue:"Neutro"},{value:"Caos",viewValue:"Caos"}],this.equipamentos=[{value:"Arma uma m\xe3o, armadura, escudo",viewValue:"Arma uma m\xe3o, armadura, escudo"},{value:"Arma duas m\xe3os, armadura",viewValue:"Arma duas m\xe3os, armadura"},{value:"Arco e flecha, armadura leve, adaga",viewValue:"Arco e flecha, armadura leve, adaga"},{value:"Foco, adaga",viewValue:"Foco, adaga"}],this.formEditar=this._formBuilder.group({funcao:["",[un.required]],principal:["",[un.required]],secundaria:["",[un.required]],magia:["",[un.required]],orientacao:["",[un.required]],orientacao2:["",[un.required]],equipamento:["",[un.required]]})}ngOnInit(){this._actRoute.params.subscribe(t=>{t.indice&&(this.id=t.indice,this._personagemService.getPersonagem(t.indice).subscribe(r=>{this.formEditar=this._formBuilder.group({funcao:[r.funcao,[un.required]],principal:[r.principal,[un.required]],secundaria:[r.secundaria,[un.required]],magia:[r.magia,[un.required]],orientacao:[r.orientacao,[un.required]],orientacao2:[r.orientacao2,[un.required]],equipamento:[r.equipamento,[un.required]]})}))})}validarFormulario(){for(let t in this.formEditar.controls)this.formEditar.controls[t].markAsTouched()}submitForm(){this.validarFormulario(),this.formEditar.valid&&this.salvar()}salvar(){this._personagemService.editarPersonagem(this.formEditar.value,this.id).then(()=>{this._router.navigate(["/listaDePersonagens"])}).catch(t=>{console.log(t),alert("deu ruim")})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(yr),u.Y36(xo),u.Y36(bR),u.Y36(xp))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-editar"]],decls:49,vars:8,consts:[["color","primary"],[3,"formGroup","ngSubmit"],["appearance","fill",2,"background-color","rgb(8, 8, 61) !important"],["formControlName","principal","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","secundaria","required",""],["formControlName","magia","required",""],["formControlName","orientacao","required",""],["formControlName","orientacao2","required",""],["formControlName","funcao","required",""],["formControlName","equipamento","required",""],["mat-raised-button","","type","submit"],[3,"value"]],template:function(t,r){1&t&&(u.TgZ(0,"body")(1,"mat-toolbar",0)(2,"span"),u._uU(3,"Editar Ideia"),u.qZA()(),u.TgZ(4,"form",1),u.NdJ("ngSubmit",function(){return r.submitForm()}),u.TgZ(5,"mat-form-field",2)(6,"mat-label"),u._uU(7,"Ideia principal"),u.qZA(),u.TgZ(8,"mat-select",3),u.YNc(9,fq,2,2,"mat-option",4),u.qZA()(),u._UZ(10,"br"),u.TgZ(11,"mat-form-field",2)(12,"mat-label"),u._uU(13,"Ideia secundaria"),u.qZA(),u.TgZ(14,"mat-select",5),u.YNc(15,pq,2,2,"mat-option",4),u.qZA()(),u._UZ(16,"br"),u.TgZ(17,"mat-form-field",2)(18,"mat-label"),u._uU(19,"Magia"),u.qZA(),u.TgZ(20,"mat-select",6),u.YNc(21,mq,2,2,"mat-option",4),u.qZA()(),u._UZ(22,"br"),u.TgZ(23,"mat-form-field",2)(24,"mat-label"),u._uU(25,"Orientacao"),u.qZA(),u.TgZ(26,"mat-select",7),u.YNc(27,gq,2,2,"mat-option",4),u.qZA()(),u._UZ(28,"br"),u.TgZ(29,"mat-form-field",2)(30,"mat-label"),u._uU(31,"Orientacao 2"),u.qZA(),u.TgZ(32,"mat-select",8),u.YNc(33,_q,2,2,"mat-option",4),u.qZA()(),u._UZ(34,"br"),u.TgZ(35,"mat-form-field",2)(36,"mat-label"),u._uU(37,"Funcao"),u.qZA(),u.TgZ(38,"mat-select",9),u.YNc(39,yq,2,2,"mat-option",4),u.qZA()(),u._UZ(40,"br"),u.TgZ(41,"mat-form-field",2)(42,"mat-label"),u._uU(43,"Equipamento"),u.qZA(),u.TgZ(44,"mat-select",10),u.YNc(45,vq,2,2,"mat-option",4),u.qZA()(),u._UZ(46,"br"),u.TgZ(47,"button",11),u._uU(48,"Salvar"),u.qZA()()()),2&t&&(u.xp6(4),u.Q6J("formGroup",r.formEditar),u.xp6(5),u.Q6J("ngForOf",r.principal),u.xp6(6),u.Q6J("ngForOf",r.secundarias),u.xp6(6),u.Q6J("ngForOf",r.magias),u.xp6(6),u.Q6J("ngForOf",r.orientacaos),u.xp6(6),u.Q6J("ngForOf",r.orientacaos2),u.xp6(6),u.Q6J("ngForOf",r.funcaos),u.xp6(6),u.Q6J("ngForOf",r.equipamentos))},directives:[Zt,wh,hh,Gl,iV,sD,xV,dh,$c,Vo,Yn,G,AR],styles:["body[_ngcontent-%COMP%]{background-color:#08083d!important}"]}),n})();function wq(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"tr")(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td"),u._uU(12),u.qZA(),u.TgZ(13,"td"),u._uU(14),u.qZA(),u.TgZ(15,"td")(16,"button",2),u.NdJ("click",function(){const a=u.CHM(t).$implicit;return u.oxw().editar(a)}),u._uU(17,"Editar"),u.qZA(),u.TgZ(18,"button",3),u.NdJ("click",function(){const a=u.CHM(t).$implicit;return u.oxw().excluir(a)}),u._uU(19,"Excluir"),u.qZA()()()}if(2&n){const t=e.$implicit;u.xp6(2),u.Oqu(t.funcao),u.xp6(2),u.Oqu(t.principal),u.xp6(2),u.Oqu(t.secundaria),u.xp6(2),u.Oqu(t.magia),u.xp6(2),u.Oqu(t.orientacao),u.xp6(2),u.Oqu(t.orientacao2),u.xp6(2),u.Oqu(t.equipamento)}}let Eq=(()=>{class n{constructor(t,r){this._router=t,this._personagemService=r,this.lista_personagens=[]}ngOnInit(){this._personagemService.getPersonagems().subscribe(t=>{this.lista_personagens=t.map(r=>Object.assign({id:r.payload.doc.id},r.payload.doc.data()))})}excluir(t){confirm("deseja excluir o personagem?")&&this._personagemService.deletarPersonagem(t).then(()=>{alert("adeus ")}).catch(i=>{console.log(i),alert("deu ruim")})}editar(t){this._router.navigate(["/editarPersonagens",t.id])}irParaCriarPersonagem(){this._router.navigate(["/criarPersonagem"])}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(yr),u.Y36(bR))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-listar"]],decls:25,vars:1,consts:[["color","primary"],[4,"ngFor","ngForOf"],["mat-fab","","color","accent",3,"click"],["mat-fab","","color","warn",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"body")(1,"mat-toolbar",0)(2,"span"),u._uU(3,"Ideias de Personagens"),u.qZA()(),u.TgZ(4,"table")(5,"tr")(6,"th"),u._uU(7,"Fun\xe7\xe3o"),u.qZA(),u.TgZ(8,"th"),u._uU(9,"Prim\xe1ria"),u.qZA(),u.TgZ(10,"th"),u._uU(11,"Secundaria"),u.qZA(),u.TgZ(12,"th"),u._uU(13,"Magia"),u.qZA(),u.TgZ(14,"th"),u._uU(15,"Orienta\xe7\xe3o"),u.qZA(),u.TgZ(16,"th"),u._uU(17,"Orienta\xe7\xe3o 2"),u.qZA(),u.TgZ(18,"th"),u._uU(19,"Equipamento"),u.qZA(),u.TgZ(20,"th"),u._uU(21,"Opera\xe7\xe3o"),u.qZA()(),u.YNc(22,wq,20,7,"tr",1),u.qZA(),u.TgZ(23,"button",2),u.NdJ("click",function(){return r.irParaCriarPersonagem()}),u._uU(24,"Criar"),u.qZA()()),2&t&&(u.xp6(22),u.Q6J("ngForOf",r.lista_personagens))},directives:[Zt,Yn,AR],styles:["body[_ngcontent-%COMP%]{background-image:url(https://www.htmlcsscolor.com/preview/gallery/01015F.png);background-repeat:repeat}table[_ngcontent-%COMP%]{font-size:large;width:100%;background-color:#3b3b3b;border-style:inset;border-color:purple;border-width:10px}td[_ngcontent-%COMP%]{color:#adff2f;text-align:center;border:10px solid #ffffff;border-style:inset}th[_ngcontent-%COMP%]{color:plum;font-family:Lucida Sans;text-align:center;border:10px solid crimson;border-style:inset}"]}),n})();function Cq(n,e){1&n&&(u.TgZ(0,"small",9),u._uU(1,"O email \xe9 obrigat\xf3rio! "),u.qZA())}function Dq(n,e){1&n&&(u.TgZ(0,"small",9),u._uU(1,"Email inv\xe1lido!"),u.qZA())}function Tq(n,e){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,Cq,2,0,"small",8),u.YNc(2,Dq,2,0,"small",8),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.formLogin.controls.email.hasError("required")),u.xp6(1),u.Q6J("ngIf",t.formLogin.controls.email.hasError("email"))}}function Sq(n,e){1&n&&(u.TgZ(0,"small",9),u._uU(1,"A senha \xe9 obirgat\xf3ria!"),u.qZA())}function Iq(n,e){1&n&&(u.TgZ(0,"small",9),u._uU(1,"Senha pequena demais!"),u.qZA())}function Aq(n,e){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,Sq,2,0,"small",8),u.YNc(2,Iq,2,0,"small",8),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.formLogin.controls.password.hasError("required")),u.xp6(1),u.Q6J("ngIf",t.formLogin.controls.password.hasError("minlength"))}}let Mq=(()=>{class n{constructor(t,r,i){this._router=t,this._usuarioService=r,this._formBuilder=i,this.storage=window.localStorage,this.formLogin=this._formBuilder.group({email:["",[un.required,un.email]],password:["",[un.required,un.minLength(6)]]})}ngOnInit(){"autenticado"==this._usuarioService.storage.getItem("condicao")&&this._router.navigate(["/listaDePersonagens"])}validarFormulario(){for(let t in this.formLogin.controls)this.formLogin.controls[t].markAsTouched()}submitForm(){this.validarFormulario(),this.formLogin.valid&&this.logarComEmailSenha()}logarComEmailSenha(){this._usuarioService.loginComEmailSenha(this.formLogin.controls.email.value,this.formLogin.controls.password.value).then(()=>{alert("Login efetuado com sucesso!"),this._router.navigate(["/listaDePersonagens"])}).catch(t=>{alert("Deu ruim"),console.log(t)})}logarComGoogleCount(){this._usuarioService.loginComGoogleCount().then(()=>{alert("Login efetuado com sucesso!"),this._router.navigate(["/listaDePersonagens"])}).catch(t=>{alert("Deu ruim"),console.log(t)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(yr),u.Y36(Kp),u.Y36(xp))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-login"]],decls:21,vars:3,consts:[["color","primary"],[3,"formGroup","ngSubmit"],["text","text","formControlName","email","required",""],[4,"ngIf"],["type","password","formControlName","password","required",""],["type","submit"],[2,"background-color","aqua",3,"click"],["routerLink","/cadastro"],["style","color: pink",4,"ngIf"],[2,"color","pink"]],template:function(t,r){1&t&&(u.TgZ(0,"body")(1,"mat-toolbar",0),u._uU(2,"Login"),u.qZA(),u.TgZ(3,"form",1),u.NdJ("ngSubmit",function(){return r.submitForm()}),u.TgZ(4,"label"),u._uU(5,"Email:"),u.qZA(),u._UZ(6,"input",2)(7,"br"),u.YNc(8,Tq,3,2,"div",3),u.TgZ(9,"label"),u._uU(10,"Senha:"),u.qZA(),u._UZ(11,"input",4)(12,"br"),u.YNc(13,Aq,3,2,"div",3),u.TgZ(14,"button",5),u._uU(15,"Login"),u.qZA()(),u.TgZ(16,"button",6),u.NdJ("click",function(){return r.logarComGoogleCount()}),u._uU(17,"Logar com Conta Google"),u.qZA(),u._UZ(18,"br"),u.TgZ(19,"a",7),u._uU(20,"N\xe3o tem cadastro? Clique aqui"),u.qZA()()),2&t&&(u.xp6(3),u.Q6J("formGroup",r.formLogin),u.xp6(5),u.Q6J("ngIf",r.formLogin.controls.email.touched),u.xp6(5),u.Q6J("ngIf",r.formLogin.controls.password.touched))},directives:[Zt,wh,hh,Gl,Hc,dh,$c,Vo,fr,lp],styles:[""]}),n})(),MR=(()=>{class n{constructor(t,r){this.router=t,this.authService=r}canActivate(t,r){return"autenticado"==this.authService.storage.getItem("condicao")||(this.router.navigate(["/login"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(yr),u.LFG(Kp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xq=[{path:"listaDePersonagens",component:Eq,canActivate:[MR]},{path:"criarPersonagem",component:hq,canActivate:[MR]},{path:"editarPersonagens/:indice",component:bq,canActivate:[MR]},{path:"login",component:Mq},{path:"cadastro",component:z2},{path:"**",redirectTo:"/login"},{path:"",redirectTo:"/login",pathMatch:"full"}];let Rq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[cw.forRoot(xq)],cw]}),n})(),kq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},directives:[Fc],styles:["body[_ngcontent-%COMP%]{background-repeat:repeat}table[_ngcontent-%COMP%]{font-size:large;width:100%;background-color:#3b3b3b}td[_ngcontent-%COMP%]{color:#adff2f;text-align:center;border:1px solid #FFFFFF}th[_ngcontent-%COMP%]{color:plum;font-family:Lucida Sans;text-align:center;border:1px solid #FFFFFF}"]}),n})(),Wq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[DR]]}),n})(),cz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Wq,Ii],Ii]}),n})(),hz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Ii],Ii]}),n})();const jV="firebasestorage.googleapis.com",HV="storageBucket";class Ir extends yt.ZR{constructor(e,t){super(UR(e),`Firebase Storage: ${t} (${UR(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ir.prototype)}_codeEquals(e){return UR(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function UR(n){return"storage/"+n}function jR(){return new Ir("unknown","An unknown error occurred, please check the error payload for server response.")}function $V(){return new Ir("canceled","User canceled the upload/download.")}function GV(){return new Ir("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Mg(n){return new Ir("invalid-argument",n)}function qV(){return new Ir("app-deleted","The Firebase app was deleted.")}function zV(n){return new Ir("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Fb(n,e){return new Ir("invalid-format","String does not match format '"+n+"': "+e)}function Lb(n){throw new Ir("internal-error","Internal error: "+n)}class fs{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=fs.makeFromUrl(e,t)}catch(i){return new fs(e,"")}if(""===r.path)return r;throw function Ez(n){return new Ir("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",f=new RegExp("^gs://"+i+"(/(.*))?$","i");function b(Fe){Fe.path_=decodeURIComponent(Fe.path)}const A=t.replace(/[.]/g,"\\."),Qe=[{regex:f,indices:{bucket:1,path:3},postModify:function a(Fe){"/"===Fe.path.charAt(Fe.path.length-1)&&(Fe.path_=Fe.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${A}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:b},{regex:new RegExp(`^https?://${t===jV?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:b}];for(let Fe=0;Fe<Qe.length;Fe++){const St=Qe[Fe],Dt=St.regex.exec(e);if(Dt){let Rn=Dt[St.indices.path];Rn||(Rn=""),r=new fs(Dt[St.indices.bucket],Rn),St.postModify(r);break}}if(null==r)throw function wz(n){return new Ir("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class Sz{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function bD(n){return"string"==typeof n||n instanceof String}function WV(n){return HR()&&n instanceof Blob}function HR(){return"undefined"!=typeof Blob}function $R(n,e,t,r){if(r<e)throw Mg(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Mg(`Invalid value for '${n}'. Expected ${t} or less.`)}function oc(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function ZV(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Ad=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Ad||(Ad={})),Ad))();class kz{constructor(e,t,r,i,a,c,f,g,b,T,A){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=g,this.timeout_=b,this.progressCallback_=T,this.connectionFactory_=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,$)=>{this.resolve_=O,this.reject_=$,this.start_()})}start_(){const t=(r,i)=>{const a=this.resolve_,c=this.reject_,f=i.connection;if(i.wasSuccessCode)try{const g=this.callback_(f,f.getResponse());!function Mz(n){return void 0!==n}(g)?a():a(g)}catch(g){c(g)}else if(null!==f){const g=jR();g.serverResponse=f.getErrorText(),c(this.errorCallback_?this.errorCallback_(f,g):g)}else c(i.canceled?this.appDelete_?qV():$V():function bz(){return new Ir("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new wD(!1,null,!0)):this.backoffId_=function Iz(n,e,t){let r=1,i=null,a=null,c=!1,f=0;function g(){return 2===f}let b=!1;function T(...de){b||(b=!0,e.apply(null,de))}function A(de){i=setTimeout(()=>{i=null,n($,g())},de)}function O(){a&&clearTimeout(a)}function $(de,...Ye){if(b)return void O();if(de)return O(),void T.call(null,de,...Ye);if(g()||c)return O(),void T.call(null,de,...Ye);let Qe;r<64&&(r*=2),1===f?(f=2,Qe=0):Qe=1e3*(r+Math.random()),A(Qe)}let z=!1;function ne(de){z||(z=!0,O(),!b&&(null!==i?(de||(f=2),clearTimeout(i),A(0)):de||(f=1)))}return A(0),a=setTimeout(()=>{c=!0,ne(!0)},t),ne}((r,i)=>{if(i)return void r(!1,new wD(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const c=f=>{null!==this.progressCallback_&&this.progressCallback_(f.loaded,f.lengthComputable?f.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(c),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(c),this.pendingConnection_=null;const f=a.getErrorCode()===Ad.NO_ERROR,g=a.getStatus();if(!f||this.isRetryStatusCode_(g)){const T=a.getErrorCode()===Ad.ABORT;return void r(!1,new wD(!1,null,T))}const b=-1!==this.successCodes_.indexOf(g);r(!0,new wD(b,a))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Az(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,i=-1!==[408,429].indexOf(e),a=-1!==this.additionalRetryCodes_.indexOf(e);return t||i||a}}class wD{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function Bz(...n){const e=function Vz(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(HR())return new Blob(n);throw new Ir("unsupported-environment","This browser doesn't seem to support creating Blobs")}const $o={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class GR{constructor(e,t){this.data=e,this.contentType=t||null}}function qR(n,e){switch(n){case $o.RAW:return new GR(KV(e));case $o.BASE64:case $o.BASE64URL:return new GR(YV(n,e));case $o.DATA_URL:return new GR(function $z(n){const e=new QV(n);return e.base64?YV($o.BASE64,e.rest):function Hz(n){let e;try{e=decodeURIComponent(n)}catch(t){throw Fb($o.DATA_URL,"Malformed data URL.")}return KV(e)}(e.rest)}(e),function Gz(n){return new QV(n).contentType}(e))}throw jR()}function KV(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function YV(n,e){switch(n){case $o.BASE64:{const i=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(i||a)throw Fb(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case $o.BASE64URL:{const i=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(i||a)throw Fb(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function jz(n){return atob(n)}(e)}catch(i){throw Fb(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class QV{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Fb($o.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function qz(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class iu{constructor(e,t){let r=0,i="";WV(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(WV(this.data_)){const i=function Uz(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new iu(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new iu(r,!0)}}static getBlob(...e){if(HR()){const t=e.map(r=>r instanceof iu?r.data_:r);return new iu(Bz.apply(null,t))}{const t=e.map(c=>bD(c)?qR($o.RAW,c).data:c.data_);let r=0;t.forEach(c=>{r+=c.byteLength});const i=new Uint8Array(r);let a=0;return t.forEach(c=>{for(let f=0;f<c.length;f++)i[a++]=c[f]}),new iu(i,!0)}}uploadData(){return this.data_}}function zR(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function Rz(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function JV(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function Zz(n,e){return e}class Bs{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||Zz}}let ED=null;function Vb(){if(ED)return ED;const n=[];n.push(new Bs("bucket")),n.push(new Bs("generation")),n.push(new Bs("metageneration")),n.push(new Bs("name","fullPath",!0));const t=new Bs("name");t.xform=function e(a,c){return function Kz(n){return!bD(n)||n.length<2?n:JV(n)}(c)},n.push(t);const i=new Bs("size");return i.xform=function r(a,c){return void 0!==c?Number(c):c},n.push(i),n.push(new Bs("timeCreated")),n.push(new Bs("updated")),n.push(new Bs("md5Hash",null,!0)),n.push(new Bs("cacheControl",null,!0)),n.push(new Bs("contentDisposition",null,!0)),n.push(new Bs("contentEncoding",null,!0)),n.push(new Bs("contentLanguage",null,!0)),n.push(new Bs("contentType",null,!0)),n.push(new Bs("metadata","customMetadata",!0)),ED=n,ED}function XV(n,e,t){const r=zR(e);return null===r?null:function Qz(n,e,t){const r={type:"file"},i=t.length;for(let a=0;a<i;a++){const c=t[a];r[c.local]=c.xform(r,e[c.server])}return function Yz(n,e){Object.defineProperty(n,"ref",{get:function t(){const a=new fs(n.bucket,n.fullPath);return e._makeStorageReference(a)}})}(r,n),r}(n,r,t)}function WR(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}const e2="prefixes";class su{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ou(n){if(!n)throw jR()}function CD(n,e){return function t(r,i){const a=XV(n,i,e);return ou(null!==a),a}}function xg(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function yz(){return new Ir("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function _z(){return new Ir("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function gz(n){return new Ir("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function vz(n){return new Ir("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.serverResponse=r.serverResponse,i}}function Bb(n){const e=xg(n);return function t(r,i){let a=e(r,i);return 404===r.getStatus()&&(a=function mz(n){return new Ir("object-not-found","Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=i.serverResponse,a}}function n2(n,e,t){const i=oc(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,f=new su(i,"GET",CD(n,t),c);return f.errorHandler=Bb(e),f}function r6(n,e,t,r,i){const a={};a.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(a.delimiter=t),r&&(a.pageToken=r),i&&(a.maxResults=i);const f=oc(e.bucketOnlyServerUrl(),n.host,n._protocol),b=n.maxOperationRetryTime,T=new su(f,"GET",function t6(n,e){return function t(r,i){const a=function e6(n,e,t){const r=zR(t);return null===r?null:function Xz(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[e2])for(const i of t[e2]){const a=i.replace(/\/$/,""),c=n._makeStorageReference(new fs(e,a));r.prefixes.push(c)}if(t.items)for(const i of t.items){const a=n._makeStorageReference(new fs(e,i.name));r.items.push(a)}return r}(n,e,r)}(n,e,i);return ou(null!==a),a}}(n,e.bucket),b);return T.urlParams=a,T.errorHandler=xg(e),T}function s2(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function a6(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class DD{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function ZR(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(i){ou(!1)}return ou(!!t&&-1!==(e||["active"]).indexOf(t)),t}const d6={STATE_CHANGED:"state_changed"},Us={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function KR(n){switch(n){case"running":case"pausing":case"canceling":return Us.RUNNING;case"paused":return Us.PAUSED;case"success":return Us.SUCCESS;case"canceled":return Us.CANCELED;default:return Us.ERROR}}class h6{constructor(e,t,r){if(function xz(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=r?r:void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function Rg(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class p6 extends class f6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ad.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ad.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ad.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw Lb("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Lb("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Lb("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw Lb("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Lb("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function nl(){return new p6}class u2{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=Vb(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=i,this._transition("error"))},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this._promise=new Promise((i,a)=>{this._resolve=i,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function l6(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),c=s2(e,r,i),f={name:c.fullPath},g=oc(a,n.host,n._protocol),T={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},A=WR(c,t),z=new su(g,"POST",function $(ne){let de;ZR(ne);try{de=ne.getResponseHeader("X-Goog-Upload-URL")}catch(Ye){ou(!1)}return ou(bD(de)),de},n.maxUploadRetryTime);return z.urlParams=f,z.headers=T,z.body=A,z.errorHandler=xg(e),z}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,nl,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function u6(n,e,t,r){const g=new su(t,"POST",function a(b){const T=ZR(b,["active","final"]);let A=null;try{A=b.getResponseHeader("X-Goog-Upload-Size-Received")}catch($){ou(!1)}A||ou(!1);const O=Number(A);return ou(!isNaN(O)),new DD(O,r.size(),"final"===T)},n.maxUploadRetryTime);return g.headers={"X-Goog-Upload-Command":"query"},g.errorHandler=xg(e),g}(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(i,nl,t,r);this._request=a,a.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new DD(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,a)=>{let c;try{c=function c6(n,e,t,r,i,a,c,f){const g=new DD(0,0);if(c?(g.current=c.current,g.total=c.total):(g.current=0,g.total=r.size()),r.size()!==g.total)throw function Dz(){return new Ir("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const b=g.total-g.current;let T=b;i>0&&(T=Math.min(T,i));const A=g.current,z={"X-Goog-Upload-Command":T===b?"upload, finalize":"upload","X-Goog-Upload-Offset":`${g.current}`},ne=r.slice(A,A+T);if(null===ne)throw GV();const Qe=new su(t,"POST",function de(Fe,St){const Dt=ZR(Fe,["active","final"]),Mn=g.current+T,Rn=r.size();let jr;return jr="final"===Dt?CD(e,a)(Fe,St):null,new DD(Mn,Rn,"final"===Dt,jr)},e.maxUploadRetryTime);return Qe.headers=z,Qe.body=ne.uploadData(),Qe.progressCallback=f||null,Qe.errorHandler=xg(n),Qe}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(g){return this._error=g,void this._transition("error")}const f=this._ref.storage._makeRequest(c,nl,i,a);this._request=f,f.getPromise().then(g=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(g.current),g.finalized?(this._metadata=g.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=n2(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,nl,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function o2(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},g=function f(){let Qe="";for(let Fe=0;Fe<2;Fe++)Qe+=Math.random().toString().slice(2);return Qe}();c["Content-Type"]="multipart/related; boundary="+g;const b=s2(e,r,i),T=WR(b,t),$=iu.getBlob("--"+g+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+T+"\r\n--"+g+"\r\nContent-Type: "+b.contentType+"\r\n\r\n",r,"\r\n--"+g+"--");if(null===$)throw GV();const z={name:b.fullPath},ne=oc(a,n.host,n._protocol),Ye=n.maxUploadRetryTime,je=new su(ne,"POST",CD(n,t),Ye);return je.urlParams=z,je.headers=c,je.body=$.uploadData(),je.errorHandler=xg(e),je}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,nl,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=$V(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=KR(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const a=new h6(t||void 0,r||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(KR(this._state)){case Us.SUCCESS:Rg(this._resolve.bind(null,this.snapshot))();break;case Us.CANCELED:case Us.ERROR:Rg(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(KR(this._state)){case Us.RUNNING:case Us.PAUSED:e.next&&Rg(e.next.bind(e,this.snapshot))();break;case Us.SUCCESS:e.complete&&Rg(e.complete.bind(e))();break;default:e.error&&Rg(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Of{constructor(e,t){this._service=e,this._location=t instanceof fs?t:fs.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Of(e,t)}get root(){const e=new fs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return JV(this._location.path)}get storage(){return this._service}get parent(){const e=function zz(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new fs(this._location.bucket,e);return new Of(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw zV(e)}}function d2(n,e,t){return YR.apply(this,arguments)}function YR(){return YR=(0,we.Z)(function*(n,e,t){const i=yield h2(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield d2(n,e,i.nextPageToken))}),YR.apply(this,arguments)}function h2(n,e){null!=e&&"number"==typeof e.maxResults&&$R("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=r6(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,nl)}function S6(n){n._throwIfRoot("getDownloadURL");const e=function i6(n,e,t){const i=oc(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,f=new su(i,"GET",function n6(n,e){return function t(r,i){const a=XV(n,i,e);return ou(null!==a),function Jz(n,e,t,r){const i=zR(e);if(null===i||!bD(i.downloadTokens))return null;const a=i.downloadTokens;if(0===a.length)return null;const c=encodeURIComponent;return a.split(",").map(b=>{const A=n.fullPath;return oc("/b/"+c(n.bucket)+"/o/"+c(A),t,r)+ZV({alt:"media",token:b})})[0]}(a,i,n.host,n._protocol)}}(n,t),c);return f.errorHandler=Bb(e),f}(n.storage,n._location,Vb());return n.storage.makeRequestWithTokens(e,nl).then(t=>{if(null===t)throw function Tz(){return new Ir("no-download-url","The given file does not have any download URLs.")}();return t})}function f2(n,e){const t=function Wz(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new fs(n._location.bucket,t);return new Of(n.storage,r)}function p2(n,e){if(n instanceof QR){const t=n;if(null==t._bucket)throw function Cz(){return new Ir("no-default-bucket","No default bucket found. Did you set the '"+HV+"' property when initializing the app?")}();const r=new Of(t,t._bucket);return null!=e?p2(r,e):r}return void 0!==e?f2(n,e):n}function x6(n,e){if(e&&function A6(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof QR)return function M6(n,e){return new Of(n,e)}(n,e);throw Mg("To use ref(service, url), the first argument must be a Storage instance.")}return p2(n,e)}function m2(n,e){const t=null==e?void 0:e[HV];return null==t?null:fs.makeFromBucketSpec(t,n)}class QR{constructor(e,t,r,i,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=jV,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?fs.makeFromBucketSpec(i,this._host):m2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?fs.makeFromBucketSpec(this._url,e):m2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){$R("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){$R("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,we.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,we.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Of(this,e)}_makeRequest(e,t,r,i){if(this._deleted)return new Sz(qV());{const a=function Lz(n,e,t,r,i,a){const c=ZV(n.urlParams),f=n.url+c,g=Object.assign({},n.headers);return function Nz(n,e){e&&(n["X-Firebase-GMPID"]=e)}(g,e),function Oz(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(g,t),function Pz(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(g,a),function Fz(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(g,r),new kz(f,n.method,g,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i)}(e,this._appId,r,i,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}makeRequestWithTokens(e,t){var r=this;return(0,we.Z)(function*(){const[i,a]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,a).getPromise()})()}}const g2="@firebase/storage";function v2(n,e){return x6(n=(0,yt.m9)(n),e)}function j6(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new QR(t,r,i,e,As.SDK_VERSION)}!function H6(){(0,As._registerComponent)(new ju.wA("storage",j6,"PUBLIC").setMultipleInstances(!0)),(0,As.registerVersion)(g2,"0.9.4",""),(0,As.registerVersion)(g2,"0.9.4","esm2017")}();class TD{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class b2{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new TD(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new TD(r,this,this._ref))},t)}on(e,t,r,i){let a;return t&&(a="function"==typeof t?c=>t(new TD(c,this,this._ref)):{next:t.next?c=>t.next(new TD(c,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)}}class w2{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new ac(e,this._service))}get items(){return this._delegate.items.map(e=>new ac(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ac{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function B6(n,e){return f2(n,e)}(this._delegate,e);return new ac(t,this.storage)}get root(){return new ac(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new ac(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new b2(function k6(n,e,t){return function w6(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new u2(n,new iu(e),t)}(n=(0,yt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=$o.RAW,r){this._throwIfRoot("putString");const i=qR(t,e),a=Object.assign({},r);return null==a.contentType&&null!=i.contentType&&(a.contentType=i.contentType),new b2(new u2(this._delegate,new iu(i.data,!0),a),this)}listAll(){return function F6(n){return function C6(n){const e={prefixes:[],items:[]};return d2(n,e).then(()=>e)}(n=(0,yt.m9)(n))}(this._delegate).then(e=>new w2(e,this.storage))}list(e){return function N6(n,e){return h2(n=(0,yt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new w2(t,this.storage))}getMetadata(){return function O6(n){return function D6(n){n._throwIfRoot("getMetadata");const e=n2(n.storage,n._location,Vb());return n.storage.makeRequestWithTokens(e,nl)}(n=(0,yt.m9)(n))}(this._delegate)}updateMetadata(e){return function P6(n,e){return function T6(n,e){n._throwIfRoot("updateMetadata");const t=function s6(n,e,t,r){const a=oc(e.fullServerUrl(),n.host,n._protocol),f=WR(t,r),b=n.maxOperationRetryTime,T=new su(a,"PATCH",CD(n,r),b);return T.headers={"Content-Type":"application/json; charset=utf-8"},T.body=f,T.errorHandler=Bb(e),T}(n.storage,n._location,e,Vb());return n.storage.makeRequestWithTokens(t,nl)}(n=(0,yt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function L6(n){return S6(n=(0,yt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function V6(n){return function I6(n){n._throwIfRoot("deleteObject");const e=function o6(n,e){const r=oc(e.fullServerUrl(),n.host,n._protocol),f=new su(r,"DELETE",function c(g,b){},n.maxOperationRetryTime);return f.successCodes=[200,204],f.errorHandler=Bb(e),f}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,nl)}(n=(0,yt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw zV(e)}}class E2{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(C2(e))throw Mg("ref() expected a child path but got a URL, use refFromURL instead.");return new ac(v2(this._delegate,e),this)}refFromURL(e){if(!C2(e))throw Mg("refFromURL() expected a full URL but got a child path, use ref() instead.");try{fs.makeFromUrl(e,this._delegate.host)}catch(t){throw Mg("refFromUrl() expected a valid full URL but got an invalid one.")}return new ac(v2(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function U6(n,e,t,r={}){!function R6(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,yt.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function C2(n){return/^[A-Za-z]+:\/\//.test(n)}function z6(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new E2(t,r)}function D2(n){const e=function Z6(n){return new wn.y(e=>{const t=c=>e.next(c);t(n.snapshot);const a=n.on("state_changed",t);return n.then(c=>{t(c),e.complete()},c=>{t(n.snapshot),(c=>{e.error(c)})(c)}),function(){a()}}).pipe(Cy(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Vt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function SD(n){return{getDownloadURL:()=>ct(void 0).pipe(qn.fc,En(()=>n.getDownloadURL()),qn.iC),getMetadata:()=>ct(void 0).pipe(qn.fc,En(()=>n.getMetadata()),qn.iC),delete:()=>(0,gn.D)(n.delete()),child:e=>SD(n.child(e)),updateMetadata:e=>(0,gn.D)(n.updateMetadata(e)),put:(e,t)=>D2(n.put(e,t)),putString:(e,t,r)=>D2(n.putString(e,t,r)),list:e=>(0,gn.D)(n.list(e)),listAll:()=>(0,gn.D)(n.listAll())}}!function W6(n){const e={TaskState:Us,TaskEvent:d6,StringFormat:$o,Storage:E2,Reference:ac};n.INTERNAL.registerComponent(new ju.wA("storage-compat",z6,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.12")}(bP.Z);const K6=new u.OlP("angularfire2.storageBucket"),Y6=new u.OlP("angularfire2.storage.maxUploadRetryTime"),Q6=new u.OlP("angularfire2.storage.maxOperationRetryTime"),J6=new u.OlP("angularfire2.storage.use-emulator");let X6=(()=>{class n{constructor(t,r,i,a,c,f,g,b,T,A){const O=(0,$i.on)(t,c,r);this.storage=(0,$i.cc)(`${O.name}.storage.${i}`,"AngularFireStorage",O.name,()=>{const $=c.runOutsideAngular(()=>O.storage(i||void 0)),z=T;return z&&$.useEmulator(...z),g&&$.setMaxUploadRetryTime(g),b&&$.setMaxOperationRetryTime(b),$},[g,b])}ref(t){return SD(this.storage.ref(t))}refFromURL(t){return SD(this.storage.refFromURL(t))}upload(t,r,i){return SD(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG($i.Dh),u.LFG($i.xv,8),u.LFG(K6,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(qn.HU),u.LFG(Y6,8),u.LFG(Q6,8),u.LFG(J6,8),u.LFG(zp,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),eW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),tW=(()=>{class n{constructor(){Wp.Z.registerVersion("angularfire",qn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[X6],imports:[eW]}),n})();const T2_firebaseConfig={apiKey:"AIzaSyAQc65lmWgHFXyslApnZ6ZKAESQBdEaL6w",authDomain:"crud-rpg.firebaseapp.com",projectId:"crud-rpg",storageBucket:"crud-rpg.appspot.com",messagingSenderId:"846634721280",appId:"1:846634721280:web:6823e988c44efb59c838e5"};let nW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[kq]}),n.\u0275inj=u.cJS({providers:[],imports:[[cz,DT,Uu,Os,J3,sV,Zs,Rq,VE,iq,hz,$i.hO.initializeApp(T2_firebaseConfig),dG,tW,S0]]}),n})();(0,u.G48)(),Va().bootstrapModule(nW).catch(n=>console.error(n))},5867:(ut,Se,P)=>{P.d(Se,{Mq:()=>u.getApp,C6:()=>u.getApps});var u=P(9681);(0,u.registerVersion)("firebase","9.6.10","app")},127:(ut,Se,P)=>{P.d(Se,{Z:()=>u.Z});var u=P(3942);u.Z.registerVersion("firebase","9.6.10","app-compat")},5881:(ut,Se,P)=>{P.r(Se);var u=P(5861),H=P(3942),k=P(424),oe=P(2090),ie=(P(9681),P(1877),P(4859));function ce(){return window}function q(){return(q=(0,u.Z)(function*(N,V,j){var le;const{BuildInfo:Be}=ce();(0,k.ap)(V.sessionId,"AuthEvent did not contain a session ID");const ze=yield De(V.sessionId),Tt={};return(0,k.aq)()?Tt.ibi=Be.packageName:(0,k.ar)()?Tt.apn=Be.packageName:(0,k.as)(N,"operation-not-supported-in-this-environment"),Be.displayName&&(Tt.appDisplayName=Be.displayName),Tt.sessionId=ze,(0,k.at)(N,j,V.type,void 0,null!==(le=V.eventId)&&void 0!==le?le:void 0,Tt)})).apply(this,arguments)}function $e(){return($e=(0,u.Z)(function*(N){const{BuildInfo:V}=ce(),j={};(0,k.aq)()?j.iosBundleId=V.packageName:(0,k.ar)()?j.androidPackageName=V.packageName:(0,k.as)(N,"operation-not-supported-in-this-environment"),yield(0,k.au)(N,j)})).apply(this,arguments)}function Le(){return(Le=(0,u.Z)(function*(N,V,j){const{cordova:le}=ce();let Be=()=>{};try{yield new Promise((ze,Tt)=>{let rt=null;function Rt(){var Kt;ze();const xr=null===(Kt=le.plugins.browsertab)||void 0===Kt?void 0:Kt.close;"function"==typeof xr&&xr(),"function"==typeof(null==j?void 0:j.close)&&j.close()}function Sn(){rt||(rt=window.setTimeout(()=>{Tt((0,k.av)(N,"redirect-cancelled-by-user"))},2e3))}function or(){"visible"===(null==document?void 0:document.visibilityState)&&Sn()}V.addPassiveListener(Rt),document.addEventListener("resume",Sn,!1),(0,k.ar)()&&document.addEventListener("visibilitychange",or,!1),Be=()=>{V.removePassiveListener(Rt),document.removeEventListener("resume",Sn,!1),document.removeEventListener("visibilitychange",or,!1),rt&&window.clearTimeout(rt)}})}finally{Be()}})).apply(this,arguments)}function De(N){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,u.Z)(function*(N){const V=He(N),j=yield crypto.subtle.digest("SHA-256",V);return Array.from(new Uint8Array(j)).map(Be=>Be.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function He(N){if((0,k.ap)(/[0-9a-zA-Z]+/.test(N),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(N);const V=new ArrayBuffer(N.length),j=new Uint8Array(V);for(let le=0;le<N.length;le++)j[le]=N.charCodeAt(le);return j}class Ae extends k.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(V=>{this.resolveInialized=V})}addPassiveListener(V){this.passiveListeners.add(V)}removePassiveListener(V){this.passiveListeners.delete(V)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(V){return this.resolveInialized(),this.passiveListeners.forEach(j=>j(V)),super.onEvent(V)}initialized(){var V=this;return(0,u.Z)(function*(){yield V.initPromise})()}}function te(N){return Je.apply(this,arguments)}function Je(){return(Je=(0,u.Z)(function*(N){const V=yield ue()._get(me(N));return V&&(yield ue()._remove(me(N))),V})).apply(this,arguments)}function he(){const N=[],V="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let j=0;j<20;j++){const le=Math.floor(Math.random()*V.length);N.push(V.charAt(le))}return N.join("")}function ue(){return(0,k.ax)(k.b)}function me(N){return(0,k.ay)("authEvent",N.config.apiKey,N.name)}function It(N){if(!(null==N?void 0:N.includes("?")))return{};const[V,...j]=N.split("?");return(0,oe.zd)(j.join("?"))}function mt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,k.av)("no-auth-event")}}function Qt(){var N;return(null===(N=null==self?void 0:self.location)||void 0===N?void 0:N.protocol)||null}function On(N=(0,oe.z$)()){return!("file:"!==Qt()&&"ionic:"!==Qt()||!N.toLowerCase().match(/iphone|ipad|ipod|android/))}function pi(){try{const N=self.localStorage,V=k.aG();if(N)return N.setItem(V,"1"),N.removeItem(V),!function Qi(N=(0,oe.z$)()){return function Ar(){return(0,oe.w1)()&&11===(null==document?void 0:document.documentMode)}()||function wr(N=(0,oe.z$)()){return/Edge\/\d+/.test(N)}(N)}()||(0,oe.hl)()}catch(N){return hr()&&(0,oe.hl)()}return!1}function hr(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Er(){return(function tn(){return"http:"===Qt()||"https:"===Qt()}()||(0,oe.ru)()||On())&&!function dr(){return(0,oe.b$)()||(0,oe.UG)()}()&&pi()&&!hr()}function ps(){return On()&&"undefined"!=typeof document}function Mr(){return(Mr=(0,u.Z)(function*(){return!!ps()&&new Promise(N=>{const V=setTimeout(()=>{N(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(V),N(!0)})})})).apply(this,arguments)}const sn={LOCAL:"local",NONE:"none",SESSION:"session"},zn=k.aw,mi="persistence";function Pn(N){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,u.Z)(function*(N){yield N._initializationPromise;const V=Gt(),j=k.ay(mi,N.config.apiKey,N.name);V&&V.setItem(j,N._getPersistence())})).apply(this,arguments)}function Gt(){var N;try{return(null===(N=function Ln(){return"undefined"!=typeof window?window:null}())||void 0===N?void 0:N.sessionStorage)||null}catch(V){return null}}const ft=k.aw;class it{constructor(){this.browserResolver=k.ax(k.k),this.cordovaResolver=k.ax(class Fn{constructor(){this._redirectPersistence=k.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=k.aA}_initialize(V){var j=this;return(0,u.Z)(function*(){const le=V._key();let Be=j.eventManagers.get(le);return Be||(Be=new Ae(V),j.eventManagers.set(le,Be),j.attachCallbackListeners(V,Be)),Be})()}_openPopup(V){(0,k.as)(V,"operation-not-supported-in-this-environment")}_openRedirect(V,j,le,Be){var ze=this;return(0,u.Z)(function*(){!function _e(N){var V,j,le,Be,ze,Tt,rt,Rt,Sn,or;const Kt=ce();(0,k.aw)("function"==typeof(null===(V=null==Kt?void 0:Kt.universalLinks)||void 0===V?void 0:V.subscribe),N,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,k.aw)(void 0!==(null===(j=null==Kt?void 0:Kt.BuildInfo)||void 0===j?void 0:j.packageName),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,k.aw)("function"==typeof(null===(ze=null===(Be=null===(le=null==Kt?void 0:Kt.cordova)||void 0===le?void 0:le.plugins)||void 0===Be?void 0:Be.browsertab)||void 0===ze?void 0:ze.openUrl),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.aw)("function"==typeof(null===(Rt=null===(rt=null===(Tt=null==Kt?void 0:Kt.cordova)||void 0===Tt?void 0:Tt.plugins)||void 0===rt?void 0:rt.browsertab)||void 0===Rt?void 0:Rt.isAvailable),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.aw)("function"==typeof(null===(or=null===(Sn=null==Kt?void 0:Kt.cordova)||void 0===Sn?void 0:Sn.InAppBrowser)||void 0===or?void 0:or.open),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(V);const Tt=yield ze._initialize(V);yield Tt.initialized(),Tt.resetRedirect(),(0,k.aB)(),yield ze._originValidation(V);const rt=function Ce(N,V,j=null){return{type:V,eventId:j,urlResponse:null,sessionId:he(),postBody:null,tenantId:N.tenantId,error:(0,k.av)(N,"no-auth-event")}}(V,le,Be);yield function Ze(N,V){return ue()._set(me(N),V)}(V,rt);const Rt=yield function W(N,V,j){return q.apply(this,arguments)}(V,rt,j),Sn=yield function ke(N){const{cordova:V}=ce();return new Promise(j=>{V.plugins.browsertab.isAvailable(le=>{let Be=null;le?V.plugins.browsertab.openUrl(N):Be=V.InAppBrowser.open(N,(0,k.ao)()?"_blank":"_system","location=yes"),j(Be)})})}(Rt);return function Ne(N,V,j){return Le.apply(this,arguments)}(V,Tt,Sn)})()}_isIframeWebStorageSupported(V,j){throw new Error("Method not implemented.")}_originValidation(V){const j=V._key();return this.originValidationPromises[j]||(this.originValidationPromises[j]=function ee(N){return $e.apply(this,arguments)}(V)),this.originValidationPromises[j]}attachCallbackListeners(V,j){const{universalLinks:le,handleOpenURL:Be,BuildInfo:ze}=ce(),Tt=setTimeout((0,u.Z)(function*(){yield te(V),j.onEvent(mt())}),500),rt=function(){var or=(0,u.Z)(function*(Kt){clearTimeout(Tt);const xr=yield te(V);let Fi=null;xr&&(null==Kt?void 0:Kt.url)&&(Fi=function Y(N,V){var j,le;const Be=function ae(N){const V=It(N),j=V.link?decodeURIComponent(V.link):void 0,le=It(j).link,Be=V.deep_link_id?decodeURIComponent(V.deep_link_id):void 0;return It(Be).link||Be||le||j||N}(V);if(Be.includes("/__/auth/callback")){const ze=It(Be),Tt=ze.firebaseError?function Pe(N){try{return JSON.parse(N)}catch(V){return null}}(decodeURIComponent(ze.firebaseError)):null,rt=null===(le=null===(j=null==Tt?void 0:Tt.code)||void 0===j?void 0:j.split("auth/"))||void 0===le?void 0:le[1],Rt=rt?(0,k.av)(rt):null;return Rt?{type:N.type,eventId:N.eventId,tenantId:N.tenantId,error:Rt,urlResponse:null,sessionId:null,postBody:null}:{type:N.type,eventId:N.eventId,tenantId:N.tenantId,sessionId:N.sessionId,urlResponse:Be,postBody:null}}return null}(xr,Kt.url)),j.onEvent(Fi||mt())});return function(xr){return or.apply(this,arguments)}}();void 0!==le&&"function"==typeof le.subscribe&&le.subscribe(null,rt);const Rt=Be,Sn=`${ze.packageName.toLowerCase()}://`;ce().handleOpenURL=function(){var or=(0,u.Z)(function*(Kt){if(Kt.toLowerCase().startsWith(Sn)&&rt({url:Kt}),"function"==typeof Rt)try{Rt(Kt)}catch(xr){console.error(xr)}});return function(Kt){return or.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=k.a,this._completeRedirectFn=k.aA}_initialize(V){var j=this;return(0,u.Z)(function*(){return yield j.selectUnderlyingResolver(),j.assertedUnderlyingResolver._initialize(V)})()}_openPopup(V,j,le,Be){var ze=this;return(0,u.Z)(function*(){return yield ze.selectUnderlyingResolver(),ze.assertedUnderlyingResolver._openPopup(V,j,le,Be)})()}_openRedirect(V,j,le,Be){var ze=this;return(0,u.Z)(function*(){return yield ze.selectUnderlyingResolver(),ze.assertedUnderlyingResolver._openRedirect(V,j,le,Be)})()}_isIframeWebStorageSupported(V,j){this.assertedUnderlyingResolver._isIframeWebStorageSupported(V,j)}_originValidation(V){return this.assertedUnderlyingResolver._originValidation(V)}get _shouldInitProactively(){return ps()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ft(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var V=this;return(0,u.Z)(function*(){if(V.underlyingResolver)return;const j=yield function _t(){return Mr.apply(this,arguments)}();V.underlyingResolver=j?V.cordovaResolver:V.browserResolver})()}}function ri(N){return N.unwrap()}function zt(N){return Bn(N)}function Bn(N){const{_tokenResponse:V}=N instanceof oe.ZR?N.customData:N;if(!V)return null;if(!(N instanceof oe.ZR)&&"temporaryProof"in V&&"phoneNumber"in V)return k.P.credentialFromResult(N);const j=V.providerId;if(!j||j===k.o.PASSWORD)return null;let le;switch(j){case k.o.GOOGLE:le=k.N;break;case k.o.FACEBOOK:le=k.M;break;case k.o.GITHUB:le=k.Q;break;case k.o.TWITTER:le=k.V;break;default:const{oauthIdToken:Be,oauthAccessToken:ze,oauthTokenSecret:Tt,pendingToken:rt,nonce:Rt}=V;return ze||Tt||Be||rt?rt?j.startsWith("saml.")?k.aJ._create(j,rt):k.I._fromParams({providerId:j,signInMethod:j,pendingToken:rt,idToken:Be,accessToken:ze}):new k.T(j).credential({idToken:Be,accessToken:ze,rawNonce:Rt}):null}return N instanceof oe.ZR?le.credentialFromError(N):le.credentialFromResult(N)}function on(N,V){return V.catch(j=>{throw j instanceof oe.ZR&&function Xi(N,V){var j;const le=null===(j=V.customData)||void 0===j?void 0:j._tokenResponse;if("auth/multi-factor-auth-required"===V.code)V.resolver=new Wt(N,k.am(N,V));else if(le){const Be=Bn(V),ze=V;Be&&(ze.credential=Be,ze.tenantId=le.tenantId||void 0,ze.email=le.email||void 0,ze.phoneNumber=le.phoneNumber||void 0)}}(N,j),j}).then(j=>{const Be=j.user;return{operationType:j.operationType,credential:zt(j),additionalUserInfo:k.ak(j),user:Ge.getOrCreate(Be)}})}function vt(N,V){return Un.apply(this,arguments)}function Un(){return(Un=(0,u.Z)(function*(N,V){const j=yield V;return{verificationId:j.verificationId,confirm:le=>on(N,j.confirm(le))}})).apply(this,arguments)}class Wt{constructor(V,j){this.resolver=j,this.auth=function Ji(N){return N.wrapped()}(V)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(V){return on(ri(this.auth),this.resolver.resolveSignIn(V))}}class Ge{constructor(V){this._delegate=V,this.multiFactor=k.an(V)}static getOrCreate(V){return Ge.USER_MAP.has(V)||Ge.USER_MAP.set(V,new Ge(V)),Ge.USER_MAP.get(V)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(V){return this._delegate.getIdTokenResult(V)}getIdToken(V){return this._delegate.getIdToken(V)}linkAndRetrieveDataWithCredential(V){return this.linkWithCredential(V)}linkWithCredential(V){var j=this;return(0,u.Z)(function*(){return on(j.auth,k.Y(j._delegate,V))})()}linkWithPhoneNumber(V,j){var le=this;return(0,u.Z)(function*(){return vt(le.auth,k.l(le._delegate,V,j))})()}linkWithPopup(V){var j=this;return(0,u.Z)(function*(){return on(j.auth,k.d(j._delegate,V,it))})()}linkWithRedirect(V){var j=this;return(0,u.Z)(function*(){return yield Pn(k.aC(j.auth)),k.g(j._delegate,V,it)})()}reauthenticateAndRetrieveDataWithCredential(V){return this.reauthenticateWithCredential(V)}reauthenticateWithCredential(V){var j=this;return(0,u.Z)(function*(){return on(j.auth,k.Z(j._delegate,V))})()}reauthenticateWithPhoneNumber(V,j){return vt(this.auth,k.r(this._delegate,V,j))}reauthenticateWithPopup(V){return on(this.auth,k.e(this._delegate,V,it))}reauthenticateWithRedirect(V){var j=this;return(0,u.Z)(function*(){return yield Pn(k.aC(j.auth)),k.h(j._delegate,V,it)})()}sendEmailVerification(V){return k.aa(this._delegate,V)}unlink(V){var j=this;return(0,u.Z)(function*(){return yield k.aj(j._delegate,V),j})()}updateEmail(V){return k.af(this._delegate,V)}updatePassword(V){return k.ag(this._delegate,V)}updatePhoneNumber(V){return k.u(this._delegate,V)}updateProfile(V){return k.ae(this._delegate,V)}verifyBeforeUpdateEmail(V,j){return k.ab(this._delegate,V,j)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ge.USER_MAP=new WeakMap;const Te=k.aw;let et=(()=>{class N{constructor(j,le){if(this.app=j,le.isInitialized())return this._delegate=le.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Be}=j.options;Te(Be,"invalid-api-key",{appName:j.name}),Te(Be,"invalid-api-key",{appName:j.name});const ze="undefined"!=typeof window?it:void 0;this._delegate=le.initialize({options:{persistence:Ft(Be,j.name),popupRedirectResolver:ze}}),this._delegate._updateErrorMap(k.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ge.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(j){this._delegate.languageCode=j}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(j){this._delegate.tenantId=j}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(j,le){k.E(this._delegate,j,le)}applyActionCode(j){return k.a1(this._delegate,j)}checkActionCode(j){return k.a2(this._delegate,j)}confirmPasswordReset(j,le){return k.a0(this._delegate,j,le)}createUserWithEmailAndPassword(j,le){var Be=this;return(0,u.Z)(function*(){return on(Be._delegate,k.a4(Be._delegate,j,le))})()}fetchProvidersForEmail(j){return this.fetchSignInMethodsForEmail(j)}fetchSignInMethodsForEmail(j){return k.a9(this._delegate,j)}isSignInWithEmailLink(j){return k.a7(this._delegate,j)}getRedirectResult(){var j=this;return(0,u.Z)(function*(){Te(Er(),j._delegate,"operation-not-supported-in-this-environment");const le=yield k.j(j._delegate,it);return le?on(j._delegate,Promise.resolve(le)):{credential:null,user:null}})()}addFrameworkForLogging(j){!function hn(N,V){(0,k.aC)(N)._logFramework(V)}(this._delegate,j)}onAuthStateChanged(j,le,Be){const{next:ze,error:Tt,complete:rt}=pt(j,le,Be);return this._delegate.onAuthStateChanged(ze,Tt,rt)}onIdTokenChanged(j,le,Be){const{next:ze,error:Tt,complete:rt}=pt(j,le,Be);return this._delegate.onIdTokenChanged(ze,Tt,rt)}sendSignInLinkToEmail(j,le){return k.a6(this._delegate,j,le)}sendPasswordResetEmail(j,le){return k.$(this._delegate,j,le||void 0)}setPersistence(j){var le=this;return(0,u.Z)(function*(){let Be;switch(function Vn(N,V){zn(Object.values(sn).includes(V),N,"invalid-persistence-type"),(0,oe.b$)()?zn(V!==sn.SESSION,N,"unsupported-persistence-type"):(0,oe.UG)()?zn(V===sn.NONE,N,"unsupported-persistence-type"):hr()?zn(V===sn.NONE||V===sn.LOCAL&&(0,oe.hl)(),N,"unsupported-persistence-type"):zn(V===sn.NONE||pi(),N,"unsupported-persistence-type")}(le._delegate,j),j){case sn.SESSION:Be=k.a;break;case sn.LOCAL:Be=(yield k.ax(k.i)._isAvailable())?k.i:k.b;break;case sn.NONE:Be=k.K;break;default:return k.as("argument-error",{appName:le._delegate.name})}return le._delegate.setPersistence(Be)})()}signInAndRetrieveDataWithCredential(j){return this.signInWithCredential(j)}signInAnonymously(){return on(this._delegate,k.W(this._delegate))}signInWithCredential(j){return on(this._delegate,k.X(this._delegate,j))}signInWithCustomToken(j){return on(this._delegate,k._(this._delegate,j))}signInWithEmailAndPassword(j,le){return on(this._delegate,k.a5(this._delegate,j,le))}signInWithEmailLink(j,le){return on(this._delegate,k.a8(this._delegate,j,le))}signInWithPhoneNumber(j,le){return vt(this._delegate,k.s(this._delegate,j,le))}signInWithPopup(j){var le=this;return(0,u.Z)(function*(){return Te(Er(),le._delegate,"operation-not-supported-in-this-environment"),on(le._delegate,k.c(le._delegate,j,it))})()}signInWithRedirect(j){var le=this;return(0,u.Z)(function*(){return Te(Er(),le._delegate,"operation-not-supported-in-this-environment"),yield Pn(le._delegate),k.f(le._delegate,j,it)})()}updateCurrentUser(j){return this._delegate.updateCurrentUser(j)}verifyPasswordResetCode(j){return k.a3(this._delegate,j)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return N.Persistence=sn,N})();function pt(N,V,j){let le=N;"function"!=typeof N&&({next:le,error:V,complete:j}=N);const Be=le;return{next:Tt=>Be(Tt&&Ge.getOrCreate(Tt)),error:V,complete:j}}function Ft(N,V){const j=function go(N,V){const j=Gt();if(!j)return[];const le=k.ay(mi,N,V);switch(j.getItem(le)){case sn.NONE:return[k.K];case sn.LOCAL:return[k.i,k.a];case sn.SESSION:return[k.a];default:return[]}}(N,V);if("undefined"!=typeof self&&!j.includes(k.i)&&j.push(k.i),"undefined"!=typeof window)for(const le of[k.b,k.a])j.includes(le)||j.push(le);return j.includes(k.K)||j.push(k.K),j}class Lt{constructor(){this.providerId="phone",this._delegate=new k.P(ri(H.Z.auth()))}static credential(V,j){return k.P.credential(V,j)}verifyPhoneNumber(V,j){return this._delegate.verifyPhoneNumber(V,j)}unwrap(){return this._delegate}}Lt.PHONE_SIGN_IN_METHOD=k.P.PHONE_SIGN_IN_METHOD,Lt.PROVIDER_ID=k.P.PROVIDER_ID;const Z=k.aw;class U{constructor(V,j,le=H.Z.app()){var Be;Z(null===(Be=le.options)||void 0===Be?void 0:Be.apiKey,"invalid-api-key",{appName:le.name}),this._delegate=new k.R(V,j,le.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function fe(N){N.INTERNAL.registerComponent(new ie.wA("auth-compat",V=>{const j=V.getProvider("app-compat").getImmediate(),le=V.getProvider("auth");return new et(j,le)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:k.A.EMAIL_SIGNIN,PASSWORD_RESET:k.A.PASSWORD_RESET,RECOVER_EMAIL:k.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:k.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:k.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:k.A.VERIFY_EMAIL}},EmailAuthProvider:k.L,FacebookAuthProvider:k.M,GithubAuthProvider:k.Q,GoogleAuthProvider:k.N,OAuthProvider:k.T,SAMLAuthProvider:k.U,PhoneAuthProvider:Lt,PhoneMultiFactorGenerator:k.m,RecaptchaVerifier:U,TwitterAuthProvider:k.V,Auth:et,AuthCredential:k.G,Error:oe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),N.registerVersion("@firebase/auth-compat","0.2.11")}(H.Z)},8306:(ut,Se,P)=>{P.d(Se,{y:()=>W});var u=P(930),H=P(727),k=P(8822),oe=P(4671);var ie=P(2416),ce=P(576),be=P(2806);let W=(()=>{class ke{constructor(Le){Le&&(this._subscribe=Le)}lift(Le){const _e=new ke;return _e.source=this,_e.operator=Le,_e}subscribe(Le,_e,De){const Xe=function $e(ke){return ke&&ke instanceof u.Lv||function ee(ke){return ke&&(0,ce.m)(ke.next)&&(0,ce.m)(ke.error)&&(0,ce.m)(ke.complete)}(ke)&&(0,H.Nn)(ke)}(Le)?Le:new u.Hp(Le,_e,De);return(0,be.x)(()=>{const{operator:He,source:Re}=this;Xe.add(He?He.call(Xe,Re):Re?this._subscribe(Xe):this._trySubscribe(Xe))}),Xe}_trySubscribe(Le){try{return this._subscribe(Le)}catch(_e){Le.error(_e)}}forEach(Le,_e){return new(_e=q(_e))((De,Xe)=>{const He=new u.Hp({next:Re=>{try{Le(Re)}catch(Ae){Xe(Ae),He.unsubscribe()}},error:Xe,complete:De});this.subscribe(He)})}_subscribe(Le){var _e;return null===(_e=this.source)||void 0===_e?void 0:_e.subscribe(Le)}[k.L](){return this}pipe(...Le){return function ve(ke){return 0===ke.length?oe.y:1===ke.length?ke[0]:function(Le){return ke.reduce((_e,De)=>De(_e),Le)}}(Le)(this)}toPromise(Le){return new(Le=q(Le))((_e,De)=>{let Xe;this.subscribe(He=>Xe=He,He=>De(He),()=>_e(Xe))})}}return ke.create=Ne=>new ke(Ne),ke})();function q(ke){var Ne;return null!==(Ne=null!=ke?ke:ie.v.Promise)&&void 0!==Ne?Ne:Promise}},7579:(ut,Se,P)=>{P.d(Se,{x:()=>ie});var u=P(8306),H=P(727);const oe=(0,P(3888).d)(be=>function(){be(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=P(8737),ve=P(2806);let ie=(()=>{class be extends u.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const ee=new ce(this,this);return ee.operator=q,ee}_throwIfClosed(){if(this.closed)throw new oe}next(q){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const ee=this.observers.slice();for(const $e of ee)$e.next(q)}})}error(q){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:ee}=this;for(;ee.length;)ee.shift().error(q)}})}complete(){(0,ve.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:ee,isStopped:$e,observers:ke}=this;return ee||$e?H.Lc:(ke.push(q),new H.w0(()=>(0,se.P)(ke,q)))}_checkFinalizedStatuses(q){const{hasError:ee,thrownError:$e,isStopped:ke}=this;ee?q.error($e):ke&&q.complete()}asObservable(){const q=new u.y;return q.source=this,q}}return be.create=(W,q)=>new ce(W,q),be})();class ce extends ie{constructor(W,q){super(),this.destination=W,this.source=q}next(W){var q,ee;null===(ee=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===ee||ee.call(q,W)}error(W){var q,ee;null===(ee=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===ee||ee.call(q,W)}complete(){var W,q;null===(q=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===q||q.call(W)}_subscribe(W){var q,ee;return null!==(ee=null===(q=this.source)||void 0===q?void 0:q.subscribe(W))&&void 0!==ee?ee:H.Lc}}},930:(ut,Se,P)=>{P.d(Se,{Hp:()=>Le,Lv:()=>ee});var u=P(576),H=P(727),k=P(2416),oe=P(7849),se=P(5032);const ve=be("C",void 0,void 0);function be(Re,Ae,Ce){return{kind:Re,value:Ae,error:Ce}}var W=P(3410),q=P(2806);class ee extends H.w0{constructor(Ae){super(),this.isStopped=!1,Ae?(this.destination=Ae,(0,H.Nn)(Ae)&&Ae.add(this)):this.destination=He}static create(Ae,Ce,Ze){return new Le(Ae,Ce,Ze)}next(Ae){this.isStopped?Xe(function ce(Re){return be("N",Re,void 0)}(Ae),this):this._next(Ae)}error(Ae){this.isStopped?Xe(function ie(Re){return be("E",void 0,Re)}(Ae),this):(this.isStopped=!0,this._error(Ae))}complete(){this.isStopped?Xe(ve,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ae){this.destination.next(Ae)}_error(Ae){try{this.destination.error(Ae)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function ke(Re,Ae){return $e.call(Re,Ae)}class Ne{constructor(Ae){this.partialObserver=Ae}next(Ae){const{partialObserver:Ce}=this;if(Ce.next)try{Ce.next(Ae)}catch(Ze){_e(Ze)}}error(Ae){const{partialObserver:Ce}=this;if(Ce.error)try{Ce.error(Ae)}catch(Ze){_e(Ze)}else _e(Ae)}complete(){const{partialObserver:Ae}=this;if(Ae.complete)try{Ae.complete()}catch(Ce){_e(Ce)}}}class Le extends ee{constructor(Ae,Ce,Ze){let te;if(super(),(0,u.m)(Ae)||!Ae)te={next:null!=Ae?Ae:void 0,error:null!=Ce?Ce:void 0,complete:null!=Ze?Ze:void 0};else{let Je;this&&k.v.useDeprecatedNextContext?(Je=Object.create(Ae),Je.unsubscribe=()=>this.unsubscribe(),te={next:Ae.next&&ke(Ae.next,Je),error:Ae.error&&ke(Ae.error,Je),complete:Ae.complete&&ke(Ae.complete,Je)}):te=Ae}this.destination=new Ne(te)}}function _e(Re){k.v.useDeprecatedSynchronousErrorHandling?(0,q.O)(Re):(0,oe.h)(Re)}function Xe(Re,Ae){const{onStoppedNotification:Ce}=k.v;Ce&&W.z.setTimeout(()=>Ce(Re,Ae))}const He={closed:!0,next:se.Z,error:function De(Re){throw Re},complete:se.Z}},727:(ut,Se,P)=>{P.d(Se,{Lc:()=>ve,w0:()=>se,Nn:()=>ie});var u=P(576);const k=(0,P(3888).d)(be=>function(q){be(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((ee,$e)=>`${$e+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var oe=P(8737);class se{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const ke of q)ke.remove(this);else q.remove(this);const{initialTeardown:ee}=this;if((0,u.m)(ee))try{ee()}catch(ke){W=ke instanceof k?ke.errors:[ke]}const{_teardowns:$e}=this;if($e){this._teardowns=null;for(const ke of $e)try{ce(ke)}catch(Ne){W=null!=W?W:[],Ne instanceof k?W=[...W,...Ne.errors]:W.push(Ne)}}if(W)throw new k(W)}}add(W){var q;if(W&&W!==this)if(this.closed)ce(W);else{if(W instanceof se){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._teardowns=null!==(q=this._teardowns)&&void 0!==q?q:[]).push(W)}}_hasParent(W){const{_parentage:q}=this;return q===W||Array.isArray(q)&&q.includes(W)}_addParent(W){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(W),q):q?[q,W]:W}_removeParent(W){const{_parentage:q}=this;q===W?this._parentage=null:Array.isArray(q)&&(0,oe.P)(q,W)}remove(W){const{_teardowns:q}=this;q&&(0,oe.P)(q,W),W instanceof se&&W._removeParent(this)}}se.EMPTY=(()=>{const be=new se;return be.closed=!0,be})();const ve=se.EMPTY;function ie(be){return be instanceof se||be&&"closed"in be&&(0,u.m)(be.remove)&&(0,u.m)(be.add)&&(0,u.m)(be.unsubscribe)}function ce(be){(0,u.m)(be)?be():be.unsubscribe()}},2416:(ut,Se,P)=>{P.d(Se,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ut,Se,P)=>{P.d(Se,{E:()=>H});const H=new(P(8306).y)(se=>se.complete())},8996:(ut,Se,P)=>{P.d(Se,{D:()=>Ae});var u=P(8421),H=P(5363),k=P(9468),ve=P(8306),ce=P(2202),be=P(576),W=P(9672);function ee(Ce,Ze){if(!Ce)throw new Error("Iterable cannot be null");return new ve.y(te=>{(0,W.f)(te,Ze,()=>{const Je=Ce[Symbol.asyncIterator]();(0,W.f)(te,Ze,()=>{Je.next().then(Y=>{Y.done?te.complete():te.next(Y.value)})},0,!0)})})}var $e=P(3670),ke=P(8239),Ne=P(1144),Le=P(6495),_e=P(2206),De=P(4532),Xe=P(3260);function Ae(Ce,Ze){return Ze?function Re(Ce,Ze){if(null!=Ce){if((0,$e.c)(Ce))return function oe(Ce,Ze){return(0,u.Xf)(Ce).pipe((0,k.R)(Ze),(0,H.Q)(Ze))}(Ce,Ze);if((0,Ne.z)(Ce))return function ie(Ce,Ze){return new ve.y(te=>{let Je=0;return Ze.schedule(function(){Je===Ce.length?te.complete():(te.next(Ce[Je++]),te.closed||this.schedule())})})}(Ce,Ze);if((0,ke.t)(Ce))return function se(Ce,Ze){return(0,u.Xf)(Ce).pipe((0,k.R)(Ze),(0,H.Q)(Ze))}(Ce,Ze);if((0,_e.D)(Ce))return ee(Ce,Ze);if((0,Le.T)(Ce))return function q(Ce,Ze){return new ve.y(te=>{let Je;return(0,W.f)(te,Ze,()=>{Je=Ce[ce.h](),(0,W.f)(te,Ze,()=>{let Y,he;try{({value:Y,done:he}=Je.next())}catch(ue){return void te.error(ue)}he?te.complete():te.next(Y)},0,!0)}),()=>(0,be.m)(null==Je?void 0:Je.return)&&Je.return()})}(Ce,Ze);if((0,Xe.L)(Ce))return function He(Ce,Ze){return ee((0,Xe.Q)(Ce),Ze)}(Ce,Ze)}throw(0,De.z)(Ce)}(Ce,Ze):(0,u.Xf)(Ce)}},8421:(ut,Se,P)=>{P.d(Se,{Xf:()=>$e});var u=P(655),H=P(1144),k=P(8239),oe=P(8306),se=P(3670),ve=P(2206),ie=P(4532),ce=P(6495),be=P(3260),W=P(576),q=P(7849),ee=P(8822);function $e(Re){if(Re instanceof oe.y)return Re;if(null!=Re){if((0,se.c)(Re))return function ke(Re){return new oe.y(Ae=>{const Ce=Re[ee.L]();if((0,W.m)(Ce.subscribe))return Ce.subscribe(Ae);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Re);if((0,H.z)(Re))return function Ne(Re){return new oe.y(Ae=>{for(let Ce=0;Ce<Re.length&&!Ae.closed;Ce++)Ae.next(Re[Ce]);Ae.complete()})}(Re);if((0,k.t)(Re))return function Le(Re){return new oe.y(Ae=>{Re.then(Ce=>{Ae.closed||(Ae.next(Ce),Ae.complete())},Ce=>Ae.error(Ce)).then(null,q.h)})}(Re);if((0,ve.D)(Re))return De(Re);if((0,ce.T)(Re))return function _e(Re){return new oe.y(Ae=>{for(const Ce of Re)if(Ae.next(Ce),Ae.closed)return;Ae.complete()})}(Re);if((0,be.L)(Re))return function Xe(Re){return De((0,be.Q)(Re))}(Re)}throw(0,ie.z)(Re)}function De(Re){return new oe.y(Ae=>{(function He(Re,Ae){var Ce,Ze,te,Je;return(0,u.mG)(this,void 0,void 0,function*(){try{for(Ce=(0,u.KL)(Re);!(Ze=yield Ce.next()).done;)if(Ae.next(Ze.value),Ae.closed)return}catch(Y){te={error:Y}}finally{try{Ze&&!Ze.done&&(Je=Ce.return)&&(yield Je.call(Ce))}finally{if(te)throw te.error}}Ae.complete()})})(Re,Ae).catch(Ce=>Ae.error(Ce))})}},6451:(ut,Se,P)=>{P.d(Se,{T:()=>ve});var u=P(8189),H=P(8421),k=P(515),oe=P(3269),se=P(8996);function ve(...ie){const ce=(0,oe.yG)(ie),be=(0,oe._6)(ie,1/0),W=ie;return W.length?1===W.length?(0,H.Xf)(W[0]):(0,u.J)(be)((0,se.D)(W,ce)):k.E}},5403:(ut,Se,P)=>{P.d(Se,{x:()=>H});var u=P(930);function H(oe,se,ve,ie,ce){return new k(oe,se,ve,ie,ce)}class k extends u.Lv{constructor(se,ve,ie,ce,be,W){super(se),this.onFinalize=be,this.shouldUnsubscribe=W,this._next=ve?function(q){try{ve(q)}catch(ee){se.error(ee)}}:super._next,this._error=ce?function(q){try{ce(q)}catch(ee){se.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=ie?function(){try{ie()}catch(q){se.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ve}=this;super.unsubscribe(),!ve&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},4004:(ut,Se,P)=>{P.d(Se,{U:()=>k});var u=P(4482),H=P(5403);function k(oe,se){return(0,u.e)((ve,ie)=>{let ce=0;ve.subscribe((0,H.x)(ie,be=>{ie.next(oe.call(se,be,ce++))}))})}},8189:(ut,Se,P)=>{P.d(Se,{J:()=>k});var u=P(5577),H=P(4671);function k(oe=1/0){return(0,u.z)(H.y,oe)}},5577:(ut,Se,P)=>{P.d(Se,{z:()=>ce});var u=P(4004),H=P(8421),k=P(4482),oe=P(9672),se=P(5403),ie=P(576);function ce(be,W,q=1/0){return(0,ie.m)(W)?ce((ee,$e)=>(0,u.U)((ke,Ne)=>W(ee,ke,$e,Ne))((0,H.Xf)(be(ee,$e))),q):("number"==typeof W&&(q=W),(0,k.e)((ee,$e)=>function ve(be,W,q,ee,$e,ke,Ne,Le){const _e=[];let De=0,Xe=0,He=!1;const Re=()=>{He&&!_e.length&&!De&&W.complete()},Ae=Ze=>De<ee?Ce(Ze):_e.push(Ze),Ce=Ze=>{ke&&W.next(Ze),De++;let te=!1;(0,H.Xf)(q(Ze,Xe++)).subscribe((0,se.x)(W,Je=>{null==$e||$e(Je),ke?Ae(Je):W.next(Je)},()=>{te=!0},void 0,()=>{if(te)try{for(De--;_e.length&&De<ee;){const Je=_e.shift();Ne?(0,oe.f)(W,Ne,()=>Ce(Je)):Ce(Je)}Re()}catch(Je){W.error(Je)}}))};return be.subscribe((0,se.x)(W,Ae,()=>{He=!0,Re()})),()=>{null==Le||Le()}}(ee,$e,be,q)))}},5363:(ut,Se,P)=>{P.d(Se,{Q:()=>oe});var u=P(9672),H=P(4482),k=P(5403);function oe(se,ve=0){return(0,H.e)((ie,ce)=>{ie.subscribe((0,k.x)(ce,be=>(0,u.f)(ce,se,()=>ce.next(be),ve),()=>(0,u.f)(ce,se,()=>ce.complete(),ve),be=>(0,u.f)(ce,se,()=>ce.error(be),ve)))})}},3099:(ut,Se,P)=>{P.d(Se,{B:()=>ve});var u=P(8996),H=P(5698),k=P(7579),oe=P(930),se=P(4482);function ve(ce={}){const{connector:be=(()=>new k.x),resetOnError:W=!0,resetOnComplete:q=!0,resetOnRefCountZero:ee=!0}=ce;return $e=>{let ke=null,Ne=null,Le=null,_e=0,De=!1,Xe=!1;const He=()=>{null==Ne||Ne.unsubscribe(),Ne=null},Re=()=>{He(),ke=Le=null,De=Xe=!1},Ae=()=>{const Ce=ke;Re(),null==Ce||Ce.unsubscribe()};return(0,se.e)((Ce,Ze)=>{_e++,!Xe&&!De&&He();const te=Le=null!=Le?Le:be();Ze.add(()=>{_e--,0===_e&&!Xe&&!De&&(Ne=ie(Ae,ee))}),te.subscribe(Ze),ke||(ke=new oe.Hp({next:Je=>te.next(Je),error:Je=>{Xe=!0,He(),Ne=ie(Re,W,Je),te.error(Je)},complete:()=>{De=!0,He(),Ne=ie(Re,q),te.complete()}}),(0,u.D)(Ce).subscribe(ke))})($e)}}function ie(ce,be,...W){return!0===be?(ce(),null):!1===be?null:be(...W).pipe((0,H.q)(1)).subscribe(()=>ce())}},9468:(ut,Se,P)=>{P.d(Se,{R:()=>H});var u=P(4482);function H(k,oe=0){return(0,u.e)((se,ve)=>{ve.add(k.schedule(()=>se.subscribe(ve),oe))})}},5698:(ut,Se,P)=>{P.d(Se,{q:()=>oe});var u=P(515),H=P(4482),k=P(5403);function oe(se){return se<=0?()=>u.E:(0,H.e)((ve,ie)=>{let ce=0;ve.subscribe((0,k.x)(ie,be=>{++ce<=se&&(ie.next(be),se<=ce&&ie.complete())}))})}},8505:(ut,Se,P)=>{P.d(Se,{b:()=>se});var u=P(576),H=P(4482),k=P(5403),oe=P(4671);function se(ve,ie,ce){const be=(0,u.m)(ve)||ie||ce?{next:ve,error:ie,complete:ce}:ve;return be?(0,H.e)((W,q)=>{var ee;null===(ee=be.subscribe)||void 0===ee||ee.call(be);let $e=!0;W.subscribe((0,k.x)(q,ke=>{var Ne;null===(Ne=be.next)||void 0===Ne||Ne.call(be,ke),q.next(ke)},()=>{var ke;$e=!1,null===(ke=be.complete)||void 0===ke||ke.call(be),q.complete()},ke=>{var Ne;$e=!1,null===(Ne=be.error)||void 0===Ne||Ne.call(be,ke),q.error(ke)},()=>{var ke,Ne;$e&&(null===(ke=be.unsubscribe)||void 0===ke||ke.call(be)),null===(Ne=be.finalize)||void 0===Ne||Ne.call(be)}))}):oe.y}},4408:(ut,Se,P)=>{P.d(Se,{o:()=>se});var u=P(727);class H extends u.w0{constructor(ie,ce){super()}schedule(ie,ce=0){return this}}const k={setInterval(...ve){const{delegate:ie}=k;return((null==ie?void 0:ie.setInterval)||setInterval)(...ve)},clearInterval(ve){const{delegate:ie}=k;return((null==ie?void 0:ie.clearInterval)||clearInterval)(ve)},delegate:void 0};var oe=P(8737);class se extends H{constructor(ie,ce){super(ie,ce),this.scheduler=ie,this.work=ce,this.pending=!1}schedule(ie,ce=0){if(this.closed)return this;this.state=ie;const be=this.id,W=this.scheduler;return null!=be&&(this.id=this.recycleAsyncId(W,be,ce)),this.pending=!0,this.delay=ce,this.id=this.id||this.requestAsyncId(W,this.id,ce),this}requestAsyncId(ie,ce,be=0){return k.setInterval(ie.flush.bind(ie,this),be)}recycleAsyncId(ie,ce,be=0){if(null!=be&&this.delay===be&&!1===this.pending)return ce;k.clearInterval(ce)}execute(ie,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const be=this._execute(ie,ce);if(be)return be;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,ce){let W,be=!1;try{this.work(ie)}catch(q){be=!0,W=q||new Error("Scheduled action threw falsy error")}if(be)return this.unsubscribe(),W}unsubscribe(){if(!this.closed){const{id:ie,scheduler:ce}=this,{actions:be}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(be,this),null!=ie&&(this.id=this.recycleAsyncId(ce,ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(ut,Se,P)=>{P.d(Se,{v:()=>k});var u=P(6063);class H{constructor(se,ve=H.now){this.schedulerActionCtor=se,this.now=ve}schedule(se,ve=0,ie){return new this.schedulerActionCtor(this,se).schedule(ie,ve)}}H.now=u.l.now;class k extends H{constructor(se,ve=H.now){super(se,ve),this.actions=[],this._active=!1,this._scheduled=void 0}flush(se){const{actions:ve}=this;if(this._active)return void ve.push(se);let ie;this._active=!0;do{if(ie=se.execute(se.state,se.delay))break}while(se=ve.shift());if(this._active=!1,ie){for(;se=ve.shift();)se.unsubscribe();throw ie}}}},4986:(ut,Se,P)=>{P.d(Se,{z:()=>k,P:()=>oe});var u=P(4408);const k=new(P(7565).v)(u.o),oe=k},6063:(ut,Se,P)=>{P.d(Se,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(ut,Se,P)=>{P.d(Se,{z:()=>u});const u={setTimeout(...H){const{delegate:k}=u;return((null==k?void 0:k.setTimeout)||setTimeout)(...H)},clearTimeout(H){const{delegate:k}=u;return((null==k?void 0:k.clearTimeout)||clearTimeout)(H)},delegate:void 0}},2202:(ut,Se,P)=>{P.d(Se,{h:()=>H});const H=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ut,Se,P)=>{P.d(Se,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ut,Se,P)=>{P.d(Se,{jO:()=>oe,yG:()=>se,_6:()=>ve});var u=P(576),H=P(3532);function k(ie){return ie[ie.length-1]}function oe(ie){return(0,u.m)(k(ie))?ie.pop():void 0}function se(ie){return(0,H.K)(k(ie))?ie.pop():void 0}function ve(ie,ce){return"number"==typeof k(ie)?ie.pop():ce}},8737:(ut,Se,P)=>{function u(H,k){if(H){const oe=H.indexOf(k);0<=oe&&H.splice(oe,1)}}P.d(Se,{P:()=>u})},3888:(ut,Se,P)=>{function u(H){const oe=H(se=>{Error.call(se),se.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}P.d(Se,{d:()=>u})},2806:(ut,Se,P)=>{P.d(Se,{x:()=>k,O:()=>oe});var u=P(2416);let H=null;function k(se){if(u.v.useDeprecatedSynchronousErrorHandling){const ve=!H;if(ve&&(H={errorThrown:!1,error:null}),se(),ve){const{errorThrown:ie,error:ce}=H;if(H=null,ie)throw ce}}else se()}function oe(se){u.v.useDeprecatedSynchronousErrorHandling&&H&&(H.errorThrown=!0,H.error=se)}},9672:(ut,Se,P)=>{function u(H,k,oe,se=0,ve=!1){const ie=k.schedule(function(){oe(),ve?H.add(this.schedule(null,se)):this.unsubscribe()},se);if(H.add(ie),!ve)return ie}P.d(Se,{f:()=>u})},4671:(ut,Se,P)=>{function u(H){return H}P.d(Se,{y:()=>u})},1144:(ut,Se,P)=>{P.d(Se,{z:()=>u});const u=H=>H&&"number"==typeof H.length&&"function"!=typeof H},2206:(ut,Se,P)=>{P.d(Se,{D:()=>H});var u=P(576);function H(k){return Symbol.asyncIterator&&(0,u.m)(null==k?void 0:k[Symbol.asyncIterator])}},576:(ut,Se,P)=>{function u(H){return"function"==typeof H}P.d(Se,{m:()=>u})},3670:(ut,Se,P)=>{P.d(Se,{c:()=>k});var u=P(8822),H=P(576);function k(oe){return(0,H.m)(oe[u.L])}},6495:(ut,Se,P)=>{P.d(Se,{T:()=>k});var u=P(2202),H=P(576);function k(oe){return(0,H.m)(null==oe?void 0:oe[u.h])}},8239:(ut,Se,P)=>{P.d(Se,{t:()=>H});var u=P(576);function H(k){return(0,u.m)(null==k?void 0:k.then)}},3260:(ut,Se,P)=>{P.d(Se,{Q:()=>k,L:()=>oe});var u=P(655),H=P(576);function k(se){return(0,u.FC)(this,arguments,function*(){const ie=se.getReader();try{for(;;){const{value:ce,done:be}=yield(0,u.qq)(ie.read());if(be)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(ce)}}finally{ie.releaseLock()}})}function oe(se){return(0,H.m)(null==se?void 0:se.getReader)}},3532:(ut,Se,P)=>{P.d(Se,{K:()=>H});var u=P(576);function H(k){return k&&(0,u.m)(k.schedule)}},4482:(ut,Se,P)=>{P.d(Se,{A:()=>H,e:()=>k});var u=P(576);function H(oe){return(0,u.m)(null==oe?void 0:oe.lift)}function k(oe){return se=>{if(H(se))return se.lift(function(ve){try{return oe(ve,this)}catch(ie){this.error(ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ut,Se,P)=>{function u(){}P.d(Se,{Z:()=>u})},7849:(ut,Se,P)=>{P.d(Se,{h:()=>k});var u=P(2416),H=P(3410);function k(oe){H.z.setTimeout(()=>{const{onUnhandledError:se}=u.v;if(!se)throw oe;se(oe)})}},4532:(ut,Se,P)=>{function u(H){return new TypeError(`You provided ${null!==H&&"object"==typeof H?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Se,{z:()=>u})},655:(ut,Se,P)=>{function oe(Y,he){var ue={};for(var me in Y)Object.prototype.hasOwnProperty.call(Y,me)&&he.indexOf(me)<0&&(ue[me]=Y[me]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var Pe=0;for(me=Object.getOwnPropertySymbols(Y);Pe<me.length;Pe++)he.indexOf(me[Pe])<0&&Object.prototype.propertyIsEnumerable.call(Y,me[Pe])&&(ue[me[Pe]]=Y[me[Pe]])}return ue}function ce(Y,he,ue,me){return new(ue||(ue=Promise))(function(ae,It){function en(mt){try{ht(me.next(mt))}catch(hn){It(hn)}}function Fn(mt){try{ht(me.throw(mt))}catch(hn){It(hn)}}function ht(mt){mt.done?ae(mt.value):function Pe(ae){return ae instanceof ue?ae:new ue(function(It){It(ae)})}(mt.value).then(en,Fn)}ht((me=me.apply(Y,he||[])).next())})}function _e(Y){return this instanceof _e?(this.v=Y,this):new _e(Y)}function De(Y,he,ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,me=ue.apply(Y,he||[]),ae=[];return Pe={},It("next"),It("throw"),It("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe;function It(ln){me[ln]&&(Pe[ln]=function(fi){return new Promise(function(rn,Qt){ae.push([ln,fi,rn,Qt])>1||en(ln,fi)})})}function en(ln,fi){try{!function Fn(ln){ln.value instanceof _e?Promise.resolve(ln.value.v).then(ht,mt):hn(ae[0][2],ln)}(me[ln](fi))}catch(rn){hn(ae[0][3],rn)}}function ht(ln){en("next",ln)}function mt(ln){en("throw",ln)}function hn(ln,fi){ln(fi),ae.shift(),ae.length&&en(ae[0][0],ae[0][1])}}function He(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,he=Y[Symbol.asyncIterator];return he?he.call(Y):(Y=function ee(Y){var he="function"==typeof Symbol&&Symbol.iterator,ue=he&&Y[he],me=0;if(ue)return ue.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&me>=Y.length&&(Y=void 0),{value:Y&&Y[me++],done:!Y}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),ue={},me("next"),me("throw"),me("return"),ue[Symbol.asyncIterator]=function(){return this},ue);function me(ae){ue[ae]=Y[ae]&&function(It){return new Promise(function(en,Fn){!function Pe(ae,It,en,Fn){Promise.resolve(Fn).then(function(ht){ae({value:ht,done:en})},It)}(en,Fn,(It=Y[ae](It)).done,It.value)})}}}P.d(Se,{_T:()=>oe,mG:()=>ce,qq:()=>_e,FC:()=>De,KL:()=>He})},5e3:(ut,Se,P)=>{P.d(Se,{deG:()=>$d,tb:()=>DE,AFp:()=>wE,ip1:()=>Qh,CZH:()=>Xa,hGG:()=>gA,z2F:()=>Xl,sBO:()=>Um,Sil:()=>Xy,_Vd:()=>Ea,EJc:()=>Lm,SBq:()=>Bh,qLn:()=>sh,vpe:()=>Da,tBr:()=>os,XFs:()=>_t,OlP:()=>$n,zs3:()=>yt,ZZ4:()=>yv,aQg:()=>vv,soG:()=>Jh,YKP:()=>Y0,h0i:()=>jh,PXZ:()=>ME,R0b:()=>Rs,FiY:()=>gr,Lbi:()=>ZI,g9A:()=>Fm,n_E:()=>gm,Qsj:()=>hI,FYo:()=>dI,JOm:()=>fa,tp0:()=>as,Rgc:()=>qh,dDg:()=>Vm,q4F:()=>My,GfV:()=>Ay,s_b:()=>Ny,ifc:()=>Gt,eFA:()=>av,G48:()=>oA,Gpc:()=>q,f3M:()=>Jt,X6Q:()=>sA,_c5:()=>dP,VLi:()=>nA,c2e:()=>TE,zSh:()=>U_,wAp:()=>Mt,vHH:()=>Ne,cg1:()=>N0,kL8:()=>F0,dqk:()=>zt,sIi:()=>qc,CqO:()=>E0,QGY:()=>b0,F4k:()=>w0,RDi:()=>qs,AaK:()=>ce,qOj:()=>Xw,TTD:()=>Yo,_Bn:()=>lI,xp6:()=>a_,uIk:()=>zc,Gre:()=>ES,ekj:()=>Fh,Suo:()=>Cm,Xpm:()=>Lt,lG2:()=>le,Yz7:()=>rn,cJS:()=>tn,oAB:()=>N,Yjl:()=>Be,Y36:()=>$p,_UZ:()=>qp,GkF:()=>y0,BQk:()=>ed,ynx:()=>sy,qZA:()=>Gp,TgZ:()=>Rh,EpF:()=>v0,n5z:()=>vi,Ikx:()=>P0,LFG:()=>ot,$8M:()=>Tu,$Z:()=>JT,NdJ:()=>C0,CRH:()=>lE,oxw:()=>iS,Hsn:()=>T0,F$t:()=>Wp,Q6J:()=>xh,iGM:()=>BI,MAs:()=>s0,CHM:()=>Pd,LSH:()=>Lc,Udp:()=>M0,YNc:()=>J_,_uU:()=>em,Oqu:()=>tm,hij:()=>nd,Gf:()=>jy});var u=P(7579),H=P(727),k=P(8306),oe=P(6451),se=P(3099);function ve(s){for(let o in s)if(s[o]===ve)return o;throw Error("Could not find renamed property on target object.")}function ie(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function ce(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ce).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function be(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const W=ve({__forward_ref__:ve});function q(s){return s.__forward_ref__=q,s.toString=function(){return ce(this())},s}function ee(s){return $e(s)?s():s}function $e(s){return"function"==typeof s&&s.hasOwnProperty(W)&&s.__forward_ref__===q}class Ne extends Error{constructor(o,l){super(function Le(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,l)),this.code=o}}function _e(s){return"string"==typeof s?s:null==s?"":String(s)}function De(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():_e(s)}function Ae(s,o){const l=o?` in ${o}`:"";throw new Ne(-201,`No provider for ${De(s)} found${l}`)}function ht(s,o){null==s&&function mt(s,o,l,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${l} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function rn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function tn(s){return{providers:s.providers||[],imports:s.imports||[]}}function On(s){return dr(s,pi)||dr(s,Er)}function dr(s,o){return s.hasOwnProperty(o)?s[o]:null}function Qi(s){return s&&(s.hasOwnProperty(hr)||s.hasOwnProperty(ps))?s[hr]:null}const pi=ve({\u0275prov:ve}),hr=ve({\u0275inj:ve}),Er=ve({ngInjectableDef:ve}),ps=ve({ngInjectorDef:ve});var _t=(()=>((_t=_t||{})[_t.Default=0]="Default",_t[_t.Host=1]="Host",_t[_t.Self=2]="Self",_t[_t.SkipSelf=4]="SkipSelf",_t[_t.Optional=8]="Optional",_t))();let Mr;function sn(s){const o=Mr;return Mr=s,o}function zn(s,o,l){const d=On(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&_t.Optional?null:void 0!==o?o:void Ae(ce(s),"Injector")}function Vn(s){return{toString:s}.toString()}var Pn=(()=>((Pn=Pn||{})[Pn.OnPush=0]="OnPush",Pn[Pn.Default=1]="Default",Pn))(),Gt=(()=>{return(s=Gt||(Gt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Gt;var s})();const ft="undefined"!=typeof globalThis&&globalThis,it="undefined"!=typeof window&&window,ri="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,zt=ft||"undefined"!=typeof global&&global||it||ri,on={},vt=[],Un=ve({\u0275cmp:ve}),Wt=ve({\u0275dir:ve}),Ge=ve({\u0275pipe:ve}),Te=ve({\u0275mod:ve}),et=ve({\u0275fac:ve}),pt=ve({__NG_ELEMENT_ID__:ve});let Ft=0;function Lt(s){return Vn(()=>{const l={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Pn.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||vt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Gt.Emulated,id:"c",styles:s.styles||vt,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,p=s.features,y=s.pipes;return d.id+=Ft++,d.inputs=j(s.inputs,l),d.outputs=j(s.outputs),p&&p.forEach(w=>w(d)),d.directiveDefs=h?()=>("function"==typeof h?h():h).map(U):null,d.pipeDefs=y?()=>("function"==typeof y?y():y).map(K):null,d})}function U(s){return ze(s)||function Tt(s){return s[Wt]||null}(s)}function K(s){return function rt(s){return s[Ge]||null}(s)}const fe={};function N(s){return Vn(()=>{const o={type:s.type,bootstrap:s.bootstrap||vt,declarations:s.declarations||vt,imports:s.imports||vt,exports:s.exports||vt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(fe[s.id]=s.type),o})}function j(s,o){if(null==s)return on;const l={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),l[h]=d,o&&(o[h]=p)}return l}const le=Lt;function Be(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function ze(s){return s[Un]||null}function Rt(s,o){const l=s[Te]||null;if(!l&&!0===o)throw new Error(`Type ${ce(s)} does not have '\u0275mod' property.`);return l}function Or(s){return Array.isArray(s)&&"object"==typeof s[1]}function gi(s){return Array.isArray(s)&&!0===s[1]}function xa(s){return 0!=(8&s.flags)}function zo(s){return 2==(2&s.flags)}function Wo(s){return 1==(1&s.flags)}function Li(s){return null!==s.template}function uu(s){return 0!=(512&s[2])}function _i(s,o){return s.hasOwnProperty(et)?s[et]:null}class Rd{constructor(o,l,d){this.previousValue=o,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function Yo(){return al}function al(s){return s.type.prototype.ngOnChanges&&(s.setInput=Oa),kd}function kd(){const s=Vi(this),o=null==s?void 0:s.current;if(o){const l=s.previous;if(l===on)s.previous=o;else for(let d in o)l[d]=o[d];s.current=null,this.ngOnChanges(o)}}function Oa(s,o,l,d){const h=Vi(s)||function ys(s,o){return s[ll]=o}(s,{previous:on,current:null}),p=h.current||(h.current={}),y=h.previous,w=this.declaredInputs[l],C=y[w];p[w]=new Rd(C&&C.currentValue,o,y===on),s[d]=o}Yo.ngInherit=!0;const ll="__ngSimpleChanges__";function Vi(s){return s[ll]||null}let cl;function qs(s){cl=s}function Dn(s){return!!s.listen}const bo={createRenderer:(s,o)=>function vo(){return void 0!==cl?cl:"undefined"!=typeof document?document:void 0}()};function mn(s){for(;Array.isArray(s);)s=s[0];return s}function zs(s,o){return mn(o[s])}function Cr(s,o){return mn(o[s.index])}function dl(s,o){return s.data[o]}function $r(s,o){const l=o[s];return Or(l)?l:l[0]}function vs(s){return 4==(4&s[2])}function Eo(s){return 128==(128&s[2])}function Bi(s,o){return null==o?null:s[o]}function ns(s){s[18]=0}function bs(s,o){s[5]+=o;let l=s,d=s[3];for(;null!==d&&(1===o&&1===l[5]||-1===o&&0===l[5]);)d[5]+=o,l=d,d=d[3]}const Et={lFrame:yu(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function na(){return Et.bindingsEnabled}function Ie(){return Et.lFrame.lView}function jt(){return Et.lFrame.tView}function Pd(s){return Et.lFrame.contextLView=s,s[8]}function bn(){let s=hl();for(;null!==s&&64===s.type;)s=s.parent;return s}function hl(){return Et.lFrame.currentTNode}function Ui(s,o){const l=Et.lFrame;l.currentTNode=s,l.isParent=o}function fu(){return Et.lFrame.isParent}function La(){Et.lFrame.isParent=!1}function ra(){return Et.isInCheckNoChangesMode}function ia(s){Et.isInCheckNoChangesMode=s}function oa(){return Et.lFrame.bindingIndex++}function si(s){const o=Et.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function gc(s,o){const l=Et.lFrame;l.bindingIndex=l.bindingRootIndex=s,mu(o)}function mu(s){Et.lFrame.currentDirectiveIndex=s}function Fd(){return Et.lFrame.currentQueryIndex}function gu(s){Et.lFrame.currentQueryIndex=s}function _u(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function fl(s,o,l){if(l&_t.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||l&_t.Host||(h=_u(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,s=p}const d=Et.lFrame=Co();return d.currentTNode=o,d.lView=s,!0}function Ba(s){const o=Co(),l=s[1];Et.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function Co(){const s=Et.lFrame,o=null===s?null:s.child;return null===o?yu(s):o}function yu(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Ld(){const s=Et.lFrame;return Et.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const _c=Ld;function Do(){const s=Ld();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Gr(){return Et.lFrame.selectedIndex}function Ys(s){Et.lFrame.selectedIndex=s}function Hn(){const s=Et.lFrame;return dl(s.tView,s.selectedIndex)}function Ua(s,o){for(let l=o.directiveStart,d=o.directiveEnd;l<d;l++){const p=s.data[l].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:C,ngAfterViewChecked:I,ngOnDestroy:x}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-l,y),w&&((s.contentHooks||(s.contentHooks=[])).push(l,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,w)),C&&(s.viewHooks||(s.viewHooks=[])).push(-l,C),I&&((s.viewHooks||(s.viewHooks=[])).push(l,I),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,I)),null!=x&&(s.destroyHooks||(s.destroyHooks=[])).push(l,x)}}function wu(s,o,l){vc(s,o,3,l)}function pl(s,o,l,d){(3&s[2])===l&&vc(s,o,l,d)}function Jn(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function vc(s,o,l,d){const p=null!=d?d:-1,y=o.length-1;let w=0;for(let C=void 0!==d?65535&s[18]:0;C<y;C++)if("number"==typeof o[C+1]){if(w=o[C],null!=d&&w>=d)break}else o[C]<0&&(s[18]+=65536),(w<p||-1==p)&&(bc(s,l,o,C),s[18]=(4294901760&s[18])+C+2),C++}function bc(s,o,l,d){const h=l[d]<0,p=l[d+1],w=s[h?-l[d]:l[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class ml{constructor(o,l,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function ct(s,o,l){const d=Dn(s);let h=0;for(;h<l.length;){const p=l[h];if("number"==typeof p){if(0!==p)break;h++;const y=l[h++],w=l[h++],C=l[h++];d?s.setAttribute(o,w,C,y):o.setAttributeNS(y,w,C)}else{const y=p,w=l[++h];Pr(y)?d&&s.setProperty(o,y,w):d?s.setAttribute(o,y,w):o.setAttribute(y,w),h++}}return h}function nn(s){return 3===s||4===s||6===s}function Pr(s){return 64===s.charCodeAt(0)}function wn(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?l=h:0===l||Ec(s,l,h,null,-1===l||2===l?o[++d]:null)}}return s}function Ec(s,o,l,d,h){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const w=s[p++];if("number"==typeof w){if(w===o){y=-1;break}if(w>o){y=p-1;break}}}for(;p<s.length;){const w=s[p];if("number"==typeof w)break;if(w===l){if(null===d)return void(null!==h&&(s[p+1]=h));if(d===s[p+1])return void(s[p+2]=h)}p++,null!==d&&p++,null!==h&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,l),null!==d&&s.splice(p++,0,d),null!==h&&s.splice(p++,0,h)}function Wn(s){return-1!==s}function Qs(s){return 32767&s}function Es(s,o){let l=function Eu(s){return s>>16}(s),d=o;for(;l>0;)d=d[15],l--;return d}let ua=!0;function is(s){const o=ua;return ua=s,o}let ca=0;function _n(s,o){const l=Du(s,o);if(-1!==l)return l;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,Js(d.data,s),Js(o,null),Js(d.blueprint,null));const h=qr(s,o),p=s.injectorIndex;if(Wn(h)){const y=Qs(h),w=Es(h,o),C=w[1].data;for(let I=0;I<8;I++)o[p+I]=w[y+I]|C[y+I]}return o[p+8]=h,p}function Js(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Du(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function qr(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,d=null,h=o;for(;null!==h;){const p=h[1],y=p.type;if(d=2===y?p.declTNode:1===y?h[6]:null,null===d)return-1;if(l++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function So(s,o,l){!function Ha(s,o,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(pt)&&(d=l[pt]),null==d&&(d=l[pt]=ca++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,l)}function Xs(s,o,l){if(l&_t.Optional)return s;Ae(o,"NodeInjector")}function eo(s,o,l,d){if(l&_t.Optional&&void 0===d&&(d=null),0==(l&(_t.Self|_t.Host))){const h=s[9],p=sn(void 0);try{return h?h.get(o,d,l&_t.Optional):zn(o,d,l&_t.Optional)}finally{sn(p)}}return Xs(d,o,l)}function _l(s,o,l,d=_t.Default,h){if(null!==s){const p=function pr(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(pt)?s[pt]:void 0;return"number"==typeof o?o>=0?255&o:Cs:o}(l);if("function"==typeof p){if(!fl(o,s,d))return d&_t.Host?Xs(h,l,d):eo(o,l,d,h);try{const y=p(d);if(null!=y||d&_t.Optional)return y;Ae(l)}finally{_c()}}else if("number"==typeof p){let y=null,w=Du(s,o),C=-1,I=d&_t.Host?o[16][6]:null;for((-1===w||d&_t.SkipSelf)&&(C=-1===w?qr(s,o):o[w+8],-1!==C&&yl(d,!1)?(y=o[1],w=Qs(C),o=Es(C,o)):w=-1);-1!==w;){const x=o[1];if($a(p,w,x.data)){const L=jd(w,o,l,y,d,I);if(L!==to)return L}C=o[w+8],-1!==C&&yl(d,o[1].data[w+8]===I)&&$a(p,w,o)?(y=x,w=Qs(C),o=Es(C,o)):w=-1}}}return eo(o,l,d,h)}const to={};function Cs(){return new En(bn(),Ie())}function jd(s,o,l,d,h,p){const y=o[1],w=y.data[s+8],x=ss(w,y,l,null==d?zo(w)&&ua:d!=y&&0!=(3&w.type),h&_t.Host&&p===w);return null!==x?zr(o,y,x,w):to}function ss(s,o,l,d,h){const p=s.providerIndexes,y=o.data,w=1048575&p,C=s.directiveStart,x=p>>20,G=h?w+x:s.directiveEnd;for(let J=d?w:w+x;J<G;J++){const Ee=y[J];if(J<C&&l===Ee||J>=C&&Ee.type===l)return J}if(h){const J=y[C];if(J&&Li(J)&&J.type===l)return C}return null}function zr(s,o,l,d){let h=s[l];const p=o.data;if(function ja(s){return s instanceof ml}(h)){const y=h;y.resolving&&function Xe(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Ne(-200,`Circular dependency in DI detected for ${s}${l}`)}(De(p[l]));const w=is(y.canSeeViewProviders);y.resolving=!0;const C=y.injectImpl?sn(y.injectImpl):null;fl(s,d,_t.Default);try{h=s[l]=y.factory(void 0,p,s,d),o.firstCreatePass&&l>=d.directiveStart&&function To(s,o,l){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(d){const y=al(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,y),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,y)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,h),p&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,p),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,p))}(l,p[l],o)}finally{null!==C&&sn(C),is(w),y.resolving=!1,_c()}}return h}function $a(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function yl(s,o){return!(s&_t.Self||s&_t.Host&&o)}class En{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,d){return _l(this._tNode,this._lView,o,d,l)}}function vi(s){return Vn(()=>{const o=s.prototype.constructor,l=o[et]||Wr(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const p=h[et]||Wr(h);if(p&&p!==l)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function Wr(s){return $e(s)?()=>{const o=Wr(ee(s));return o&&o()}:_i(s)}function Tu(s){return function gl(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const d=l.length;let h=0;for(;h<d;){const p=l[h];if(nn(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<d&&"string"==typeof l[h];)h++;else{if(p===o)return l[h+1];h+=2}}}return null}(bn(),s)}const Nn="__parameters__";function wi(s,o,l){return Vn(()=>{const d=function oi(s){return function(...l){if(s){const d=s(...l);for(const h in d)this[h]=d[h]}}}(o);function h(...p){if(this instanceof h)return d.apply(this,p),this;const y=new h(...p);return w.annotation=y,w;function w(C,I,x){const L=C.hasOwnProperty(Nn)?C[Nn]:Object.defineProperty(C,Nn,{value:[]})[Nn];for(;L.length<=x;)L.push(null);return(L[x]=L[x]||[]).push(y),C}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class $n{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=rn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const $d=new $n("AnalyzeForEntryComponents");function Fr(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let d=s[l];Array.isArray(d)?(o===s&&(o=s.slice(0,l)),Fr(d,o)):o!==s&&o.push(d)}return o}function ji(s,o){s.forEach(l=>Array.isArray(l)?ji(l,o):o(l))}function qa(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function da(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function ai(s,o){const l=[];for(let d=0;d<s;d++)l.push(o);return l}function li(s,o,l){let d=ro(s,o);return d>=0?s[1|d]=l:(d=~d,function Cl(s,o,l,d){let h=s.length;if(h==o)s.push(l,d);else if(1===h)s.push(d,s[0]),s[0]=l;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=l,s[o+1]=d}}(s,d,o,l)),d}function Tl(s,o){const l=ro(s,o);if(l>=0)return s[1|l]}function ro(s,o){return function Ts(s,o,l){let d=0,h=s.length>>l;for(;h!==d;){const p=d+(h-d>>1),y=s[p<<l];if(o===y)return p<<l;y>o?h=p:d=p+1}return~(h<<l)}(s,o,1)}const so={},Al="__NG_DI_FLAG__",Ml="ngTempTokenPath",S=/\n/gm,B="__source",Q=ve({provide:String,useValue:ve});let re;function ge(s){const o=re;return re=s,o}function nt(s,o=_t.Default){if(void 0===re)throw new Ne(203,"");return null===re?zn(s,void 0,o):re.get(s,o&_t.Optional?null:void 0,o)}function ot(s,o=_t.Default){return(function Ln(){return Mr}()||nt)(ee(s),o)}const Jt=ot;function At(s){const o=[];for(let l=0;l<s.length;l++){const d=ee(s[l]);if(Array.isArray(d)){if(0===d.length)throw new Ne(900,"");let h,p=_t.Default;for(let y=0;y<d.length;y++){const w=d[y],C=tr(w);"number"==typeof C?-1===C?h=w.token:p|=C:h=w}o.push(ot(h,p))}else o.push(ot(d))}return o}function er(s,o){return s[Al]=o,s.prototype[Al]=o,s}function tr(s){return s[Al]}const os=er(wi("Inject",s=>({token:s})),-1),gr=er(wi("Optional"),8),as=er(wi("SkipSelf"),4);class Oc{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Is(s){return s instanceof Oc?s.changingThisBreaksApplicationSecurity:s}const m=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,E=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var _r=(()=>((_r=_r||{})[_r.NONE=0]="NONE",_r[_r.HTML=1]="HTML",_r[_r.STYLE=2]="STYLE",_r[_r.SCRIPT=3]="SCRIPT",_r[_r.URL=4]="URL",_r[_r.RESOURCE_URL=5]="RESOURCE_URL",_r))();function Lc(s){const o=function Vc(){const s=Ie();return s&&s[12]}();return o?o.sanitize(_r.URL,s)||"":function lo(s,o){const l=function Zd(s){return s instanceof Oc&&s.getTypeName()||null}(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}(s,"URL")?Is(s):function M(s){return(s=String(s)).match(m)||s.match(E)?s:"unsafe:"+s}(_e(s))}const Kb="__ngContext__";function Ci(s,o){s[Kb]=o}function $g(s){const o=function th(s){return s[Kb]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Wg(s){return s.ngOriginalError}function FD(s,...o){s.error(...o)}class sh{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o),d=function ND(s){return s&&s.ngErrorLogger||FD}(o);d(this._console,"ERROR",o),l&&d(this._console,"ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&Wg(o);for(;l&&Wg(l);)l=Wg(l);return l||null}}const Qb=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(zt))();function Ro(s){return s instanceof Function?s():s}var fa=(()=>((fa=fa||{})[fa.Important=1]="Important",fa[fa.DashCase=2]="DashCase",fa))();function Kg(s,o){return undefined(s,o)}function oh(s){const o=s[3];return gi(o)?o[3]:o}function sp(s){return rw(s[13])}function Qg(s){return rw(s[4])}function rw(s){for(;null!==s&&!gi(s);)s=s[4];return s}function Bc(s,o,l,d,h){if(null!=d){let p,y=!1;gi(d)?p=d:Or(d)&&(y=!0,d=d[0]);const w=mn(d);0===s&&null!==l?null==h?lw(o,l,w):Bl(o,l,w,h||null,!0):1===s&&null!==l?Bl(o,l,w,h||null,!0):2===s?function mw(s,o,l){const d=dp(s,o);d&&function cw(s,o,l,d){Dn(s)?s.removeChild(o,l,d):o.removeChild(l)}(s,d,o,l)}(o,w,y):3===s&&o.destroyNode(w),null!=p&&function pa(s,o,l,d,h){const p=l[7];p!==mn(l)&&Bc(o,s,d,p,h);for(let w=10;w<l.length;w++){const C=l[w];ah(C[1],C,s,o,d,p)}}(o,s,p,l,h)}}function yr(s,o,l){if(Dn(s))return s.createElement(o,l);{const d=null!==l?function fc(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(l):null;return null===d?s.createElement(o):s.createElementNS(d,o)}}function sw(s,o){const l=s[9],d=l.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,bs(h,-1)),l.splice(d,1)}function up(s,o){if(s.length<=10)return;const l=10+o,d=s[l];if(d){const h=d[17];null!==h&&h!==s&&sw(h,d),o>0&&(s[l-1][4]=d[4]);const p=da(s,10+o);!function ZD(s,o){ah(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const y=p[19];null!==y&&y.detachView(p[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function ow(s,o){if(!(256&o[2])){const l=o[11];Dn(l)&&l.destroyNode&&ah(s,o,l,3,null,null),function lp(s){let o=s[13];if(!o)return cp(s[1],s);for(;o;){let l=null;if(Or(o))l=o[13];else{const d=o[10];d&&(l=d)}if(!l){for(;o&&!o[4]&&o!==s;)Or(o)&&cp(o[1],o),o=o[3];null===o&&(o=s),Or(o)&&cp(o[1],o),l=o&&o[4]}o=l}}(o)}}function cp(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function Xg(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let d=0;d<l.length;d+=2){const h=o[l[d]];if(!(h instanceof ml)){const p=l[d+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const w=h[p[y]],C=p[y+1];try{C.call(w)}finally{}}else try{p.call(h)}finally{}}}}(s,o),function aw(s,o){const l=s.cleanup,d=o[7];let h=-1;if(null!==l)for(let p=0;p<l.length-1;p+=2)if("string"==typeof l[p]){const y=l[p+1],w="function"==typeof y?y(o):mn(o[y]),C=d[h=l[p+2]],I=l[p+3];"boolean"==typeof I?w.removeEventListener(l[p],C,I):I>=0?d[h=I]():d[h=-I].unsubscribe(),p+=2}else{const y=d[h=l[p+1]];l[p].call(y)}if(null!==d){for(let p=h+1;p<d.length;p++)d[p]();o[7]=null}}(s,o),1===o[1].type&&Dn(o[11])&&o[11].destroy();const l=o[17];if(null!==l&&gi(o[3])){l!==o[3]&&sw(l,o);const d=o[19];null!==d&&d.detachView(s)}}}function YD(s,o,l){return function Vl(s,o,l){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return l[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===Gt.None||h===Gt.Emulated)return null}return Cr(d,l)}(s,o.parent,l)}function Bl(s,o,l,d,h){Dn(s)?s.insertBefore(o,l,d,h):o.insertBefore(l,d,h)}function lw(s,o,l){Dn(s)?s.appendChild(o,l):o.appendChild(l)}function uw(s,o,l,d,h){null!==d?Bl(s,o,l,d,h):lw(s,o,l)}function dp(s,o){return Dn(s)?s.parentNode(o):o.parentNode}function dw(s,o,l){return hw(s,o,l)}let hw=function e_(s,o,l){return 40&s.type?Cr(s,l):null};function jc(s,o,l,d){const h=YD(s,d,o),p=o[11],w=dw(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(l))for(let C=0;C<l.length;C++)uw(p,h,l[C],w,!1);else uw(p,h,l,w,!1)}function hp(s,o){if(null!==o){const l=o.type;if(3&l)return Cr(o,s);if(4&l)return fp(-1,s[o.index]);if(8&l){const d=o.child;if(null!==d)return hp(s,d);{const h=s[o.index];return gi(h)?fp(-1,h):mn(h)}}if(32&l)return Kg(o,s)()||mn(s[o.index]);{const d=pw(s,o);return null!==d?Array.isArray(d)?d[0]:hp(oh(s[16]),d):hp(s,o.next)}}return null}function pw(s,o){return null!==o?s[16][6].projection[o.projection]:null}function fp(s,o){const l=10+s+1;if(l<o.length){const d=o[l],h=d[1].firstChild;if(null!==h)return hp(d,h)}return o[7]}function gw(s,o,l,d,h,p,y){for(;null!=l;){const w=d[l.index],C=l.type;if(y&&0===o&&(w&&Ci(mn(w),d),l.flags|=4),64!=(64&l.flags))if(8&C)gw(s,o,l.child,d,h,p,!1),Bc(o,s,h,w,p);else if(32&C){const I=Kg(l,d);let x;for(;x=I();)Bc(o,s,h,x,p);Bc(o,s,h,w,p)}else 16&C?Ul(s,o,d,l,h,p):Bc(o,s,h,w,p);l=y?l.projectionNext:l.next}}function ah(s,o,l,d,h,p){gw(l,d,s.firstChild,o,h,p,!1)}function Ul(s,o,l,d,h,p){const y=l[16],C=y[6].projection[d.projection];if(Array.isArray(C))for(let I=0;I<C.length;I++)Bc(o,s,h,C[I],p);else gw(s,o,C,y[3],h,p,!0)}function n_(s,o,l){Dn(s)?s.setAttribute(o,"style",l):o.style.cssText=l}function r_(s,o,l){Dn(s)?""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l):o.className=l}function yw(s,o,l){let d=s.length;for(;;){const h=s.indexOf(o,l);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===d||s.charCodeAt(h+p)<=32)return h}l=h+1}}const Hc="ng-template";function jl(s,o,l){let d=0;for(;d<s.length;){let h=s[d++];if(l&&"class"===h){if(h=s[d],-1!==yw(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function i_(s){return 4===s.type&&s.value!==Hc}function Di(s,o,l){return o===(4!==s.type||l?s.value:Hc)}function Hl(s,o,l){let d=4;const h=s.attrs||[],p=function bw(s){for(let o=0;o<s.length;o++)if(nn(s[o]))return o;return s.length}(h);let y=!1;for(let w=0;w<o.length;w++){const C=o[w];if("number"!=typeof C){if(!y)if(4&d){if(d=2|1&d,""!==C&&!Di(s,C,l)||""===C&&1===o.length){if(ko(d))return!1;y=!0}}else{const I=8&d?C:o[++w];if(8&d&&null!==s.attrs){if(!jl(s.attrs,I,l)){if(ko(d))return!1;y=!0}continue}const L=un(8&d?"class":C,h,i_(s),l);if(-1===L){if(ko(d))return!1;y=!0;continue}if(""!==I){let G;G=L>p?"":h[L+1].toLowerCase();const J=8&d?G:null;if(J&&-1!==yw(J,I,0)||2&d&&I!==G){if(ko(d))return!1;y=!0}}}}else{if(!y&&!ko(d)&&!ko(C))return!1;if(y&&ko(C))continue;y=!1,d=C|1&d}}return ko(d)||y}function ko(s){return 0==(1&s)}function un(s,o,l,d){if(null===o)return-1;let h=0;if(d||!l){let p=!1;for(;h<o.length;){const y=o[h];if(y===s)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let w=o[++h];for(;"string"==typeof w;)w=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function ww(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const d=s[l];if("number"==typeof d)return-1;if(d===o)return l;l++}return-1}(o,s)}function s_(s,o,l=!1){for(let d=0;d<o.length;d++)if(Hl(s,o[d],l))return!0;return!1}function Ew(s,o){e:for(let l=0;l<o.length;l++){const d=o[l];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function o_(s,o){return s?":not("+o.trim()+")":o}function Cw(s){let o=s[0],l=1,d=2,h="",p=!1;for(;l<s.length;){let y=s[l];if("string"==typeof y)if(2&d){const w=s[++l];h+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?h+="."+y:4&d&&(h+=" "+y);else""!==h&&!ko(y)&&(o+=o_(p,h),h=""),d=y,p=p||!ko(d);l++}return""!==h&&(o+=o_(p,h)),o}const Bt={};function a_(s){l_(jt(),Ie(),Gr()+s,ra())}function l_(s,o,l,d){if(!d)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&wu(o,p,l)}else{const p=s.preOrderHooks;null!==p&&pl(o,p,0,l)}Ys(l)}function mp(s,o){return s<<17|o<<2}function co(s){return s>>17&32767}function gp(s){return 2|s}function Oo(s){return(131068&s)>>2}function _p(s,o){return-131069&s|o<<2}function yp(s){return 1|s}function Mw(s,o){const l=s.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const h=l[d],p=l[d+1];if(-1!==p){const y=s.data[p];gu(h),y.contentQueries(2,o[p],p)}}}function Vu(s,o,l,d,h,p,y,w,C,I){const x=o.blueprint.slice();return x[0]=h,x[2]=140|d,ns(x),x[3]=x[15]=s,x[8]=l,x[10]=y||s&&s[10],x[11]=w||s&&s[11],x[12]=C||s&&s[12]||null,x[9]=I||s&&s[9]||null,x[6]=p,x[16]=2==o.type?s[16]:x,x}function mh(s,o,l,d,h){let p=s.data[o];if(null===p)p=function gh(s,o,l,d,h){const p=hl(),y=fu(),C=s.data[o]=function kw(s,o,l,d,h,p){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,l,o,d,h);return null===s.firstChild&&(s.firstChild=C),null!==p&&(y?null==p.child&&null!==C.parent&&(p.child=C):null===p.next&&(p.next=C)),C}(s,o,l,d,h),function Nd(){return Et.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=l,p.value=d,p.attrs=h;const y=function Ws(){const s=Et.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return Ui(p,!0),p}function ma(s,o,l,d){if(0===l)return-1;const h=o.length;for(let p=0;p<l;p++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function $l(s,o,l){Ba(o);try{const d=s.viewQuery;null!==d&&V_(1,d,l);const h=s.template;null!==h&&Rw(s,o,h,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Mw(s,o),s.staticViewQueries&&V_(2,s.viewQuery,l);const p=s.components;null!==p&&function E_(s,o){for(let l=0;l<o.length;l++)pT(s,o[l])}(o,p)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,Do()}}function Fo(s,o,l,d){const h=o[2];if(256==(256&h))return;Ba(o);const p=ra();try{ns(o),function sa(s){return Et.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&Rw(s,o,l,2,d);const y=3==(3&h);if(!p)if(y){const I=s.preOrderCheckHooks;null!==I&&wu(o,I,null)}else{const I=s.preOrderHooks;null!==I&&pl(o,I,0,null),Jn(o,0)}if(function Gl(s){for(let o=sp(s);null!==o;o=Qg(o)){if(!o[2])continue;const l=o[9];for(let d=0;d<l.length;d++){const h=l[d],p=h[3];0==(1024&h[2])&&bs(p,1),h[2]|=1024}}}(o),function hT(s){for(let o=sp(s);null!==o;o=Qg(o))for(let l=10;l<o.length;l++){const d=o[l],h=d[1];Eo(d)&&Fo(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&Mw(s,o),!p)if(y){const I=s.contentCheckHooks;null!==I&&wu(o,I)}else{const I=s.contentHooks;null!==I&&pl(o,I,1),Jn(o,1)}!function w_(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const h=l[d];if(h<0)Ys(~h);else{const p=h,y=l[++d],w=l[++d];gc(y,p),w(2,o[p])}}}finally{Ys(-1)}}(s,o);const w=s.components;null!==w&&function xw(s,o){for(let l=0;l<o.length;l++)fT(s,o[l])}(o,w);const C=s.viewQuery;if(null!==C&&V_(2,C,d),!p)if(y){const I=s.viewCheckHooks;null!==I&&wu(o,I)}else{const I=s.viewHooks;null!==I&&pl(o,I,2),Jn(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),p||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,bs(o[3],-1))}finally{Do()}}function _h(s,o,l,d){const h=o[10],p=!ra(),y=vs(o);try{p&&!y&&h.begin&&h.begin(),y&&$l(s,o,d),Fo(s,o,l,d)}finally{p&&!y&&h.end&&h.end()}}function Rw(s,o,l,d,h){const p=Gr(),y=2&d;try{Ys(-1),y&&o.length>20&&l_(s,o,20,ra()),l(d,h)}finally{Ys(p)}}function Ep(s,o,l){if(xa(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,l[p],p)}}}function Cp(s,o,l){!na()||(function lT(s,o,l,d){const h=l.directiveStart,p=l.directiveEnd;s.firstCreatePass||_n(l,o),Ci(d,o);const y=l.initialInputs;for(let w=h;w<p;w++){const C=s.data[w],I=Li(C);I&&dT(o,l,C);const x=zr(o,s,w,l);Ci(x,o),null!==y&&Bw(0,w-h,x,C,0,y),I&&($r(l.index,o)[8]=x)}}(s,o,l,Cr(l,o)),128==(128&l.flags)&&function Fw(s,o,l){const d=l.directiveStart,h=l.directiveEnd,y=l.index,w=function Va(){return Et.lFrame.currentDirectiveIndex}();try{Ys(y);for(let C=d;C<h;C++){const I=s.data[C],x=o[C];mu(C),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&M_(I,x)}}finally{Ys(-1),mu(w)}}(s,o,l))}function yh(s,o,l=Cr){const d=o.localNames;if(null!==d){let h=o.index+1;for(let p=0;p<d.length;p+=2){const y=d[p+1],w=-1===y?l(o,s):s[y];s[h++]=w}}}function C_(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Bu(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Bu(s,o,l,d,h,p,y,w,C,I){const x=20+d,L=x+h,G=function D_(s,o){const l=[];for(let d=0;d<o;d++)l.push(d<s?null:Bt);return l}(x,L),J="function"==typeof I?I():I;return G[1]={type:s,blueprint:G,template:l,queries:null,viewQuery:w,declTNode:o,data:G.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:C,consts:J,incompleteFirstPass:!1}}function S_(s,o,l,d){const h=yT(o);null===l?h.push(d):(h.push(l),s.firstCreatePass&&Ip(s).push(d,h.length-1))}function Dp(s,o,l){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(o,h):l[d]=[o,h]}return l}function ls(s,o,l,d,h,p,y,w){const C=Cr(o,l);let x,I=o.inputs;!w&&null!=I&&(x=I[d])?(Hw(s,l,x,d,h),zo(o)&&function sT(s,o){const l=$r(o,s);16&l[2]||(l[2]|=64)}(l,o.index)):3&o.type&&(d=function Tp(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=y?y(h,o.value||"",d):h,Dn(p)?p.setProperty(C,d,h):Pr(d)||(C.setProperty?C.setProperty(d,h):C[d]=h))}function Ow(s,o,l,d){let h=!1;if(na()){const p=function wh(s,o,l){const d=s.directiveRegistry;let h=null;if(d)for(let p=0;p<d.length;p++){const y=d[p];s_(l,y.selectors,!1)&&(h||(h=[]),So(_n(l,o),s,y.type),Li(y)?(Lw(s,l),h.unshift(y)):h.push(y))}return h}(s,o,l),y=null===d?null:{"":-1};if(null!==p){h=!0,cT(l,s.data.length,p.length);for(let x=0;x<p.length;x++){const L=p[x];L.providersResolver&&L.providersResolver(L)}let w=!1,C=!1,I=ma(s,o,p.length,null);for(let x=0;x<p.length;x++){const L=p[x];l.mergedAttrs=wn(l.mergedAttrs,L.hostAttrs),x_(s,l,o,I,L),uT(I,L,y),null!==L.contentQueries&&(l.flags|=8),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(l.flags|=128);const G=L.type.prototype;!w&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),w=!0),!C&&(G.ngOnChanges||G.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),C=!0),I++}!function I_(s,o){const d=o.directiveEnd,h=s.data,p=o.attrs,y=[];let w=null,C=null;for(let I=o.directiveStart;I<d;I++){const x=h[I],L=x.inputs,G=null===p||i_(o)?null:k_(L,p);y.push(G),w=Dp(L,I,w),C=Dp(x.outputs,I,C)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=w,o.outputs=C}(s,l)}y&&function Vw(s,o,l){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=l[o[h+1]];if(null==p)throw new Ne(-301,!1);d.push(o[h],p)}}}(l,d,y)}return l.mergedAttrs=wn(l.mergedAttrs,l.attrs),h}function Pw(s,o,l,d,h,p){const y=p.hostBindings;if(y){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const C=~o.index;(function Nw(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(w)!=C&&w.push(C),w.push(d,h,y)}}function M_(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Lw(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function uT(s,o,l){if(l){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)l[o.exportAs[d]]=s;Li(o)&&(l[""]=s)}}function cT(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function x_(s,o,l,d,h){s.data[d]=h;const p=h.factory||(h.factory=_i(h.type)),y=new ml(p,Li(h),null);s.blueprint[d]=y,l[d]=y,Pw(s,o,0,d,ma(s,l,h.hostVars,Bt),h)}function dT(s,o,l){const d=Cr(o,s),h=C_(l),p=s[10],y=Ch(s,Vu(s,h,null,l.onPush?64:16,d,o,p,p.createRenderer(d,l),null,null));s[o.index]=y}function Lo(s,o,l,d,h,p){const y=Cr(s,o);!function R_(s,o,l,d,h,p,y){if(null==p)Dn(s)?s.removeAttribute(o,h,l):o.removeAttribute(h);else{const w=null==y?_e(p):y(p,d||"",h);Dn(s)?s.setAttribute(o,h,w,l):l?o.setAttributeNS(l,h,w):o.setAttribute(h,w)}}(o[11],y,p,s.value,l,d,h)}function Bw(s,o,l,d,h,p){const y=p[o];if(null!==y){const w=d.setInput;for(let C=0;C<y.length;){const I=y[C++],x=y[C++],L=y[C++];null!==w?d.setInput(l,L,I,x):l[x]=L}}}function k_(s,o){let l=null,d=0;for(;d<o.length;){const h=o[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,s[h],o[d+1])),d+=2}else d+=2;else d+=4}return l}function O_(s,o,l,d){return new Array(s,!0,!1,o,null,0,d,l,null,null)}function fT(s,o){const l=$r(o,s);if(Eo(l)){const d=l[1];80&l[2]?Fo(d,l,d.template,l[8]):l[5]>0&&Eh(l)}}function Eh(s){for(let d=sp(s);null!==d;d=Qg(d))for(let h=10;h<d.length;h++){const p=d[h];if(1024&p[2]){const y=p[1];Fo(y,p,y.template,p[8])}else p[5]>0&&Eh(p)}const l=s[1].components;if(null!==l)for(let d=0;d<l.length;d++){const h=$r(l[d],s);Eo(h)&&h[5]>0&&Eh(h)}}function pT(s,o){const l=$r(o,s),d=l[1];(function P_(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(d,l),$l(d,l,l[8])}function Ch(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function N_(s){for(;s;){s[2]|=64;const o=oh(s);if(uu(s)&&!o)return s;s=o}return null}function Sp(s,o,l){const d=o[10];d.begin&&d.begin();try{Fo(s,o,s.template,l)}catch(h){throw B_(o,h),h}finally{d.end&&d.end()}}function Uw(s){!function F_(s){for(let o=0;o<s.components.length;o++){const l=s.components[o],d=$g(l),h=d[1];_h(h,d,h.template,l)}}(s[8])}function V_(s,o,l){gu(0),o(s,l)}const _T=(()=>Promise.resolve(null))();function yT(s){return s[7]||(s[7]=[])}function Ip(s){return s.cleanup||(s.cleanup=[])}function B_(s,o){const l=s[9],d=l?l.get(sh,null):null;d&&d.handleError(o)}function Hw(s,o,l,d,h){for(let p=0;p<l.length;){const y=l[p++],w=l[p++],C=o[y],I=s.data[y];null!==I.setInput?I.setInput(C,h,d,w):C[w]=h}}function ga(s,o,l){const d=zs(o,s);!function iw(s,o,l){Dn(s)?s.setValue(o,l):o.textContent=l}(s[11],d,l)}function _a(s,o,l){let d=l?s.styles:null,h=l?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const w=o[y];"number"==typeof w?p=w:1==p?h=be(h,w):2==p&&(d=be(d,w+": "+o[++y]+";"))}l?s.styles=d:s.stylesWithoutHost=d,l?s.classes=h:s.classesWithoutHost=h}const Ap=new $n("INJECTOR",-1);class Gw{get(o,l=so){if(l===so){const d=new Error(`NullInjectorError: No provider for ${ce(o)}!`);throw d.name="NullInjectorError",d}return l}}const U_=new $n("Set Injector scope."),Vo={},qw={};let j_;function H_(){return void 0===j_&&(j_=new Gw),j_}function zw(s,o=null,l=null,d){const h=$_(s,o,l,d);return h._resolveInjectorDefTypes(),h}function $_(s,o=null,l=null,d){return new bT(s,l,o||H_(),d)}class bT{constructor(o,l,d,h=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];l&&ji(l,w=>this.processProvider(w,o,l)),ji([o],w=>this.processInjectorType(w,[],p)),this.records.set(Ap,Dh(void 0,this));const y=this.records.get(U_);this.scope=null!=y?y.value:null,this.source=h||("object"==typeof o?null:ce(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,l=so,d=_t.Default){this.assertNotDestroyed();const h=ge(this),p=sn(void 0);try{if(!(d&_t.SkipSelf)){let w=this.records.get(o);if(void 0===w){const C=function ST(s){return"function"==typeof s||"object"==typeof s&&s instanceof $n}(o)&&On(o);w=C&&this.injectableDefInScope(C)?Dh(Mp(o),Vo):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(d&_t.Self?H_():this.parent).get(o,l=d&_t.Optional&&l===so?null:l)}catch(y){if("NullInjectorError"===y.name){if((y[Ml]=y[Ml]||[]).unshift(ce(o)),h)throw y;return function oo(s,o,l,d){const h=s[Ml];throw o[B]&&h.unshift(o[B]),s.message=function Ss(s,o,l,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=ce(o);if(Array.isArray(o))h=o.map(ce).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let w=o[y];p.push(y+":"+("string"==typeof w?JSON.stringify(w):ce(w)))}h=`{${p.join(", ")}}`}return`${l}${d?"("+d+")":""}[${h}]: ${s.replace(S,"\n  ")}`}("\n"+s.message,h,l,d),s.ngTokenPath=h,s[Ml]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{sn(p),ge(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((d,h)=>o.push(ce(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ne(205,!1)}processInjectorType(o,l,d){if(!(o=ee(o)))return!1;let h=Qi(o);const p=null==h&&o.ngModule||void 0,y=void 0===p?o:p,w=-1!==d.indexOf(y);if(void 0!==p&&(h=Qi(p)),null==h)return!1;if(null!=h.imports&&!w){let x;d.push(y);try{ji(h.imports,L=>{this.processInjectorType(L,l,d)&&(void 0===x&&(x=[]),x.push(L))})}finally{}if(void 0!==x)for(let L=0;L<x.length;L++){const{ngModule:G,providers:J}=x[L];ji(J,Ee=>this.processProvider(Ee,G,J||vt))}}this.injectorDefTypes.add(y);const C=_i(y)||(()=>new y);this.records.set(y,Dh(C,Vo));const I=h.providers;if(null!=I&&!w){const x=o;ji(I,L=>this.processProvider(L,x,I))}return void 0!==p&&void 0!==o.providers}processProvider(o,l,d){let h=Uu(o=ee(o))?o:ee(o&&o.provide);const p=function Ww(s,o,l){return CT(s)?Dh(void 0,s.useValue):Dh(ET(s),Vo)}(o);if(Uu(o)||!0!==o.multi)this.records.get(h);else{let y=this.records.get(h);y||(y=Dh(void 0,Vo,!0),y.factory=()=>At(y.multi),this.records.set(h,y)),h=o,y.multi.push(o)}this.records.set(h,p)}hydrate(o,l){return l.value===Vo&&(l.value=qw,l.value=l.factory()),"object"==typeof l.value&&l.value&&function gk(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this.onDestroy.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=ee(o.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function Mp(s){const o=On(s),l=null!==o?o.factory:_i(s);if(null!==l)return l;if(s instanceof $n)throw new Ne(204,!1);if(s instanceof Function)return function wT(s){const o=s.length;if(o>0)throw ai(o,"?"),new Ne(204,!1);const l=function Ar(s){const o=s&&(s[pi]||s[Er]);if(o){const l=function wr(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Ne(204,!1)}function ET(s,o,l){let d;if(Uu(s)){const h=ee(s);return _i(h)||Mp(h)}if(CT(s))d=()=>ee(s.useValue);else if(function DT(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...At(s.deps||[]));else if(function Zw(s){return!(!s||!s.useExisting)}(s))d=()=>ot(ee(s.useExisting));else{const h=ee(s&&(s.useClass||s.provide));if(!function xp(s){return!!s.deps}(s))return _i(h)||Mp(h);d=()=>new h(...At(s.deps))}return d}function Dh(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function CT(s){return null!==s&&"object"==typeof s&&Q in s}function Uu(s){return"function"==typeof s}let yt=(()=>{class s{static create(l,d){var h;if(Array.isArray(l))return zw({name:""},d,l,"");{const p=null!==(h=l.name)&&void 0!==h?h:"";return zw({name:p},l.parent,l.providers,p)}}}return s.THROW_IF_NOT_FOUND=so,s.NULL=new Gw,s.\u0275prov=rn({token:s,providedIn:"any",factory:()=>ot(Ap)}),s.__NG_ELEMENT_ID__=-1,s})();function vk(s,o){Ua($g(s)[1],bn())}function Xw(s){let o=function NT(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const d=[s];for(;o;){let h;if(Li(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ne(903,"");h=o.\u0275dir}if(h){if(l){d.push(h);const y=s;y.inputs=kp(s.inputs),y.declaredInputs=kp(s.declaredInputs),y.outputs=kp(s.outputs);const w=h.hostBindings;w&&Yr(s,w);const C=h.viewQuery,I=h.contentQueries;if(C&&FT(s,C),I&&LT(s,I),ie(s.inputs,h.inputs),ie(s.declaredInputs,h.declaredInputs),ie(s.outputs,h.outputs),Li(h)&&h.data.animation){const x=s.data;x.animation=(x.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const w=p[y];w&&w.ngInherit&&w(s),w===Xw&&(l=!1)}}o=Object.getPrototypeOf(o)}!function we(s){let o=0,l=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=wn(h.hostAttrs,l=wn(l,h.hostAttrs))}}(d)}function kp(s){return s===on?{}:s===vt?[]:s}function FT(s,o){const l=s.viewQuery;s.viewQuery=l?(d,h)=>{o(d,h),l(d,h)}:o}function LT(s,o){const l=s.contentQueries;s.contentQueries=l?(d,h,p)=>{o(d,h,p),l(d,h,p)}:o}function Yr(s,o){const l=s.hostBindings;s.hostBindings=l?(d,h)=>{o(d,h),l(d,h)}:o}let Pp=null;function Gc(){if(!Pp){const s=zt.Symbol;if(s&&s.iterator)Pp=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const d=o[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Pp=d)}}}return Pp}function qc(s){return!!W_(s)&&(Array.isArray(s)||!(s instanceof Map)&&Gc()in s)}function W_(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Vr(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function zc(s,o,l,d){const h=Ie();return Vr(h,oa(),o)&&(jt(),Lo(Hn(),h,s,o,l,d)),zc}function Wl(s,o,l,d){return Vr(s,oa(),l)?o+_e(l)+d:Bt}function J_(s,o,l,d,h,p,y,w){const C=Ie(),I=jt(),x=s+20,L=I.firstCreatePass?function Q_(s,o,l,d,h,p,y,w,C){const I=o.consts,x=mh(o,s,4,y||null,Bi(I,w));Ow(o,l,x,Bi(I,C)),Ua(o,x);const L=x.tViews=Bu(2,x,d,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,I);return null!==o.queries&&(o.queries.template(o,x),L.queries=o.queries.embeddedTView(x)),x}(x,I,C,o,l,d,h,p,y):I.data[x];Ui(L,!1);const G=C[11].createComment("");jc(I,C,G,L),Ci(G,C),Ch(C,C[x]=O_(G,C,G,L)),Wo(L)&&Cp(I,C,L),null!=y&&yh(C,L,w)}function s0(s){return function yi(s,o){return s[o]}(function pu(){return Et.lFrame.contextLView}(),20+s)}function $p(s,o=_t.Default){const l=Ie();return null===l?ot(s,o):_l(bn(),l,ee(s),o)}function JT(){throw new Error("invalid")}function xh(s,o,l){const d=Ie();return Vr(d,oa(),o)&&ls(jt(),Hn(),d,s,o,d[11],l,!1),xh}function g0(s,o,l,d,h){const y=h?"class":"style";Hw(s,l,o.inputs[y],y,d)}function Rh(s,o,l,d){const h=Ie(),p=jt(),y=20+s,w=h[11],C=h[y]=yr(w,o,function yc(){return Et.lFrame.currentNamespace}()),I=p.firstCreatePass?function XT(s,o,l,d,h,p,y){const w=o.consts,I=mh(o,s,2,h,Bi(w,p));return Ow(o,l,I,Bi(w,y)),null!==I.attrs&&_a(I,I.attrs,!1),null!==I.mergedAttrs&&_a(I,I.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,I),I}(y,p,h,0,o,l,d):p.data[y];Ui(I,!0);const x=I.mergedAttrs;null!==x&&ct(w,C,x);const L=I.classes;null!==L&&r_(w,C,L);const G=I.styles;return null!==G&&n_(w,C,G),64!=(64&I.flags)&&jc(p,h,C,I),0===function pc(){return Et.lFrame.elementDepthCount}()&&Ci(C,h),function ta(){Et.lFrame.elementDepthCount++}(),Wo(I)&&(Cp(p,h,I),Ep(p,I,h)),null!==d&&yh(h,I),Rh}function Gp(){let s=bn();fu()?La():(s=s.parent,Ui(s,!1));const o=s;!function mc(){Et.lFrame.elementDepthCount--}();const l=jt();return l.firstCreatePass&&(Ua(l,s),xa(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Ud(s){return 0!=(16&s.flags)}(o)&&g0(l,o,Ie(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Og(s){return 0!=(32&s.flags)}(o)&&g0(l,o,Ie(),o.stylesWithoutHost,!1),Gp}function qp(s,o,l,d){return Rh(s,o,l,d),Gp(),qp}function sy(s,o,l){const d=Ie(),h=jt(),p=s+20,y=h.firstCreatePass?function zp(s,o,l,d,h){const p=o.consts,y=Bi(p,d),w=mh(o,s,8,"ng-container",y);return null!==y&&_a(w,y,!0),Ow(o,l,w,Bi(p,h)),null!==o.queries&&o.queries.elementStart(o,w),w}(p,h,d,o,l):h.data[p];Ui(y,!0);const w=d[p]=d[11].createComment("");return jc(h,d,w,y),Ci(w,d),Wo(y)&&(Cp(h,d,y),Ep(h,y,d)),null!=l&&yh(d,y),sy}function ed(){let s=bn();const o=jt();return fu()?La():(s=s.parent,Ui(s,!1)),o.firstCreatePass&&(Ua(o,s),xa(s)&&o.queries.elementEnd(s)),ed}function y0(s,o,l){return sy(s,o,l),ed(),y0}function v0(){return Ie()}function b0(s){return!!s&&"function"==typeof s.then}function w0(s){return!!s&&"function"==typeof s.subscribe}const E0=w0;function C0(s,o,l,d){const h=Ie(),p=jt(),y=bn();return function nS(s,o,l,d,h,p,y,w){const C=Wo(d),x=s.firstCreatePass&&Ip(s),L=o[8],G=yT(o);let J=!0;if(3&d.type||w){const qe=Cr(d,o),st=w?w(qe):qe,Me=G.length,Ct=w?Zt=>w(mn(Zt[d.index])):d.index;if(Dn(l)){let Zt=null;if(!w&&C&&(Zt=function tS(s,o,l,d){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===l&&h[p+1]===d){const w=o[7],C=h[p+2];return w.length>C?w[C]:null}"string"==typeof y&&(p+=2)}return null}(s,o,h,d.index)),null!==Zt)(Zt.__ngLastListenerFn__||Zt).__ngNextListenerFn__=p,Zt.__ngLastListenerFn__=p,J=!1;else{p=D0(d,o,L,p,!1);const Tn=l.listen(st,h,p);G.push(p,Tn),x&&x.push(h,Ct,Me,Me+1)}}else p=D0(d,o,L,p,!0),st.addEventListener(h,p,y),G.push(p),x&&x.push(h,Ct,Me,y)}else p=D0(d,o,L,p,!1);const Ee=d.outputs;let Ve;if(J&&null!==Ee&&(Ve=Ee[h])){const qe=Ve.length;if(qe)for(let st=0;st<qe;st+=2){const Os=o[Ve[st]][Ve[st+1]].subscribe(p),Zu=G.length;G.push(p,Os),x&&x.push(h,d.index,Zu,-(Zu+1))}}}(p,h,h[11],y,s,o,!!l,d),C0}function rS(s,o,l,d){try{return!1!==l(d)}catch(h){return B_(s,h),!1}}function D0(s,o,l,d,h){return function p(y){if(y===Function)return d;const w=2&s.flags?$r(s.index,o):o;0==(32&o[2])&&N_(w);let C=rS(o,0,d,y),I=p.__ngNextListenerFn__;for(;I;)C=rS(o,0,I,y)&&C,I=I.__ngNextListenerFn__;return h&&!1===C&&(y.preventDefault(),y.returnValue=!1),C}}function iS(s=1){return function Ks(s){return(Et.lFrame.contextLView=function vu(s,o){for(;s>0;)o=o[15],s--;return o}(s,Et.lFrame.contextLView))[8]}(s)}function Tk(s,o){let l=null;const d=function vw(s){const o=s.attrs;if(null!=o){const l=o.indexOf(5);if(0==(1&l))return o[l+1]}return null}(s);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===d?s_(s,p,!0):Ew(d,p))return h}else l=h}return l}function Wp(s){const o=Ie()[16][6];if(!o.projection){const d=o.projection=ai(s?s.length:1,null),h=d.slice();let p=o.child;for(;null!==p;){const y=s?Tk(p,s):0;null!==y&&(h[y]?h[y].projectionNext=p:d[y]=p,h[y]=p),p=p.next}}}function T0(s,o=0,l){const d=Ie(),h=jt(),p=mh(h,20+s,16,null,l||null);null===p.projection&&(p.projection=o),La(),64!=(64&p.flags)&&function _w(s,o,l){Ul(o[11],0,o,l,YD(s,l,o),dw(l.parent||o[6],l,o))}(h,d,p)}function I0(s,o,l,d,h){const p=s[l+1],y=null===o;let w=d?co(p):Oo(p),C=!1;for(;0!==w&&(!1===C||y);){const x=s[w+1];Oh(s[w],o)&&(C=!0,s[w+1]=d?yp(x):gp(x)),w=d?co(x):Oo(x)}C&&(s[l+1]=d?gp(p):yp(p))}function Oh(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&ro(s,o)>=0}const Qr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function td(s){return s.substring(Qr.key,Qr.keyEnd)}function Ms(s,o){const l=Qr.textEnd;return l===o?-1:(o=Qr.keyEnd=function Nh(s,o,l){for(;o<l&&s.charCodeAt(o)>32;)o++;return o}(s,Qr.key=o,l),Ph(s,o,l))}function Ph(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function M0(s,o,l){return xs(s,o,l,!1),M0}function Fh(s,o){return xs(s,o,null,!0),Fh}function Ti(s,o){for(let l=function hy(s){return function fy(s){Qr.key=0,Qr.keyEnd=0,Qr.value=0,Qr.valueEnd=0,Qr.textEnd=s.length}(s),Ms(s,Ph(s,0,Qr.textEnd))}(o);l>=0;l=Ms(o,l))li(s,td(o),!0)}function xs(s,o,l,d){const h=Ie(),p=jt(),y=si(2);p.firstUpdatePass&&x0(p,s,y,d),o!==Bt&&Vr(h,y,o)&&hS(p,p.data[Gr()],h,h[11],s,h[y+1]=function pS(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ce(Is(s)))),s}(o,l),d,y)}function uS(s,o){return o>=s.expandoStartIndex}function x0(s,o,l,d){const h=s.data;if(null===h[l+1]){const p=h[Gr()],y=uS(s,l);_y(p,d)&&null===o&&!y&&(o=!1),o=function xk(s,o,l,d){const h=function Zs(s){const o=Et.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(l=Jp(l=my(null,s,o,l,d),o.attrs,d),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==h)if(l=my(h,s,o,l,d),null===p){let C=function py(s,o,l){const d=l?o.classBindings:o.styleBindings;if(0!==Oo(d))return s[co(d)]}(s,o,d);void 0!==C&&Array.isArray(C)&&(C=my(null,s,o,C[1],d),C=Jp(C,o.attrs,d),function cS(s,o,l,d){s[co(l?o.classBindings:o.styleBindings)]=d}(s,o,d,C))}else p=function dS(s,o,l){let d;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)d=Jp(d,s[p].hostAttrs,l);return Jp(d,o.attrs,l)}(s,o,d)}return void 0!==p&&(d?o.residualClasses=p:o.residualStyles=p),l}(h,p,o,d),function sS(s,o,l,d,h,p){let y=p?o.classBindings:o.styleBindings,w=co(y),C=Oo(y);s[d]=l;let x,I=!1;if(Array.isArray(l)){const L=l;x=L[1],(null===x||ro(L,x)>0)&&(I=!0)}else x=l;if(h)if(0!==C){const G=co(s[w+1]);s[d+1]=mp(G,w),0!==G&&(s[G+1]=_p(s[G+1],d)),s[w+1]=function d_(s,o){return 131071&s|o<<17}(s[w+1],d)}else s[d+1]=mp(w,0),0!==w&&(s[w+1]=_p(s[w+1],d)),w=d;else s[d+1]=mp(C,0),0===w?w=d:s[C+1]=_p(s[C+1],d),C=d;I&&(s[d+1]=gp(s[d+1])),I0(s,x,d,!0),I0(s,x,d,!1),function oS(s,o,l,d,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&ro(p,o)>=0&&(l[d+1]=yp(l[d+1]))}(o,x,s,d,p),y=mp(w,C),p?o.classBindings=y:o.styleBindings=y}(h,p,o,l,y,d)}}function my(s,o,l,d,h){let p=null;const y=l.directiveEnd;let w=l.directiveStylingLast;for(-1===w?w=l.directiveStart:w++;w<y&&(p=o[w],d=Jp(d,p.hostAttrs,h),p!==s);)w++;return null!==s&&(l.directiveStylingLast=w),d}function Jp(s,o,l){const d=l?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?h=y:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),li(s,y,!!l||o[++p]))}return void 0===s?null:s}function hS(s,o,l,d,h,p,y,w){if(!(3&o.type))return;const C=s.data,I=C[w+1];Xp(function h_(s){return 1==(1&s)}(I)?fS(C,o,l,h,Oo(I),y):void 0)||(Xp(p)||function c_(s){return 2==(2&s)}(I)&&(p=fS(C,null,l,h,w,y)),function JD(s,o,l,d,h){const p=Dn(s);if(o)h?p?s.addClass(l,d):l.classList.add(d):p?s.removeClass(l,d):l.classList.remove(d);else{let y=-1===d.indexOf("-")?void 0:fa.DashCase;if(null==h)p?s.removeStyle(l,d,y):l.style.removeProperty(d);else{const w="string"==typeof h&&h.endsWith("!important");w&&(h=h.slice(0,-10),y|=fa.Important),p?s.setStyle(l,d,h,y):l.style.setProperty(d,h,w?"important":"")}}}(d,y,zs(Gr(),l),h,p))}function fS(s,o,l,d,h,p){const y=null===o;let w;for(;h>0;){const C=s[h],I=Array.isArray(C),x=I?C[1]:C,L=null===x;let G=l[h+1];G===Bt&&(G=L?vt:void 0);let J=L?Tl(G,d):x===d?G:void 0;if(I&&!Xp(J)&&(J=Tl(C,d)),Xp(J)&&(w=J,y))return w;const Ee=s[h+1];h=y?co(Ee):Oo(Ee)}if(null!==o){let C=p?o.residualClasses:o.residualStyles;null!=C&&(w=Tl(C,d))}return w}function Xp(s){return void 0!==s}function _y(s,o){return 0!=(s.flags&(o?16:32))}function em(s,o=""){const l=Ie(),d=jt(),h=s+20,p=d.firstCreatePass?mh(d,h,1,o,null):d.data[h],y=l[h]=function op(s,o){return Dn(s)?s.createText(o):s.createTextNode(o)}(l[11],o);jc(d,l,y,p),Ui(p,!1)}function tm(s){return nd("",s,""),tm}function nd(s,o,l){const d=Ie(),h=Wl(d,s,o,l);return h!==Bt&&ga(d,Gr(),h),nd}function ES(s,o,l){!function wa(s,o,l,d){const h=jt(),p=si(2);h.firstUpdatePass&&x0(h,null,p,d);const y=Ie();if(l!==Bt&&Vr(y,p,l)){const w=h.data[Gr()];if(_y(w,d)&&!uS(h,p)){let C=d?w.classesWithoutHost:w.stylesWithoutHost;null!==C&&(l=be(C,l||"")),g0(h,w,y,l,d)}else!function gy(s,o,l,d,h,p,y,w){h===Bt&&(h=vt);let C=0,I=0,x=0<h.length?h[0]:null,L=0<p.length?p[0]:null;for(;null!==x||null!==L;){const G=C<h.length?h[C+1]:void 0,J=I<p.length?p[I+1]:void 0;let Ve,Ee=null;x===L?(C+=2,I+=2,G!==J&&(Ee=L,Ve=J)):null===L||null!==x&&x<L?(C+=2,Ee=x):(I+=2,Ee=L,Ve=J),null!==Ee&&hS(s,o,l,d,Ee,Ve,y,w),x=C<h.length?h[C]:null,L=I<p.length?p[I]:null}}(h,w,y,y[11],y[p+1],y[p+1]=function Rk(s,o,l){if(null==l||""===l)return vt;const d=[],h=Is(l);if(Array.isArray(h))for(let p=0;p<h.length;p++)s(d,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&s(d,p,h[p]);else"string"==typeof h&&o(d,h);return d}(s,o,l),d,p)}}(li,Ti,Wl(Ie(),s,o,l),!0)}function P0(s,o,l){const d=Ie();return Vr(d,oa(),o)&&ls(jt(),Hn(),d,s,o,d[11],l,!0),P0}const rd=void 0;var Zk=["en",[["a","p"],["AM","PM"],rd],[["AM","PM"],rd,rd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],rd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],rd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",rd,"{1} 'at' {0}",rd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Wk(s){const l=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let Lh={};function N0(s){const o=function Yk(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=PS(o);if(l)return l;const d=o.split("-")[0];if(l=PS(d),l)return l;if("en"===d)return Zk;throw new Error(`Missing locale data for the locale "${s}".`)}function F0(s){return N0(s)[Mt.PluralCase]}function PS(s){return s in Lh||(Lh[s]=zt.ng&&zt.ng.common&&zt.ng.common.locales&&zt.ng.common.locales[s]),Lh[s]}var Mt=(()=>((Mt=Mt||{})[Mt.LocaleId=0]="LocaleId",Mt[Mt.DayPeriodsFormat=1]="DayPeriodsFormat",Mt[Mt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Mt[Mt.DaysFormat=3]="DaysFormat",Mt[Mt.DaysStandalone=4]="DaysStandalone",Mt[Mt.MonthsFormat=5]="MonthsFormat",Mt[Mt.MonthsStandalone=6]="MonthsStandalone",Mt[Mt.Eras=7]="Eras",Mt[Mt.FirstDayOfWeek=8]="FirstDayOfWeek",Mt[Mt.WeekendRange=9]="WeekendRange",Mt[Mt.DateFormat=10]="DateFormat",Mt[Mt.TimeFormat=11]="TimeFormat",Mt[Mt.DateTimeFormat=12]="DateTimeFormat",Mt[Mt.NumberSymbols=13]="NumberSymbols",Mt[Mt.NumberFormats=14]="NumberFormats",Mt[Mt.CurrencyCode=15]="CurrencyCode",Mt[Mt.CurrencySymbol=16]="CurrencySymbol",Mt[Mt.CurrencyName=17]="CurrencyName",Mt[Mt.Currencies=18]="Currencies",Mt[Mt.Directionality=19]="Directionality",Mt[Mt.PluralCase=20]="PluralCase",Mt[Mt.ExtraData=21]="ExtraData",Mt))();const yy="en-US";let NS=yy;function j0(s,o,l,d,h){if(s=ee(s),Array.isArray(s))for(let p=0;p<s.length;p++)j0(s[p],o,l,d,h);else{const p=jt(),y=Ie();let w=Uu(s)?s:ee(s.provide),C=ET(s);const I=bn(),x=1048575&I.providerIndexes,L=I.directiveStart,G=I.providerIndexes>>20;if(Uu(s)||!s.multi){const J=new ml(C,h,$p),Ee=$0(w,o,h?x:x+G,L);-1===Ee?(So(_n(I,y),p,w),H0(p,s,o.length),o.push(w),I.directiveStart++,I.directiveEnd++,h&&(I.providerIndexes+=1048576),l.push(J),y.push(J)):(l[Ee]=J,y[Ee]=J)}else{const J=$0(w,o,x+G,L),Ee=$0(w,o,x,x+G),Ve=J>=0&&l[J],qe=Ee>=0&&l[Ee];if(h&&!qe||!h&&!Ve){So(_n(I,y),p,w);const st=function kO(s,o,l,d,h){const p=new ml(s,l,$p);return p.multi=[],p.index=o,p.componentProviders=0,aI(p,h,d&&!l),p}(h?RO:xO,l.length,h,d,C);!h&&qe&&(l[Ee].providerFactory=st),H0(p,s,o.length,0),o.push(w),I.directiveStart++,I.directiveEnd++,h&&(I.providerIndexes+=1048576),l.push(st),y.push(st)}else H0(p,s,J>-1?J:Ee,aI(l[h?Ee:J],C,!h&&d));!h&&d&&qe&&l[Ee].componentProviders++}}}function H0(s,o,l,d){const h=Uu(o),p=function TT(s){return!!s.useClass}(o);if(h||p){const C=(p?ee(o.useClass):o).prototype.ngOnDestroy;if(C){const I=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const x=I.indexOf(l);-1===x?I.push(l,[d,C]):I[x+1].push(d,C)}else I.push(l,C)}}}function aI(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function $0(s,o,l,d){for(let h=l;h<d;h++)if(o[h]===s)return h;return-1}function xO(s,o,l,d){return G0(this.multi,[])}function RO(s,o,l,d){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=zr(l,l[1],this.providerFactory.index,d);p=w.slice(0,y),G0(h,p);for(let C=y;C<w.length;C++)p.push(w[C])}else p=[],G0(h,p);return p}function G0(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function lI(s,o=[]){return l=>{l.providersResolver=(d,h)=>function MO(s,o,l){const d=jt();if(d.firstCreatePass){const h=Li(s);j0(l,d.data,d.blueprint,h,!0),j0(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class Iy{}class W0{resolveComponentFactory(o){throw function q0(s){const o=Error(`No component factory found for ${ce(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Ea=(()=>{class s{}return s.NULL=new W0,s})();function uI(){return id(bn(),Ie())}function id(s,o){return new Bh(Cr(s,o))}let Bh=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=uI,s})();function cI(s){return s instanceof Bh?s.nativeElement:s}class dI{}let hI=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function fI(){const s=Ie(),l=$r(bn().index,s);return function cm(s){return s[11]}(Or(l)?l:s)}(),s})(),FO=(()=>{class s{}return s.\u0275prov=rn({token:s,providedIn:"root",factory:()=>null}),s})();class Ay{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const My=new Ay("13.2.3"),Uh={};function dm(s,o,l,d,h=!1){for(;null!==l;){const p=o[l.index];if(null!==p&&d.push(mn(p)),gi(p))for(let w=10;w<p.length;w++){const C=p[w],I=C[1].firstChild;null!==I&&dm(C[1],C,I,d)}const y=l.type;if(8&y)dm(s,o,l.child,d);else if(32&y){const w=Kg(l,o);let C;for(;C=w();)d.push(C)}else if(16&y){const w=pw(o,l);if(Array.isArray(w))d.push(...w);else{const C=oh(o[16]);dm(C[1],C,w,d,!0)}}l=h?l.projectionNext:l.next}return d}class hm{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return dm(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(gi(o)){const l=o[8],d=l?l.indexOf(this):-1;d>-1&&(up(o,d),da(l,d))}this._attachedToViewContainer=!1}ow(this._lView[1],this._lView)}onDestroy(o){S_(this._lView[1],this._lView,null,o)}markForCheck(){N_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Sp(this._lView[1],this._lView,this.context)}checkNoChanges(){!function L_(s,o,l){ia(!0);try{Sp(s,o,l)}finally{ia(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ne(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Jg(s,o){ah(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ne(902,"");this._appRef=o}}class Z0 extends hm{constructor(o){super(o),this._view=o}detectChanges(){Uw(this._view)}checkNoChanges(){!function mT(s){ia(!0);try{Uw(s)}finally{ia(!1)}}(this._view)}get context(){return null}}class K0 extends Ea{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=ze(o);return new fm(l,this.ngModule)}}function Ca(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}const Ry=new $n("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Qb});class fm extends Iy{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function Dw(s){return s.map(Cw).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return Ca(this.componentDef.inputs)}get outputs(){return Ca(this.componentDef.outputs)}create(o,l,d,h){const p=(h=h||this.ngModule)?function LO(s,o){return{get:(l,d,h)=>{const p=s.get(l,Uh,h);return p!==Uh||d===Uh?p:o.get(l,d,h)}}}(o,h.injector):o,y=p.get(dI,bo),w=p.get(FO,null),C=y.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",x=d?function T_(s,o,l){if(Dn(s))return s.selectRootElement(o,l===Gt.ShadowDom);let d="string"==typeof o?s.querySelector(o):o;return d.textContent="",d}(C,d,this.componentDef.encapsulation):yr(y.createRenderer(null,this.componentDef),I,function xy(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(I)),L=this.componentDef.onPush?576:528,G=function PT(s,o){return{components:[],scheduler:s||Qb,clean:_T,playerHandler:o||null,flags:0}}(),J=Bu(0,null,null,1,0,null,null,null,null,null),Ee=Vu(null,J,G,L,null,null,y,C,w,p);let Ve,qe;Ba(Ee);try{const st=function kT(s,o,l,d,h,p){const y=l[1];l[20]=s;const C=mh(y,20,2,"#host",null),I=C.mergedAttrs=o.hostAttrs;null!==I&&(_a(C,I,!0),null!==s&&(ct(h,s,I),null!==C.classes&&r_(h,s,C.classes),null!==C.styles&&n_(h,s,C.styles)));const x=d.createRenderer(s,o),L=Vu(l,C_(o),null,o.onPush?64:16,l[20],C,d,x,p||null,null);return y.firstCreatePass&&(So(_n(C,l),y,o.type),Lw(y,C),cT(C,l.length,1)),Ch(l,L),l[20]=L}(x,this.componentDef,Ee,y,C);if(x)if(d)ct(C,x,["ng-version",My.full]);else{const{attrs:Me,classes:Ct}=function pp(s){const o=[],l=[];let d=1,h=2;for(;d<s.length;){let p=s[d];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++d]):8===h&&l.push(p);else{if(!ko(h))break;h=p}d++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);Me&&ct(C,x,Me),Ct&&Ct.length>0&&r_(C,x,Ct.join(" "))}if(qe=dl(J,20),void 0!==l){const Me=qe.projection=[];for(let Ct=0;Ct<this.ngContentSelectors.length;Ct++){const Zt=l[Ct];Me.push(null!=Zt?Array.from(Zt):null)}}Ve=function OT(s,o,l,d,h){const p=l[1],y=function fk(s,o,l){const d=bn();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),x_(s,d,o,ma(s,o,1,null),l));const h=zr(o,s,d.directiveStart,d);Ci(h,o);const p=Cr(d,o);return p&&Ci(p,o),h}(p,l,o);if(d.components.push(y),s[8]=y,h&&h.forEach(C=>C(y,o)),o.contentQueries){const C=bn();o.contentQueries(1,y,C.directiveStart)}const w=bn();return!p.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Ys(w.index),Pw(l[1],w,0,w.directiveStart,w.directiveEnd,o),M_(o,y)),y}(st,this.componentDef,Ee,G,[vk]),$l(J,Ee,null)}finally{Do()}return new VO(this.componentType,Ve,id(qe,Ee),Ee,qe)}}class VO extends class OO{}{constructor(o,l,d,h,p){super(),this.location=d,this._rootLView=h,this._tNode=p,this.instance=l,this.hostView=this.changeDetectorRef=new Z0(h),this.componentType=o}get injector(){return new En(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class jh{}class Y0{}const Hh=new Map;class Yt extends jh{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new K0(this);const d=Rt(o);this._bootstrapComponents=Ro(d.bootstrap),this._r3Injector=$_(o,l,[{provide:jh,useValue:this},{provide:Ea,useValue:this.componentFactoryResolver}],ce(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,l=yt.THROW_IF_NOT_FOUND,d=_t.Default){return o===yt||o===jh||o===Ap?this:this._r3Injector.get(o,l,d)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class sd extends Y0{constructor(o){super(),this.moduleType=o,null!==Rt(o)&&function Q0(s){const o=new Set;!function l(d){const h=Rt(d,!0),p=h.id;null!==p&&(function pI(s,o,l){if(o&&o!==l)throw new Error(`Duplicate module registered for ${s} - ${ce(o)} vs ${ce(o.name)}`)}(p,Hh.get(p),d),Hh.set(p,d));const y=Ro(h.imports);for(const w of y)o.has(w)||(o.add(w),l(w))}(s)}(o)}create(o){return new Yt(this.moduleType,o)}}function Py(s){return o=>{setTimeout(s,void 0,o)}}const Da=class RI extends u.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,d){var h,p,y;let w=o,C=l||(()=>null),I=d;if(o&&"object"==typeof o){const L=o;w=null===(h=L.next)||void 0===h?void 0:h.bind(L),C=null===(p=L.error)||void 0===p?void 0:p.bind(L),I=null===(y=L.complete)||void 0===y?void 0:y.bind(L)}this.__isAsync&&(C=Py(C),w&&(w=Py(w)),I&&(I=Py(I)));const x=super.subscribe({next:w,error:C,complete:I});return o instanceof H.w0&&o.add(x),x}};function kI(){return this._results[Gc()]()}class gm{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Gc(),d=gm.prototype;d[l]||(d[l]=kI)}get changes(){return this._changes||(this._changes=new Da)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const d=this;d.dirty=!1;const h=Fr(o);(this._changesDetected=!function El(s,o,l){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],p=o[d];if(l&&(h=l(h),p=l(p)),p!==h)return!1}return!0}(d._results,h,l))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let qh=(()=>{class s{}return s.__NG_ELEMENT_ID__=NI,s})();const OI=qh,PI=class extends OI{constructor(o,l,d){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(o){const l=this._declarationTContainer.tViews,d=Vu(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(d[19]=p.createEmbeddedView(l)),$l(l,d,o),new hm(d)}};function NI(){return _m(bn(),Ie())}function _m(s,o){return 4&s.type?new PI(o,s,id(s,o)):null}let Ny=(()=>{class s{}return s.__NG_ELEMENT_ID__=FI,s})();function FI(){return bm(bn(),Ie())}const LI=Ny,ym=class extends LI{constructor(o,l,d){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=d}get element(){return id(this._hostTNode,this._hostLView)}get injector(){return new En(this._hostTNode,this._hostLView)}get parentInjector(){const o=qr(this._hostTNode,this._hostLView);if(Wn(o)){const l=Es(o,this._hostLView),d=Qs(o);return new En(l[1].data[d+8],l)}return new En(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=Qa(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,d){const h=o.createEmbeddedView(l||{});return this.insert(h,d),h}createComponent(o,l,d,h,p){const y=o&&!function wl(s){return"function"==typeof s}(o);let w;if(y)w=l;else{const L=l||{};w=L.index,d=L.injector,h=L.projectableNodes,p=L.ngModuleRef}const C=y?o:new fm(ze(o)),I=d||this.parentInjector;if(!p&&null==C.ngModule){const G=(y?I:this.parentInjector).get(jh,null);G&&(p=G)}const x=C.create(I,h,void 0,p);return this.insert(x.hostView,w),x}insert(o,l){const d=o._lView,h=d[1];if(function ea(s){return gi(s[3])}(d)){const x=this.indexOf(o);if(-1!==x)this.detach(x);else{const L=d[3],G=new ym(L,L[6],L[3]);G.detach(G.indexOf(o))}}const p=this._adjustIndex(l),y=this._lContainer;!function Uc(s,o,l,d){const h=10+d,p=l.length;d>0&&(l[h-1][4]=o),d<p-10?(o[4]=l[h],qa(l,10+d,o)):(l.push(o),o[4]=null),o[3]=l;const y=o[17];null!==y&&l!==y&&function KD(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(y,o);const w=o[19];null!==w&&w.insertView(s),o[2]|=128}(h,d,y,p);const w=fp(p,y),C=d[11],I=dp(C,y[7]);return null!==I&&function ap(s,o,l,d,h,p){d[0]=h,d[6]=o,ah(s,d,l,1,h,p)}(h,y[6],C,d,I,w),o.attachToViewContainerRef(),qa(vm(y),p,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=Qa(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),d=up(this._lContainer,l);d&&(da(vm(this._lContainer),l),ow(d[1],d))}detach(o){const l=this._adjustIndex(o,-1),d=up(this._lContainer,l);return d&&null!=da(vm(this._lContainer),l)?new hm(d):null}_adjustIndex(o,l=0){return null==o?this.length+l:o}};function Qa(s){return s[8]}function vm(s){return s[8]||(s[8]=[])}function bm(s,o){let l;const d=o[s.index];if(gi(d))l=d;else{let h;if(8&s.type)h=mn(d);else{const p=o[11];h=p.createComment("");const y=Cr(s,o);Bl(p,dp(p,y),h,function QD(s,o){return Dn(s)?s.nextSibling(o):o.nextSibling}(p,y),!1)}o[s.index]=l=O_(d,o,h,s),Ch(o,l)}return new ym(l,s,o)}class wm{constructor(o){this.queryList=o,this.matches=null}clone(){return new wm(this.queryList)}setDirty(){this.queryList.setDirty()}}class zh{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const d=null!==o.contentQueries?o.contentQueries[0]:l.length,h=[];for(let p=0;p<d;p++){const y=l.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new zh(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==Wh(o,l).matches&&this.queries[l].setDirty()}}class Vy{constructor(o,l,d=null){this.predicate=o,this.flags=l,this.read=d}}class sE{constructor(o=[]){this.queries=o}elementStart(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let d=0;d<this.length;d++){const h=null!==l?l.length:0,p=this.getByIndex(d).embeddedTView(o,h);p&&(p.indexInDeclarationView=d,null!==l?l.push(p):l=[p])}return null!==l?new sE(l):null}template(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class By{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new By(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const p=d[h];this.matchTNodeWithReadOption(o,l,qu(l,p)),this.matchTNodeWithReadOption(o,l,ss(l,o,p,!1,!1))}else d===qh?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,ss(l,o,d,!1,!1))}matchTNodeWithReadOption(o,l,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Bh||h===Ny||h===qh&&4&l.type)this.addMatch(l.index,-2);else{const p=ss(l,o,h,!1,!1);null!==p&&this.addMatch(l.index,p)}else this.addMatch(l.index,d)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function qu(s,o){const l=s.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===o)return l[d+1];return null}function aE(s,o,l,d){return-1===l?function oE(s,o){return 11&s.type?id(s,o):4&s.type?_m(s,o):null}(o,s):-2===l?function VI(s,o,l){return l===Bh?id(o,s):l===qh?_m(o,s):l===Ny?bm(o,s):void 0}(s,o,d):zr(s,s[1],l,o)}function Uy(s,o,l,d){const h=o[19].queries[d];if(null===h.matches){const p=s.data,y=l.matches,w=[];for(let C=0;C<y.length;C+=2){const I=y[C];w.push(I<0?null:aE(o,p[I],y[C+1],l.metadata.read))}h.matches=w}return h.matches}function Em(s,o,l,d){const h=s.queries.getByIndex(l),p=h.matches;if(null!==p){const y=Uy(s,o,h,l);for(let w=0;w<p.length;w+=2){const C=p[w];if(C>0)d.push(y[w/2]);else{const I=p[w+1],x=o[-C];for(let L=10;L<x.length;L++){const G=x[L];G[17]===G[3]&&Em(G[1],G,I,d)}if(null!==x[9]){const L=x[9];for(let G=0;G<L.length;G++){const J=L[G];Em(J[1],J,I,d)}}}}}return d}function BI(s){const o=Ie(),l=jt(),d=Fd();gu(d+1);const h=Wh(l,d);if(s.dirty&&vs(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?Em(l,o,d,[]):Uy(l,o,h,d);s.reset(p,cI),s.notifyOnChanges()}return!0}return!1}function jy(s,o,l){const d=jt();d.firstCreatePass&&(Dm(d,new Vy(s,o,l),-1),2==(2&o)&&(d.staticViewQueries=!0)),cE(d,Ie(),o)}function Cm(s,o,l,d){const h=jt();if(h.firstCreatePass){const p=bn();Dm(h,new Vy(o,l,d),p.index),function Tm(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(h,s),2==(2&l)&&(h.staticContentQueries=!0)}cE(h,Ie(),l)}function lE(){return function uE(s,o){return s[19].queries[o].queryList}(Ie(),Fd())}function cE(s,o,l){const d=new gm(4==(4&l));S_(s,o,d,d.destroy),null===o[19]&&(o[19]=new zh),o[19].queries.push(new wm(d))}function Dm(s,o,l){null===s.queries&&(s.queries=new sE),s.queries.track(new By(o,l))}function Wh(s,o){return s.queries.getByIndex(o)}function Nm(...s){}const Qh=new $n("Application Initializer");let Xa=(()=>{class s{constructor(l){this.appInits=l,this.resolve=Nm,this.reject=Nm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(b0(p))l.push(p);else if(E0(p)){const y=new Promise((w,C)=>{p.subscribe({complete:w,error:C})});l.push(y)}}Promise.all(l).then(()=>{d()}).catch(h=>{this.reject(h)}),0===l.length&&d(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(ot(Qh,8))},s.\u0275prov=rn({token:s,factory:s.\u0275fac}),s})();const wE=new $n("AppId"),WI={provide:wE,useFactory:function EE(){return`${CE()}${CE()}${CE()}`},deps:[]};function CE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Fm=new $n("Platform Initializer"),ZI=new $n("Platform ID"),DE=new $n("appBootstrapListener");let TE=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=rn({token:s,factory:s.\u0275fac}),s})();const Jh=new $n("LocaleId"),Lm=new $n("DefaultCurrencyCode");class YI{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let Xy=(()=>{class s{compileModuleSync(l){return new sd(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),p=Ro(Rt(l).declarations).reduce((y,w)=>{const C=ze(w);return C&&y.push(new fm(C)),y},[]);return new YI(d,p)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=rn({token:s,factory:s.\u0275fac}),s})();const XI=(()=>Promise.resolve(0))();function ev(s){"undefined"==typeof Zone?XI.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Rs{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Da(!1),this.onMicrotaskEmpty=new Da(!1),this.onStable=new Da(!1),this.onError=new Da(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&l,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function SE(){let s=zt.requestAnimationFrame,o=zt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function tA(s){const o=()=>{!function eA(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(zt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,rv(s),s.isCheckStableRunning=!0,nv(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),rv(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,h,p,y,w)=>{try{return iv(s),l.invokeTask(h,p,y,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),IE(s)}},onInvoke:(l,d,h,p,y,w,C)=>{try{return iv(s),l.invoke(h,p,y,w,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),IE(s)}},onHasTask:(l,d,h,p)=>{l.hasTask(h,p),d===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,rv(s),nv(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(l,d,h,p)=>(l.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Rs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Rs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,l,d){return this._inner.run(o,l,d)}runTask(o,l,d,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,o,tv,Nm,Nm);try{return p.runTask(y,l,d)}finally{p.cancelTask(y)}}runGuarded(o,l,d){return this._inner.runGuarded(o,l,d)}runOutsideAngular(o){return this._outer.run(o)}}const tv={};function nv(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function rv(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function iv(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function IE(s){s._nesting--,nv(s)}class fo{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Da,this.onMicrotaskEmpty=new Da,this.onStable=new Da,this.onError=new Da}run(o,l,d){return o.apply(l,d)}runGuarded(o,l,d){return o.apply(l,d)}runOutsideAngular(o){return o()}runTask(o,l,d,h){return o.apply(l,d)}}let Vm=(()=>{class s{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Rs.assertNotInAngularZone(),ev(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ev(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,h){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:p,updateCb:h})}whenStable(l,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,d,h){return[]}}return s.\u0275fac=function(l){return new(l||s)(ot(Rs))},s.\u0275prov=rn({token:s,factory:s.\u0275fac}),s})(),cd=(()=>{class s{constructor(){this._applications=new Map,ov.addToWindow(this)}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return ov.findTestabilityInTree(this,l,d)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=rn({token:s,factory:s.\u0275fac}),s})();class sv{addToWindow(o){}findTestabilityInTree(o,l,d){return null}}function nA(s){ov=s}let ks,ov=new sv;const AE=new $n("AllowMultipleToken");class ME{constructor(o,l){this.name=o,this.token=l}}function av(s,o,l=[]){const d=`Platform: ${o}`,h=new $n(d);return(p=[])=>{let y=RE();if(!y||y.injector.get(AE,!1))if(s)s(l.concat(p).concat({provide:h,useValue:!0}));else{const w=l.concat(p).concat({provide:h,useValue:!0},{provide:U_,useValue:"platform"});!function xE(s){if(ks&&!ks.destroyed&&!ks.injector.get(AE,!1))throw new Ne(400,"");ks=s.get(kE);const o=s.get(Fm,null);o&&o.forEach(l=>l())}(yt.create({providers:w,name:d}))}return function po(s){const o=RE();if(!o)throw new Ne(401,"");return o}()}}function RE(){return ks&&!ks.destroyed?ks:null}let kE=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const w=function OE(s,o){let l;return l="noop"===s?new fo:("zone.js"===s?void 0:s)||new Rs({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),l}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),C=[{provide:Rs,useValue:w}];return w.run(()=>{const I=yt.create({providers:C,parent:this.injector,name:l.moduleType.name}),x=l.create(I),L=x.injector.get(sh,null);if(!L)throw new Ne(402,"");return w.runOutsideAngular(()=>{const G=w.onError.subscribe({next:J=>{L.handleError(J)}});x.onDestroy(()=>{uv(this._modules,x),G.unsubscribe()})}),function iA(s,o,l){try{const d=l();return b0(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(L,w,()=>{const G=x.injector.get(Xa);return G.runInitializers(),G.donePromise.then(()=>(function eO(s){ht(s,"Expected localeId to be defined"),"string"==typeof s&&(NS=s.toLowerCase().replace(/_/g,"-"))}(x.injector.get(Jh,yy)||yy),this._moduleDoBootstrap(x),x))})})}bootstrapModule(l,d=[]){const h=lv({},d);return function rA(s,o,l){const d=new sd(l);return Promise.resolve(d)}(0,0,l).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(l){const d=l.injector.get(Xl);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new Ne(403,"");l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ne(404,"");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(ot(yt))},s.\u0275prov=rn({token:s,factory:s.\u0275fac}),s})();function lv(s,o){return Array.isArray(o)?o.reduce(lv,s):Object.assign(Object.assign({},s),o)}let Xl=(()=>{class s{constructor(l,d,h,p,y){this._zone=l,this._injector=d,this._exceptionHandler=h,this._componentFactoryResolver=p,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new k.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),C=new k.y(I=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{Rs.assertNotInAngularZone(),ev(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const L=this._zone.onUnstable.subscribe(()=>{Rs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{x.unsubscribe(),L.unsubscribe()}});this.isStable=(0,oe.T)(w,C.pipe((0,se.B)()))}bootstrap(l,d){if(!this._initStatus.done)throw new Ne(405,"");let h;h=l instanceof Iy?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(h.componentType);const p=function Bm(s){return s.isBoundToModule}(h)?void 0:this._injector.get(jh),w=h.create(yt.NULL,[],d||h.selector,p),C=w.location.nativeElement,I=w.injector.get(Vm,null),x=I&&w.injector.get(cd);return I&&x&&x.registerApplication(C,I),w.onDestroy(()=>{this.detachView(w.hostView),uv(this.components,w),x&&x.unregisterApplication(C)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Ne(101,"");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;uv(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(DE,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(l){return new(l||s)(ot(Rs),ot(yt),ot(sh),ot(Ea),ot(Xa))},s.\u0275prov=rn({token:s,factory:s.\u0275fac}),s})();function uv(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let NE=!0,dv=!1;function sA(){return dv=!0,NE}function oA(){if(dv)throw new Error("Cannot enable prod mode after platform setup.");NE=!1}let Um=(()=>{class s{}return s.__NG_ELEMENT_ID__=FE,s})();function FE(s){return function aA(s,o,l){if(zo(s)&&!l){const d=$r(s.index,o);return new hm(d,d)}return 47&s.type?new hm(o[16],o):null}(bn(),Ie(),16==(16&s))}class jE{constructor(){}supports(o){return qc(o)}create(o){return new rP(o)}}const Ii=(s,o)=>o;class rP{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Ii}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,d=this._removalsHead,h=0,p=null;for(;l||d;){const y=!d||l&&l.currentIndex<$m(d,h,p)?l:d,w=$m(y,h,p),C=y.currentIndex;if(y===d)h--,d=d._nextRemoved;else if(l=l._next,null==y.previousIndex)h++;else{p||(p=[]);const I=w-h,x=C-h;if(I!=x){for(let G=0;G<I;G++){const J=G<p.length?p[G]:p[G]=0,Ee=J+G;x<=Ee&&Ee<I&&(p[G]=J+1)}p[y.previousIndex]=x-I}}w!==C&&o(y,w,C)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!qc(o))throw new Ne(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,y,l=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)p=o[w],y=this._trackByFn(w,p),null!==l&&Object.is(l.trackById,y)?(d&&(l=this._verifyReinsertion(l,p,y,w)),Object.is(l.item,p)||this._addIdentityChange(l,p)):(l=this._mismatch(l,p,y,w),d=!0),l=l._next}else h=0,function UT(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[Gc()]();let d;for(;!(d=l.next()).done;)o(d.value)}}(o,w=>{y=this._trackByFn(h,w),null!==l&&Object.is(l.trackById,y)?(d&&(l=this._verifyReinsertion(l,w,y,h)),Object.is(l.item,w)||this._addIdentityChange(l,w)):(l=this._mismatch(l,w,y,h),d=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,d,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,p,h)):o=this._addAfter(new iP(l,d),p,h),o}_verifyReinsertion(o,l,d,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,l,d),this._addToMoves(o,d),o}_moveAfter(o,l,d){return this._unlink(o),this._insertAfter(o,l,d),this._addToMoves(o,d),o}_addAfter(o,l,d){return this._insertAfter(o,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,d){const h=null===l?this._itHead:l._next;return o._next=h,o._prev=l,null===h?this._itTail=o:h._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new gv),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,d=o._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gv),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class iP{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class sP{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const l=o._prevDup,d=o._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class gv{constructor(){this.map=new Map}put(o){const l=o.trackById;let d=this.map.get(l);d||(d=new sP,this.map.set(l,d)),d.add(o)}get(o,l){const h=this.map.get(o);return h?h.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function $m(s,o,l){const d=s.previousIndex;if(null===d)return d;let h=0;return l&&d<l.length&&(h=l[d]),d+o+h}class _v{constructor(){}supports(o){return o instanceof Map||W_(o)}create(){return new dA}}class dA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||W_(o)))throw new Ne(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const p=this._getOrCreateRecordForKey(h,d);l=this._insertBeforeOrAppend(l,p)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const d=o._prev;return l._next=o,l._prev=d,o._prev=l,d&&(d._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,l);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const d=new hA(o);return this._records.set(o,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(d=>l(o[d],d))}}class hA{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fA(){return new yv([new jE])}let yv=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(null!=d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||fA()),deps:[[s,new as,new gr]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(null!=d)return d;throw new Ne(901,"")}}return s.\u0275prov=rn({token:s,providedIn:"root",factory:fA}),s})();function pA(){return new vv([new _v])}let vv=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(d){const h=d.factories.slice();l=l.concat(h)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||pA()),deps:[[s,new as,new gr]]}}find(l){const d=this.factories.find(p=>p.supports(l));if(d)return d;throw new Ne(901,"")}}return s.\u0275prov=rn({token:s,providedIn:"root",factory:pA}),s})();const aP=[new _v],uP=new yv([new jE]),cP=new vv(aP),dP=av(null,"core",[{provide:ZI,useValue:"unknown"},{provide:kE,deps:[yt]},{provide:cd,deps:[]},{provide:TE,deps:[]}]),ef=[{provide:Xl,useClass:Xl,deps:[Rs,yt,sh,Ea,Xa]},{provide:Ry,deps:[Rs],useFactory:function mP(s){let o=[];return s.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(l){o.push(l)}}},{provide:Xa,useClass:Xa,deps:[[new gr,Qh]]},{provide:Xy,useClass:Xy,deps:[]},WI,{provide:yv,useFactory:function hP(){return uP},deps:[]},{provide:vv,useFactory:function mA(){return cP},deps:[]},{provide:Jh,useFactory:function fP(s){return s||function pP(){return"undefined"!=typeof $localize&&$localize.locale||yy}()},deps:[[new os(Jh),new gr,new as]]},{provide:Lm,useValue:"USD"}];let gA=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(ot(Xl))},s.\u0275mod=N({type:s}),s.\u0275inj=tn({providers:ef}),s})()},3942:(ut,Se,P)=>{P.d(Se,{Z:()=>Ne});var u=P(2090),H=P(4859),k=P(9681),oe=P(1877);class se{constructor(_e,De){this._delegate=_e,this.firebase=De,(0,k._addComponent)(_e,new H.wA("app-compat",()=>this,"PUBLIC")),this.container=_e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this._delegate.automaticDataCollectionEnabled=_e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(_e=>{this._delegate.checkDestroyed(),_e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(_e,De=k._DEFAULT_ENTRY_NAME){var Xe;this._delegate.checkDestroyed();const He=this._delegate.container.getProvider(_e);return!He.isInitialized()&&"EXPLICIT"===(null===(Xe=He.getComponent())||void 0===Xe?void 0:Xe.instantiationMode)&&He.initialize(),He.getImmediate({identifier:De})}_removeServiceInstance(_e,De=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(_e).clearInstance(De)}_addComponent(_e){(0,k._addComponent)(this._delegate,_e)}_addOrOverwriteComponent(_e){(0,k._addOrOverwriteComponent)(this._delegate,_e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ie=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function be(){const Le=function ce(Le){const _e={},De={__esModule:!0,initializeApp:function Re(te,Je={}){const Y=k.initializeApp(te,Je);if((0,u.r3)(_e,Y.name))return _e[Y.name];const he=new Le(Y,De);return _e[Y.name]=he,he},app:He,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function Ce(te){const Je=te.name,Y=Je.replace("-compat","");if(k._registerComponent(te)&&"PUBLIC"===te.type){const he=(ue=He())=>{if("function"!=typeof ue[Y])throw ie.create("invalid-app-argument",{appName:Je});return ue[Y]()};void 0!==te.serviceProps&&(0,u.ZB)(he,te.serviceProps),De[Y]=he,Le.prototype[Y]=function(...ue){return this._getService.bind(this,Je).apply(this,te.multipleInstances?ue:[])}}return"PUBLIC"===te.type?De[Y]:null},removeApp:function Xe(te){delete _e[te]},useAsService:function Ze(te,Je){return"serverAuth"===Je?null:Je},modularAPIs:k}};function He(te){if(!(0,u.r3)(_e,te=te||k._DEFAULT_ENTRY_NAME))throw ie.create("no-app",{appName:te});return _e[te]}return De.default=De,Object.defineProperty(De,"apps",{get:function Ae(){return Object.keys(_e).map(te=>_e[te])}}),He.App=Le,De}(se);return Le.INTERNAL=Object.assign(Object.assign({},Le.INTERNAL),{createFirebaseNamespace:be,extendNamespace:function _e(De){(0,u.ZB)(Le,De)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),Le}(),q=new oe.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Le=self.firebase.SDK_VERSION;Le&&Le.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ne=W;!function ke(Le){(0,k.registerVersion)("@firebase/app-compat","0.1.21",Le)}()},9681:(ut,Se,P)=>{P.r(Se),P.d(Se,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>Qi,_DEFAULT_ENTRY_NAME:()=>Fn,_addComponent:()=>ln,_addOrOverwriteComponent:()=>fi,_apps:()=>mt,_clearComponents:()=>On,_components:()=>hn,_getProvider:()=>Qt,_registerComponent:()=>rn,_removeServiceInstance:()=>tn,deleteApp:()=>ps,getApp:()=>hr,getApps:()=>Er,initializeApp:()=>pi,onLog:()=>Ln,registerVersion:()=>Mr,setLogLevel:()=>sn});var u=P(5861),H=P(4859),k=P(1877),oe=P(2090);class se{constructor(Te){this.container=Te}getPlatformInfoString(){return this.container.getProviders().map(et=>{if(function ve(Ge){const Te=Ge.getComponent();return"VERSION"===(null==Te?void 0:Te.type)}(et)){const pt=et.getImmediate();return`${pt.library}/${pt.version}`}return null}).filter(et=>et).join(" ")}}const ie="@firebase/app",be=new k.Yd("@firebase/app"),Fn="[DEFAULT]",ht={[ie]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},mt=new Map,hn=new Map;function ln(Ge,Te){try{Ge.container.addComponent(Te)}catch(et){be.debug(`Component ${Te.name} failed to register with FirebaseApp ${Ge.name}`,et)}}function fi(Ge,Te){Ge.container.addOrOverwriteComponent(Te)}function rn(Ge){const Te=Ge.name;if(hn.has(Te))return be.debug(`There were multiple attempts to register component ${Te}.`),!1;hn.set(Te,Ge);for(const et of mt.values())ln(et,Ge);return!0}function Qt(Ge,Te){const et=Ge.container.getProvider("heartbeat").getImmediate({optional:!0});return et&&et.triggerHeartbeat(),Ge.container.getProvider(Te)}function tn(Ge,Te,et=Fn){Qt(Ge,Te).clearInstance(et)}function On(){hn.clear()}const Ar=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class wr{constructor(Te,et,pt){this._isDeleted=!1,this._options=Object.assign({},Te),this._config=Object.assign({},et),this._name=et.name,this._automaticDataCollectionEnabled=et.automaticDataCollectionEnabled,this._container=pt,this.container.addComponent(new H.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this.checkDestroyed(),this._automaticDataCollectionEnabled=Te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Te){this._isDeleted=Te}checkDestroyed(){if(this.isDeleted)throw Ar.create("app-deleted",{appName:this._name})}}const Qi="9.6.10";function pi(Ge,Te={}){"object"!=typeof Te&&(Te={name:Te});const et=Object.assign({name:Fn,automaticDataCollectionEnabled:!1},Te),pt=et.name;if("string"!=typeof pt||!pt)throw Ar.create("bad-app-name",{appName:String(pt)});const Ft=mt.get(pt);if(Ft){if((0,oe.vZ)(Ge,Ft.options)&&(0,oe.vZ)(et,Ft.config))return Ft;throw Ar.create("duplicate-app",{appName:pt})}const Lt=new H.H0(pt);for(const U of hn.values())Lt.addComponent(U);const Z=new wr(Ge,et,Lt);return mt.set(pt,Z),Z}function hr(Ge=Fn){const Te=mt.get(Ge);if(!Te)throw Ar.create("no-app",{appName:Ge});return Te}function Er(){return Array.from(mt.values())}function ps(Ge){return _t.apply(this,arguments)}function _t(){return(_t=(0,u.Z)(function*(Ge){const Te=Ge.name;mt.has(Te)&&(mt.delete(Te),yield Promise.all(Ge.container.getProviders().map(et=>et.delete())),Ge.isDeleted=!0)})).apply(this,arguments)}function Mr(Ge,Te,et){var pt;let Ft=null!==(pt=ht[Ge])&&void 0!==pt?pt:Ge;et&&(Ft+=`-${et}`);const Lt=Ft.match(/\s|\//),Z=Te.match(/\s|\//);if(Lt||Z){const U=[`Unable to register library "${Ft}" with version "${Te}":`];return Lt&&U.push(`library name "${Ft}" contains illegal characters (whitespace or "/")`),Lt&&Z&&U.push("and"),Z&&U.push(`version name "${Te}" contains illegal characters (whitespace or "/")`),void be.warn(U.join(" "))}rn(new H.wA(`${Ft}-version`,()=>({library:Ft,version:Te}),"VERSION"))}function Ln(Ge,Te){if(null!==Ge&&"function"!=typeof Ge)throw Ar.create("invalid-log-argument");(0,k.Am)(Ge,Te)}function sn(Ge){(0,k.Ub)(Ge)}const Vn="firebase-heartbeat-store";let Pn=null;function Hr(){return Pn||(Pn=(0,oe.X3)("firebase-heartbeat-database",1,(Ge,Te)=>{0===Te&&Ge.createObjectStore(Vn)}).catch(Ge=>{throw Ar.create("storage-open",{originalErrorMessage:Ge.message})})),Pn}function Gt(){return(Gt=(0,u.Z)(function*(Ge){try{return(yield Hr()).transaction(Vn).objectStore(Vn).get(ri(Ge))}catch(Te){throw Ar.create("storage-get",{originalErrorMessage:Te.message})}})).apply(this,arguments)}function ft(Ge,Te){return it.apply(this,arguments)}function it(){return(it=(0,u.Z)(function*(Ge,Te){try{const pt=(yield Hr()).transaction(Vn,"readwrite");return yield pt.objectStore(Vn).put(Te,ri(Ge)),pt.complete}catch(et){throw Ar.create("storage-set",{originalErrorMessage:et.message})}})).apply(this,arguments)}function ri(Ge){return`${Ge.name}!${Ge.options.appId}`}class Xi{constructor(Te){this.container=Te,this._heartbeatsCache=null;const et=this.container.getProvider("app").getImmediate();this._storage=new vt(et),this._heartbeatsCachePromise=this._storage.read().then(pt=>(this._heartbeatsCache=pt,pt))}triggerHeartbeat(){var Te=this;return(0,u.Z)(function*(){const pt=Te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ft=Bn();if(null===Te._heartbeatsCache&&(Te._heartbeatsCache=yield Te._heartbeatsCachePromise),Te._heartbeatsCache.lastSentHeartbeatDate!==Ft&&!Te._heartbeatsCache.heartbeats.some(Lt=>Lt.date===Ft))return Te._heartbeatsCache.heartbeats.push({date:Ft,agent:pt}),Te._heartbeatsCache.heartbeats=Te._heartbeatsCache.heartbeats.filter(Lt=>{const Z=new Date(Lt.date).valueOf();return Date.now()-Z<=2592e6}),Te._storage.overwrite(Te._heartbeatsCache)})()}getHeartbeatsHeader(){var Te=this;return(0,u.Z)(function*(){if(null===Te._heartbeatsCache&&(yield Te._heartbeatsCachePromise),null===Te._heartbeatsCache||0===Te._heartbeatsCache.heartbeats.length)return"";const et=Bn(),{heartbeatsToSend:pt,unsentEntries:Ft}=function on(Ge,Te=1024){const et=[];let pt=Ge.slice();for(const Ft of Ge){const Lt=et.find(Z=>Z.agent===Ft.agent);if(Lt){if(Lt.dates.push(Ft.date),Un(et)>Te){Lt.dates.pop();break}}else if(et.push({agent:Ft.agent,dates:[Ft.date]}),Un(et)>Te){et.pop();break}pt=pt.slice(1)}return{heartbeatsToSend:et,unsentEntries:pt}}(Te._heartbeatsCache.heartbeats),Lt=(0,oe.L)(JSON.stringify({version:2,heartbeats:pt}));return Te._heartbeatsCache.lastSentHeartbeatDate=et,Ft.length>0?(Te._heartbeatsCache.heartbeats=Ft,yield Te._storage.overwrite(Te._heartbeatsCache)):(Te._heartbeatsCache.heartbeats=[],Te._storage.overwrite(Te._heartbeatsCache)),Lt})()}}function Bn(){return(new Date).toISOString().substring(0,10)}class vt{constructor(Te){this.app=Te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Te=this;return(0,u.Z)(function*(){return(yield Te._canUseIndexedDBPromise)&&(yield function go(Ge){return Gt.apply(this,arguments)}(Te.app))||{heartbeats:[]}})()}overwrite(Te){var et=this;return(0,u.Z)(function*(){var pt;if(yield et._canUseIndexedDBPromise){const Lt=yield et.read();return ft(et.app,{lastSentHeartbeatDate:null!==(pt=Te.lastSentHeartbeatDate)&&void 0!==pt?pt:Lt.lastSentHeartbeatDate,heartbeats:Te.heartbeats})}})()}add(Te){var et=this;return(0,u.Z)(function*(){var pt;if(yield et._canUseIndexedDBPromise){const Lt=yield et.read();return ft(et.app,{lastSentHeartbeatDate:null!==(pt=Te.lastSentHeartbeatDate)&&void 0!==pt?pt:Lt.lastSentHeartbeatDate,heartbeats:[...Lt.heartbeats,...Te.heartbeats]})}})()}}function Un(Ge){return(0,oe.L)(JSON.stringify({version:2,heartbeats:Ge})).length}!function Wt(Ge){rn(new H.wA("platform-logger",Te=>new se(Te),"PRIVATE")),rn(new H.wA("heartbeat",Te=>new Xi(Te),"PRIVATE")),Mr(ie,"0.7.20",Ge),Mr(ie,"0.7.20","esm2017"),Mr("fire-js","")}("")},4859:(ut,Se,P)=>{P.d(Se,{wA:()=>k,H0:()=>ce});var u=P(5861),H=P(2090);class k{constructor(W,q,ee){this.name=W,this.instanceFactory=q,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const oe="[DEFAULT]";class se{constructor(W,q){this.name=W,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const q=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(q)){const ee=new H.BH;if(this.instancesDeferred.set(q,ee),this.isInitialized(q)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:q});$e&&ee.resolve($e)}catch($e){}}return this.instancesDeferred.get(q).promise}getImmediate(W){var q;const ee=this.normalizeInstanceIdentifier(null==W?void 0:W.identifier),$e=null!==(q=null==W?void 0:W.optional)&&void 0!==q&&q;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(ke){if($e)return null;throw ke}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function ie(be){return"EAGER"===be.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:oe})}catch(q){}for(const[q,ee]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(q);try{const ke=this.getOrInitializeService({instanceIdentifier:$e});ee.resolve(ke)}catch(ke){}}}}clearInstance(W=oe){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,u.Z)(function*(){const q=Array.from(W.instances.values());yield Promise.all([...q.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...q.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=oe){return this.instances.has(W)}getOptions(W=oe){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:q={}}=W,ee=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:ee,options:q});for(const[ke,Ne]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(ke)&&Ne.resolve($e);return $e}onInit(W,q){var ee;const $e=this.normalizeInstanceIdentifier(q),ke=null!==(ee=this.onInitCallbacks.get($e))&&void 0!==ee?ee:new Set;ke.add(W),this.onInitCallbacks.set($e,ke);const Ne=this.instances.get($e);return Ne&&W(Ne,$e),()=>{ke.delete(W)}}invokeOnInitCallbacks(W,q){const ee=this.onInitCallbacks.get(q);if(ee)for(const $e of ee)try{$e(W,q)}catch(ke){}}getOrInitializeService({instanceIdentifier:W,options:q={}}){let ee=this.instances.get(W);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(be=W,be===oe?void 0:be),options:q}),this.instances.set(W,ee),this.instancesOptions.set(W,q),this.invokeOnInitCallbacks(ee,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,ee)}catch($e){}var be;return ee||null}normalizeInstanceIdentifier(W=oe){return this.component?this.component.multipleInstances?W:oe:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const q=this.getProvider(W.name);if(q.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);q.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const q=new se(W,this);return this.providers.set(W,q),q}getProviders(){return Array.from(this.providers.values())}}},1877:(ut,Se,P)=>{P.d(Se,{in:()=>H,Yd:()=>ie,Ub:()=>ce,Am:()=>be});const u=[];var H=(()=>{return(W=H||(H={}))[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",H;var W})();const k={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},oe=H.INFO,se={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},ve=(W,q,...ee)=>{if(q<W.logLevel)return;const $e=(new Date).toISOString(),ke=se[q];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[ke](`[${$e}]  ${W.name}:`,...ee)};class ie{constructor(q){this.name=q,this._logLevel=oe,this._logHandler=ve,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in H))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?k[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...q),this._logHandler(this,H.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...q),this._logHandler(this,H.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,H.INFO,...q),this._logHandler(this,H.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,H.WARN,...q),this._logHandler(this,H.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...q),this._logHandler(this,H.ERROR,...q)}}function ce(W){u.forEach(q=>{q.setLogLevel(W)})}function be(W,q){for(const ee of u){let $e=null;q&&q.level&&($e=k[q.level]),ee.userLogHandler=null===W?null:(ke,Ne,...Le)=>{const _e=Le.map(De=>{if(null==De)return null;if("string"==typeof De)return De;if("number"==typeof De||"boolean"==typeof De)return De.toString();if(De instanceof Error)return De.message;try{return JSON.stringify(De)}catch(Xe){return null}}).filter(De=>De).join(" ");Ne>=(null!=$e?$e:ke.logLevel)&&W({level:H[Ne].toLowerCase(),message:_e,args:Le,type:ke.name})}}}},5861:(ut,Se,P)=>{function u(k,oe,se,ve,ie,ce,be){try{var W=k[ce](be),q=W.value}catch(ee){return void se(ee)}W.done?oe(q):Promise.resolve(q).then(ve,ie)}function H(k){return function(){var oe=this,se=arguments;return new Promise(function(ve,ie){var ce=k.apply(oe,se);function be(q){u(ce,ve,ie,be,W,"next",q)}function W(q){u(ce,ve,ie,be,W,"throw",q)}be(void 0)})}}P.d(Se,{Z:()=>H})}},ut=>{ut(ut.s=6089)}]);